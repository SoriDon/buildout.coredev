[buildout]
extensions =
    mr.developer

extends =
    plipbase.cfg
    ../jenkins.cfg

parts += instance

auto-checkout +=
    collective.indexing
    Products.CMFCore
    Products.Archetypes
    Products.ZCatalog
    Products.CMFPlone

test-eggs +=
    collective.indexing [test]
    Products.CMFCore [test]
    Products.Archetypes [test]
    Products.ZCatalog
    Products.CMFPlone [test]

[instance]
eggs +=
    collective.indexing

[test]
recipe = collective.xmltestreport
defaults = ['--auto-color', '--auto-progress']
jenkins-test-eggs =
    collective.indexing
    Products.CMFCore
    Products.Archetypes
    Products.ZCatalog
    Products.CMFPlone
jenkins-test-directories =
    src/collective.indexing
    src/Products.CMFCore
    src/Products.Archetypes
    src/Products.ZCatalog
    src/Products.CMFPlone

[sources]
collective.indexing = git ${remotes:plone}/collective.indexing.git pushurl=${remotes:plone_push}/collective.indexing.git branch=move-patches
Products.CMFCore    = git ${remotes:plone}/Products.CMFCore.git pushurl=${remotes:plone_push}/Products.CMFCore.git branch=merge-collective-indexing
Products.Archetypes = git ${remotes:plone}/Products.Archetypes.git pushurl=${remotes:plone_push}/Products.Archetypes.git branch=merge-collective-indexing
Products.ZCatalog   = git ${remotes:zope}/Products.ZCatalog.git pushurl=${remotes:zope_push}/Products.ZCatalog.git rev=3.0.2
Products.CMFPlone   = git ${remotes:plone}/Products.CMFPlone.git pushurl=${remotes:plone_push}/Products.CMFPlone.git branch=merge-collective-indexing
