[buildout]
extensions =
    mr.developer

extends =
    plipbase.cfg
    ../jenkins.cfg

parts += instance

auto-checkout +=
    plone.app.discussion
#    plone.app.theming
    plone.app.upgrade
    plone.protect
    Products.CMFPlone

test-eggs +=
    plone.app.discussion [test]
    plone.app.theming [test]
    plone.app.upgrade [test]
    plone.protect [test]
    Products.CMFPlone [test]

[instance]
deprecation-warnings = on

[test]
recipe = collective.xmltestreport
defaults = ['--auto-color', '--auto-progress']
jenkins-test-eggs =
    plone.app.discussion
    plone.app.theming
    plone.app.upgrade
    plone.protect
    Products.CMFPlone
jenkins-test-directories =
    src/plone.app.discussion
    src/plone.app.theming
    src/plone.app.upgrade
    src/plone.protect
    src/Products.CMFPlone

[sources]
plone.app.discussion = git ${remotes:plone}/plone.app.discussion.git pushurl=${remotes:plone_push}/plone.app.discussion.git branch=merge-plone-login
plone.app.theming = git ${remotes:plone}/plone.app.theming.git pushurl=${remotes:plone_push}/plone.app.theming.git branch=merge-plone-login
plone.app.upgrade = git ${remotes:plone}/plone.app.upgrade.git pushurl=${remotes:plone_push}/plone.app.upgrade.git branch=merge-plone-login
plone.protect = git ${remotes:plone}/plone.protect.git pushurl=${remotes:plone_push}/plone.protect.git branch=merge-plone-login
Products.CMFPlone = git ${remotes:plone}/Products.CMFPlone.git pushurl=${remotes:plone_push}/Products.CMFPlone.git branch=merge-plone-login
