[buildout]
extensions =
    mr.developer

extends =
    plipbase.cfg
    ../jenkins.cfg

parts += instance

auto-checkout +=
    plone.rest
    plone.restapi

test-eggs +=
    plone.rest [test]
    plone.restapi [test]

[instance]
deprecation-warnings = on
eggs +=
    plone.restapi

[test]
recipe = collective.xmltestreport
defaults = ['--auto-color', '--auto-progress']
jenkins-test-eggs =
    plone.rest
    plone.restapi
jenkins-test-directories =
    src/plone.rest
    src/plone.restapi

[sources]
plone.rest = git ${remotes:plone}/plone.rest.git pushurl=${remotes:plone_push}/plone.rest.git branch=remove-products-five-metaclass-dep
plone.restapi = git ${remotes:plone}/plone.restapi.git pushurl=${remotes:plone_push}/plone.restapi.git branch=master
