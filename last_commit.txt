Repository: mockup


Branch: refs/heads/master
Date: 2022-05-23T02:05:18+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/7ba9ff8b39f4cd96e54a82059d83b75a53778cf5

maint(Build): Remove non interactive ci-mode from Makefile to allow for OTP prompt and two-factor auth on npm. Also remove dry-run as we're now asked for each step.

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex dbe370e92..39961d062 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -58,37 +58,33 @@ release-zip: clean-dist bundle\n \n .PHONY: release-major\n release-major: check\n-\tnpx release-it major --dry-run --ci && \\\n-\t\tnpx release-it major --ci && \\\n+\tnpx release-it major && \\\n \t\tmake release-zip && \\\n-\t\tnpx release-it --github.release --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm --ci && \\\n+\t\tnpx release-it --github.release --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm && \\\n \t\tgit checkout CHANGES.md\n \n \n .PHONY: release-minor\n release-minor: check\n-\tnpx release-it minor --dry-run --ci && \\\n-\t\tnpx release-it minor --ci && \\\n+\tnpx release-it minor && \\\n \t\tmake release-zip && \\\n-\t\tnpx release-it --github.release --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm --ci && \\\n+\t\tnpx release-it --github.release --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm && \\\n \t\tgit checkout CHANGES.md\n \n \n .PHONY: release-patch\n release-patch: check\n-\tnpx release-it patch --dry-run --ci && \\\n-\t\tnpx release-it patch --ci && \\\n+\tnpx release-it patch && \\\n \t\tmake release-zip && \\\n-\t\tnpx release-it --github.release --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm --ci && \\\n+\t\tnpx release-it --github.release --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm && \\\n \t\tgit checkout CHANGES.md\n \n \n .PHONY: prerelease\n prerelease:\n-\tnpx release-it --dry-run --ci --preRelease=alpha && \\\n-\t\tnpx release-it --ci --preRelease=alpha && \\\n+\tnpx release-it --preRelease=alpha && \\\n \t\tmake release-zip && \\\n-\t\tnpx release-it --github.preRelease --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm --ci && \\\n+\t\tnpx release-it --github.preRelease --github.update --github.assets=dist/*.zip --no-github.draft --no-increment --no-git --no-npm && \\\n \t\tgit checkout CHANGES.md\n \n \n'

