Repository: plone.restapi


Branch: refs/heads/master
Date: 2018-09-05T15:34:24+02:00
Author: Sune Broendum Woeller (sunew) <sune@woeller.dk>
Commit: https://github.com/plone/plone.restapi/commit/dfd8a27ec7f7a7669cad3326595f97dbfcf49b7c

document generating the documentation snippets

Files changed:
A docs/source/contributing.rst
M docs/source/index.rst

b'diff --git a/docs/source/contributing.rst b/docs/source/contributing.rst\nnew file mode 100644\nindex 00000000..3634e68b\n--- /dev/null\n+++ b/docs/source/contributing.rst\n@@ -0,0 +1,28 @@\n+Contributing to plone.restapi\n+=============================\n+\n+Generating documentation examples\n+---------------------------------\n+\n+This documentation includes examples of requests and responses (http, curl, httpie and python-requests).\n+These examples are generated by the documentation tests in ``test_documentation.py``.\n+To generate a new example, add a new test case to `test_documentation.py` - for example ``test_documentation_search_fullobjects``, and run the test:\n+\n+``./bin/test -t test_documentation_search_fullobjects``\n+\n+This generates the request and the response files in ``tests/http-examples/``.\n+\n+Include them in the documentation like this:\n+\n+.. code-block:: ReST\n+\n+    ..  http:example:: curl httpie python-requests\n+        :request: ../../src/plone/restapi/tests/http-examples/search_fullobjects.req\n+\n+    .. literalinclude:: ../../src/plone/restapi/tests/http-examples/search_fullobjects.resp\n+       :language: http\n+\n+\n+Build the sphinx docs locally to test the rendering by running ``make html`` in the docs folder.\n+\n+Make sure you add and commit the generated files in ``http-examples``.\ndiff --git a/docs/source/index.rst b/docs/source/index.rst\nindex 6cca136e..882b2765 100644\n--- a/docs/source/index.rst\n+++ b/docs/source/index.rst\n@@ -53,6 +53,7 @@ Contents\n    i18n\n    email-notification\n    upgrade-guide\n+   contributing\n \n .. include:: ../../README.rst\n \n'

Repository: plone.restapi


Branch: refs/heads/master
Date: 2018-09-06T09:32:59+02:00
Author: Sune Broendum Woeller (sunew) <sune@woeller.dk>
Commit: https://github.com/plone/plone.restapi/commit/eb21521bedad96e652295732bd6cf41610d8d340

Merge pull request #614 from plone/contributing-docs

document generating the documentation snippets

Files changed:
A docs/source/contributing.rst
M docs/source/index.rst

b'diff --git a/docs/source/contributing.rst b/docs/source/contributing.rst\nnew file mode 100644\nindex 00000000..3634e68b\n--- /dev/null\n+++ b/docs/source/contributing.rst\n@@ -0,0 +1,28 @@\n+Contributing to plone.restapi\n+=============================\n+\n+Generating documentation examples\n+---------------------------------\n+\n+This documentation includes examples of requests and responses (http, curl, httpie and python-requests).\n+These examples are generated by the documentation tests in ``test_documentation.py``.\n+To generate a new example, add a new test case to `test_documentation.py` - for example ``test_documentation_search_fullobjects``, and run the test:\n+\n+``./bin/test -t test_documentation_search_fullobjects``\n+\n+This generates the request and the response files in ``tests/http-examples/``.\n+\n+Include them in the documentation like this:\n+\n+.. code-block:: ReST\n+\n+    ..  http:example:: curl httpie python-requests\n+        :request: ../../src/plone/restapi/tests/http-examples/search_fullobjects.req\n+\n+    .. literalinclude:: ../../src/plone/restapi/tests/http-examples/search_fullobjects.resp\n+       :language: http\n+\n+\n+Build the sphinx docs locally to test the rendering by running ``make html`` in the docs folder.\n+\n+Make sure you add and commit the generated files in ``http-examples``.\ndiff --git a/docs/source/index.rst b/docs/source/index.rst\nindex 6cca136e..882b2765 100644\n--- a/docs/source/index.rst\n+++ b/docs/source/index.rst\n@@ -53,6 +53,7 @@ Contents\n    i18n\n    email-notification\n    upgrade-guide\n+   contributing\n \n .. include:: ../../README.rst\n \n'

