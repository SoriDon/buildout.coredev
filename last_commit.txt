Repository: plone.app.event


Branch: refs/heads/master
Date: 2015-11-25T11:40:56+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.event/commit/ea50f6c1d3250f5ee6c99d3a57ca9c8105e78fe8

In tests, use ``selection.any`` in querystrings.

Issue https://github.com/plone/Products.CMFPlone/issues/1040

Files changed:
M CHANGES.rst
M plone/app/event/tests/base_setup.py
M plone/app/event/tests/test_event_listing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 95fe70d..974a34a 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -25,6 +25,10 @@ Fixes:
   zc.buildout`` instead.
   [thet]
 
+- In tests, use ``selection.any`` in querystrings.
+  Issue https://github.com/plone/Products.CMFPlone/issues/1040
+  [maurits]
+
 
 2.0.4 (2015-10-28)
 ------------------
diff --git a/plone/app/event/tests/base_setup.py b/plone/app/event/tests/base_setup.py
index c70259b..64798b5 100644
--- a/plone/app/event/tests/base_setup.py
+++ b/plone/app/event/tests/base_setup.py
@@ -143,7 +143,7 @@ def setUp(self):
         collection.reverse_sort = True
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
         ]
diff --git a/plone/app/event/tests/test_event_listing.py b/plone/app/event/tests/test_event_listing.py
index c2d92e7..5f3c6b0 100644
--- a/plone/app/event/tests/test_event_listing.py
+++ b/plone/app/event/tests/test_event_listing.py
@@ -72,7 +72,7 @@ def _collection_batching_base(self):
         collection = self.portal.col_test
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
         ]
@@ -113,7 +113,7 @@ def test_date_filtering(self):
         collection = self.portal.col_without_date_criterion
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
         ]
@@ -133,7 +133,7 @@ def test_no_date_filtering(self):
         collection = self.portal.col_with_date_criterion
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
             {'i': 'start',


Repository: plone.app.event


Branch: refs/heads/master
Date: 2015-11-25T11:43:34+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.forcada@freitag.de>
Commit: https://github.com/plone/plone.app.event/commit/0d6aea4cccbc7c74080d7c9737ec7397a6e7c772

Merge pull request #207 from plone/cmfplone-issue-1040

In tests, use ``selection.any`` in querystrings.

Files changed:
M CHANGES.rst
M plone/app/event/tests/base_setup.py
M plone/app/event/tests/test_event_listing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 95fe70d..974a34a 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -25,6 +25,10 @@ Fixes:
   zc.buildout`` instead.
   [thet]
 
+- In tests, use ``selection.any`` in querystrings.
+  Issue https://github.com/plone/Products.CMFPlone/issues/1040
+  [maurits]
+
 
 2.0.4 (2015-10-28)
 ------------------
diff --git a/plone/app/event/tests/base_setup.py b/plone/app/event/tests/base_setup.py
index c70259b..64798b5 100644
--- a/plone/app/event/tests/base_setup.py
+++ b/plone/app/event/tests/base_setup.py
@@ -143,7 +143,7 @@ def setUp(self):
         collection.reverse_sort = True
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
         ]
diff --git a/plone/app/event/tests/test_event_listing.py b/plone/app/event/tests/test_event_listing.py
index c2d92e7..5f3c6b0 100644
--- a/plone/app/event/tests/test_event_listing.py
+++ b/plone/app/event/tests/test_event_listing.py
@@ -72,7 +72,7 @@ def _collection_batching_base(self):
         collection = self.portal.col_test
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
         ]
@@ -113,7 +113,7 @@ def test_date_filtering(self):
         collection = self.portal.col_without_date_criterion
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
         ]
@@ -133,7 +133,7 @@ def test_no_date_filtering(self):
         collection = self.portal.col_with_date_criterion
         collection.query = [
             {'i': 'portal_type',
-             'o': 'plone.app.querystring.operation.selection.is',
+             'o': 'plone.app.querystring.operation.selection.any',
              'v': ['Event', 'plone.app.event.dx.event']
              },
             {'i': 'start',


