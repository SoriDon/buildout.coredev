Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-12-12T16:39:13+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/3d5471cbec615543411f75a87da238ae982e5b89

unescape double escaped backslashes

Files changed:
M Products/CMFPlone/_scripts/_generate_gruntfile.py

diff --git a/Products/CMFPlone/_scripts/_generate_gruntfile.py b/Products/CMFPlone/_scripts/_generate_gruntfile.py
index 088f09c..c9a6340 100644
--- a/Products/CMFPlone/_scripts/_generate_gruntfile.py
+++ b/Products/CMFPlone/_scripts/_generate_gruntfile.py
@@ -500,7 +500,11 @@ def resource_to_dir(resource, file_type='.js'):
         GRUNTFILE_TEMPLATE.format(
             less=','.join(less_cfgs_final),
             lesspaths=json.dumps(sorted(less_paths), indent=12),
-            modifyvars=json.dumps(modify_vars, indent=12, sort_keys=True),
+            modifyvars=json.dumps(
+                modify_vars,
+                indent=12,
+                sort_keys=True
+            ).replace('\\\\\\', '\\'),  # replace 3 backslash by one.
             requirejs=require_configs,
             uglify=uglify_cfgs_final,
             sed=sed_cfg_final,


