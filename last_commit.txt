Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2022-10-06T23:37:16+02:00
Author: mamico (mamico) <mauro.amico@gmail.com>
Commit: https://github.com/plone/plone.app.contentmenu/commit/1a12fc0e214c07a2b46917710a0cfb0aae53e9cb

display menu separator

Files changed:
M plone/app/contentmenu/contentmenu.pt

b'diff --git a/plone/app/contentmenu/contentmenu.pt b/plone/app/contentmenu/contentmenu.pt\nindex 4f5546c..b631917 100644\n--- a/plone/app/contentmenu/contentmenu.pt\n+++ b/plone/app/contentmenu/contentmenu.pt\n@@ -45,6 +45,13 @@\n         </li>\n         <li tal:repeat="subMenuItem submenu">\n           <tal:block define="extra_class subMenuItem/extra/class | string:">\n+          <h6 class="dropdown-header" tal:condition="subMenuItem/extra/separator|nothing">\n+            <tal:title\n+                content="structure subMenuItem/title"\n+                i18n:translate="">\n+                  Title\n+            </tal:title>\n+          </h6>\n           <a class="nav-link dropdown-item ${extra_class}"\n               href="#"\n               i18n:attributes="title"\n'

Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2022-10-06T23:40:48+02:00
Author: mamico (mamico) <mauro.amico@gmail.com>
Commit: https://github.com/plone/plone.app.contentmenu/commit/85f33f2953db1a1e7360889abd1c6201ac5f9be2

changelog

Files changed:
A news/44.bugfix

b"diff --git a/news/44.bugfix b/news/44.bugfix\nnew file mode 100644\nindex 0000000..f6bd427\n--- /dev/null\n+++ b/news/44.bugfix\n@@ -0,0 +1,3 @@\n+Fix Display menu in toolbar doesn't show the current selected item and it's selected template correctly\n+https://github.com/plone/plone.app.layout/issues/321\n+[mamico]\n"

Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2022-10-07T10:20:20+02:00
Author: mamico (mamico) <mauro.amico@gmail.com>
Commit: https://github.com/plone/plone.app.contentmenu/commit/93f3400e4066e793851bfb6adac5c17361e6e750

display item

Files changed:
M plone/app/contentmenu/contentmenu.pt

b'diff --git a/plone/app/contentmenu/contentmenu.pt b/plone/app/contentmenu/contentmenu.pt\nindex b631917..8194ec8 100644\n--- a/plone/app/contentmenu/contentmenu.pt\n+++ b/plone/app/contentmenu/contentmenu.pt\n@@ -45,13 +45,23 @@\n         </li>\n         <li tal:repeat="subMenuItem submenu">\n           <tal:block define="extra_class subMenuItem/extra/class | string:">\n-          <h6 class="dropdown-header" tal:condition="subMenuItem/extra/separator|nothing">\n-            <tal:title\n-                content="structure subMenuItem/title"\n-                i18n:translate="">\n-                  Title\n-            </tal:title>\n-          </h6>\n+          <tal:noaction tal:condition="not:subMenuItem/action" tal:define="is_separator subMenuItem/extra/separator|nothing">\n+            <h6 class="dropdown-header" tal:condition="is_separator">\n+              <tal:title\n+                  content="structure subMenuItem/title"\n+                  i18n:translate="">\n+                    Title\n+              </tal:title>\n+            </h6>\n+            <span class="nav-link dropdown-item ${extra_class}" tal:condition="not:is_separator">\n+              <tal:icon tal:replace="structure python:icons.tag(\'check\' if \'active\' in extra_class else (subMenuItem.get(\'icon\') or \'dot\'))" />\n+              <tal:title\n+                  content="structure subMenuItem/title"\n+                  i18n:translate="">\n+                    Title\n+              </tal:title>\n+            </span>\n+          </tal:noaction>\n           <a class="nav-link dropdown-item ${extra_class}"\n               href="#"\n               i18n:attributes="title"\n'

Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2022-10-07T11:07:50+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.contentmenu/commit/5e00d7be6c61b4968d154dc101573aef5405342d

Merge pull request #44 from plone/display_menu_separator

display menu separator

Files changed:
A news/44.bugfix
M plone/app/contentmenu/contentmenu.pt

b'diff --git a/news/44.bugfix b/news/44.bugfix\nnew file mode 100644\nindex 0000000..f6bd427\n--- /dev/null\n+++ b/news/44.bugfix\n@@ -0,0 +1,3 @@\n+Fix Display menu in toolbar doesn\'t show the current selected item and it\'s selected template correctly\n+https://github.com/plone/plone.app.layout/issues/321\n+[mamico]\ndiff --git a/plone/app/contentmenu/contentmenu.pt b/plone/app/contentmenu/contentmenu.pt\nindex 4f5546c..8194ec8 100644\n--- a/plone/app/contentmenu/contentmenu.pt\n+++ b/plone/app/contentmenu/contentmenu.pt\n@@ -45,6 +45,23 @@\n         </li>\n         <li tal:repeat="subMenuItem submenu">\n           <tal:block define="extra_class subMenuItem/extra/class | string:">\n+          <tal:noaction tal:condition="not:subMenuItem/action" tal:define="is_separator subMenuItem/extra/separator|nothing">\n+            <h6 class="dropdown-header" tal:condition="is_separator">\n+              <tal:title\n+                  content="structure subMenuItem/title"\n+                  i18n:translate="">\n+                    Title\n+              </tal:title>\n+            </h6>\n+            <span class="nav-link dropdown-item ${extra_class}" tal:condition="not:is_separator">\n+              <tal:icon tal:replace="structure python:icons.tag(\'check\' if \'active\' in extra_class else (subMenuItem.get(\'icon\') or \'dot\'))" />\n+              <tal:title\n+                  content="structure subMenuItem/title"\n+                  i18n:translate="">\n+                    Title\n+              </tal:title>\n+            </span>\n+          </tal:noaction>\n           <a class="nav-link dropdown-item ${extra_class}"\n               href="#"\n               i18n:attributes="title"\n'

