Repository: mockup


Branch: refs/heads/master
Date: 2016-01-26T16:35:22-05:00
Author: nathan.vangheem () <nathan.vangheem@wildcardcorp.com>
Commit: https://github.com/plone/mockup/commit/2d606066d1e81b48cea1cad14ac8dfe9a66f5f6d

tweak z-index calculating on modal

Files changed:
M mockup/patterns/modal/pattern.js

diff --git a/mockup/patterns/modal/pattern.js b/mockup/patterns/modal/pattern.js
index f1a64c0..1b8bbca 100644
--- a/mockup/patterns/modal/pattern.js
+++ b/mockup/patterns/modal/pattern.js
@@ -91,6 +91,7 @@ define([
       margin: 20,
       position: 'center middle', // format: '<horizontal> <vertical>' -- allowed values: top, bottom, left, right, center, middle
       triggers: [],
+      zIndexSelector: '.plone-modal-wrapper,.plone-modal-backdrop',
       backdrop: 'body', // Element to initiate the Backdrop on.
       backdropOptions: {
         zIndex: '1040',
@@ -773,8 +774,9 @@ define([
           ),
           zIndex = 1041;
 
-      $('.plone-modal-wrapper,.plone-modal-backdrop').each(function(){
-        zIndex = Math.max(zIndex, $(this).css('zIndex') || 1041);
+      $(self.options.zIndexSelector).each(function(){
+        var other = $(this).css('zIndex');
+        zIndex = Math.max(zIndex, parseInt($(this).css('zIndex')) + 1 || 1041);
       });
 
       self.$wrapper = $('<div/>')


