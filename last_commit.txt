Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2023-03-31T01:34:25+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/b41db41bbd9c3d585471e5389232cc83a4df408c

run robot tests

Files changed:
A news/69.tests
M .gitignore
M .meta.toml
M .pre-commit-config.yaml
M plone/app/contenttypes/tests/robot/keywords.txt
M plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot
M plone/app/contenttypes/tests/robot/test_folderlisting.robot
M pyproject.toml
M setup.cfg
M tox.ini
D .coveragerc

b'diff --git a/.coveragerc b/.coveragerc\ndeleted file mode 100644\nindex 50bf7c2b2..000000000\n--- a/.coveragerc\n+++ /dev/null\n@@ -1,6 +0,0 @@\n-[report]\n-omit =\n-    */test*\n-\n-include =\n-    plone/*\ndiff --git a/.gitignore b/.gitignore\nindex 2a54da8e6..f1dddbb23 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -21,6 +21,8 @@\n /.pydevproject\n /.mr.developer.cfg\n /src/*\n+/robot_*\n+/test_*\n *.mo\n docs/Makefile\n docs/make.bat\ndiff --git a/.meta.toml b/.meta.toml\nindex 07dde259a..73c8dcacf 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,7 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "47959565"\n+commit-id = "112d1c69"\n+\n+[codespell]\n+additional-ignores = "discreet,oder,ist,crate"\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex 582f8acd8..449e951ab 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -19,7 +19,7 @@ repos:\n     hooks:\n     -   id: black\n -   repo: https://github.com/collective/zpretty\n-    rev: 3.0.2\n+    rev: 3.0.3\n     hooks:\n     -   id: zpretty\n -   repo: https://github.com/PyCQA/flake8\ndiff --git a/news/69.tests b/news/69.tests\nnew file mode 100644\nindex 000000000..3bf9fd6de\n--- /dev/null\n+++ b/news/69.tests\n@@ -0,0 +1,2 @@\n+Run the robot tests.\n+[maurits]\ndiff --git a/plone/app/contenttypes/tests/robot/keywords.txt b/plone/app/contenttypes/tests/robot/keywords.txt\nindex 684dc197a..2f204e59b 100644\n--- a/plone/app/contenttypes/tests/robot/keywords.txt\n+++ b/plone/app/contenttypes/tests/robot/keywords.txt\n@@ -2,7 +2,7 @@\n \n Library  Remote  ${PLONE_URL}/RobotRemote\n \n-Variables  plone/app/contenttypes/tests/robot/variables.py\n+Variables  variables.py\n \n *** Keywords ***\n \ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot\nindex bed9c9f3e..b957e8699 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Library  Remote  ${PLONE_URL}/RobotRemote\n \ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot\nindex 120541047..eb2dc7522 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot\n@@ -13,9 +13,9 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n-Variables  plone/app/contenttypes/tests/robot/variables.py\n+Variables  variables.py\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot\nindex 24dbb0352..719d7f975 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot\nindex 6d435b8e0..cf09f2775 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot\nindex 20588b1d3..d7a2bbf61 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_folderlisting.robot b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\nindex 58d85c149..a64f535d6 100644\n--- a/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n+++ b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n@@ -3,9 +3,9 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n-Variables  plone/app/contenttypes/tests/robot/variables.py\n+Variables  variables.py\n \n \n Test Setup  Run Keywords  Setup Testcontent  Plone test setup\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 1324970af..e1fc03729 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -42,6 +42,9 @@ profile = "plone"\n [tool.black]\n target-version = ["py38"]\n \n+[tool.codespell]\n+ignore-words-list = "discreet,oder,ist,crate"\n+\n [tool.dependencychecker]\n Zope = [\n   # Zope own provided namespaces\n@@ -60,6 +63,3 @@ Zope = [\n   \'Products.CMFDynamicViewFTI\', \'zope.deprecation\',\n ]\n python-dateutil = [\'dateutil\']\n-\n-[tool.codespell]\n-ignore-words-list = "discreet,oder,ist,crate"\ndiff --git a/setup.cfg b/setup.cfg\nindex b2d4c9c05..0da8f8fbc 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -20,5 +20,4 @@ ignore =\n     .editorconfig\n     .meta.toml\n     .pre-commit-config.yaml\n-    .coveragerc\n     tox.ini\ndiff --git a/tox.ini b/tox.ini\nindex 8a2a54124..f1527545e 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -48,6 +48,6 @@ deps =\n     zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    zope-testrunner --test-path={toxinidir} -s plone.app.contenttypes\n+    zope-testrunner --all --test-path={toxinidir} -s plone.app.contenttypes {posargs}\n extras =\n     test\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2023-03-31T11:17:50+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/1e4a498b1bbd322b5cb6b82408c387addf73c6ac

Tests: use ROBOT_BROWSER=headlesschrome.

Files changed:
M tox.ini

b'diff --git a/tox.ini b/tox.ini\nindex f1527545..022d88e1 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -44,6 +44,7 @@ commands =\n [testenv:test]\n usedevelop = true\n constrain_package_deps = true\n+set_env = ROBOT_BROWSER=headlesschrome\n deps =\n     zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2023-04-07T02:33:07+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/934df539870b18c1b8e1c780875a748516169d8d

Merge pull request #658 from plone/maurits-tox-test-all-robot

run robot tests on gh-actions

Files changed:
A news/69.tests
M .gitignore
M .meta.toml
M .pre-commit-config.yaml
M plone/app/contenttypes/tests/robot/keywords.txt
M plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot
M plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot
M plone/app/contenttypes/tests/robot/test_folderlisting.robot
M pyproject.toml
M setup.cfg
M tox.ini
D .coveragerc

b'diff --git a/.coveragerc b/.coveragerc\ndeleted file mode 100644\nindex 50bf7c2b2..000000000\n--- a/.coveragerc\n+++ /dev/null\n@@ -1,6 +0,0 @@\n-[report]\n-omit =\n-    */test*\n-\n-include =\n-    plone/*\ndiff --git a/.gitignore b/.gitignore\nindex 2a54da8e6..f1dddbb23 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -21,6 +21,8 @@\n /.pydevproject\n /.mr.developer.cfg\n /src/*\n+/robot_*\n+/test_*\n *.mo\n docs/Makefile\n docs/make.bat\ndiff --git a/.meta.toml b/.meta.toml\nindex 07dde259a..73c8dcacf 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,7 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "47959565"\n+commit-id = "112d1c69"\n+\n+[codespell]\n+additional-ignores = "discreet,oder,ist,crate"\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex 582f8acd8..449e951ab 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -19,7 +19,7 @@ repos:\n     hooks:\n     -   id: black\n -   repo: https://github.com/collective/zpretty\n-    rev: 3.0.2\n+    rev: 3.0.3\n     hooks:\n     -   id: zpretty\n -   repo: https://github.com/PyCQA/flake8\ndiff --git a/news/69.tests b/news/69.tests\nnew file mode 100644\nindex 000000000..3bf9fd6de\n--- /dev/null\n+++ b/news/69.tests\n@@ -0,0 +1,2 @@\n+Run the robot tests.\n+[maurits]\ndiff --git a/plone/app/contenttypes/tests/robot/keywords.txt b/plone/app/contenttypes/tests/robot/keywords.txt\nindex 684dc197a..2f204e59b 100644\n--- a/plone/app/contenttypes/tests/robot/keywords.txt\n+++ b/plone/app/contenttypes/tests/robot/keywords.txt\n@@ -2,7 +2,7 @@\n \n Library  Remote  ${PLONE_URL}/RobotRemote\n \n-Variables  plone/app/contenttypes/tests/robot/variables.py\n+Variables  variables.py\n \n *** Keywords ***\n \ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot\nindex bed9c9f3e..b957e8699 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_creator_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Library  Remote  ${PLONE_URL}/RobotRemote\n \ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot\nindex 120541047..eb2dc7522 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_location_criterion.robot\n@@ -13,9 +13,9 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n-Variables  plone/app/contenttypes/tests/robot/variables.py\n+Variables  variables.py\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot\nindex 24dbb0352..719d7f975 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_review_state_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot\nindex 6d435b8e0..cf09f2775 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_short_name_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot b/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot\nindex 20588b1d3..d7a2bbf61 100644\n--- a/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot\n+++ b/plone/app/contenttypes/tests/robot/test_collection_type_criterion.robot\n@@ -13,7 +13,7 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n Test Setup  Run Keywords  Plone test setup\n Test Teardown  Run keywords  Plone test teardown\ndiff --git a/plone/app/contenttypes/tests/robot/test_folderlisting.robot b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\nindex 58d85c149..a64f535d6 100644\n--- a/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n+++ b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n@@ -3,9 +3,9 @@\n Resource  plone/app/robotframework/keywords.robot\n Resource  plone/app/robotframework/saucelabs.robot\n Resource  plone/app/robotframework/selenium.robot\n-Resource  plone/app/contenttypes/tests/robot/keywords.txt\n+Resource  keywords.txt\n \n-Variables  plone/app/contenttypes/tests/robot/variables.py\n+Variables  variables.py\n \n \n Test Setup  Run Keywords  Setup Testcontent  Plone test setup\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 1324970af..e1fc03729 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -42,6 +42,9 @@ profile = "plone"\n [tool.black]\n target-version = ["py38"]\n \n+[tool.codespell]\n+ignore-words-list = "discreet,oder,ist,crate"\n+\n [tool.dependencychecker]\n Zope = [\n   # Zope own provided namespaces\n@@ -60,6 +63,3 @@ Zope = [\n   \'Products.CMFDynamicViewFTI\', \'zope.deprecation\',\n ]\n python-dateutil = [\'dateutil\']\n-\n-[tool.codespell]\n-ignore-words-list = "discreet,oder,ist,crate"\ndiff --git a/setup.cfg b/setup.cfg\nindex b2d4c9c05..0da8f8fbc 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -20,5 +20,4 @@ ignore =\n     .editorconfig\n     .meta.toml\n     .pre-commit-config.yaml\n-    .coveragerc\n     tox.ini\ndiff --git a/tox.ini b/tox.ini\nindex 8a2a54124..022d88e1d 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -44,10 +44,11 @@ commands =\n [testenv:test]\n usedevelop = true\n constrain_package_deps = true\n+set_env = ROBOT_BROWSER=headlesschrome\n deps =\n     zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    zope-testrunner --test-path={toxinidir} -s plone.app.contenttypes\n+    zope-testrunner --all --test-path={toxinidir} -s plone.app.contenttypes {posargs}\n extras =\n     test\n'

