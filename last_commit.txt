Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-07-05T17:50:07+02:00
Author: Katja SÃ¼ss (ksuess) <k.suess@rohberg.ch>
Commit: https://github.com/plone/plone.restapi/commit/5049d6a1b66ddc2d55a9099f31a8498fb48a7216

Pass through field attribute 'widget' for all fields (was "Pass through field attribute 'widget' for field Dict") (#1154)

* Pass through field attribute 'widget' for field Dict

* Create 1153.feature

* Pass through field attribute 'widget' for all fields

Co-authored-by: Timo Stollenwerk &lt;tisto@users.noreply.github.com&gt;

Files changed:
A news/1153.feature
M src/plone/restapi/types/adapters.py

b'diff --git a/news/1153.feature b/news/1153.feature\nnew file mode 100644\nindex 000000000..c40d61189\n--- /dev/null\n+++ b/news/1153.feature\n@@ -0,0 +1 @@\n+Pass through field attribute \'widget\' for field Dict [ksuess]\n\\ No newline at end of file\ndiff --git a/src/plone/restapi/types/adapters.py b/src/plone/restapi/types/adapters.py\nindex fd749dff0..587c260ed 100644\n--- a/src/plone/restapi/types/adapters.py\n+++ b/src/plone/restapi/types/adapters.py\n@@ -96,7 +96,7 @@ def get_factory(self):\n         pass\n \n     def get_widget(self):\n-        pass\n+        return getattr(self.field, "widget", None)\n \n     def get_widget_params(self):\n         all_params = get_widget_params([self.field.interface])\n'

