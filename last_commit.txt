Repository: plone.subrequest


Branch: refs/heads/master
Date: 2023-01-26T22:32:15+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.subrequest/commit/9d66c5d71cf3c0599255eed1afab09263a65287c

Configuring with plone/meta 2023-01-26.

Files changed:
A news/1.internal
M .meta.toml
M lint-requirements.txt
M pyproject.toml
M setup.cfg
M setup.py
M tox.ini
D news/1.bugfix

b'diff --git a/.meta.toml b/.meta.toml\nindex e393a44..fbaceac 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,4 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "6d382fce"\n+commit-id = "05a78883"\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex dedd4cb..129db4d 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -1,6 +1,7 @@\n # Generated from:\n # https://github.com/plone/meta/tree/master/config/default\n black==22.12.0\n+check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\ndiff --git a/news/1.bugfix b/news/1.internal\nsimilarity index 74%\nrename from news/1.bugfix\nrename to news/1.internal\nindex 858a8e6..861903e 100644\n--- a/news/1.bugfix\n+++ b/news/1.internal\n@@ -1,2 +1,2 @@\n Unify repository configuration via github.com/plone/meta.\n-[gforcada]\n+[gforcada, maurits]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex a5b1745..0f96c85 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -21,6 +21,21 @@ directory = "bugfix"\n name = "Bug fixes:"\n showcontent = true\n \n+[[tool.towncrier.type]]\n+directory = "internal"\n+name = "Internal:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "documentation"\n+name = "Documentation:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "tests"\n+name = "Tests"\n+showcontent = true\n+\n [tool.isort]\n profile = "plone"\n \ndiff --git a/setup.cfg b/setup.cfg\nindex bb3f825..b4adcb1 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -19,3 +19,4 @@ ignore =\n ignore =\n     .editorconfig\n     .meta.toml\n+    tox.ini\ndiff --git a/setup.py b/setup.py\nindex 2f78fe9..8344156 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -44,6 +44,7 @@\n     include_package_data=True,\n     platforms="Any",\n     zip_safe=False,\n+    python_requires=">=3.8",\n     install_requires=[\n         "setuptools",\n         "zope.globalrequest",\ndiff --git a/tox.ini b/tox.ini\nindex 0c34067..5d1a605 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -6,8 +6,8 @@ envlist =\n     lint\n \n [testenv]\n-py_files = find plone -name "*.py"\n-rst_files = find plone -name "*.rst"\n+py_files = git ls-files "*.py"\n+text_files = git ls-files "*.rst" "*.md"\n allowlist_externals =\n     sh\n \n@@ -20,9 +20,9 @@ deps =\n     black\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus *.py\'\n-    sh -c \'{[testenv]py_files} | xargs isort *.py\'\n-    sh -c \'{[testenv]py_files} | xargs black *.py\'\n+    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus\'\n+    sh -c \'{[testenv]py_files} | xargs isort\'\n+    sh -c \'{[testenv]py_files} | xargs black\'\n \n [testenv:lint]\n description = run linters that will help improve the code style\n@@ -30,8 +30,10 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    check-manifest\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs flake8 *.py\'\n-    sh -c \'{[testenv]py_files} | xargs codespell *.py\'\n-    sh -c \'{[testenv]rst_files} | xargs codespell *.rst\'\n+    sh -c \'{[testenv]py_files} | xargs flake8\'\n+    sh -c \'{[testenv]py_files} | xargs codespell\'\n+    sh -c \'{[testenv]text_files} | xargs codespell\'\n+    check-manifest\n'

Repository: plone.subrequest


Branch: refs/heads/master
Date: 2023-01-26T23:56:49+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.subrequest/commit/dedf832702e702b81c1701ba2d89f0530078ab4c

Merge pull request #27 from plone/config-with-default-template-d5f888e2

Configuring with plone/meta 2023-01-26.

Files changed:
A news/1.internal
M .meta.toml
M lint-requirements.txt
M pyproject.toml
M setup.cfg
M setup.py
M tox.ini
D news/1.bugfix

b'diff --git a/.meta.toml b/.meta.toml\nindex e393a44..fbaceac 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,4 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "6d382fce"\n+commit-id = "05a78883"\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex dedd4cb..129db4d 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -1,6 +1,7 @@\n # Generated from:\n # https://github.com/plone/meta/tree/master/config/default\n black==22.12.0\n+check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\ndiff --git a/news/1.bugfix b/news/1.internal\nsimilarity index 74%\nrename from news/1.bugfix\nrename to news/1.internal\nindex 858a8e6..861903e 100644\n--- a/news/1.bugfix\n+++ b/news/1.internal\n@@ -1,2 +1,2 @@\n Unify repository configuration via github.com/plone/meta.\n-[gforcada]\n+[gforcada, maurits]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex a5b1745..0f96c85 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -21,6 +21,21 @@ directory = "bugfix"\n name = "Bug fixes:"\n showcontent = true\n \n+[[tool.towncrier.type]]\n+directory = "internal"\n+name = "Internal:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "documentation"\n+name = "Documentation:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "tests"\n+name = "Tests"\n+showcontent = true\n+\n [tool.isort]\n profile = "plone"\n \ndiff --git a/setup.cfg b/setup.cfg\nindex bb3f825..b4adcb1 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -19,3 +19,4 @@ ignore =\n ignore =\n     .editorconfig\n     .meta.toml\n+    tox.ini\ndiff --git a/setup.py b/setup.py\nindex 2f78fe9..8344156 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -44,6 +44,7 @@\n     include_package_data=True,\n     platforms="Any",\n     zip_safe=False,\n+    python_requires=">=3.8",\n     install_requires=[\n         "setuptools",\n         "zope.globalrequest",\ndiff --git a/tox.ini b/tox.ini\nindex 0c34067..5d1a605 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -6,8 +6,8 @@ envlist =\n     lint\n \n [testenv]\n-py_files = find plone -name "*.py"\n-rst_files = find plone -name "*.rst"\n+py_files = git ls-files "*.py"\n+text_files = git ls-files "*.rst" "*.md"\n allowlist_externals =\n     sh\n \n@@ -20,9 +20,9 @@ deps =\n     black\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus *.py\'\n-    sh -c \'{[testenv]py_files} | xargs isort *.py\'\n-    sh -c \'{[testenv]py_files} | xargs black *.py\'\n+    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus\'\n+    sh -c \'{[testenv]py_files} | xargs isort\'\n+    sh -c \'{[testenv]py_files} | xargs black\'\n \n [testenv:lint]\n description = run linters that will help improve the code style\n@@ -30,8 +30,10 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    check-manifest\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs flake8 *.py\'\n-    sh -c \'{[testenv]py_files} | xargs codespell *.py\'\n-    sh -c \'{[testenv]rst_files} | xargs codespell *.rst\'\n+    sh -c \'{[testenv]py_files} | xargs flake8\'\n+    sh -c \'{[testenv]py_files} | xargs codespell\'\n+    sh -c \'{[testenv]text_files} | xargs codespell\'\n+    check-manifest\n'

