Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2016-10-18T12:21:37-04:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.Archetypes/commit/ebe0fc87a921b7a55fe78985a7d59320d265bee8

more flexible test on getBestIcon

Files changed:
M CHANGES.rst
M Products/Archetypes/tests/test_widgets.py

diff --git a/CHANGES.rst b/CHANGES.rst
index e007568..0b26e5b 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- More flexible test of getBestIcon.
+  [jensens]
 
 
 1.11.3 (2016-10-03)
diff --git a/Products/Archetypes/tests/test_widgets.py b/Products/Archetypes/tests/test_widgets.py
index e3efc21..7058dae 100644
--- a/Products/Archetypes/tests/test_widgets.py
+++ b/Products/Archetypes/tests/test_widgets.py
@@ -305,7 +305,7 @@ def test_rich_text_widget(self):
 
     def test_getBestIcon(self):
         doc = makeContent(self.folder, 'SimpleType', id='doc')
-        self.assertEqual(doc.getBestIcon(), 'txt.png')
+        self.assertTrue(doc.getBestIcon().endswith('txt.png'))
 
     def test_vocabulary_enforced(self):
         doc = makeContent(self.folder, portal_type='ComplexType', id='demodoc')


Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2016-10-18T13:42:37-04:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.Archetypes/commit/37ba04be133c2276f53f5af4a2e44efc410cbe60

Merge pull request #66 from plone/more-flexible-icon-test

more flexible test on getBestIcon

Files changed:
M CHANGES.rst
M Products/Archetypes/tests/test_widgets.py

diff --git a/CHANGES.rst b/CHANGES.rst
index e007568..0b26e5b 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- More flexible test of getBestIcon.
+  [jensens]
 
 
 1.11.3 (2016-10-03)
diff --git a/Products/Archetypes/tests/test_widgets.py b/Products/Archetypes/tests/test_widgets.py
index e3efc21..7058dae 100644
--- a/Products/Archetypes/tests/test_widgets.py
+++ b/Products/Archetypes/tests/test_widgets.py
@@ -305,7 +305,7 @@ def test_rich_text_widget(self):
 
     def test_getBestIcon(self):
         doc = makeContent(self.folder, 'SimpleType', id='doc')
-        self.assertEqual(doc.getBestIcon(), 'txt.png')
+        self.assertTrue(doc.getBestIcon().endswith('txt.png'))
 
     def test_vocabulary_enforced(self):
         doc = makeContent(self.folder, portal_type='ComplexType', id='demodoc')


