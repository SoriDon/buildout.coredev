Repository: plone.i18n


Branch: refs/heads/master
Date: 2019-02-08T08:58:29+01:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.i18n/commit/d17fa0ffaa3dac54ee4d1d0187a62cf371195df2

Test that the length of the returned string is lower but not always equal to the given max_length.

Refs #25

Files changed:
M news/25.bugfix
M plone/i18n/normalizer/ja.py

b'diff --git a/news/25.bugfix b/news/25.bugfix\nindex 6c5c19b..743eca8 100644\n--- a/news/25.bugfix\n+++ b/news/25.bugfix\n@@ -1 +1,3 @@\n Be more verbose when Japanese normalizer fails in tests.\n+Test that the length of the returned string is lower\n+but not always equal to the given max_length.\ndiff --git a/plone/i18n/normalizer/ja.py b/plone/i18n/normalizer/ja.py\nindex ebb2c5e..bc325a2 100644\n--- a/plone/i18n/normalizer/ja.py\n+++ b/plone/i18n/normalizer/ja.py\n@@ -62,12 +62,12 @@ class Normalizer(object):\n     We expect the default length of 6.\n     Report the normalized value in case of failure.\n \n-      >>> len(normalized) == 6 or (len(normalized), normalized)\n+      >>> 5 <= len(normalized) <= 6 or (len(normalized), normalized)\n       True\n \n     The max_length argument is respected.\n       >>> normalized = norm.normalize(text, max_length=8)\n-      >>> len(normalized) == 8 or (len(normalized), normalized)\n+      >>> 7 <= len(normalized) <= 8 or (len(normalized), normalized)\n       True\n     """\n \n'

Repository: plone.i18n


Branch: refs/heads/master
Date: 2019-02-08T10:37:25+01:00
Author: Alessandro Pisa (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.i18n/commit/06ddfa866cbc0dedc375af360f7bd6e834febd51

Merge pull request #27 from plone/25-fix-ja-normalizer

Test that the length of the returned string is lower but not always eâ€¦

Files changed:
M news/25.bugfix
M plone/i18n/normalizer/ja.py

b'diff --git a/news/25.bugfix b/news/25.bugfix\nindex 6c5c19b..743eca8 100644\n--- a/news/25.bugfix\n+++ b/news/25.bugfix\n@@ -1 +1,3 @@\n Be more verbose when Japanese normalizer fails in tests.\n+Test that the length of the returned string is lower\n+but not always equal to the given max_length.\ndiff --git a/plone/i18n/normalizer/ja.py b/plone/i18n/normalizer/ja.py\nindex ebb2c5e..bc325a2 100644\n--- a/plone/i18n/normalizer/ja.py\n+++ b/plone/i18n/normalizer/ja.py\n@@ -62,12 +62,12 @@ class Normalizer(object):\n     We expect the default length of 6.\n     Report the normalized value in case of failure.\n \n-      >>> len(normalized) == 6 or (len(normalized), normalized)\n+      >>> 5 <= len(normalized) <= 6 or (len(normalized), normalized)\n       True\n \n     The max_length argument is respected.\n       >>> normalized = norm.normalize(text, max_length=8)\n-      >>> len(normalized) == 8 or (len(normalized), normalized)\n+      >>> 7 <= len(normalized) <= 8 or (len(normalized), normalized)\n       True\n     """\n \n'

