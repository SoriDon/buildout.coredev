Repository: plone.api


Branch: refs/heads/master
Date: 2016-01-28T16:27:55+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.api/commit/e4323ef9e53dd6a149c44438128885a46dfd273e

Fix test_zope_version test to be able to deal with development versions of Zope.

Files changed:
M docs/CHANGES.rst
M src/plone/api/tests/test_env.py

diff --git a/docs/CHANGES.rst b/docs/CHANGES.rst
index d6a2cc4..6d3b903 100644
--- a/docs/CHANGES.rst
+++ b/docs/CHANGES.rst
@@ -10,6 +10,9 @@ New:
 
 Fixes:
 
+- Fix ``test_zope_version`` test to be able to deal with development versions of Zope.
+  [thet]
+
 - Remove the Plone APIs conventions. They are moved to  
 http://docs.plone.org/develop/styleguide
 and http://docs.plone.org/develop/coredev/docs/git.html
diff --git a/src/plone/api/tests/test_env.py b/src/plone/api/tests/test_env.py
index e56348c..b3d5f58 100644
--- a/src/plone/api/tests/test_env.py
+++ b/src/plone/api/tests/test_env.py
@@ -417,7 +417,7 @@ def test_zope_version(self):
         # it could also include a package status id (Alpha, Beta or RC)
         self.assertRegexpMatches(
             zope_version(),
-            '^(\d+\.\d+|\d+\.\d+\.\d+)(a\d+|b\d+|rc\d+)?$'
+            '^(\d+\.\d+|\d+\.\d+\.\d+)(a\d+|b\d+|rc\d+)?(\.dev\d)?$'
         )
 
     def test_adopt_user_different_username(self):


Repository: plone.api


Branch: refs/heads/master
Date: 2016-01-29T02:21:20+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.api/commit/c042379b7ef71c7d083b04f5cb0ad0dd5d3436ba

Merge pull request #301 from plone/thet-zope4

Zope4

Files changed:
M docs/CHANGES.rst
M src/plone/api/tests/test_env.py

diff --git a/docs/CHANGES.rst b/docs/CHANGES.rst
index d6a2cc4..6d3b903 100644
--- a/docs/CHANGES.rst
+++ b/docs/CHANGES.rst
@@ -10,6 +10,9 @@ New:
 
 Fixes:
 
+- Fix ``test_zope_version`` test to be able to deal with development versions of Zope.
+  [thet]
+
 - Remove the Plone APIs conventions. They are moved to  
 http://docs.plone.org/develop/styleguide
 and http://docs.plone.org/develop/coredev/docs/git.html
diff --git a/src/plone/api/tests/test_env.py b/src/plone/api/tests/test_env.py
index e56348c..b3d5f58 100644
--- a/src/plone/api/tests/test_env.py
+++ b/src/plone/api/tests/test_env.py
@@ -417,7 +417,7 @@ def test_zope_version(self):
         # it could also include a package status id (Alpha, Beta or RC)
         self.assertRegexpMatches(
             zope_version(),
-            '^(\d+\.\d+|\d+\.\d+\.\d+)(a\d+|b\d+|rc\d+)?$'
+            '^(\d+\.\d+|\d+\.\d+\.\d+)(a\d+|b\d+|rc\d+)?(\.dev\d)?$'
         )
 
     def test_adopt_user_different_username(self):


