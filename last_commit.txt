Repository: plone.app.theming


Branch: refs/heads/master
Date: 2022-04-15T18:15:49-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/plone.app.theming/commit/bd389070030fa87bd0e31aae27de96cfca78fa7f

Revert "Do not apply the theme transform over every request. Closes gh-207"

This reverts commit 5685136c69b0e2b56b6c0a07a90c5a883d4d79d2.

Files changed:
M src/plone/app/theming/transform.py
D news/207.misc

b'diff --git a/news/207.misc b/news/207.misc\ndeleted file mode 100644\nindex 7ad97f6..0000000\n--- a/news/207.misc\n+++ /dev/null\n@@ -1,2 +0,0 @@\n-Do not apply the theme transform over every request\n-[frapell]\ndiff --git a/src/plone/app/theming/transform.py b/src/plone/app/theming/transform.py\nindex 13b5b1b..9a09dd4 100644\n--- a/src/plone/app/theming/transform.py\n+++ b/src/plone/app/theming/transform.py\n@@ -14,7 +14,6 @@\n from zope.component import adapter\n from zope.interface import implementer\n from zope.interface import Interface\n-from zope.location.interfaces import ILocation\n \n import logging\n \n@@ -26,7 +25,7 @@\n \n \n @implementer(ITransform)\n-@adapter(ILocation, IThemingLayer)\n+@adapter(Interface, IThemingLayer)\n class ThemeTransform(object):\n     """Late stage in the 8000\'s transform chain. When plone.app.blocks is\n     used, we can benefit from lxml parsing having taken place already.\n'

