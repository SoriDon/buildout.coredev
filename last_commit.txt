Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-02-18T18:01:55+01:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/544dcaa0b56e37294996b3af571b9f17f8172dc7

Fix robot test linkintegrity

Files changed:
A news/2752.bugfix
M Products/CMFPlone/tests/robot/test_linkintegrity.robot

b"diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\nindex 38f916f68..6f812fda8 100644\n--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n@@ -17,7 +17,7 @@ Library  Remote  ${PLONE_URL}/RobotRemote\n \n Resource  keywords.robot\n \n-#Suite setup  Set Selenium speed  0.5s\n+# Suite setup  Set Selenium speed  0.5s\n Test Setup  Run keywords  Plone Test Setup\n Test Teardown  Run keywords  Plone Test Teardown\n \n@@ -79,8 +79,8 @@ a link in rich text\n   Given patterns are loaded\n   Wait until element is visible  css=.pat-relateditems .select2-input.select2-default\n   Click Element  css=.pat-relateditems .select2-input.select2-default\n-  Wait until element is visible  xpath=(//span[contains(., 'One level up')])\n-  Click Element  xpath=(//span[contains(., 'One level up')])\n+  Wait until element is visible  css=.pattern-relateditems-result.one-level-up a.pattern-relateditems-result-browse\n+  Click Element  css=.pattern-relateditems-result.one-level-up a.pattern-relateditems-result-browse\n   Wait until element is visible  xpath=(//span[contains(., 'Foo')])\n   Click Element  xpath=(//span[contains(., 'Foo')])\n   Wait until page contains  Foo\n@@ -92,6 +92,7 @@ a link in rich text\n should show warning when deleting page\n   Go To  ${PLONE_URL}/foo\n   Click Link  css=#plone-contentmenu-actions a\n+  Wait until element is visible  css=#plone-contentmenu-actions-delete\n   Click Link  css=#plone-contentmenu-actions-delete\n   Wait until page contains element  css=.breach-container .breach-item\n \n@@ -126,6 +127,7 @@ should not show warning when deleting page from folder_contents\n should not show warning when deleting page\n   Go To  ${PLONE_URL}/foo\n   Click Link  css=#plone-contentmenu-actions a\n+  Wait until element is visible  css=#plone-contentmenu-actions-delete\n   Click Link  css=#plone-contentmenu-actions-delete\n   Page should not contain element  css=.breach-container .breach-item\n \ndiff --git a/news/2752.bugfix b/news/2752.bugfix\nnew file mode 100644\nindex 000000000..5b96ce973\n--- /dev/null\n+++ b/news/2752.bugfix\n@@ -0,0 +1,2 @@\n+- make linkintegrity robot test more reliable\n+  [MrTango]\n\\ No newline at end of file\n"

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-02-18T20:00:09+01:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/a2214eba0d048b0d1a44f2aa015ffacab23a2a7c

Merge pull request #2757 from plone/mrtango-improve-relateditems-ux

Fix robot test linkintegrity

Files changed:
M Products/CMFPlone/tests/robot/test_linkintegrity.robot

b"diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\nindex 89aa17421..6f812fda8 100644\n--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n@@ -17,7 +17,7 @@ Library  Remote  ${PLONE_URL}/RobotRemote\n \n Resource  keywords.robot\n \n-#Suite setup  Set Selenium speed  0.5s\n+# Suite setup  Set Selenium speed  0.5s\n Test Setup  Run keywords  Plone Test Setup\n Test Teardown  Run keywords  Plone Test Teardown\n \n@@ -79,8 +79,8 @@ a link in rich text\n   Given patterns are loaded\n   Wait until element is visible  css=.pat-relateditems .select2-input.select2-default\n   Click Element  css=.pat-relateditems .select2-input.select2-default\n-  Wait until element is visible  xpath=(//span[contains(., 'One level up')])\n-  Click Element  xpath=(//span[contains(., 'One level up')])\n+  Wait until element is visible  css=.pattern-relateditems-result.one-level-up a.pattern-relateditems-result-browse\n+  Click Element  css=.pattern-relateditems-result.one-level-up a.pattern-relateditems-result-browse\n   Wait until element is visible  xpath=(//span[contains(., 'Foo')])\n   Click Element  xpath=(//span[contains(., 'Foo')])\n   Wait until page contains  Foo\n"

