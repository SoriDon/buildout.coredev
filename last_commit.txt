Repository: plone.volto


Branch: refs/heads/main
Date: 2021-10-29T19:13:45+02:00
Author: Érico Andrei (ericof) <ericof@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/51dac7f5e141f5d1decbe5f3a2960b7f88177fa2

Use plone/setup-plone github action.

Files changed:
M .github/workflows/tests.yml

b'diff --git a/.github/workflows/tests.yml b/.github/workflows/tests.yml\nindex ba7d6c2..5b4b9c4 100644\n--- a/.github/workflows/tests.yml\n+++ b/.github/workflows/tests.yml\n@@ -6,50 +6,29 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        python-version: [3.7, 3.8, 3.9]\n-        plone-version: ["6.0.0a1", "5.2.6"]\n+        python: [3.7, 3.8, 3.9]\n+        plone: ["6.0.0a1", "5.2-latest"]\n         exclude:\n-          - plone-version: "5.2.6"\n-            python-version: 3.9\n+          - plone: "5.2-latest"\n+            python: 3.9\n \n     steps:\n       # git checkout\n       - uses: actions/checkout@v2\n \n-      # python setup\n-      - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+      - name: Setup Plone ${{ matrix.plone }} with Python ${{ matrix.python }}\n+        id: setup\n+        uses: plone/setup-plone@v1.0.0\n         with:\n-          python-version: ${{ matrix.python-version }}\n-\n-      # python cache\n-      - name: Setup cache\n-        id: cache\n-        uses: actions/cache@v2\n-        with:\n-          path: |\n-            ~/.cache/pip\n-          key: ${{ runner.os }}-pip-${{ matrix.python-version }}-${{ matrix.plone-version }}\n-          restore-keys: |\n-            ${{ runner.os }}-pip-${{ matrix.python-version }}-\n-\n-      # python install\n-      - name: Create virtual environment\n-        run: |\n-          python -m venv .\n-          ./bin/pip install -U pip setuptools wheel\n-\n-      # Plone install\n-      - name: Install Plone\n-        run: |\n-          ./bin/pip install Plone -c https://dist.plone.org/release/${{ matrix.plone-version }}/constraints.txt  --use-deprecated legacy-resolver\n+          python-version: ${{ matrix.python }}\n+          plone-version: ${{ matrix.plone }}\n \n       # Install plone.volto with test extras\n       - name: Install plone.volto\n         run: |\n-          ./bin/pip install ".[test]" --use-deprecated legacy-resolver\n+          pip install ".[test]" --use-deprecated legacy-resolver\n \n       # test\n       - name: test\n         run: |\n-          ./bin/zope-testrunner --auto-color --auto-progress --test-path src\n+          zope-testrunner --auto-color --auto-progress --test-path src\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2021-10-29T19:25:07+02:00
Author: Érico Andrei (ericof) <ericof@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/7a3ffef3011907ed6f3679ad155726185f7915eb

Update changelog

Files changed:
M CHANGES.rst

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 62a2a9d..fe6d5ce 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,7 +4,10 @@ Changelog\n 3.1.0a5 (unreleased)\n --------------------\n \n-- Nothing changed yet.\n+Internal:\n+\n+- Use plone/setup-plone github action.\n+  [ericof]\n \n \n 3.1.0a4 (2021-10-29)\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2021-10-30T11:37:25+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.volto/commit/aeb43457dffad48866630ce37ad8740ec17f6a81

Merge pull request #19 from plone/use-setup-plone-gh-action

Use plone/setup-plone github action

Files changed:
M .github/workflows/tests.yml
M CHANGES.rst

b'diff --git a/.github/workflows/tests.yml b/.github/workflows/tests.yml\nindex ba7d6c2..5b4b9c4 100644\n--- a/.github/workflows/tests.yml\n+++ b/.github/workflows/tests.yml\n@@ -6,50 +6,29 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        python-version: [3.7, 3.8, 3.9]\n-        plone-version: ["6.0.0a1", "5.2.6"]\n+        python: [3.7, 3.8, 3.9]\n+        plone: ["6.0.0a1", "5.2-latest"]\n         exclude:\n-          - plone-version: "5.2.6"\n-            python-version: 3.9\n+          - plone: "5.2-latest"\n+            python: 3.9\n \n     steps:\n       # git checkout\n       - uses: actions/checkout@v2\n \n-      # python setup\n-      - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+      - name: Setup Plone ${{ matrix.plone }} with Python ${{ matrix.python }}\n+        id: setup\n+        uses: plone/setup-plone@v1.0.0\n         with:\n-          python-version: ${{ matrix.python-version }}\n-\n-      # python cache\n-      - name: Setup cache\n-        id: cache\n-        uses: actions/cache@v2\n-        with:\n-          path: |\n-            ~/.cache/pip\n-          key: ${{ runner.os }}-pip-${{ matrix.python-version }}-${{ matrix.plone-version }}\n-          restore-keys: |\n-            ${{ runner.os }}-pip-${{ matrix.python-version }}-\n-\n-      # python install\n-      - name: Create virtual environment\n-        run: |\n-          python -m venv .\n-          ./bin/pip install -U pip setuptools wheel\n-\n-      # Plone install\n-      - name: Install Plone\n-        run: |\n-          ./bin/pip install Plone -c https://dist.plone.org/release/${{ matrix.plone-version }}/constraints.txt  --use-deprecated legacy-resolver\n+          python-version: ${{ matrix.python }}\n+          plone-version: ${{ matrix.plone }}\n \n       # Install plone.volto with test extras\n       - name: Install plone.volto\n         run: |\n-          ./bin/pip install ".[test]" --use-deprecated legacy-resolver\n+          pip install ".[test]" --use-deprecated legacy-resolver\n \n       # test\n       - name: test\n         run: |\n-          ./bin/zope-testrunner --auto-color --auto-progress --test-path src\n+          zope-testrunner --auto-color --auto-progress --test-path src\ndiff --git a/CHANGES.rst b/CHANGES.rst\nindex 62a2a9d..fe6d5ce 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,7 +4,10 @@ Changelog\n 3.1.0a5 (unreleased)\n --------------------\n \n-- Nothing changed yet.\n+Internal:\n+\n+- Use plone/setup-plone github action.\n+  [ericof]\n \n \n 3.1.0a4 (2021-10-29)\n'

