Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-05-09T13:09:49+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/f1f6184ca53e8424ca309c802723226ed8fd2adc

Allow empty default_page setting

Files changed:
A news/2813.bugfix
M Products/CMFPlone/interfaces/controlpanel.py

b"diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py\nindex 6b9774fe2..4a822ceb5 100644\n--- a/Products/CMFPlone/interfaces/controlpanel.py\n+++ b/Products/CMFPlone/interfaces/controlpanel.py\n@@ -1155,7 +1155,7 @@ class ISiteSchema(Interface):\n         description=_(\n             u'Select which IDs (short names) can act as fallback '\n             u'default pages for a container.'),\n-        required=True,\n+        required=False,\n         default=[\n             u'index_html',\n             u'index.html',\ndiff --git a/news/2813.bugfix b/news/2813.bugfix\nnew file mode 100644\nindex 000000000..ddb112ead\n--- /dev/null\n+++ b/news/2813.bugfix\n@@ -0,0 +1,2 @@\n+Allow empty ``default_page`` registry setting\n+[petschki]\n"

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-05-09T14:22:09+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/4020e3dbe75af0bd93581a4324a88b7deb96bb3f

Merge pull request #2857 from plone/petschki/issue_2813

Allow empty default_page setting

Files changed:
A news/2813.bugfix
M Products/CMFPlone/interfaces/controlpanel.py

b"diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py\nindex 6b9774fe2..4a822ceb5 100644\n--- a/Products/CMFPlone/interfaces/controlpanel.py\n+++ b/Products/CMFPlone/interfaces/controlpanel.py\n@@ -1155,7 +1155,7 @@ class ISiteSchema(Interface):\n         description=_(\n             u'Select which IDs (short names) can act as fallback '\n             u'default pages for a container.'),\n-        required=True,\n+        required=False,\n         default=[\n             u'index_html',\n             u'index.html',\ndiff --git a/news/2813.bugfix b/news/2813.bugfix\nnew file mode 100644\nindex 000000000..ddb112ead\n--- /dev/null\n+++ b/news/2813.bugfix\n@@ -0,0 +1,2 @@\n+Allow empty ``default_page`` registry setting\n+[petschki]\n"

