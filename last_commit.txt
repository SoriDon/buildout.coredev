Repository: plone.app.mosaic


Branch: refs/heads/es6
Date: 2022-06-14T16:35:22+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.mosaic/commit/c39daf9b82df415e2ce777de05bfcf6c0a9a8e7f

fix content-header container when no portlets on mosaic page

Files changed:
M resources/scss/mosaic-grid.scss

b'diff --git a/resources/scss/mosaic-grid.scss b/resources/scss/mosaic-grid.scss\nindex 60b8a940..4eac30c5 100644\n--- a/resources/scss/mosaic-grid.scss\n+++ b/resources/scss/mosaic-grid.scss\n@@ -137,7 +137,7 @@ $container-max-widths: (\n body.template-layout,\n body.mosaic-enabled {\n   &.no-portlet-columns {\n-    .outer-wrapper>.container {\n+    .outer-wrapper>.container:not(#content-header) {\n       // outline: 1px blue solid;\n       max-width: unset;\n       padding-left: unset;\n'

Repository: plone.app.mosaic


Branch: refs/heads/es6
Date: 2022-06-14T16:36:20+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.mosaic/commit/1b81678ceba2b159dc83ba2cd4c4ecb424e9f619

compile

Files changed:
M src/plone/app/mosaic/browser/static/mosaic.css
M src/plone/app/mosaic/browser/static/mosaic.min.css

b'diff --git a/src/plone/app/mosaic/browser/static/mosaic.css b/src/plone/app/mosaic/browser/static/mosaic.css\nindex 7ad754a5..b7a63a20 100644\n--- a/src/plone/app/mosaic/browser/static/mosaic.css\n+++ b/src/plone/app/mosaic/browser/static/mosaic.css\n@@ -49,22 +49,22 @@\n   }\n }\n \n-body.template-layout.no-portlet-columns .outer-wrapper > .container,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container {\n+body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header),\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) {\n   max-width: unset;\n   padding-left: unset;\n   padding-right: unset;\n }\n-body.template-layout.no-portlet-columns .outer-wrapper > .container > .row,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container > .row {\n+body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) > .row,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) > .row {\n   margin: 0;\n }\n-body.template-layout.no-portlet-columns .outer-wrapper > .container > .row #portal-column-content,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container > .row #portal-column-content {\n+body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) > .row #portal-column-content,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) > .row #portal-column-content {\n   padding: 0;\n }\n-body.template-layout.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row {\n+body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row {\n   width: 100%;\n   padding-right: var(--bs-gutter-x, 0.75rem);\n   padding-left: var(--bs-gutter-x, 0.75rem);\n@@ -73,37 +73,37 @@ body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-\n   padding: 0;\n }\n @media (min-width: 576px) {\n-  body.template-layout.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row {\n+  body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row {\n     max-width: 540px;\n   }\n }\n @media (min-width: 768px) {\n-  body.template-layout.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row {\n+  body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row {\n     max-width: 720px;\n   }\n }\n @media (min-width: 992px) {\n-  body.template-layout.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row {\n+  body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row {\n     max-width: 960px;\n   }\n }\n @media (min-width: 1200px) {\n-  body.template-layout.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row {\n+  body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row {\n     max-width: 1140px;\n   }\n }\n @media (min-width: 1400px) {\n-  body.template-layout.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row {\n+  body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row {\n     max-width: 1320px;\n   }\n }\n-body.template-layout.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row.mosaic-grid-row-fluid,\n-body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container .mosaic-grid-row.mosaic-grid-row-fluid {\n+body.template-layout.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row.mosaic-grid-row-fluid,\n+body.mosaic-enabled.no-portlet-columns .outer-wrapper > .container:not(#content-header) .mosaic-grid-row.mosaic-grid-row-fluid {\n   max-width: unset;\n   padding-left: unset;\n   padding-right: unset;\ndiff --git a/src/plone/app/mosaic/browser/static/mosaic.min.css b/src/plone/app/mosaic/browser/static/mosaic.min.css\nindex b08f35fb..26bc85a7 100644\n--- a/src/plone/app/mosaic/browser/static/mosaic.min.css\n+++ b/src/plone/app/mosaic/browser/static/mosaic.min.css\n@@ -1,2 +1,2 @@\n-.mosaic-grid-bg{position:absolute;background:#fff;width:100%;height:100%;z-index:100;display:none}.mosaic-grid-row{position:relative;--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x)/ -2);margin-left:calc(var(--bs-gutter-x)/ -2)}.mosaic-grid-row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x)/ 2);padding-left:calc(var(--bs-gutter-x)/ 2);margin-top:var(--bs-gutter-y)}@media (max-width:767.98px){.mosaic-grid-row .col{flex:0 0 auto}.mosaic-grid-row .col-1,.mosaic-grid-row .col-10,.mosaic-grid-row .col-11,.mosaic-grid-row .col-12,.mosaic-grid-row .col-2,.mosaic-grid-row .col-3,.mosaic-grid-row .col-4,.mosaic-grid-row .col-5,.mosaic-grid-row .col-6,.mosaic-grid-row .col-7,.mosaic-grid-row .col-8,.mosaic-grid-row .col-9{width:100%}}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container,body.template-layout.no-portlet-columns .outer-wrapper>.container{max-width:unset;padding-left:unset;padding-right:unset}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container>.row,body.template-layout.no-portlet-columns .outer-wrapper>.container>.row{margin:0}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container>.row #portal-column-content,body.template-layout.no-portlet-columns .outer-wrapper>.container>.row #portal-column-content{padding:0}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row{width:100%;padding-right:var(--bs-gutter-x,.75rem);padding-left:var(--bs-gutter-x,.75rem);margin-right:auto;margin-left:auto;padding:0}@media (min-width:576px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row{max-width:540px}}@media (min-width:768px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row{max-width:720px}}@media (min-width:992px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row{max-width:960px}}@media (min-width:1200px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row{max-width:1140px}}@media (min-width:1400px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row{max-width:1320px}}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row.mosaic-grid-row-fluid,body.template-layout.no-portlet-columns .outer-wrapper>.container .mosaic-grid-row.mosaic-grid-row-fluid{max-width:unset;padding-left:unset;padding-right:unset;margin-left:0;margin-right:0}.mosaic-tile img{max-width:100%;height:auto}.mosaic-tile-content h1:first-child,.mosaic-tile-content h2:first-child,.mosaic-tile-content h3:first-child,.mosaic-tile-content h4:first-child,.mosaic-tile-content h5:first-child,.mosaic-tile-content h6:first-child{margin-top:0}.mosaic-tile-align-center{text-align:center}.mosaic-tile-align-left{float:left;z-index:200}.mosaic-tile-align-right{float:right;z-index:200}.mosaic-tile-padding-right{padding-right:1em}.mosaic-tile-padding-bottom{padding-bottom:1ex}.mosaic-grid-row-dark{background:#ccc;padding:1ex 1em;color:#2c2c2c}.mosaic-grid-row-dark+.mosaic-grid-row{padding-top:1ex}.mosaic-grid-row-dark+.mosaic-grid-row-dark{padding-top:0}.mosaic-tile #commenting{font-size:100%}.mosaic-tile .comment{font-size:100%}#content .mosaic-tile .discussion div.documentByLine{font-size:100%}\n+.mosaic-grid-bg{position:absolute;background:#fff;width:100%;height:100%;z-index:100;display:none}.mosaic-grid-row{position:relative;--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x)/ -2);margin-left:calc(var(--bs-gutter-x)/ -2)}.mosaic-grid-row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x)/ 2);padding-left:calc(var(--bs-gutter-x)/ 2);margin-top:var(--bs-gutter-y)}@media (max-width:767.98px){.mosaic-grid-row .col{flex:0 0 auto}.mosaic-grid-row .col-1,.mosaic-grid-row .col-10,.mosaic-grid-row .col-11,.mosaic-grid-row .col-12,.mosaic-grid-row .col-2,.mosaic-grid-row .col-3,.mosaic-grid-row .col-4,.mosaic-grid-row .col-5,.mosaic-grid-row .col-6,.mosaic-grid-row .col-7,.mosaic-grid-row .col-8,.mosaic-grid-row .col-9{width:100%}}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header),body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header){max-width:unset;padding-left:unset;padding-right:unset}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header)>.row,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header)>.row{margin:0}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header)>.row #portal-column-content,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header)>.row #portal-column-content{padding:0}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row{width:100%;padding-right:var(--bs-gutter-x,.75rem);padding-left:var(--bs-gutter-x,.75rem);margin-right:auto;margin-left:auto;padding:0}@media (min-width:576px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row{max-width:540px}}@media (min-width:768px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row{max-width:720px}}@media (min-width:992px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row{max-width:960px}}@media (min-width:1200px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row{max-width:1140px}}@media (min-width:1400px){body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row{max-width:1320px}}body.mosaic-enabled.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row.mosaic-grid-row-fluid,body.template-layout.no-portlet-columns .outer-wrapper>.container:not(#content-header) .mosaic-grid-row.mosaic-grid-row-fluid{max-width:unset;padding-left:unset;padding-right:unset;margin-left:0;margin-right:0}.mosaic-tile img{max-width:100%;height:auto}.mosaic-tile-content h1:first-child,.mosaic-tile-content h2:first-child,.mosaic-tile-content h3:first-child,.mosaic-tile-content h4:first-child,.mosaic-tile-content h5:first-child,.mosaic-tile-content h6:first-child{margin-top:0}.mosaic-tile-align-center{text-align:center}.mosaic-tile-align-left{float:left;z-index:200}.mosaic-tile-align-right{float:right;z-index:200}.mosaic-tile-padding-right{padding-right:1em}.mosaic-tile-padding-bottom{padding-bottom:1ex}.mosaic-grid-row-dark{background:#ccc;padding:1ex 1em;color:#2c2c2c}.mosaic-grid-row-dark+.mosaic-grid-row{padding-top:1ex}.mosaic-grid-row-dark+.mosaic-grid-row-dark{padding-top:0}.mosaic-tile #commenting{font-size:100%}.mosaic-tile .comment{font-size:100%}#content .mosaic-tile .discussion div.documentByLine{font-size:100%}\n /*# sourceMappingURL=mosaic.min.css.map */\n\\ No newline at end of file\n'

