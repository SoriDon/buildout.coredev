Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2021-09-28T08:49:32+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/f4462c698be244989f09dfc862cbad57f9039e05

Add action icon_expr

Files changed:
A news/3327.bugfix
M Products/CMFPlone/profiles/default/types/Plone_Site.xml

b'diff --git a/Products/CMFPlone/profiles/default/types/Plone_Site.xml b/Products/CMFPlone/profiles/default/types/Plone_Site.xml\nindex 4527802170..b89fca2444 100644\n--- a/Products/CMFPlone/profiles/default/types/Plone_Site.xml\n+++ b/Products/CMFPlone/profiles/default/types/Plone_Site.xml\n@@ -60,8 +60,14 @@\n  <alias from="edit" to="@@edit"/>\n  <alias from="sharing" to="@@sharing"/>\n  <alias from="view" to="(selected layout)"/>\n- <action title="View" action_id="view" category="object" condition_expr=""\n-    url_expr="string:${object_url}" visible="True"\n+ <action\n+    title="View"\n+    action_id="view"\n+    category="object"\n+    condition_expr=""\n+    url_expr="string:${object_url}"\n+    icon_expr="string:toolbar-action/view"\n+    visible="True"\n     i18n:attributes="title">\n   <permission value="View"/>\n  </action>\n@@ -72,6 +78,7 @@\n     i18n:attributes="title"\n     title="Edit"\n     url_expr="string:${object_url}/edit"\n+    icon_expr="string:toolbar-action/edit"\n     visible="True">\n   <permission value="Modify portal content"/>\n  </action>\ndiff --git a/news/3327.bugfix b/news/3327.bugfix\nnew file mode 100644\nindex 0000000000..e30721e894\n--- /dev/null\n+++ b/news/3327.bugfix\n@@ -0,0 +1,2 @@\n+add icon_expr to view/edit action for @@iconresolver\n+[petschki]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2021-09-28T10:00:03+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/1565ab310a49ab9c3c0a9459d9861fbceb1919e2

Merge pull request #3328 from plone/issue-3327

Add action icon_expr for view/edit Plone Site

Files changed:
A news/3327.bugfix
M Products/CMFPlone/profiles/default/types/Plone_Site.xml

b'diff --git a/Products/CMFPlone/profiles/default/types/Plone_Site.xml b/Products/CMFPlone/profiles/default/types/Plone_Site.xml\nindex 4527802170..b89fca2444 100644\n--- a/Products/CMFPlone/profiles/default/types/Plone_Site.xml\n+++ b/Products/CMFPlone/profiles/default/types/Plone_Site.xml\n@@ -60,8 +60,14 @@\n  <alias from="edit" to="@@edit"/>\n  <alias from="sharing" to="@@sharing"/>\n  <alias from="view" to="(selected layout)"/>\n- <action title="View" action_id="view" category="object" condition_expr=""\n-    url_expr="string:${object_url}" visible="True"\n+ <action\n+    title="View"\n+    action_id="view"\n+    category="object"\n+    condition_expr=""\n+    url_expr="string:${object_url}"\n+    icon_expr="string:toolbar-action/view"\n+    visible="True"\n     i18n:attributes="title">\n   <permission value="View"/>\n  </action>\n@@ -72,6 +78,7 @@\n     i18n:attributes="title"\n     title="Edit"\n     url_expr="string:${object_url}/edit"\n+    icon_expr="string:toolbar-action/edit"\n     visible="True">\n   <permission value="Modify portal content"/>\n  </action>\ndiff --git a/news/3327.bugfix b/news/3327.bugfix\nnew file mode 100644\nindex 0000000000..e30721e894\n--- /dev/null\n+++ b/news/3327.bugfix\n@@ -0,0 +1,2 @@\n+add icon_expr to view/edit action for @@iconresolver\n+[petschki]\n'

