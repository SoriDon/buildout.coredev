Repository: plone.scale


Branch: refs/heads/master
Date: 2016-09-28T17:30:32+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.scale/commit/a3580353f5f9f0c92c20838967a3096a7400471b

Set zip_safe=False in setup.py.

Otherwise you cannot run the tests of the released package because the
test runner does not find any tests in the egg file.

Note that this is only a problem in zc.buildout 1.x: it uses
unzip=False by default.  zc.buildout 2.x no longer has this option and
always unzips eggs.

Files changed:
M CHANGES.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index cac29b8..730d306 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -16,7 +16,11 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Set ``zip_safe=False`` in ``setup.py``.  Otherwise you cannot run
+  the tests of the released package because the test runner does not
+  find any tests in the egg file.  Note that this is only a problem in
+  zc.buildout 1.x: it uses unzip=False by default.  zc.buildout 2.x no
+  longer has this option and always unzips eggs.  [maurits]
 
 
 2.0 (2016-08-12)
diff --git a/setup.py b/setup.py
index 761c206..4cdc82e 100644
--- a/setup.py
+++ b/setup.py
@@ -48,7 +48,7 @@
     packages=find_packages(exclude=['ez_setup']),
     namespace_packages=['plone'],
     include_package_data=True,
-    zip_safe=True,
+    zip_safe=False,
     test_suite='plone.scale',
     install_requires=[
         # We can't actually depend on PIL because not everyone can install it


