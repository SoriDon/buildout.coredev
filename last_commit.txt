Repository: Products.PlonePAS


Branch: refs/heads/master
Date: 2018-09-21T08:59:01+02:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/Products.PlonePAS/commit/ddd02a8ad8db493fe8dc37ff39225facce693832

Use list comprehensions instead of map (which returns an iterator in python 3)

Files changed:
M src/Products/PlonePAS/plugins/group.py
M src/Products/PlonePAS/tools/groupdata.py

b'diff --git a/src/Products/PlonePAS/plugins/group.py b/src/Products/PlonePAS/plugins/group.py\nindex bbbd21e..dd8ad77 100644\n--- a/src/Products/PlonePAS/plugins/group.py\n+++ b/src/Products/PlonePAS/plugins/group.py\n@@ -104,7 +104,7 @@ def getGroupById(self, group_id, default=None):\n         return self._findGroup(plugins, group_id, title)\n \n     def getGroups(self):\n-        return map(self.getGroupById, self.getGroupIds())\n+        return [self.getGroupById(group_id) for group_id in self.getGroupIds()]\n \n     def getGroupIds(self):\n         return self.listGroupIds()\ndiff --git a/src/Products/PlonePAS/tools/groupdata.py b/src/Products/PlonePAS/tools/groupdata.py\nindex 4da00f8..b808d85 100644\n--- a/src/Products/PlonePAS/tools/groupdata.py\n+++ b/src/Products/PlonePAS/tools/groupdata.py\n@@ -149,14 +149,14 @@ def getGroupMemberIds(self):\n         """\n         Return a list of group member ids\n         """\n-        return map(lambda x: x.getMemberId(), self.getGroupMembers())\n+        return [member.getMemberId() for member in self.getGroupMembers()]\n \n     @security.public\n     def getAllGroupMemberIds(self):\n         """\n         Return a list of group member ids\n         """\n-        return map(lambda x: x.getMemberId(), self.getAllGroupMembers())\n+        return [member.getMemberId() for member in self.getAllGroupMembers()]\n \n     @security.public\n     def getGroupMembers(self):\n'

