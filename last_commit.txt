Repository: plone.app.testing


Branch: refs/heads/master
Date: 2019-02-09T16:56:32+01:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.testing/commit/89d74a7dc3ba9ef2518046c7623ffa7e387eca94

Fix the travis build

Fixed the travis build checking the Python versions Plone actually supports.
Also fixed Python versions in setup.py

Fixes #57

Files changed:
A news/57.bugfix
M .travis.yml
M buildout.cfg
M setup.py
M src/plone/app/testing/bbb_at.py
M tox.ini

b'diff --git a/.travis.yml b/.travis.yml\nindex 54a35b0..bf7811c 100644\n--- a/.travis.yml\n+++ b/.travis.yml\n@@ -1,5 +1,6 @@\n language: python\n sudo: false\n+dist: xenial\n \n matrix:\n     include:\n@@ -13,10 +14,7 @@ matrix:\n           env: TOXENV=py35\n         - python: "3.6"\n           env: TOXENV=py36\n-        - python: "3.7-dev"\n-          env: TOXENV=py37\n-    allow_failures:\n-        - python: "3.7-dev"\n+        - python: "3.7"\n           env: TOXENV=py37\n \n install:\ndiff --git a/buildout.cfg b/buildout.cfg\nindex ff4400a..cd24df0 100644\n--- a/buildout.cfg\n+++ b/buildout.cfg\n@@ -17,8 +17,6 @@ extensions = mr.developer\n sources = sources\n versions = versions\n \n-auto-checkout = *\n-\n sources-dir = src-mrd\n \n develop = .\ndiff --git a/news/57.bugfix b/news/57.bugfix\nnew file mode 100644\nindex 0000000..167b144\n--- /dev/null\n+++ b/news/57.bugfix\n@@ -0,0 +1,2 @@\n+Fixed the travis build checking the Python versions Plone actually supports.\n+Also fixed Python versions in setup.py\ndiff --git a/setup.py b/setup.py\nindex 1d99966..6aefe79 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -4,6 +4,7 @@\n \n import os\n \n+\n version = \'6.1.2.dev0\'\n \n tests_require = [\n@@ -54,7 +55,6 @@ def read(*rnames):\n         "Operating System :: OS Independent",\n         "Programming Language :: Python",\n         "Programming Language :: Python :: 2.7",\n-        "Programming Language :: Python :: 3.5",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n         "Topic :: Internet :: WWW/HTTP :: Dynamic Content",\ndiff --git a/src/plone/app/testing/bbb_at.py b/src/plone/app/testing/bbb_at.py\nindex 6103c60..fb5b36a 100644\n--- a/src/plone/app/testing/bbb_at.py\n+++ b/src/plone/app/testing/bbb_at.py\n@@ -10,8 +10,9 @@\n import transaction\n import unittest\n \n+\n try:\n-    import Products.Archetypes\n+    import Products.Archetypes  # noqa: F401\n except ImportError:\n     HAS_AT = False\n else:\ndiff --git a/tox.ini b/tox.ini\nindex 88fceee..2c3eb24 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -1,12 +1,13 @@\n [tox]\n envlist =\n     py27,\n-    py35,\n     py36,\n+    py37,\n     coverage-report,\n     docs,\n     lint-py27,\n     lint-py36,\n+    lint-py37,\n \n minversion = 1.9\n \n@@ -25,7 +26,6 @@ deps =\n \n commands =\n     python -V\n-    {envbindir}/buildout -c {toxinidir}/buildout.cfg buildout:directory={envdir} buildout:develop={toxinidir} bootstrap\n     {envbindir}/buildout -c {toxinidir}/buildout.cfg buildout:directory={envdir} buildout:develop={toxinidir} install test\n     ls -la {envbindir}\n     coverage run {envbindir}/test --all {posargs:-vvc}\n@@ -107,21 +107,14 @@ deps = {[lint]deps}\n commands = {[lint]commands}\n whitelist_externals = {[lint]whitelist_externals}\n \n-[testenv:lint-py34]\n-basepython = python3.4\n-skip_install = true\n-deps = {[lint]deps}\n-commands = {[lint]commands}\n-whitelist_externals = {[lint]whitelist_externals}\n-\n-[testenv:lint-py35]\n-basepython = python3.5\n+[testenv:lint-py36]\n+basepython = python3.6\n skip_install = true\n deps = {[lint]deps}\n commands = {[lint]commands}\n whitelist_externals = {[lint]whitelist_externals}\n \n-[testenv:lint-py36]\n+[testenv:lint-py37]\n basepython = python3.6\n skip_install = true\n deps = {[lint]deps}\n'

Repository: plone.app.testing


Branch: refs/heads/master
Date: 2019-02-09T18:49:52+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.testing/commit/529d215b6146d9d5ab946530b93ae6ddc153efaa

Merge pull request #58 from plone/fix-travis

Fix the travis build

Files changed:
A news/57.bugfix
M .travis.yml
M buildout.cfg
M setup.py
M src/plone/app/testing/bbb_at.py
M tox.ini

b'diff --git a/.travis.yml b/.travis.yml\nindex 54a35b0..bf7811c 100644\n--- a/.travis.yml\n+++ b/.travis.yml\n@@ -1,5 +1,6 @@\n language: python\n sudo: false\n+dist: xenial\n \n matrix:\n     include:\n@@ -13,10 +14,7 @@ matrix:\n           env: TOXENV=py35\n         - python: "3.6"\n           env: TOXENV=py36\n-        - python: "3.7-dev"\n-          env: TOXENV=py37\n-    allow_failures:\n-        - python: "3.7-dev"\n+        - python: "3.7"\n           env: TOXENV=py37\n \n install:\ndiff --git a/buildout.cfg b/buildout.cfg\nindex ff4400a..cd24df0 100644\n--- a/buildout.cfg\n+++ b/buildout.cfg\n@@ -17,8 +17,6 @@ extensions = mr.developer\n sources = sources\n versions = versions\n \n-auto-checkout = *\n-\n sources-dir = src-mrd\n \n develop = .\ndiff --git a/news/57.bugfix b/news/57.bugfix\nnew file mode 100644\nindex 0000000..167b144\n--- /dev/null\n+++ b/news/57.bugfix\n@@ -0,0 +1,2 @@\n+Fixed the travis build checking the Python versions Plone actually supports.\n+Also fixed Python versions in setup.py\ndiff --git a/setup.py b/setup.py\nindex 1d99966..6aefe79 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -4,6 +4,7 @@\n \n import os\n \n+\n version = \'6.1.2.dev0\'\n \n tests_require = [\n@@ -54,7 +55,6 @@ def read(*rnames):\n         "Operating System :: OS Independent",\n         "Programming Language :: Python",\n         "Programming Language :: Python :: 2.7",\n-        "Programming Language :: Python :: 3.5",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n         "Topic :: Internet :: WWW/HTTP :: Dynamic Content",\ndiff --git a/src/plone/app/testing/bbb_at.py b/src/plone/app/testing/bbb_at.py\nindex 6103c60..fb5b36a 100644\n--- a/src/plone/app/testing/bbb_at.py\n+++ b/src/plone/app/testing/bbb_at.py\n@@ -10,8 +10,9 @@\n import transaction\n import unittest\n \n+\n try:\n-    import Products.Archetypes\n+    import Products.Archetypes  # noqa: F401\n except ImportError:\n     HAS_AT = False\n else:\ndiff --git a/tox.ini b/tox.ini\nindex 88fceee..2c3eb24 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -1,12 +1,13 @@\n [tox]\n envlist =\n     py27,\n-    py35,\n     py36,\n+    py37,\n     coverage-report,\n     docs,\n     lint-py27,\n     lint-py36,\n+    lint-py37,\n \n minversion = 1.9\n \n@@ -25,7 +26,6 @@ deps =\n \n commands =\n     python -V\n-    {envbindir}/buildout -c {toxinidir}/buildout.cfg buildout:directory={envdir} buildout:develop={toxinidir} bootstrap\n     {envbindir}/buildout -c {toxinidir}/buildout.cfg buildout:directory={envdir} buildout:develop={toxinidir} install test\n     ls -la {envbindir}\n     coverage run {envbindir}/test --all {posargs:-vvc}\n@@ -107,21 +107,14 @@ deps = {[lint]deps}\n commands = {[lint]commands}\n whitelist_externals = {[lint]whitelist_externals}\n \n-[testenv:lint-py34]\n-basepython = python3.4\n-skip_install = true\n-deps = {[lint]deps}\n-commands = {[lint]commands}\n-whitelist_externals = {[lint]whitelist_externals}\n-\n-[testenv:lint-py35]\n-basepython = python3.5\n+[testenv:lint-py36]\n+basepython = python3.6\n skip_install = true\n deps = {[lint]deps}\n commands = {[lint]commands}\n whitelist_externals = {[lint]whitelist_externals}\n \n-[testenv:lint-py36]\n+[testenv:lint-py37]\n basepython = python3.6\n skip_install = true\n deps = {[lint]deps}\n'

