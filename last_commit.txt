Repository: mockup


Branch: refs/heads/master
Date: 2016-04-11T23:55:20+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/ace782db6f7b8282431aa44177bbe566e9fe3898

Structure pattern: Alert design
Don't show empty alerts with ``alert-warning`` CSS class.
Show them transparent but in the same height as if they were not empty.
Align HTML structue with bootstrap ones and use ``&lt;strong&gt;`` for alert labels.nd an empty message aborts the commit.

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/app.js
M mockup/patterns/structure/templates/table.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 1702780..397332a 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -30,6 +30,9 @@ New:
   - For columns with date fields, show an empty column if the date value is 'None'.
   - Remove the checkbox and the actionmenu from the breadcrumbs bar for the current active folder to simplify the structure pattern.
     The actionmenu contained redundant actions (cut, copy, paste) and selecting the current folder is possible one level up.
+  - Don't show empty alerts with ``alert-warning`` CSS class.
+    Show them transparent but in the same height as if they were not empty.
+    Align HTML structue with bootstrap ones and use ``<strong>`` for alert labels.
 
   [thet]
 
diff --git a/mockup/patterns/structure/js/views/app.js b/mockup/patterns/structure/js/views/app.js
index 4d05ace..c778f08 100644
--- a/mockup/patterns/structure/js/views/app.js
+++ b/mockup/patterns/structure/js/views/app.js
@@ -32,7 +32,7 @@ define([
   var AppView = BaseView.extend({
     tagName: 'div',
     status: {
-      type: 'warning',
+      type: 'none',
       text: '',
       label: ''
     },
@@ -455,7 +455,7 @@ define([
         // clear it
         this.status.text = '';
         this.status.label = '';
-        this.status.type = 'warning';
+        this.status.type = 'none';
       } else if (typeof(msg) === 'string') {
         this.status.text = msg;
         this.status.label = '';
@@ -471,7 +471,7 @@ define([
       $status[0].className = 'alert alert-' + this.status.type + ' status';
       var $text = $('<span></span>');
       $text.text(this.status.text);
-      var $label = $('<b></b>');
+      var $label = $('<strong></strong>');
       $label.text(this.status.label);
       $status.empty().append($label).append($text);
     },
diff --git a/mockup/patterns/structure/templates/table.xml b/mockup/patterns/structure/templates/table.xml
index da2f17f..07ff3d2 100644
--- a/mockup/patterns/structure/templates/table.xml
+++ b/mockup/patterns/structure/templates/table.xml
@@ -1,6 +1,6 @@
 <div class="alert alert-<%- status.type %> status">
-  <b><%- status.label %></b>
-  <%- status.text %>
+  <strong><%- status.label %></strong>
+  <span><%- status.text %></span>&nbsp;<% // &nbsp; to get correct height for empty alerts %>
 </div>
 
 <table class="table table-striped table-bordered">


Repository: mockup


Branch: refs/heads/master
Date: 2016-04-11T20:03:57-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/83f5343d77897af322c34904a5949a37b06ad98a

Merge pull request #660 from plone/thet-alertdesign

Structure pattern: Alert design

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/app.js
M mockup/patterns/structure/templates/table.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 1702780..397332a 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -30,6 +30,9 @@ New:
   - For columns with date fields, show an empty column if the date value is 'None'.
   - Remove the checkbox and the actionmenu from the breadcrumbs bar for the current active folder to simplify the structure pattern.
     The actionmenu contained redundant actions (cut, copy, paste) and selecting the current folder is possible one level up.
+  - Don't show empty alerts with ``alert-warning`` CSS class.
+    Show them transparent but in the same height as if they were not empty.
+    Align HTML structue with bootstrap ones and use ``<strong>`` for alert labels.
 
   [thet]
 
diff --git a/mockup/patterns/structure/js/views/app.js b/mockup/patterns/structure/js/views/app.js
index 4d05ace..c778f08 100644
--- a/mockup/patterns/structure/js/views/app.js
+++ b/mockup/patterns/structure/js/views/app.js
@@ -32,7 +32,7 @@ define([
   var AppView = BaseView.extend({
     tagName: 'div',
     status: {
-      type: 'warning',
+      type: 'none',
       text: '',
       label: ''
     },
@@ -455,7 +455,7 @@ define([
         // clear it
         this.status.text = '';
         this.status.label = '';
-        this.status.type = 'warning';
+        this.status.type = 'none';
       } else if (typeof(msg) === 'string') {
         this.status.text = msg;
         this.status.label = '';
@@ -471,7 +471,7 @@ define([
       $status[0].className = 'alert alert-' + this.status.type + ' status';
       var $text = $('<span></span>');
       $text.text(this.status.text);
-      var $label = $('<b></b>');
+      var $label = $('<strong></strong>');
       $label.text(this.status.label);
       $status.empty().append($label).append($text);
     },
diff --git a/mockup/patterns/structure/templates/table.xml b/mockup/patterns/structure/templates/table.xml
index da2f17f..07ff3d2 100644
--- a/mockup/patterns/structure/templates/table.xml
+++ b/mockup/patterns/structure/templates/table.xml
@@ -1,6 +1,6 @@
 <div class="alert alert-<%- status.type %> status">
-  <b><%- status.label %></b>
-  <%- status.text %>
+  <strong><%- status.label %></strong>
+  <span><%- status.text %></span>&nbsp;<% // &nbsp; to get correct height for empty alerts %>
 </div>
 
 <table class="table table-striped table-bordered">


