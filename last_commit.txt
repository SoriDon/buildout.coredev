Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2016-12-22T16:52:14+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.Archetypes/commit/3326491b3b50cf9d73ef59dc391ef2fba0978dad

fix randomly failing test in test_referenceable

Files changed:
M CHANGES.rst
M Products/Archetypes/tests/test_referenceable.py

diff --git a/CHANGES.rst b/CHANGES.rst
index bee0eaf..37eb39e 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -21,6 +21,9 @@ Bug fixes:
   Needed to work with latest zope.i18nmessageid 4.0.3 release (and later).
   [jensens]
 
+- fix randomly failing test in ``test_referenceable``.
+  [jensens]
+
 1.12 (2016-12-06)
 -----------------
 
diff --git a/Products/Archetypes/tests/test_referenceable.py b/Products/Archetypes/tests/test_referenceable.py
index 10dbc48..5d4048d 100644
--- a/Products/Archetypes/tests/test_referenceable.py
+++ b/Products/Archetypes/tests/test_referenceable.py
@@ -615,7 +615,7 @@ def test_copyKeepsReferences(self):
         self.assertEqual(a.getRefs(), [b])
         # Original non-copied object should point to both the original and the
         # copied object
-        self.assertEqual(b.getBRefs(), [a, copy_a])
+        self.assertEqual(sorted(b.getBRefs()), sorted([a, copy_a]))
 
     def test_copyPasteSupport(self):
         # copy/paste behaviour test


