Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-04-26T08:24:24+02:00
Author: Markus Hilbert (iham) <markus.hilbert@iham.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/27c014e974c67d0cdbfbab6eb073aeb9f0227cdc

Make navigation (CatalogNavigationTabs) subclassing easier.

Files changed:
A news/2849.bugfix
M Products/CMFPlone/browser/navigation.py

b'diff --git a/Products/CMFPlone/browser/navigation.py b/Products/CMFPlone/browser/navigation.py\nindex 895830322..c05a4f1cb 100644\n--- a/Products/CMFPlone/browser/navigation.py\n+++ b/Products/CMFPlone/browser/navigation.py\n@@ -134,6 +134,7 @@ def topLevelTabs(self, actions=None, category=\'portal_tabs\'):\n         for actionInfo in actions:\n             data = actionInfo.copy()\n             data[\'name\'] = data[\'title\']\n+            self.customize_entry(data)\n             result.append(data)\n \n         # check whether we only want actions\n@@ -164,10 +165,14 @@ def _get_url(item):\n                 \'description\': item.Description,\n                 \'review_state\': item.review_state\n             }\n+            self.customize_entry(data, item)\n             result.append(data)\n \n         return result\n \n+    def customize_entry(self, entry, brain=None):\n+        """a little helper to enlarge customizability."""\n+        pass\n \n @implementer(INavigationBreadcrumbs)\n class CatalogNavigationBreadcrumbs(BrowserView):\ndiff --git a/news/2849.bugfix b/news/2849.bugfix\nnew file mode 100644\nindex 000000000..e08460d4a\n--- /dev/null\n+++ b/news/2849.bugfix\n@@ -0,0 +1 @@\n+Make navigation (CatalogNavigationTabs) subclassing easier. [iham]\n\\ No newline at end of file\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-04-26T11:37:47+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/a43b250126980b2f5e2a011a578ca7f0d783b600

Merge pull request #2850 from plone/issue_2849

Make navigation (CatalogNavigationTabs) subclassing easier.

Files changed:
A news/2849.bugfix
M Products/CMFPlone/browser/navigation.py

b'diff --git a/Products/CMFPlone/browser/navigation.py b/Products/CMFPlone/browser/navigation.py\nindex 895830322..c05a4f1cb 100644\n--- a/Products/CMFPlone/browser/navigation.py\n+++ b/Products/CMFPlone/browser/navigation.py\n@@ -134,6 +134,7 @@ def topLevelTabs(self, actions=None, category=\'portal_tabs\'):\n         for actionInfo in actions:\n             data = actionInfo.copy()\n             data[\'name\'] = data[\'title\']\n+            self.customize_entry(data)\n             result.append(data)\n \n         # check whether we only want actions\n@@ -164,10 +165,14 @@ def _get_url(item):\n                 \'description\': item.Description,\n                 \'review_state\': item.review_state\n             }\n+            self.customize_entry(data, item)\n             result.append(data)\n \n         return result\n \n+    def customize_entry(self, entry, brain=None):\n+        """a little helper to enlarge customizability."""\n+        pass\n \n @implementer(INavigationBreadcrumbs)\n class CatalogNavigationBreadcrumbs(BrowserView):\ndiff --git a/news/2849.bugfix b/news/2849.bugfix\nnew file mode 100644\nindex 000000000..e08460d4a\n--- /dev/null\n+++ b/news/2849.bugfix\n@@ -0,0 +1 @@\n+Make navigation (CatalogNavigationTabs) subclassing easier. [iham]\n\\ No newline at end of file\n'

