Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-08-18T23:11:23+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.restapi/commit/77af616adede6b4b2cadc876ef1d8d8af8c9640e

Updated tests to not fail when the Plone Site root is dexterity. (#1202)

This is what is left over from https://github.com/plone/plone.restapi/pull/1200

Files changed:
A news/2454.bugfix
M src/plone/restapi/tests/test_services_controlpanel_dexterity_types.py

b'diff --git a/news/2454.bugfix b/news/2454.bugfix\nnew file mode 100644\nindex 000000000..a0404f599\n--- /dev/null\n+++ b/news/2454.bugfix\n@@ -0,0 +1,2 @@\n+Updated tests to not fail when the Plone Site root is dexterity.\n+[jaroel]\n\\ No newline at end of file\ndiff --git a/src/plone/restapi/tests/test_services_controlpanel_dexterity_types.py b/src/plone/restapi/tests/test_services_controlpanel_dexterity_types.py\nindex 30aba77c2..4e2ca1a05 100644\n--- a/src/plone/restapi/tests/test_services_controlpanel_dexterity_types.py\n+++ b/src/plone/restapi/tests/test_services_controlpanel_dexterity_types.py\n@@ -45,6 +45,7 @@ def test_controlpanels_dexterity_types_get(self):\n                 for x in self.api_session.get("/@controlpanels/dexterity-types")\n                 .json()\n                 .get("items")\n+                if x.get("id") != "Plone Site"\n             ],\n         )\n \n@@ -115,5 +116,6 @@ def test_controlpanels_dexterity_types_document_delete(self):\n                 for x in self.api_session.get("/@controlpanels/dexterity-types")\n                 .json()\n                 .get("items")\n+                if x.get("id") != "Plone Site"\n             ],\n         )\n'

