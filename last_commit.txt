Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2021-11-19T16:04:05-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/cbf4633cd43960319cc65164bb818107cf8265a3

Fix random failure in test_querystring.robot

Wait for the input to be visible, before trying to put a value on it.

This fixes the error:

Element with locator 'jquery=.select2-drop-active[style*="display:
block;"] input' not found.

Files changed:
M Products/CMFPlone/tests/robot/test_querystring.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot\nindex be0c349ce6..cfc96d3d86 100644\n--- a/Products/CMFPlone/tests/robot/test_querystring.robot\n+++ b/Products/CMFPlone/tests/robot/test_querystring.robot\n@@ -321,7 +321,9 @@ open the select box titled ${NAME}\n     Click Element  css=.querystring-criteria-${NAME} .select2-container a\n \n select index type ${INDEX}\n-    Input Text  jquery=.select2-drop-active[style*="display: block;"] input   text=${INDEX}\n+    ${input_selector}  Set Variable  .select2-drop-active[style*="display: block;"] input\n+    Wait Until Element Is Visible  jquery=${input_selector}\n+    Input Text  jquery=${input_selector}   text=${INDEX}\n     Press Key  jquery=:focus  \\\\13\n \n we expect ${NUM} hits\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2021-11-20T10:57:43+01:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/Products.CMFPlone/commit/d9b0fe6e6acb6e2d4d0a4ac6ddf97b473d0d01a1

Merge pull request #3362 from plone/querystring_robot

Fix random failure in test_querystring.robot

Files changed:
M Products/CMFPlone/tests/robot/test_querystring.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot\nindex be0c349ce6..cfc96d3d86 100644\n--- a/Products/CMFPlone/tests/robot/test_querystring.robot\n+++ b/Products/CMFPlone/tests/robot/test_querystring.robot\n@@ -321,7 +321,9 @@ open the select box titled ${NAME}\n     Click Element  css=.querystring-criteria-${NAME} .select2-container a\n \n select index type ${INDEX}\n-    Input Text  jquery=.select2-drop-active[style*="display: block;"] input   text=${INDEX}\n+    ${input_selector}  Set Variable  .select2-drop-active[style*="display: block;"] input\n+    Wait Until Element Is Visible  jquery=${input_selector}\n+    Input Text  jquery=${input_selector}   text=${INDEX}\n     Press Key  jquery=:focus  \\\\13\n \n we expect ${NUM} hits\n'

