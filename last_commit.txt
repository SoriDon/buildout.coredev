Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2018-01-31T15:45:28+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/ed4f3fa4cd7a36cf118ff67293d1e0a9428970ad

Register the ``ExceptionView`` for the unspecific ``zope.interface.Interface`` for easier overloading.
Fixes a problem, where plone.rest couldn't overload the ExceptionView with an adapter bound to ``plone.rest.interfaces.IAPIRequest``.

Files changed:
M CHANGES.rst
M Products/CMFPlone/browser/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index 274a082a7..5bc5dbd88 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -35,6 +35,10 @@ New Features:
 
 Bug Fixes:
 
+- Register the ``ExceptionView`` for the unspecific ``zope.interface.Interface`` for easier overloading.
+  Fixes a problem, where plone.rest couldn't overload the ExceptionView with an adapter bound to ``plone.rest.interfaces.IAPIRequest``.
+  [thet]
+
 - Fixed linkintegrity robot tests.  [maurits]
 
 - Fixed flaky actions controlpanel tests by waiting longer.  [maurits]
diff --git a/Products/CMFPlone/browser/configure.zcml b/Products/CMFPlone/browser/configure.zcml
index de4ced57f..2383aae72 100644
--- a/Products/CMFPlone/browser/configure.zcml
+++ b/Products/CMFPlone/browser/configure.zcml
@@ -283,6 +283,7 @@
       class=".exceptions.ExceptionView"
       template="templates/error_message.pt"
       permission="zope.Public"
+      layer="zope.interface.Interface"
       />
 
 </configure>


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2018-01-31T15:46:28+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/f1d4305c03e88004d36dfddf86d3dd1a58807fad

Merge pull request #2282 from plone/thet-exceptionview

 Register the ``ExceptionView`` for the unspecific ``zope.interface.Interface`` for easier overloading.

Files changed:
M CHANGES.rst
M Products/CMFPlone/browser/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index 274a082a7..5bc5dbd88 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -35,6 +35,10 @@ New Features:
 
 Bug Fixes:
 
+- Register the ``ExceptionView`` for the unspecific ``zope.interface.Interface`` for easier overloading.
+  Fixes a problem, where plone.rest couldn't overload the ExceptionView with an adapter bound to ``plone.rest.interfaces.IAPIRequest``.
+  [thet]
+
 - Fixed linkintegrity robot tests.  [maurits]
 
 - Fixed flaky actions controlpanel tests by waiting longer.  [maurits]
diff --git a/Products/CMFPlone/browser/configure.zcml b/Products/CMFPlone/browser/configure.zcml
index de4ced57f..2383aae72 100644
--- a/Products/CMFPlone/browser/configure.zcml
+++ b/Products/CMFPlone/browser/configure.zcml
@@ -283,6 +283,7 @@
       class=".exceptions.ExceptionView"
       template="templates/error_message.pt"
       permission="zope.Public"
+      layer="zope.interface.Interface"
       />
 
 </configure>


