Repository: mockup


Branch: refs/heads/master
Date: 2022-07-15T09:02:43+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/mockup/commit/984a9a6fde0720c0220fb153d35834e999035a51

fix(pat relateditems): Make templates customizeable again via patternoptions

Files changed:
M src/pat/relateditems/relateditems.js

b'diff --git a/src/pat/relateditems/relateditems.js b/src/pat/relateditems/relateditems.js\nindex 3f1ea10c0..dfa31a3dd 100644\n--- a/src/pat/relateditems/relateditems.js\n+++ b/src/pat/relateditems/relateditems.js\n@@ -96,11 +96,13 @@ export default Base.extend({\n         var template;\n         if (self.options[tpl + "TemplateSelector"]) {\n             template = $(self.options[tpl + "TemplateSelector"]).html();\n-            if (!template) {\n+        }\n+        if (!template) {\n+            if(self.options[tpl + "Template"]) {\n+                template = self.options[tpl + "Template"];\n+            } else {\n                 template = self[tpl + "Template"];\n             }\n-        } else {\n-            template = self[tpl + "Template"];\n         }\n         // let\'s give all the options possible to the template generation\n         var options = $.extend(true, {}, self.options, item, {\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-07-18T07:34:04+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/mockup/commit/7116abe74ea794ec23bde03872a2a452840f938f

Merge pull request #1195 from plone/petschki-relateditems-customize-templates

Make `pat-relateditems`templates customizeable again via patternoptions

Files changed:
M src/pat/relateditems/relateditems.js

b'diff --git a/src/pat/relateditems/relateditems.js b/src/pat/relateditems/relateditems.js\nindex 3f1ea10c0..dfa31a3dd 100644\n--- a/src/pat/relateditems/relateditems.js\n+++ b/src/pat/relateditems/relateditems.js\n@@ -96,11 +96,13 @@ export default Base.extend({\n         var template;\n         if (self.options[tpl + "TemplateSelector"]) {\n             template = $(self.options[tpl + "TemplateSelector"]).html();\n-            if (!template) {\n+        }\n+        if (!template) {\n+            if(self.options[tpl + "Template"]) {\n+                template = self.options[tpl + "Template"];\n+            } else {\n                 template = self[tpl + "Template"];\n             }\n-        } else {\n-            template = self[tpl + "Template"];\n         }\n         // let\'s give all the options possible to the template generation\n         var options = $.extend(true, {}, self.options, item, {\n'

