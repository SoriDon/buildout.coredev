Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2023-03-19T22:23:55+05:30
Author: Aadarsh Nagrath (Coder-aadarsh) <anagrath1@gmail.com>
Commit: https://github.com/plone/plone.app.discussion/commit/58fc40ebd16cd1102770da6a243f508db85ca018

 Added a Missing HTML id for the comments section

Files changed:
A news/72.bugfix.rst
M plone/app/discussion/browser/comments.pt

b'diff --git a/news/72.bugfix.rst b/news/72.bugfix.rst\nnew file mode 100644\nindex 00000000..3e990702\n--- /dev/null\n+++ b/news/72.bugfix.rst\n@@ -0,0 +1,8 @@\n+4.0.1 (2023-03-19)\n+------------------\n+\n+Bug fixes:\n+\n+\n+- Added a Missing HTML id for the comments section [Coder-aadarsh] (#72)\n+//id attribute with the value "comments" to the div tag will make it possible to directly link to the comments section of a Plone document using the URL of the document followed by "#comments".\n\\ No newline at end of file\ndiff --git a/plone/app/discussion/browser/comments.pt b/plone/app/discussion/browser/comments.pt\nindex ab5c9e2c..bcc409cd 100644\n--- a/plone/app/discussion/browser/comments.pt\n+++ b/plone/app/discussion/browser/comments.pt\n@@ -43,7 +43,9 @@\n                              colorclass python:lambda x: \'state-private\' if x==\'rejected\' else (\'state-internal\' if x==\'spam\' else \'state-\'+x);"\n                     tal:attributes="class python:\'comment level-{depth} {state}\'.format(depth= depth, state=colorclass(review_state));\n                                  id comment_id"\n-                    tal:condition="python:canReview or review_state == \'published\'">\n+                    tal:condition="python:canReview or review_state == \'published\'or has_replies"\n+                    tal:attributes-missing="skip"\n+                    id="comments">\n \n                     <div class="d-flex flex-row align-items-center mb-3">\n \n'

