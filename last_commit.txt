Repository: plone.app.content


Branch: refs/heads/master
Date: 2022-06-03T08:07:57+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/9620d1389e883fd1500bc72833cd1d28df94dc92

folder_contents popover BS5 styling

Files changed:
M plone/app/content/browser/contents/templates/properties.pt
M plone/app/content/browser/contents/templates/rename.pt
M plone/app/content/browser/contents/templates/tags.pt
M plone/app/content/browser/contents/templates/workflow.pt

b'diff --git a/plone/app/content/browser/contents/templates/properties.pt b/plone/app/content/browser/contents/templates/properties.pt\nindex 2c4bde9..3da061f 100644\n--- a/plone/app/content/browser/contents/templates/properties.pt\n+++ b/plone/app/content/browser/contents/templates/properties.pt\n@@ -1,65 +1,63 @@\n <div i18n:domain="plone">\n \n-  <div class="form-group">\n-    <label i18n:translate="publiciation_date">Publication Date</label>\n-    <input class="form-control pat-date-picker" name="effectiveDate" tal:attributes="data-pat-date-picker options/pattern_options"/>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="publiciation_date">Publication Date</label>\n+    <input class="form-control" name="effectiveDate" type="datetime-local" />\n   </div>\n \n-  <div class="form-group">\n-    <label i18n:translate="expiration_date">Expiration Date</label>\n-    <input class="form-control pat-date-picker" name="expirationDate" tal:attributes="data-pat-date-picker options/pattern_options"/>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="expiration_date">Expiration Date</label>\n+    <input class="form-control" name="expirationDate" type="datetime-local" />\n   </div>\n \n-  <div class="form-group">\n-    <label i18n:translate="copyright">Copyright</label>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="copyright">Copyright</label>\n     <textarea class="form-control" name="copyright"></textarea>\n   </div>\n \n-  <label i18n:translate="creators">Creators</label>\n-  <div class="form-group">\n-    <input name="creators" style="width: 300px"\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="creators">Creators</label>\n+    <input name="creators" class="form-control"\n            class="pat-select2"\n            data-pat-select2="multiple: true;\n                              vocabularyUrl: ${python: options[\'vocabulary_url\']}"/>\n   </div>\n \n-  <label i18n:translate="contributors">Contributors</label>\n-  <div class="form-group">\n-    <input name="contributors" style="width: 300px"\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="contributors">Contributors</label>\n+    <input name="contributors" class="form-control"\n            class="pat-select2"\n            data-pat-select2="multiple: true;\n                              vocabularyUrl: ${python: options[\'vocabulary_url\']}"/>\n   </div>\n \n-  <label i18n:translate="exclude_from_nav">Exclude from navigation</label>\n-  <div class="radio">\n-    <label>\n-      <input type="radio" name="exclude-from-nav" value="yes" />\n-      <span i18n:translate="yes">Yes</span>\n-    </label>\n-  </div>\n-  <div class="radio">\n-    <label>\n-      <input type="radio" name="exclude-from-nav" value="no" />\n-      <span i18n:translate="no">No</span>\n-    </label>\n+  <div class="mb-2">\n+    <label class="form-label" for="fcSwitchExcludeFromNav" i18n:translate="exclude_from_nav">Exclude from navigation</label>\n+    <div class="form-check">\n+      <input class="form-check-input" type="radio" name="exclude-from-nav" id="fcSwitchExcludeFromNavYes" value="yes">\n+      <label class="form-check-label" for="fcSwitchExcludeFromNavYes" i18n:translate="yes">Yes</label>\n+    </div>\n+    <div class="form-check">\n+      <input class="form-check-input" type="radio" name="exclude-from-nav" id="fcSwitchExcludeFromNavNo" value="no">\n+      <label class="form-check-label" for="fcSwitchExcludeFromNavNo" i18n:translate="no">No</label>\n+    </div>\n   </div>\n \n   <% if (data.languages) { %>\n-    <label i18n:translate="label_language">Language</label>\n-    <select class="form-control" name="language">\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="label_language">Language</label>\n+    <select class="form-select" name="language">\n       <% _.each(data.languages, function (lang) { %>\n         <option value="<%= lang.value %>"><%= lang.title %></option>\n       <% }); %>\n     </select>\n+  </div>\n   <% } %>\n \n-  <div class="checkbox">\n-    <label>\n-      <input type="checkbox" name="recurse" value="yes" />\n-      <span i18n:translate="label_include_contained_objects">Include contained items</span>\n-    </label>\n-    <p class="help-block" i18n:translate="help_include_contained_objects">\n+  <div class="form-check">\n+    <input class="form-check-input" type="checkbox" name="recurse" value="yes" id="fcCheckRecurse" />\n+    <label class="form-check-label" for="fcCheckRecurse" i18n:translate="label_include_contained_objects">Include contained items</label>\n+    <p class="form-text" i18n:translate="help_include_contained_objects">\n     If checked, this will attempt to modify the status of all content in any selected folders and their subfolders.\n     </p>\n   </div>\ndiff --git a/plone/app/content/browser/contents/templates/rename.pt b/plone/app/content/browser/contents/templates/rename.pt\nindex 9ae4f5d..5ddb075 100644\n--- a/plone/app/content/browser/contents/templates/rename.pt\n+++ b/plone/app/content/browser/contents/templates/rename.pt\n@@ -1,12 +1,15 @@\n-<div class="itemstoremove" i18n:domain="plone">\n+<div class="itemstoremove row row-cols-1" i18n:domain="plone">\n <% _.each(items, function(item, index) { %>\n-  <div class="item">\n+  <div class="mb-3 pb-3 <% if (items.length > 1){%>border-bottom<% } %>">\n+    <input name="UID_<%= index %>" type="hidden" value="<%- item.UID %>" />\n \n-    <div class="form-group">\n-      <input name="UID_<%= index %>" type="hidden" value="<%- item.UID %>" />\n-      <label i18n:translate="label_title">Title</label>\n+    <div class="mb-2">\n+      <label class="form-label" i18n:translate="label_title">Title</label>\n       <input class="form-control" name="newtitle_<%= index %>" value="<%= item.Title %>" />\n-      <label i18n:translate="label_short_name">Short name</label>\n+    </div>\n+\n+    <div class="mb-2">\n+      <label class="form-label" i18n:translate="label_short_name">Short name</label>\n       <input class="form-control" name="newid_<%= index %>" value="<%= item.id %>" />\n     </div>\n \ndiff --git a/plone/app/content/browser/contents/templates/tags.pt b/plone/app/content/browser/contents/templates/tags.pt\nindex 6c7538e..bfe33a4 100644\n--- a/plone/app/content/browser/contents/templates/tags.pt\n+++ b/plone/app/content/browser/contents/templates/tags.pt\n@@ -1,7 +1,7 @@\n <div i18n:domain="plone">\n-  <label i18n:translate="tags_to_remove">Tags to remove</label>\n-  <div class="form-group">\n-    <select multiple class="toremove pat-select2" name="toremove" style="width: 300px">\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="tags_to_remove">Tags to remove</label>\n+    <select multiple class="toremove pat-select2" name="toremove" style="width:100%">\n       <% var tags = [];\n       _.each(items, function(item, index) {\n         _.each(item.Subject, function(tag) {\n@@ -14,9 +14,11 @@\n       }); %>\n     </select>\n   </div>\n-  <label i18n:translate="tags_to_add">Tags to add</label>\n-  <div class="form-group">\n-    <input class="toadd pat-select2" style="width:300px" name="toadd"\n+\n+  <div>\n+    <label class="form-label" i18n:translate="tags_to_add">Tags to add</label>\n+    <input class="toadd pat-select2" name="toadd" style="width:100%"\n            data-pat-select2="multiple: true; vocabularyUrl: ${python: options[\'vocabulary_url\']}"/>\n+\n   </div>\n-</div>\n\\ No newline at end of file\n+</div>\ndiff --git a/plone/app/content/browser/contents/templates/workflow.pt b/plone/app/content/browser/contents/templates/workflow.pt\nindex b6c4b10..e9a32cd 100644\n--- a/plone/app/content/browser/contents/templates/workflow.pt\n+++ b/plone/app/content/browser/contents/templates/workflow.pt\n@@ -1,12 +1,12 @@\n <fieldset i18n:domain="plone">\n-  <div class="form-group">\n-    <label i18n:translate="label_comments">Comments</label>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="label_comments">Comments</label>\n     <textarea class="form-control" rows="2" name="comments"></textarea>\n   </div>\n-  <div class="form-group">\n-    <label i18n:translate="label_change_status">Change State</label>\n-    <p class="help-block" i18n:translate="help_change_status_action">Select the transition to be used for modifying the items state.</p>\n-    <select class="form-control" name="transition">\n+\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="label_change_status">Change State</label>\n+    <select class="form-select" name="transition">\n       <% if(data.transitions){\n         _.each(data.transitions, function(transition){\n           %><option value="<%= transition.id %>"><%= transition.title %></option>\n@@ -14,14 +14,13 @@\n         });\n       } %>\n     </select>\n+    <p class="form-text" i18n:translate="help_change_status_action">Select the transition to be used for modifying the items state.</p>\n   </div>\n-  <div class="checkbox">\n-    <label>\n-      <input type="checkbox" name="recurse" value="yes" />\n-      <span i18n:translate="label_include_contained_objects">Include contained items</span>\n-    </label>\n-    <p class="help-block" i18n:translate="help_include_contained_objects">\n+  <div class="form-check">\n+    <input class="form-check-input" type="checkbox" name="recurse" value="yes" id="fcWorkflowRecurse" />\n+    <label class="form-check-label" for="fcWorkflowRecurse" i18n:translate="label_include_contained_objects">Include contained items</label>\n+    <p class="form-text" i18n:translate="help_include_contained_objects">\n     If checked, this will attempt to modify the status of all content in any selected folders and their subfolders.\n     </p>\n   </div>\n-</fieldset>\n\\ No newline at end of file\n+</fieldset>\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2022-06-03T08:07:57+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/71edd83f141118d1cddf72d7300031f58b4b7792

add changelog

Files changed:
A news/248.bugfix

b'diff --git a/news/248.bugfix b/news/248.bugfix\nnew file mode 100644\nindex 00000000..9ddcba14\n--- /dev/null\n+++ b/news/248.bugfix\n@@ -0,0 +1,2 @@\n+folder_contents popover BS5 styling\n+[petschki]\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2022-06-03T08:08:44+02:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.content/commit/4a5bfb01444a5d24e11593ea6d3205b889d17b0a

Merge pull request #248 from plone/classic-ui-styles

folder_contents popover BS5 styling

Files changed:
A news/248.bugfix
M plone/app/content/browser/contents/templates/properties.pt
M plone/app/content/browser/contents/templates/rename.pt
M plone/app/content/browser/contents/templates/tags.pt
M plone/app/content/browser/contents/templates/workflow.pt

b'diff --git a/news/248.bugfix b/news/248.bugfix\nnew file mode 100644\nindex 00000000..9ddcba14\n--- /dev/null\n+++ b/news/248.bugfix\n@@ -0,0 +1,2 @@\n+folder_contents popover BS5 styling\n+[petschki]\ndiff --git a/plone/app/content/browser/contents/templates/properties.pt b/plone/app/content/browser/contents/templates/properties.pt\nindex 2c4bde93..3da061fb 100644\n--- a/plone/app/content/browser/contents/templates/properties.pt\n+++ b/plone/app/content/browser/contents/templates/properties.pt\n@@ -1,65 +1,63 @@\n <div i18n:domain="plone">\n \n-  <div class="form-group">\n-    <label i18n:translate="publiciation_date">Publication Date</label>\n-    <input class="form-control pat-date-picker" name="effectiveDate" tal:attributes="data-pat-date-picker options/pattern_options"/>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="publiciation_date">Publication Date</label>\n+    <input class="form-control" name="effectiveDate" type="datetime-local" />\n   </div>\n \n-  <div class="form-group">\n-    <label i18n:translate="expiration_date">Expiration Date</label>\n-    <input class="form-control pat-date-picker" name="expirationDate" tal:attributes="data-pat-date-picker options/pattern_options"/>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="expiration_date">Expiration Date</label>\n+    <input class="form-control" name="expirationDate" type="datetime-local" />\n   </div>\n \n-  <div class="form-group">\n-    <label i18n:translate="copyright">Copyright</label>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="copyright">Copyright</label>\n     <textarea class="form-control" name="copyright"></textarea>\n   </div>\n \n-  <label i18n:translate="creators">Creators</label>\n-  <div class="form-group">\n-    <input name="creators" style="width: 300px"\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="creators">Creators</label>\n+    <input name="creators" class="form-control"\n            class="pat-select2"\n            data-pat-select2="multiple: true;\n                              vocabularyUrl: ${python: options[\'vocabulary_url\']}"/>\n   </div>\n \n-  <label i18n:translate="contributors">Contributors</label>\n-  <div class="form-group">\n-    <input name="contributors" style="width: 300px"\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="contributors">Contributors</label>\n+    <input name="contributors" class="form-control"\n            class="pat-select2"\n            data-pat-select2="multiple: true;\n                              vocabularyUrl: ${python: options[\'vocabulary_url\']}"/>\n   </div>\n \n-  <label i18n:translate="exclude_from_nav">Exclude from navigation</label>\n-  <div class="radio">\n-    <label>\n-      <input type="radio" name="exclude-from-nav" value="yes" />\n-      <span i18n:translate="yes">Yes</span>\n-    </label>\n-  </div>\n-  <div class="radio">\n-    <label>\n-      <input type="radio" name="exclude-from-nav" value="no" />\n-      <span i18n:translate="no">No</span>\n-    </label>\n+  <div class="mb-2">\n+    <label class="form-label" for="fcSwitchExcludeFromNav" i18n:translate="exclude_from_nav">Exclude from navigation</label>\n+    <div class="form-check">\n+      <input class="form-check-input" type="radio" name="exclude-from-nav" id="fcSwitchExcludeFromNavYes" value="yes">\n+      <label class="form-check-label" for="fcSwitchExcludeFromNavYes" i18n:translate="yes">Yes</label>\n+    </div>\n+    <div class="form-check">\n+      <input class="form-check-input" type="radio" name="exclude-from-nav" id="fcSwitchExcludeFromNavNo" value="no">\n+      <label class="form-check-label" for="fcSwitchExcludeFromNavNo" i18n:translate="no">No</label>\n+    </div>\n   </div>\n \n   <% if (data.languages) { %>\n-    <label i18n:translate="label_language">Language</label>\n-    <select class="form-control" name="language">\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="label_language">Language</label>\n+    <select class="form-select" name="language">\n       <% _.each(data.languages, function (lang) { %>\n         <option value="<%= lang.value %>"><%= lang.title %></option>\n       <% }); %>\n     </select>\n+  </div>\n   <% } %>\n \n-  <div class="checkbox">\n-    <label>\n-      <input type="checkbox" name="recurse" value="yes" />\n-      <span i18n:translate="label_include_contained_objects">Include contained items</span>\n-    </label>\n-    <p class="help-block" i18n:translate="help_include_contained_objects">\n+  <div class="form-check">\n+    <input class="form-check-input" type="checkbox" name="recurse" value="yes" id="fcCheckRecurse" />\n+    <label class="form-check-label" for="fcCheckRecurse" i18n:translate="label_include_contained_objects">Include contained items</label>\n+    <p class="form-text" i18n:translate="help_include_contained_objects">\n     If checked, this will attempt to modify the status of all content in any selected folders and their subfolders.\n     </p>\n   </div>\ndiff --git a/plone/app/content/browser/contents/templates/rename.pt b/plone/app/content/browser/contents/templates/rename.pt\nindex 9ae4f5d8..5ddb0751 100644\n--- a/plone/app/content/browser/contents/templates/rename.pt\n+++ b/plone/app/content/browser/contents/templates/rename.pt\n@@ -1,12 +1,15 @@\n-<div class="itemstoremove" i18n:domain="plone">\n+<div class="itemstoremove row row-cols-1" i18n:domain="plone">\n <% _.each(items, function(item, index) { %>\n-  <div class="item">\n+  <div class="mb-3 pb-3 <% if (items.length > 1){%>border-bottom<% } %>">\n+    <input name="UID_<%= index %>" type="hidden" value="<%- item.UID %>" />\n \n-    <div class="form-group">\n-      <input name="UID_<%= index %>" type="hidden" value="<%- item.UID %>" />\n-      <label i18n:translate="label_title">Title</label>\n+    <div class="mb-2">\n+      <label class="form-label" i18n:translate="label_title">Title</label>\n       <input class="form-control" name="newtitle_<%= index %>" value="<%= item.Title %>" />\n-      <label i18n:translate="label_short_name">Short name</label>\n+    </div>\n+\n+    <div class="mb-2">\n+      <label class="form-label" i18n:translate="label_short_name">Short name</label>\n       <input class="form-control" name="newid_<%= index %>" value="<%= item.id %>" />\n     </div>\n \ndiff --git a/plone/app/content/browser/contents/templates/tags.pt b/plone/app/content/browser/contents/templates/tags.pt\nindex 6c7538e4..bfe33a4c 100644\n--- a/plone/app/content/browser/contents/templates/tags.pt\n+++ b/plone/app/content/browser/contents/templates/tags.pt\n@@ -1,7 +1,7 @@\n <div i18n:domain="plone">\n-  <label i18n:translate="tags_to_remove">Tags to remove</label>\n-  <div class="form-group">\n-    <select multiple class="toremove pat-select2" name="toremove" style="width: 300px">\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="tags_to_remove">Tags to remove</label>\n+    <select multiple class="toremove pat-select2" name="toremove" style="width:100%">\n       <% var tags = [];\n       _.each(items, function(item, index) {\n         _.each(item.Subject, function(tag) {\n@@ -14,9 +14,11 @@\n       }); %>\n     </select>\n   </div>\n-  <label i18n:translate="tags_to_add">Tags to add</label>\n-  <div class="form-group">\n-    <input class="toadd pat-select2" style="width:300px" name="toadd"\n+\n+  <div>\n+    <label class="form-label" i18n:translate="tags_to_add">Tags to add</label>\n+    <input class="toadd pat-select2" name="toadd" style="width:100%"\n            data-pat-select2="multiple: true; vocabularyUrl: ${python: options[\'vocabulary_url\']}"/>\n+\n   </div>\n-</div>\n\\ No newline at end of file\n+</div>\ndiff --git a/plone/app/content/browser/contents/templates/workflow.pt b/plone/app/content/browser/contents/templates/workflow.pt\nindex b6c4b10e..e9a32cd6 100644\n--- a/plone/app/content/browser/contents/templates/workflow.pt\n+++ b/plone/app/content/browser/contents/templates/workflow.pt\n@@ -1,12 +1,12 @@\n <fieldset i18n:domain="plone">\n-  <div class="form-group">\n-    <label i18n:translate="label_comments">Comments</label>\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="label_comments">Comments</label>\n     <textarea class="form-control" rows="2" name="comments"></textarea>\n   </div>\n-  <div class="form-group">\n-    <label i18n:translate="label_change_status">Change State</label>\n-    <p class="help-block" i18n:translate="help_change_status_action">Select the transition to be used for modifying the items state.</p>\n-    <select class="form-control" name="transition">\n+\n+  <div class="mb-2">\n+    <label class="form-label" i18n:translate="label_change_status">Change State</label>\n+    <select class="form-select" name="transition">\n       <% if(data.transitions){\n         _.each(data.transitions, function(transition){\n           %><option value="<%= transition.id %>"><%= transition.title %></option>\n@@ -14,14 +14,13 @@\n         });\n       } %>\n     </select>\n+    <p class="form-text" i18n:translate="help_change_status_action">Select the transition to be used for modifying the items state.</p>\n   </div>\n-  <div class="checkbox">\n-    <label>\n-      <input type="checkbox" name="recurse" value="yes" />\n-      <span i18n:translate="label_include_contained_objects">Include contained items</span>\n-    </label>\n-    <p class="help-block" i18n:translate="help_include_contained_objects">\n+  <div class="form-check">\n+    <input class="form-check-input" type="checkbox" name="recurse" value="yes" id="fcWorkflowRecurse" />\n+    <label class="form-check-label" for="fcWorkflowRecurse" i18n:translate="label_include_contained_objects">Include contained items</label>\n+    <p class="form-text" i18n:translate="help_include_contained_objects">\n     If checked, this will attempt to modify the status of all content in any selected folders and their subfolders.\n     </p>\n   </div>\n-</fieldset>\n\\ No newline at end of file\n+</fieldset>\n'

