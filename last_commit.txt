Repository: mockup


Branch: refs/heads/master
Date: 2022-07-11T18:32:41+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/93ddfd7fb5fd3efd35ba0e22f5300eb9f33b1393

feat(i18n): Add i18n script for gettext extraction and document the use of it.

Files changed:
A src/i18n.js
M README.md
M package.json

b'diff --git a/README.md b/README.md\nindex e055f9c3e..68a839395 100644\n--- a/README.md\n+++ b/README.md\n@@ -180,3 +180,45 @@ https://www.npmjs.com/package/webpack-bundle-analyzer\n ```\n npx webpack-bundle-analyzer stats.json\n ```\n+\n+\n+## i18n message extraction\n+\n+To update the translation file, the following needs to be done:\n+\n+1. Extract the messages from this package:\n+\n+```\n+npx yarn run i18n\n+```\n+\n+Or just ``npm run i18n``...\n+\n+2. Copy the widgets.pot file to plone.app.locales\n+\n+Assuming you are doing this from a buildout.coredev environment in the mockup folder:\n+```\n+cp widgets.pot ../plone.app.locales/plone/app/locales/locales/\n+```\n+\n+3. Run i18ndude to update the po files\n+\n+```\n+cd ../plone.app.locales/plone/app/locales/locales\n+i18ndude sync --pot widgets.pot */LC_MESSAGES/widgets.po\n+```\n+\n+## i18n message handling in Plone\n+\n+To test a translation, for example French:\n+\n+- Edit the po file ``src/plone.app.locales/plone/app/locales/locales/fr/LC_MESSAGES/widgets.po``.\n+\n+- Restart your instance to rebuild the mo file from the po file.\n+\n+- Purge your localStorage and refresh the page to trigger a new download of the translations.\n+\n+The translations are handled by ``src/core/i18n.js``.\n+This translation helper that calls the ``@@plonejsi18n`` view defined in plone.app.content to generate a JSON of the translations from the mo file.\n+The ``@@plonejsi18n`` view is called one time for a given domain and language and the result is cached in localStorage for 24 hours.\n+The only way to test the new translations is to restart the instance to update the mo file from the po file, and then to purge the localStorage to trigger a new download of the translations.\ndiff --git a/package.json b/package.json\nindex df7396306..eff76ace1 100644\n--- a/package.json\n+++ b/package.json\n@@ -75,7 +75,8 @@\n         "start:docs": "ELEVENTY_ENV=development npx @11ty/eleventy --serve --port 8001 --output docs/_site/",\n         "start": "npm-run-all clean --parallel start:*",\n         "test": "jest",\n-        "testwatch": "jest --watch"\n+        "testwatch": "jest --watch",\n+        "i18n": "node src/i18n.js"\n     },\n     "engines": {\n         "node": ">=12.20.0"\ndiff --git a/src/i18n.js b/src/i18n.js\nnew file mode 100644\nindex 000000000..bbc33cf03\n--- /dev/null\n+++ b/src/i18n.js\n@@ -0,0 +1,74 @@\n+const fs = require("fs");\n+\n+const extract = () => {\n+    let output = `# Gettext Message File for Plone mockup\n+msgid ""\n+msgstr ""\n+"Project-Id-Version: mockup\\\\n"\n+"Last-Translator: Plone i18n <plone-i18n@lists.sourceforge.net>\\\\n"\n+"Language-Team: Plone i18n <plone-i18n@lists.sourceforge.net>\\\\n"\n+"MIME-Version: 1.0\\\\n"\n+"Content-Type: text/plain; charset=utf-8\\\\n"\n+"Content-Transfer-Encoding: 8bit\\\\n"\n+"Plural-Forms: nplurals=1; plural=0;\\\\n"\n+"Language-Code: en\\\\n"\n+"Language-Name: English\\\\n"\n+"Preferred-Encodings: utf-8\\\\n"\n+"Domain: widgets\\\\n"\n+\n+`;\n+\n+    const okayFiles = ["xml", "js", "htm", "html"];\n+    const found = [];\n+    const checkFile = function (filepath) {\n+        const split = filepath.split(".");\n+        if (okayFiles.indexOf(split[split.length - 1]) === -1) {\n+            return;\n+        }\n+        console.log("reading file: " + filepath);\n+        const file = fs.readFileSync(filepath, { encoding: "utf-8" });\n+        const re = /_t\\((("[^"]+")|(\'[^\']+\'))(,\\W{.*})?\\)?\\)/g;\n+        let match = re.exec(file);\n+        while (match) {\n+            if (match) {\n+                re.lastIndex = Math.max(match.index + 1, re.lastIndex + 1);\n+                const val = match[1].replace(/[\'"]+/g, "");\n+                if (found.indexOf(val) === -1) {\n+                    output += `#: ${filepath}\n+msgid "${val}"\n+msgstr ""\n+\n+`;\n+                    found.push(val);\n+                }\n+                match = re.exec(file);\n+            }\n+        }\n+    };\n+    const checkDir = function (path) {\n+        console.log("Read folder: " + path);\n+        const files = fs.readdirSync(path);\n+        for (const filename of files) {\n+            if (\n+                filename === "__pycache__" ||\n+                filename === "build" ||\n+                filename === "coverage" ||\n+                filename === "less" ||\n+                filename === "node_modules" ||\n+                filename === "tests"\n+            ) {\n+                return;\n+            }\n+            const stats = fs.statSync(path + filename);\n+            if (stats.isDirectory()) {\n+                checkDir(path + filename + "/");\n+            } else {\n+                checkFile(path + filename);\n+            }\n+        }\n+    };\n+    checkDir("./src/");\n+    fs.writeFileSync("./widgets.pot", output);\n+};\n+\n+extract();\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-07-11T18:40:18+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/66e6358e48ac77a1c692a16dce151779ac55f8e9

fix(i18n): Translatable strings need to be in one line.

Files changed:
M src/pat/formunloadalert/formunloadalert.js
M src/pat/preventdoublesubmit/preventdoublesubmit.js
M src/pat/structure/js/views/rearrange.js
M src/pat/structure/js/views/table.js
M src/pat/structure/js/views/textfilter.js
M src/pat/tinymce/tinymce.js

b'diff --git a/src/pat/formunloadalert/formunloadalert.js b/src/pat/formunloadalert/formunloadalert.js\nindex 855a3b5d5..72d073da7 100644\n--- a/src/pat/formunloadalert/formunloadalert.js\n+++ b/src/pat/formunloadalert/formunloadalert.js\n@@ -9,10 +9,7 @@ export default Base.extend({\n     _changed: false, // Stores a listing of raised changes by their key\n     _suppressed: false, // whether or not warning should be suppressed\n     defaults: {\n-        message: _t(\n-            "Discard changes? If you click OK, " +\n-                "any changes you have made will be lost."\n-        ),\n+        message: _t("Discard changes? If you click OK, any changes you have made will be lost."), // prettier-ignore\n         // events on which to check for changes\n         changingEvents: "change keyup paste",\n         // fields on which to check for changes\ndiff --git a/src/pat/preventdoublesubmit/preventdoublesubmit.js b/src/pat/preventdoublesubmit/preventdoublesubmit.js\nindex 1329689fd..b7343ef73 100644\n--- a/src/pat/preventdoublesubmit/preventdoublesubmit.js\n+++ b/src/pat/preventdoublesubmit/preventdoublesubmit.js\n@@ -7,10 +7,7 @@ export default Base.extend({\n     trigger: ".pat-preventdoublesubmit",\n     parser: "mockup",\n     defaults: {\n-        message: _t(\n-            "You already clicked the submit button. " +\n-                "Do you really want to submit this form again?"\n-        ),\n+        message: _t("You already clicked the submit button. Do you really want to submit this form again?"), // prettier-ignore\n         guardClassName: "submitting",\n         optOutClassName: "allowMultiSubmit",\n     },\ndiff --git a/src/pat/structure/js/views/rearrange.js b/src/pat/structure/js/views/rearrange.js\nindex 4eb43fb05..732209dfe 100644\n--- a/src/pat/structure/js/views/rearrange.js\n+++ b/src/pat/structure/js/views/rearrange.js\n@@ -14,7 +14,7 @@ export default PopoverView.extend({\n             "<% }); %>" +\n             "</select>" +\n             \'<p class="help-block">\' +\n-            \'<b><%- _t("This permanently changes the order of items in this folder. This operation may take a long time depending on the size of the folder.") %></b>\' +\n+            \'<b><%- _t("This permanently changes the order of items in this folder. This operation may take a long time depending on the size of the folder.") %></b>\' + // prettier-ignore\n             "</p>" +\n             "</div>" +\n             \'<div class="form-check">\' +\n@@ -45,11 +45,7 @@ export default PopoverView.extend({\n         if (this.app.collection.getCurrentPath() === "/") {\n             if (\n                 !window.confirm(\n-                    _t(\n-                        "Sorting the content on the base of the site " +\n-                            "could affect your navigation order. " +\n-                            "Are you certain you want to do this?"\n-                    )\n+                    _t("Sorting the content on the base of the site could affect your navigation order. Are you certain you want to do this?") // prettier-ignore\n                 )\n             ) {\n                 return;\ndiff --git a/src/pat/structure/js/views/table.js b/src/pat/structure/js/views/table.js\nindex ccbb54948..d85967ac2 100644\n--- a/src/pat/structure/js/views/table.js\n+++ b/src/pat/structure/js/views/table.js\n@@ -196,9 +196,7 @@ export default BaseView.extend({\n                     });\n                 this.app.setStatus(\n                     {\n-                        text: _t(\n-                            "Notice: Drag and drop reordering is disabled when viewing the contents sorted by a column."\n-                        ),\n+                        text: _t("Notice: Drag and drop reordering is disabled when viewing the contents sorted by a column."), // prettier-ignore\n                         type: "warning",\n                     },\n                     btn,\ndiff --git a/src/pat/structure/js/views/textfilter.js b/src/pat/structure/js/views/textfilter.js\nindex 366b3121f..6362790a3 100644\n--- a/src/pat/structure/js/views/textfilter.js\n+++ b/src/pat/structure/js/views/textfilter.js\n@@ -36,9 +36,7 @@ export default BaseView.extend({\n             .text(_t("Clear"))\n             .on("click", () => this.clearFilter());\n \n-        const statusTextFilter = _t(\n-            "This listing has filters applied. Not all items are shown."\n-        );\n+        const statusTextFilter = _t("This listing has filters applied. Not all items are shown."); // prettier-ignore\n         this.app.setStatus(\n             {\n                 text: statusTextFilter,\n@@ -49,9 +47,7 @@ export default BaseView.extend({\n             this.statusKeyFilter\n         );\n \n-        const statusTextSorting = _t(\n-            "Drag and drop reordering is disabled while filters are applied."\n-        );\n+        const statusTextSorting = _t("Drag and drop reordering is disabled while filters are applied."); // prettier-ignore\n         this.app.setStatus(\n             {\n                 text: statusTextSorting,\ndiff --git a/src/pat/tinymce/tinymce.js b/src/pat/tinymce/tinymce.js\nindex 2cc62ff26..cea1ae193 100644\n--- a/src/pat/tinymce/tinymce.js\n+++ b/src/pat/tinymce/tinymce.js\n@@ -37,9 +37,7 @@ export default Base.extend({\n             title: _t("Title"),\n             internal: _t("Internal"),\n             external: _t("External"),\n-            externalText: _t(\n-                "External URL (can be relative within this site or absolute if it starts with http:// or https://)"\n-            ),\n+            externalText: _t("External URL (can be relative within this site or absolute if it starts with http:// or https://)"), // prettier-ignore\n             email: _t("Email Address"),\n             anchor: _t("Anchor"),\n             anchorLabel: _t("Select an anchor"),\n@@ -50,18 +48,12 @@ export default Base.extend({\n             enableImageZoom: _t("Enable image zoom"),\n             scale: _t("Size"),\n             alt: _t("Alternative Text"),\n-            insertImageHelp: _t(\n-                "Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image)."\n-            ),\n+            insertImageHelp: _t("Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image)."), // prettier-ignore\n             internalImage: _t("Internal Image"),\n             externalImage: _t("External Image"),\n-            externalImageText: _t(\n-                "External Image URL (can be relative within this site or absolute if it starts with http:// or https://)"\n-            ),\n+            externalImageText: _t("External Image URL (can be relative within this site or absolute if it starts with http:// or https://)"), // prettier-ignore\n             upload: _t("Upload"),\n-            insertLinkHelp: _t(\n-                "Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."\n-            ),\n+            insertLinkHelp: _t("Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."), // prettier-ignore\n             captionFromDescription: _t("Show Image Caption from Image Description"),\n             caption: _t("Image Caption"),\n         },\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-07-11T18:40:56+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/3ca7b7a70de4225d1ef95db6267f68ff99dec5a9

Create widgets.pot.

Files changed:
A widgets.pot

b'diff --git a/widgets.pot b/widgets.pot\nnew file mode 100644\nindex 000000000..8457b79bf\n--- /dev/null\n+++ b/widgets.pot\n@@ -0,0 +1,531 @@\n+# Gettext Message File for Plone mockup\n+msgid ""\n+msgstr ""\n+"Project-Id-Version: mockup\\n"\n+"Last-Translator: Plone i18n <plone-i18n@lists.sourceforge.net>\\n"\n+"Language-Team: Plone i18n <plone-i18n@lists.sourceforge.net>\\n"\n+"MIME-Version: 1.0\\n"\n+"Content-Type: text/plain; charset=utf-8\\n"\n+"Content-Transfer-Encoding: 8bit\\n"\n+"Plural-Forms: nplurals=1; plural=0;\\n"\n+"Language-Code: en\\n"\n+"Language-Name: English\\n"\n+"Preferred-Encodings: utf-8\\n"\n+"Domain: widgets\\n"\n+\n+#: ./src/pat/formunloadalert/formunloadalert.js\n+msgid "Discard changes? If you click OK, any changes you have made will be lost."\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "Error"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "There was an error searching\xe2\x80\xa6"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "searching\xe2\x80\xa6"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "enter search phrase"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "no results found"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "found"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "results"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "Previous"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "Next"\n+msgstr ""\n+\n+#: ./src/pat/manageportlets/manageportlets.js\n+msgid "Portlet changes saved"\n+msgstr ""\n+\n+#: ./src/pat/manageportlets/manageportlets.js\n+msgid "Info"\n+msgstr ""\n+\n+#: ./src/pat/manageportlets/manageportlets.js\n+msgid "Portlet added"\n+msgstr ""\n+\n+#: ./src/pat/modal/modal.js\n+msgid "There was an error submitting the form."\n+msgstr ""\n+\n+#: ./src/pat/modal/modal.js\n+msgid "There was an error loading modal."\n+msgstr ""\n+\n+#: ./src/pat/preventdoublesubmit/preventdoublesubmit.js\n+msgid "You already clicked the submit button. Do you really want to submit this form again?"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Select criteria"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "to"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "days"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Preview"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Preview of at most 10 items"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Sort on"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "No sorting"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Reversed Order"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Open folder"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "current directory:"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Go one level up"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "One level up"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Favorites"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Current path:"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Search"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Browse"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Recently Used"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Upload"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Open"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Edit"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Cut"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Copy"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Paste"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Move to top of folder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Move to bottom of folder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Set as default page"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Select all contained items"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "cutting"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "Copied"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "copying"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "Pasted into"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "Error pasting into"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "operation url ${url} is not valid"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "there was an error performing the action"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Configure displayed columns"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Selected"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Manage selection"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Rearrange"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Rearrange folder contents"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Upload files"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Error moving item"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/columns.js\n+msgid "Columns"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/columns.js\n+msgid "Select columns to show, drag and drop to reorder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/columns.js\n+msgid "Save"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/generic-popover.js\n+msgid "Apply"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/generic-popover.js\n+msgid "Loading..."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/generic-popover.js\n+msgid "Error loading popover from server."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "Rearrange items in this folder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "What to rearrange on"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "This permanently changes the order of items in this folder. This operation may take a long time depending on the size of the folder."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "Reverse"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "Sorting the content on the base of the site could affect your navigation order. Are you certain you want to do this?"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/selectionwell.js\n+msgid "Filter"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/selectionwell.js\n+msgid "remove all"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/table.js\n+msgid "Reset column sorting"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/table.js\n+msgid "Notice: Drag and drop reordering is disabled when viewing the contents sorted by a column."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/textfilter.js\n+msgid "Clear"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/textfilter.js\n+msgid "This listing has filters applied. Not all items are shown."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/textfilter.js\n+msgid "Drag and drop reordering is disabled while filters are applied."\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/actionmenu.xml\n+msgid "Actions"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "Show:"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "Page:"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "of"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "shown"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/table.xml\n+msgid "Root"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/table.xml\n+msgid "Select all"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/table.xml\n+msgid "Title"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Select"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Excluded from navigation"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Expired"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Before publishing date"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Preview image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce--implementation.js\n+msgid "Insert Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Search for item on site..."\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Insert"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Cancel"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Insert link"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Internal"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External URL (can be relative within this site or absolute if it starts with http:// or https://)"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Email Address"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Anchor"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Select an anchor"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Target"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Email Subject (optional)"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Align"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Enable image zoom"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Size"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Alternative Text"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image)."\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Internal Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External Image URL (can be relative within this site or absolute if it starts with http:// or https://)"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Show Image Caption from Image Description"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Image Caption"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Inline"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Right"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Left"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in this window / frame"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in new window"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in parent window / frame"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in top frame (replaces all frames)"\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Upload here"\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Drag and drop files from your computer onto the area below or click the Browse button."\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Drop files here..."\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Choose File"\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Upload to..."\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Select another destination folder or leave blank to add files to the current location."\n+msgstr ""\n+\n+#: ./src/pat/upload/upload.js\n+msgid "The file transfer failed"\n+msgstr ""\n+\n+#: ./src/pat/upload/upload.js\n+msgid "Error uploading with TUS resumable uploads"\n+msgstr ""\n+\n+#: ./src/pat/upload/upload.js\n+msgid "uploading..."\n+msgstr ""\n+\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-07-11T18:49:09+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/f7e2c94c045d005d4df41cd5e6a58f0042f32835

Merge pull request #1190 from plone/i18n-extraction-script

add i18n extraction script and document the use

Files changed:
A src/i18n.js
A widgets.pot
M README.md
M package.json
M src/pat/formunloadalert/formunloadalert.js
M src/pat/preventdoublesubmit/preventdoublesubmit.js
M src/pat/structure/js/views/rearrange.js
M src/pat/structure/js/views/table.js
M src/pat/structure/js/views/textfilter.js
M src/pat/tinymce/tinymce.js

b'diff --git a/README.md b/README.md\nindex e055f9c3e..68a839395 100644\n--- a/README.md\n+++ b/README.md\n@@ -180,3 +180,45 @@ https://www.npmjs.com/package/webpack-bundle-analyzer\n ```\n npx webpack-bundle-analyzer stats.json\n ```\n+\n+\n+## i18n message extraction\n+\n+To update the translation file, the following needs to be done:\n+\n+1. Extract the messages from this package:\n+\n+```\n+npx yarn run i18n\n+```\n+\n+Or just ``npm run i18n``...\n+\n+2. Copy the widgets.pot file to plone.app.locales\n+\n+Assuming you are doing this from a buildout.coredev environment in the mockup folder:\n+```\n+cp widgets.pot ../plone.app.locales/plone/app/locales/locales/\n+```\n+\n+3. Run i18ndude to update the po files\n+\n+```\n+cd ../plone.app.locales/plone/app/locales/locales\n+i18ndude sync --pot widgets.pot */LC_MESSAGES/widgets.po\n+```\n+\n+## i18n message handling in Plone\n+\n+To test a translation, for example French:\n+\n+- Edit the po file ``src/plone.app.locales/plone/app/locales/locales/fr/LC_MESSAGES/widgets.po``.\n+\n+- Restart your instance to rebuild the mo file from the po file.\n+\n+- Purge your localStorage and refresh the page to trigger a new download of the translations.\n+\n+The translations are handled by ``src/core/i18n.js``.\n+This translation helper that calls the ``@@plonejsi18n`` view defined in plone.app.content to generate a JSON of the translations from the mo file.\n+The ``@@plonejsi18n`` view is called one time for a given domain and language and the result is cached in localStorage for 24 hours.\n+The only way to test the new translations is to restart the instance to update the mo file from the po file, and then to purge the localStorage to trigger a new download of the translations.\ndiff --git a/package.json b/package.json\nindex df7396306..eff76ace1 100644\n--- a/package.json\n+++ b/package.json\n@@ -75,7 +75,8 @@\n         "start:docs": "ELEVENTY_ENV=development npx @11ty/eleventy --serve --port 8001 --output docs/_site/",\n         "start": "npm-run-all clean --parallel start:*",\n         "test": "jest",\n-        "testwatch": "jest --watch"\n+        "testwatch": "jest --watch",\n+        "i18n": "node src/i18n.js"\n     },\n     "engines": {\n         "node": ">=12.20.0"\ndiff --git a/src/i18n.js b/src/i18n.js\nnew file mode 100644\nindex 000000000..bbc33cf03\n--- /dev/null\n+++ b/src/i18n.js\n@@ -0,0 +1,74 @@\n+const fs = require("fs");\n+\n+const extract = () => {\n+    let output = `# Gettext Message File for Plone mockup\n+msgid ""\n+msgstr ""\n+"Project-Id-Version: mockup\\\\n"\n+"Last-Translator: Plone i18n <plone-i18n@lists.sourceforge.net>\\\\n"\n+"Language-Team: Plone i18n <plone-i18n@lists.sourceforge.net>\\\\n"\n+"MIME-Version: 1.0\\\\n"\n+"Content-Type: text/plain; charset=utf-8\\\\n"\n+"Content-Transfer-Encoding: 8bit\\\\n"\n+"Plural-Forms: nplurals=1; plural=0;\\\\n"\n+"Language-Code: en\\\\n"\n+"Language-Name: English\\\\n"\n+"Preferred-Encodings: utf-8\\\\n"\n+"Domain: widgets\\\\n"\n+\n+`;\n+\n+    const okayFiles = ["xml", "js", "htm", "html"];\n+    const found = [];\n+    const checkFile = function (filepath) {\n+        const split = filepath.split(".");\n+        if (okayFiles.indexOf(split[split.length - 1]) === -1) {\n+            return;\n+        }\n+        console.log("reading file: " + filepath);\n+        const file = fs.readFileSync(filepath, { encoding: "utf-8" });\n+        const re = /_t\\((("[^"]+")|(\'[^\']+\'))(,\\W{.*})?\\)?\\)/g;\n+        let match = re.exec(file);\n+        while (match) {\n+            if (match) {\n+                re.lastIndex = Math.max(match.index + 1, re.lastIndex + 1);\n+                const val = match[1].replace(/[\'"]+/g, "");\n+                if (found.indexOf(val) === -1) {\n+                    output += `#: ${filepath}\n+msgid "${val}"\n+msgstr ""\n+\n+`;\n+                    found.push(val);\n+                }\n+                match = re.exec(file);\n+            }\n+        }\n+    };\n+    const checkDir = function (path) {\n+        console.log("Read folder: " + path);\n+        const files = fs.readdirSync(path);\n+        for (const filename of files) {\n+            if (\n+                filename === "__pycache__" ||\n+                filename === "build" ||\n+                filename === "coverage" ||\n+                filename === "less" ||\n+                filename === "node_modules" ||\n+                filename === "tests"\n+            ) {\n+                return;\n+            }\n+            const stats = fs.statSync(path + filename);\n+            if (stats.isDirectory()) {\n+                checkDir(path + filename + "/");\n+            } else {\n+                checkFile(path + filename);\n+            }\n+        }\n+    };\n+    checkDir("./src/");\n+    fs.writeFileSync("./widgets.pot", output);\n+};\n+\n+extract();\ndiff --git a/src/pat/formunloadalert/formunloadalert.js b/src/pat/formunloadalert/formunloadalert.js\nindex 855a3b5d5..72d073da7 100644\n--- a/src/pat/formunloadalert/formunloadalert.js\n+++ b/src/pat/formunloadalert/formunloadalert.js\n@@ -9,10 +9,7 @@ export default Base.extend({\n     _changed: false, // Stores a listing of raised changes by their key\n     _suppressed: false, // whether or not warning should be suppressed\n     defaults: {\n-        message: _t(\n-            "Discard changes? If you click OK, " +\n-                "any changes you have made will be lost."\n-        ),\n+        message: _t("Discard changes? If you click OK, any changes you have made will be lost."), // prettier-ignore\n         // events on which to check for changes\n         changingEvents: "change keyup paste",\n         // fields on which to check for changes\ndiff --git a/src/pat/preventdoublesubmit/preventdoublesubmit.js b/src/pat/preventdoublesubmit/preventdoublesubmit.js\nindex 1329689fd..b7343ef73 100644\n--- a/src/pat/preventdoublesubmit/preventdoublesubmit.js\n+++ b/src/pat/preventdoublesubmit/preventdoublesubmit.js\n@@ -7,10 +7,7 @@ export default Base.extend({\n     trigger: ".pat-preventdoublesubmit",\n     parser: "mockup",\n     defaults: {\n-        message: _t(\n-            "You already clicked the submit button. " +\n-                "Do you really want to submit this form again?"\n-        ),\n+        message: _t("You already clicked the submit button. Do you really want to submit this form again?"), // prettier-ignore\n         guardClassName: "submitting",\n         optOutClassName: "allowMultiSubmit",\n     },\ndiff --git a/src/pat/structure/js/views/rearrange.js b/src/pat/structure/js/views/rearrange.js\nindex 4eb43fb05..732209dfe 100644\n--- a/src/pat/structure/js/views/rearrange.js\n+++ b/src/pat/structure/js/views/rearrange.js\n@@ -14,7 +14,7 @@ export default PopoverView.extend({\n             "<% }); %>" +\n             "</select>" +\n             \'<p class="help-block">\' +\n-            \'<b><%- _t("This permanently changes the order of items in this folder. This operation may take a long time depending on the size of the folder.") %></b>\' +\n+            \'<b><%- _t("This permanently changes the order of items in this folder. This operation may take a long time depending on the size of the folder.") %></b>\' + // prettier-ignore\n             "</p>" +\n             "</div>" +\n             \'<div class="form-check">\' +\n@@ -45,11 +45,7 @@ export default PopoverView.extend({\n         if (this.app.collection.getCurrentPath() === "/") {\n             if (\n                 !window.confirm(\n-                    _t(\n-                        "Sorting the content on the base of the site " +\n-                            "could affect your navigation order. " +\n-                            "Are you certain you want to do this?"\n-                    )\n+                    _t("Sorting the content on the base of the site could affect your navigation order. Are you certain you want to do this?") // prettier-ignore\n                 )\n             ) {\n                 return;\ndiff --git a/src/pat/structure/js/views/table.js b/src/pat/structure/js/views/table.js\nindex ccbb54948..d85967ac2 100644\n--- a/src/pat/structure/js/views/table.js\n+++ b/src/pat/structure/js/views/table.js\n@@ -196,9 +196,7 @@ export default BaseView.extend({\n                     });\n                 this.app.setStatus(\n                     {\n-                        text: _t(\n-                            "Notice: Drag and drop reordering is disabled when viewing the contents sorted by a column."\n-                        ),\n+                        text: _t("Notice: Drag and drop reordering is disabled when viewing the contents sorted by a column."), // prettier-ignore\n                         type: "warning",\n                     },\n                     btn,\ndiff --git a/src/pat/structure/js/views/textfilter.js b/src/pat/structure/js/views/textfilter.js\nindex 366b3121f..6362790a3 100644\n--- a/src/pat/structure/js/views/textfilter.js\n+++ b/src/pat/structure/js/views/textfilter.js\n@@ -36,9 +36,7 @@ export default BaseView.extend({\n             .text(_t("Clear"))\n             .on("click", () => this.clearFilter());\n \n-        const statusTextFilter = _t(\n-            "This listing has filters applied. Not all items are shown."\n-        );\n+        const statusTextFilter = _t("This listing has filters applied. Not all items are shown."); // prettier-ignore\n         this.app.setStatus(\n             {\n                 text: statusTextFilter,\n@@ -49,9 +47,7 @@ export default BaseView.extend({\n             this.statusKeyFilter\n         );\n \n-        const statusTextSorting = _t(\n-            "Drag and drop reordering is disabled while filters are applied."\n-        );\n+        const statusTextSorting = _t("Drag and drop reordering is disabled while filters are applied."); // prettier-ignore\n         this.app.setStatus(\n             {\n                 text: statusTextSorting,\ndiff --git a/src/pat/tinymce/tinymce.js b/src/pat/tinymce/tinymce.js\nindex 2cc62ff26..cea1ae193 100644\n--- a/src/pat/tinymce/tinymce.js\n+++ b/src/pat/tinymce/tinymce.js\n@@ -37,9 +37,7 @@ export default Base.extend({\n             title: _t("Title"),\n             internal: _t("Internal"),\n             external: _t("External"),\n-            externalText: _t(\n-                "External URL (can be relative within this site or absolute if it starts with http:// or https://)"\n-            ),\n+            externalText: _t("External URL (can be relative within this site or absolute if it starts with http:// or https://)"), // prettier-ignore\n             email: _t("Email Address"),\n             anchor: _t("Anchor"),\n             anchorLabel: _t("Select an anchor"),\n@@ -50,18 +48,12 @@ export default Base.extend({\n             enableImageZoom: _t("Enable image zoom"),\n             scale: _t("Size"),\n             alt: _t("Alternative Text"),\n-            insertImageHelp: _t(\n-                "Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image)."\n-            ),\n+            insertImageHelp: _t("Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image)."), // prettier-ignore\n             internalImage: _t("Internal Image"),\n             externalImage: _t("External Image"),\n-            externalImageText: _t(\n-                "External Image URL (can be relative within this site or absolute if it starts with http:// or https://)"\n-            ),\n+            externalImageText: _t("External Image URL (can be relative within this site or absolute if it starts with http:// or https://)"), // prettier-ignore\n             upload: _t("Upload"),\n-            insertLinkHelp: _t(\n-                "Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."\n-            ),\n+            insertLinkHelp: _t("Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."), // prettier-ignore\n             captionFromDescription: _t("Show Image Caption from Image Description"),\n             caption: _t("Image Caption"),\n         },\ndiff --git a/widgets.pot b/widgets.pot\nnew file mode 100644\nindex 000000000..8457b79bf\n--- /dev/null\n+++ b/widgets.pot\n@@ -0,0 +1,531 @@\n+# Gettext Message File for Plone mockup\n+msgid ""\n+msgstr ""\n+"Project-Id-Version: mockup\\n"\n+"Last-Translator: Plone i18n <plone-i18n@lists.sourceforge.net>\\n"\n+"Language-Team: Plone i18n <plone-i18n@lists.sourceforge.net>\\n"\n+"MIME-Version: 1.0\\n"\n+"Content-Type: text/plain; charset=utf-8\\n"\n+"Content-Transfer-Encoding: 8bit\\n"\n+"Plural-Forms: nplurals=1; plural=0;\\n"\n+"Language-Code: en\\n"\n+"Language-Name: English\\n"\n+"Preferred-Encodings: utf-8\\n"\n+"Domain: widgets\\n"\n+\n+#: ./src/pat/formunloadalert/formunloadalert.js\n+msgid "Discard changes? If you click OK, any changes you have made will be lost."\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "Error"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "There was an error searching\xe2\x80\xa6"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "searching\xe2\x80\xa6"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "enter search phrase"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "no results found"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "found"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "results"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "Previous"\n+msgstr ""\n+\n+#: ./src/pat/livesearch/livesearch.js\n+msgid "Next"\n+msgstr ""\n+\n+#: ./src/pat/manageportlets/manageportlets.js\n+msgid "Portlet changes saved"\n+msgstr ""\n+\n+#: ./src/pat/manageportlets/manageportlets.js\n+msgid "Info"\n+msgstr ""\n+\n+#: ./src/pat/manageportlets/manageportlets.js\n+msgid "Portlet added"\n+msgstr ""\n+\n+#: ./src/pat/modal/modal.js\n+msgid "There was an error submitting the form."\n+msgstr ""\n+\n+#: ./src/pat/modal/modal.js\n+msgid "There was an error loading modal."\n+msgstr ""\n+\n+#: ./src/pat/preventdoublesubmit/preventdoublesubmit.js\n+msgid "You already clicked the submit button. Do you really want to submit this form again?"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Select criteria"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "to"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "days"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Preview"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Preview of at most 10 items"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Sort on"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "No sorting"\n+msgstr ""\n+\n+#: ./src/pat/querystring/querystring.js\n+msgid "Reversed Order"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Open folder"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "current directory:"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Go one level up"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "One level up"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Favorites"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Current path:"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Search"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Browse"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Recently Used"\n+msgstr ""\n+\n+#: ./src/pat/relateditems/relateditems.js\n+msgid "Upload"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Open"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Edit"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Cut"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Copy"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Paste"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Move to top of folder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Move to bottom of folder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Set as default page"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actionmenu.js\n+msgid "Select all contained items"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "cutting"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "Copied"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "copying"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "Pasted into"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/actions.js\n+msgid "Error pasting into"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "operation url ${url} is not valid"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "there was an error performing the action"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Configure displayed columns"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Selected"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Manage selection"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Rearrange"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Rearrange folder contents"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Upload files"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/app.js\n+msgid "Error moving item"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/columns.js\n+msgid "Columns"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/columns.js\n+msgid "Select columns to show, drag and drop to reorder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/columns.js\n+msgid "Save"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/generic-popover.js\n+msgid "Apply"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/generic-popover.js\n+msgid "Loading..."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/generic-popover.js\n+msgid "Error loading popover from server."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "Rearrange items in this folder"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "What to rearrange on"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "This permanently changes the order of items in this folder. This operation may take a long time depending on the size of the folder."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "Reverse"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/rearrange.js\n+msgid "Sorting the content on the base of the site could affect your navigation order. Are you certain you want to do this?"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/selectionwell.js\n+msgid "Filter"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/selectionwell.js\n+msgid "remove all"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/table.js\n+msgid "Reset column sorting"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/table.js\n+msgid "Notice: Drag and drop reordering is disabled when viewing the contents sorted by a column."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/textfilter.js\n+msgid "Clear"\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/textfilter.js\n+msgid "This listing has filters applied. Not all items are shown."\n+msgstr ""\n+\n+#: ./src/pat/structure/js/views/textfilter.js\n+msgid "Drag and drop reordering is disabled while filters are applied."\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/actionmenu.xml\n+msgid "Actions"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "Show:"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "Page:"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "of"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/paging.xml\n+msgid "shown"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/table.xml\n+msgid "Root"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/table.xml\n+msgid "Select all"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/table.xml\n+msgid "Title"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Select"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Excluded from navigation"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Expired"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Before publishing date"\n+msgstr ""\n+\n+#: ./src/pat/structure/templates/tablerow.xml\n+msgid "Preview image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce--implementation.js\n+msgid "Insert Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Search for item on site..."\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Insert"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Cancel"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Insert link"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Internal"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External URL (can be relative within this site or absolute if it starts with http:// or https://)"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Email Address"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Anchor"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Select an anchor"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Target"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Email Subject (optional)"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Align"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Enable image zoom"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Size"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Alternative Text"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image)."\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Internal Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External Image"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "External Image URL (can be relative within this site or absolute if it starts with http:// or https://)"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Show Image Caption from Image Description"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Image Caption"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Inline"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Right"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Left"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in this window / frame"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in new window"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in parent window / frame"\n+msgstr ""\n+\n+#: ./src/pat/tinymce/tinymce.js\n+msgid "Open in top frame (replaces all frames)"\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Upload here"\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Drag and drop files from your computer onto the area below or click the Browse button."\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Drop files here..."\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Choose File"\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Upload to..."\n+msgstr ""\n+\n+#: ./src/pat/upload/templates/upload.xml\n+msgid "Select another destination folder or leave blank to add files to the current location."\n+msgstr ""\n+\n+#: ./src/pat/upload/upload.js\n+msgid "The file transfer failed"\n+msgstr ""\n+\n+#: ./src/pat/upload/upload.js\n+msgid "Error uploading with TUS resumable uploads"\n+msgstr ""\n+\n+#: ./src/pat/upload/upload.js\n+msgid "uploading..."\n+msgstr ""\n+\n'

