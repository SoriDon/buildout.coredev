Repository: plone.app.caching


Branch: refs/heads/master
Date: 2023-03-03T23:19:11+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.caching/commit/559643d07f21c0d6721027ca961b836a5860d89f

Configuring with plone/meta

Files changed:
A news/13d8d6c0.internal
M .meta.toml
M .pre-commit-config.yaml
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 15742c4..ad7470f 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,7 +2,7 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "cbbcff93"\n+commit-id = "13d8d6c0"\n \n [dependencies]\n mappings = [\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex a3085c9..582f8ac 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -19,7 +19,7 @@ repos:\n     hooks:\n     -   id: black\n -   repo: https://github.com/collective/zpretty\n-    rev: 3.0.1\n+    rev: 3.0.2\n     hooks:\n     -   id: zpretty\n -   repo: https://github.com/PyCQA/flake8\n@@ -37,6 +37,6 @@ repos:\n     hooks:\n     -   id: check-manifest\n -   repo: https://github.com/regebro/pyroma\n-    rev: "4.1"\n+    rev: "4.2"\n     hooks:\n     -   id: pyroma\ndiff --git a/news/13d8d6c0.internal b/news/13d8d6c0.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/13d8d6c0.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/tox.ini b/tox.ini\nindex 8ed21b4..be31d25 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -4,6 +4,7 @@\n envlist =\n     format\n     lint\n+    test\n \n [testenv]\n allowlist_externals =\n@@ -29,27 +30,21 @@ commands =\n     pre-commit run -a\n \n [testenv:dependencies]\n-description = check if the package defines all its dependencies\n+description = check if the package defines all its dependencies and generate a graph out of them\n deps =\n-    z3c.dependencychecker==2.10\n+    z3c.dependencychecker==2.11\n+    pipdeptree==2.5.1\n+    graphviz  # optional dependency of pipdeptree\n commands =\n     dependencychecker\n+    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel,pipdeptree,z3c.dependencychecker,zope.interface,zope.component --graph-output svg > dependencies.svg\'\n \n-[testenv:dependencies-graph]\n-description = generate a graph with the distribution dependencies\n+[testenv:test]\n+usedevelop = true\n deps =\n-    pipdeptree==2.3.3\n-    graphviz  # optional dependency of pipdeptree\n+    zope.testrunner\n+    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel --graph-output svg > dependencies.svg\'\n-\n-; [testenv:test]\n-; description = run the tests of the distribution\n-; deps =\n-;     plone.app.caching[test]\n-;     pytest\n-;     gocept.pytestlayer\n-;     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-; commands =\n-;     pip install -e .[test]\n-;     pytest\n+    zope-testrunner --test-path={toxinidir} -s plone.app.caching\n+extras =\n+    test\n'

Repository: plone.app.caching


Branch: refs/heads/master
Date: 2023-03-03T23:43:13+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.caching/commit/ef4b998d3cf448aeed09b87419bf9988f5fe98df

fix(tests): install plone.restapi to get it to work

Files changed:
M tox.ini

b'diff --git a/tox.ini b/tox.ini\nindex be31d25..02d93a9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -43,6 +43,7 @@ commands =\n usedevelop = true\n deps =\n     zope.testrunner\n+    plone.restapi\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n     zope-testrunner --test-path={toxinidir} -s plone.app.caching\n'

Repository: plone.app.caching


Branch: refs/heads/master
Date: 2023-03-12T01:11:13+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.caching/commit/7b867156aa52b158e478969169ea2dbdcabe2799

Merge pull request #120 from plone/config-with-default-template-af1eb533

Configuring with plone/meta

Files changed:
A news/13d8d6c0.internal
M .meta.toml
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 15742c4..ad7470f 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,7 +2,7 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "cbbcff93"\n+commit-id = "13d8d6c0"\n \n [dependencies]\n mappings = [\ndiff --git a/news/13d8d6c0.internal b/news/13d8d6c0.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/13d8d6c0.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/tox.ini b/tox.ini\nindex 8ed21b4..02d93a9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -4,6 +4,7 @@\n envlist =\n     format\n     lint\n+    test\n \n [testenv]\n allowlist_externals =\n@@ -29,27 +30,22 @@ commands =\n     pre-commit run -a\n \n [testenv:dependencies]\n-description = check if the package defines all its dependencies\n+description = check if the package defines all its dependencies and generate a graph out of them\n deps =\n-    z3c.dependencychecker==2.10\n+    z3c.dependencychecker==2.11\n+    pipdeptree==2.5.1\n+    graphviz  # optional dependency of pipdeptree\n commands =\n     dependencychecker\n+    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel,pipdeptree,z3c.dependencychecker,zope.interface,zope.component --graph-output svg > dependencies.svg\'\n \n-[testenv:dependencies-graph]\n-description = generate a graph with the distribution dependencies\n+[testenv:test]\n+usedevelop = true\n deps =\n-    pipdeptree==2.3.3\n-    graphviz  # optional dependency of pipdeptree\n+    zope.testrunner\n+    plone.restapi\n+    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel --graph-output svg > dependencies.svg\'\n-\n-; [testenv:test]\n-; description = run the tests of the distribution\n-; deps =\n-;     plone.app.caching[test]\n-;     pytest\n-;     gocept.pytestlayer\n-;     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-; commands =\n-;     pip install -e .[test]\n-;     pytest\n+    zope-testrunner --test-path={toxinidir} -s plone.app.caching\n+extras =\n+    test\n'

