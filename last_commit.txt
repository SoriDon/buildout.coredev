Repository: plone.app.caching


Branch: refs/heads/master
Date: 2021-10-20T23:40:48+02:00
Author: petschki (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.caching/commit/37285904072f849e7e91a4006d6f2a8003b54cdd

Fix deprecated import

Files changed:
A news/86.bugfix
M plone/app/caching/operations/etags.py

b'diff --git a/news/86.bugfix b/news/86.bugfix\nnew file mode 100644\nindex 0000000..5d2292b\n--- /dev/null\n+++ b/news/86.bugfix\n@@ -0,0 +1,2 @@\n+fix deprecated imports\n+[petschki]\n\\ No newline at end of file\ndiff --git a/plone/app/caching/operations/etags.py b/plone/app/caching/operations/etags.py\nindex 5463136..784cb9f 100644\n--- a/plone/app/caching/operations/etags.py\n+++ b/plone/app/caching/operations/etags.py\n@@ -6,8 +6,8 @@\n from Products.CMFCore.interfaces import ICatalogTool\n from Products.CMFCore.interfaces import IMembershipTool\n from Products.CMFCore.utils import getToolByName\n-from Products.CMFPlone.resources.browser.combine import get_override_directory\n-from Products.CMFPlone.resources.browser.combine import PRODUCTION_RESOURCE_DIRECTORY\n+from Products.CMFPlone.resources.utils import get_override_directory\n+from Products.CMFPlone.resources.utils import PRODUCTION_RESOURCE_DIRECTORY\n from Products.CMFPlone.utils import safe_hasattr\n from zope.component import adapter\n from zope.component import queryMultiAdapter\n'

Repository: plone.app.caching


Branch: refs/heads/master
Date: 2021-10-21T09:47:35+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.caching/commit/76cd4df484db5bf0ce89af04bc8477c2f87d88f2

backwards compatible

Files changed:
M plone/app/caching/operations/etags.py

b'diff --git a/plone/app/caching/operations/etags.py b/plone/app/caching/operations/etags.py\nindex 784cb9f..1faa8e7 100644\n--- a/plone/app/caching/operations/etags.py\n+++ b/plone/app/caching/operations/etags.py\n@@ -6,8 +6,6 @@\n from Products.CMFCore.interfaces import ICatalogTool\n from Products.CMFCore.interfaces import IMembershipTool\n from Products.CMFCore.utils import getToolByName\n-from Products.CMFPlone.resources.utils import get_override_directory\n-from Products.CMFPlone.resources.utils import PRODUCTION_RESOURCE_DIRECTORY\n from Products.CMFPlone.utils import safe_hasattr\n from zope.component import adapter\n from zope.component import queryMultiAdapter\n@@ -15,6 +13,14 @@\n from zope.interface import implementer\n from zope.interface import Interface\n \n+try:\n+    from Products.CMFPlone.resources.utils import get_override_directory\n+    from Products.CMFPlone.resources.utils import PRODUCTION_RESOURCE_DIRECTORY\n+except ImportError:\n+    # Plone < 6\n+    from Products.CMFPlone.resources.browser.combine import get_override_directory\n+    from Products.CMFPlone.resources.browser.combine import PRODUCTION_RESOURCE_DIRECTORY\n+\n import random\n import time\n \n'

Repository: plone.app.caching


Branch: refs/heads/master
Date: 2021-10-21T11:07:39+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.app.caching/commit/53f51aacaa071e2a0a8e4f79f1c5bd99382d7500

Merge pull request #86 from plone/fix-deprecated-imports

Fix deprecated imports

Files changed:
A news/86.bugfix
M plone/app/caching/operations/etags.py

b'diff --git a/news/86.bugfix b/news/86.bugfix\nnew file mode 100644\nindex 0000000..5d2292b\n--- /dev/null\n+++ b/news/86.bugfix\n@@ -0,0 +1,2 @@\n+fix deprecated imports\n+[petschki]\n\\ No newline at end of file\ndiff --git a/plone/app/caching/operations/etags.py b/plone/app/caching/operations/etags.py\nindex 5463136..1faa8e7 100644\n--- a/plone/app/caching/operations/etags.py\n+++ b/plone/app/caching/operations/etags.py\n@@ -6,8 +6,6 @@\n from Products.CMFCore.interfaces import ICatalogTool\n from Products.CMFCore.interfaces import IMembershipTool\n from Products.CMFCore.utils import getToolByName\n-from Products.CMFPlone.resources.browser.combine import get_override_directory\n-from Products.CMFPlone.resources.browser.combine import PRODUCTION_RESOURCE_DIRECTORY\n from Products.CMFPlone.utils import safe_hasattr\n from zope.component import adapter\n from zope.component import queryMultiAdapter\n@@ -15,6 +13,14 @@\n from zope.interface import implementer\n from zope.interface import Interface\n \n+try:\n+    from Products.CMFPlone.resources.utils import get_override_directory\n+    from Products.CMFPlone.resources.utils import PRODUCTION_RESOURCE_DIRECTORY\n+except ImportError:\n+    # Plone < 6\n+    from Products.CMFPlone.resources.browser.combine import get_override_directory\n+    from Products.CMFPlone.resources.browser.combine import PRODUCTION_RESOURCE_DIRECTORY\n+\n import random\n import time\n \n'

