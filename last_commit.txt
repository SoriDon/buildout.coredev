Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-02-05T15:50:28+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/c36158d7570ad5b9c4835f153860f571678b6529

Configuring with plone/meta

Files changed:
M .meta.toml
M lint-requirements.txt
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 500dbfe..91690d5 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,4 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "c0d7e43c"\n+commit-id = "78307cdf"\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex 129db4d..d2b64ff 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -5,4 +5,6 @@ check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\n+pyroma==4.1\n pyupgrade==3.3.1\n+z3c.dependencychecker==2.10\ndiff --git a/tox.ini b/tox.ini\nindex 5d1a605..c4810c9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -30,10 +30,21 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    tomli  # needed for codespell to read pyproject.toml\n     check-manifest\n+    pyroma\n     -c lint-requirements.txt\n commands =\n     sh -c \'{[testenv]py_files} | xargs flake8\'\n     sh -c \'{[testenv]py_files} | xargs codespell\'\n     sh -c \'{[testenv]text_files} | xargs codespell\'\n     check-manifest\n+    pyroma -n 10 .\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies\n+deps =\n+    z3c.dependencychecker\n+    -c lint-requirements.txt\n+commands =\n+    dependencychecker\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-02-05T15:51:09+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/b0f65d92ca88543962ee913bfb533182004e0418

chore: configure z3c.dependencychecker

Files changed:
M .meta.toml
M pyproject.toml

b'diff --git a/.meta.toml b/.meta.toml\nindex 91690d5..059fd58 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -3,3 +3,8 @@\n [meta]\n template = "default"\n commit-id = "78307cdf"\n+\n+[dependencies]\n+mappings = [\n+    "Zope = [\'OFS\', \'Products.Five\', \'Products.PageTemplates\', \'ZPublisher\', \'Testing\', \'Zope2\']",\n+    ]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0f96c85..30cf3e7 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -41,3 +41,6 @@ profile = "plone"\n \n [tool.black]\n target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\'OFS\', \'Products.Five\', \'Products.PageTemplates\', \'ZPublisher\', \'Testing\', \'Zope2\']\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-02-05T15:51:14+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/837b58df1cc9f94e87a3606dcb41e0425ce0c7a0

feat: declare dependencies

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex 33ce660..208ad98 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -35,16 +35,24 @@\n     zip_safe=False,\n     python_requires=">=3.8",\n     install_requires=[\n-        "setuptools",\n-        "six",\n+        "Acquisition",\n+        "Products.statusmessages",\n         "Zope",\n+        "plone.memoize",\n+        "plone.protect",\n+        "plone.supermodel",\n+        "setuptools",\n         "zope.cachedescriptors",\n         "zope.component",\n         "zope.container",\n+        "zope.event",\n         "zope.globalrequest",\n+        "zope.i18n",\n+        "zope.i18nmessageid",\n         "zope.interface",\n         "zope.lifecycleevent",\n         "zope.schema",\n+        "zope.security",\n         "zope.publisher",\n         "z3c.form",\n         "plone.z3cform",\n@@ -53,9 +61,15 @@\n     ],\n     extras_require={\n         "test": [\n-            "plone.app.dexterity",\n+            "six",\n+            "Products.Genericsetup",\n             "plone.app.testing",\n             "plone.app.robotframework",\n+            "plone.keyring",\n+            "plone.supermodel",\n+            "plone.testing",\n+            "robotsuite",\n+            "transaction",\n         ]\n     },\n )\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-02-05T15:51:14+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/5b19b433816eaa463fb4659f76b2befff37e1383

Add news entry

Files changed:
A news/1.bugfix

b'diff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 0000000..86b5b8d\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1,2 @@\n+Declare all dependencies.\n+[gforcada]\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-02-06T14:19:12+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.schemaeditor/commit/e271b0709ec619b987a6a15d01f5b46caa36e9a9

Merge pull request #98 from plone/config-with-default-template-450ca2a6

Config with default template (dependencies)

Files changed:
A news/1.bugfix
M .meta.toml
M lint-requirements.txt
M pyproject.toml
M setup.py
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 500dbfe..059fd58 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,9 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "c0d7e43c"\n+commit-id = "78307cdf"\n+\n+[dependencies]\n+mappings = [\n+    "Zope = [\'OFS\', \'Products.Five\', \'Products.PageTemplates\', \'ZPublisher\', \'Testing\', \'Zope2\']",\n+    ]\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex 129db4d..d2b64ff 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -5,4 +5,6 @@ check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\n+pyroma==4.1\n pyupgrade==3.3.1\n+z3c.dependencychecker==2.10\ndiff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 0000000..86b5b8d\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1,2 @@\n+Declare all dependencies.\n+[gforcada]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0f96c85..30cf3e7 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -41,3 +41,6 @@ profile = "plone"\n \n [tool.black]\n target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\'OFS\', \'Products.Five\', \'Products.PageTemplates\', \'ZPublisher\', \'Testing\', \'Zope2\']\ndiff --git a/setup.py b/setup.py\nindex 33ce660..208ad98 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -35,16 +35,24 @@\n     zip_safe=False,\n     python_requires=">=3.8",\n     install_requires=[\n-        "setuptools",\n-        "six",\n+        "Acquisition",\n+        "Products.statusmessages",\n         "Zope",\n+        "plone.memoize",\n+        "plone.protect",\n+        "plone.supermodel",\n+        "setuptools",\n         "zope.cachedescriptors",\n         "zope.component",\n         "zope.container",\n+        "zope.event",\n         "zope.globalrequest",\n+        "zope.i18n",\n+        "zope.i18nmessageid",\n         "zope.interface",\n         "zope.lifecycleevent",\n         "zope.schema",\n+        "zope.security",\n         "zope.publisher",\n         "z3c.form",\n         "plone.z3cform",\n@@ -53,9 +61,15 @@\n     ],\n     extras_require={\n         "test": [\n-            "plone.app.dexterity",\n+            "six",\n+            "Products.Genericsetup",\n             "plone.app.testing",\n             "plone.app.robotframework",\n+            "plone.keyring",\n+            "plone.supermodel",\n+            "plone.testing",\n+            "robotsuite",\n+            "transaction",\n         ]\n     },\n )\ndiff --git a/tox.ini b/tox.ini\nindex 5d1a605..c4810c9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -30,10 +30,21 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    tomli  # needed for codespell to read pyproject.toml\n     check-manifest\n+    pyroma\n     -c lint-requirements.txt\n commands =\n     sh -c \'{[testenv]py_files} | xargs flake8\'\n     sh -c \'{[testenv]py_files} | xargs codespell\'\n     sh -c \'{[testenv]text_files} | xargs codespell\'\n     check-manifest\n+    pyroma -n 10 .\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies\n+deps =\n+    z3c.dependencychecker\n+    -c lint-requirements.txt\n+commands =\n+    dependencychecker\n'

