Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2022-01-18T10:52:10+01:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.app.contenttypes/commit/58bede6d4f214811fe889646e3e89135aa48808d

Fix tests with ES6. (#629)

In lots of robot tests we are seeing that you need to:

- focus on an element
- wait until it is visible
- only *then* click on it.

Files changed:
A news/6.bugfix
M plone/app/contenttypes/tests/robot/test_folderlisting.robot

b'diff --git a/news/6.bugfix b/news/6.bugfix\nnew file mode 100644\nindex 00000000..f193b7d7\n--- /dev/null\n+++ b/news/6.bugfix\n@@ -0,0 +1,2 @@\n+Fix tests with ES6.\n+[maurits]\ndiff --git a/plone/app/contenttypes/tests/robot/test_folderlisting.robot b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\nindex f549a71d..58d85c14 100644\n--- a/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n+++ b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n@@ -231,5 +231,7 @@ I go to\n I disable dropdown navigation\n   Go to  ${PLONE_URL}/@@navigation-controlpanel\n   Input Text  name=form.widgets.navigation_depth  1\n+  Set Focus To Element  css=#form-buttons-save\n+  Wait Until Element Is Visible  css=#form-buttons-save\n   Click Button  Save\n   Wait until page contains  Changes saved\n'

