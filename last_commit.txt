Repository: plone.restapi


Branch: refs/heads/master
Date: 2022-10-07T10:22:44+02:00
Author: Wesley Barroso Lopes (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/plone.restapi/commit/02e6fe8cf049e7a36d8d3e1611ff479aaa43ad09

Remove code-analysis from Makefile (#1517)

plone.recipe.codeanalysis was removed from buildout. The
importlib-metadata pin was needed only because of code-analysis. So
we're removing the pin.

Files changed:
A news/1517.internal
M Makefile
M plone-5.2.x.cfg

b'diff --git a/Makefile b/Makefile\nindex 8afd30cc7..298f70028 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -96,14 +96,8 @@ test-performance-locust-querystring-search:\n test-performance-locust-querystring-search-ci:\n \tbin/locust -f performance/querystring-search.py --host http://localhost:12345/Plone --users 100 --spawn-rate 5 --run-time 5m --headless --csv=example\n \n-.PHONY: Code Analysis\n-code-analysis:  ## Code Analysis\n-\tbin/code-analysis\n-\tif [ -f "bin/black" ]; then bin/black src/ --check ; fi\n-\n .PHONY: Black\n black:  ## Black\n-\tbin/code-analysis\n \tif [ -f "bin/black" ]; then bin/black src/ ; fi\n \n .PHONY: zpretty\ndiff --git a/news/1517.internal b/news/1517.internal\nnew file mode 100644\nindex 000000000..bf4f82019\n--- /dev/null\n+++ b/news/1517.internal\n@@ -0,0 +1 @@\n+Remove code-analysis from Makefile. [wesleybl]\ndiff --git a/plone-5.2.x.cfg b/plone-5.2.x.cfg\nindex 760701d73..c3f078375 100644\n--- a/plone-5.2.x.cfg\n+++ b/plone-5.2.x.cfg\n@@ -8,7 +8,3 @@ black = 21.7b0\n \n # Use the new plone.rest alpha\n plone.rest = 2.0.0a3\n-\n-[versions:python37]\n-# Error: The requirement (\'importlib-metadata<4.3,>=1.1.0\') is not allowed by your [versions] constraint (0.23)\n-importlib-metadata = 2.0.0\n'

