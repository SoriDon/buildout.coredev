Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2016-02-17T07:58:44-06:00
Author: nathan.vangheem () <nathan.vangheem@wildcardcorp.com>
Commit: https://github.com/plone/plone.app.widgets/commit/f982b2729964c33d960e8dcf020b937da8cbe924

revert https://github.com/plone/plone.app.widgets/commit/9eabc0998743392845f9fdd51c008521a5482b1a

Files changed:
M plone/app/widgets/utils.py

diff --git a/plone/app/widgets/utils.py b/plone/app/widgets/utils.py
index 49bccc4..d6f4fe6 100644
--- a/plone/app/widgets/utils.py
+++ b/plone/app/widgets/utils.py
@@ -162,15 +162,16 @@ def get_tinymce_options(context, field, request):
     We're just going to be looking up settings from
     plone pattern options
     """
-    options = {}
+    args = {'pattern_options': {}}
     try:
         pattern_options = getMultiAdapter(
             (context, request, field),
             name="plone_settings").tinymce()['data-pat-tinymce']
-        options = json.loads(pattern_options)
+        args['pattern_options'] = json.loads(pattern_options)
     except (ComponentLookupError, AttributeError):
         pass
-    return options
+    return args
+
 
 
 def get_portal():


