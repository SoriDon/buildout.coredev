Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-01-02T23:54:48+01:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/37027266eb013ecc20f8b3875e37c06b8fa15bc6

Fix robot tests

Files changed:
M Products/CMFPlone/tests/robot/test_querystring.robot

diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot
index c454e24..bf94e6a 100644
--- a/Products/CMFPlone/tests/robot/test_querystring.robot
+++ b/Products/CMFPlone/tests/robot/test_querystring.robot
@@ -21,7 +21,7 @@ Scenario: Location query
     When I open the Parent operator in the Location criteria
     Then we expect 4 hits
     When I open the Custom operator in the Location criteria
-    and I search for B in the related items widget
+    and I search in A subfolder in the related items widget
     Then we expect 3 hits
     When I open the Advanced operator in the Location criteria
     Then I expect to be in Advanced mode
@@ -53,11 +53,9 @@ I open the ${OPERATOR} operator in the ${CRITERIA} criteria
     open the select box titled operator
     select index type ${OPERATOR}
 
-I search for ${NAME} in the related items widget
-    #TAB-ing into the related items widget is the least painful
-    #way to focus on it.
-    Press Key   jquery=:focus   \\09
-    Press Key    jquery=:focus   ${NAME}
+I search in ${NAME} subfolder in the related items widget
+    Click Element  jquery=.pattern-relateditems-tree-select
+    Click Element  jquery=.pat-tree li.jqtree_common:contains("${NAME}") .pattern-relateditems-result-browse
     Wait Until Element Is Visible    css=.select2-highlighted a
     Click Element  css=.select2-highlighted a
 


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-01-03T01:18:45+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.forcada@freitag.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/7155ff1ed995f58b4653620db7a81e12cc52df39

Merge pull request #1304 from plone/fix-robot-test

Fix robot tests

Files changed:
M Products/CMFPlone/tests/robot/test_querystring.robot

diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot
index c454e24..bf94e6a 100644
--- a/Products/CMFPlone/tests/robot/test_querystring.robot
+++ b/Products/CMFPlone/tests/robot/test_querystring.robot
@@ -21,7 +21,7 @@ Scenario: Location query
     When I open the Parent operator in the Location criteria
     Then we expect 4 hits
     When I open the Custom operator in the Location criteria
-    and I search for B in the related items widget
+    and I search in A subfolder in the related items widget
     Then we expect 3 hits
     When I open the Advanced operator in the Location criteria
     Then I expect to be in Advanced mode
@@ -53,11 +53,9 @@ I open the ${OPERATOR} operator in the ${CRITERIA} criteria
     open the select box titled operator
     select index type ${OPERATOR}
 
-I search for ${NAME} in the related items widget
-    #TAB-ing into the related items widget is the least painful
-    #way to focus on it.
-    Press Key   jquery=:focus   \\09
-    Press Key    jquery=:focus   ${NAME}
+I search in ${NAME} subfolder in the related items widget
+    Click Element  jquery=.pattern-relateditems-tree-select
+    Click Element  jquery=.pat-tree li.jqtree_common:contains("${NAME}") .pattern-relateditems-result-browse
     Wait Until Element Is Visible    css=.select2-highlighted a
     Click Element  css=.select2-highlighted a
 


