Repository: plone.base


Branch: refs/heads/main
Date: 2023-03-06T11:06:22+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.base/commit/cae106a6fa362e056827243e32fdf7c09ef8dfac

move INavigationRoot from plone.app.layout to plone.base.

part one to fix  https://github.com/plone/Products.CMFPlone/issues/3731

Files changed:
A news/Plone-3731.bugfix
M src/plone/base/interfaces/__init__.py
M src/plone/base/interfaces/siteroot.py

b'diff --git a/news/Plone-3731.bugfix b/news/Plone-3731.bugfix\nnew file mode 100644\nindex 0000000..5ee64af\n--- /dev/null\n+++ b/news/Plone-3731.bugfix\n@@ -0,0 +1,2 @@\n+Move interface plone.app.layout.navigation.interfaces.INavigationRoot to plone.base.interfaces.siteroot and add a deprecated import to plone.app.layout.\n+[jensens, gforcarda]\n\\ No newline at end of file\ndiff --git a/src/plone/base/interfaces/__init__.py b/src/plone/base/interfaces/__init__.py\nindex 99dd116..ad92b39 100644\n--- a/src/plone/base/interfaces/__init__.py\n+++ b/src/plone/base/interfaces/__init__.py\n@@ -55,6 +55,7 @@\n from .resources import IBundleRegistry\n from .resources import IResourceRegistry\n from .siteroot import IMigratingPloneSiteRoot\n+from .siteroot import INavigationRoot\n from .siteroot import IPloneSiteRoot\n from .siteroot import ITestCasePloneSiteRoot\n from .structure import INonStructuralFolder\ndiff --git a/src/plone/base/interfaces/siteroot.py b/src/plone/base/interfaces/siteroot.py\nindex 3e63f5f..780e401 100644\n--- a/src/plone/base/interfaces/siteroot.py\n+++ b/src/plone/base/interfaces/siteroot.py\n@@ -1,8 +1,11 @@\n-from plone.app.layout.navigation.interfaces import INavigationRoot\n from Products.CMFCore.interfaces import ISiteRoot\n from zope.interface import Interface\n \n \n+class INavigationRoot(Interface):\n+    """A marker interface for signaling the navigation root."""\n+\n+\n class IPloneSiteRoot(ISiteRoot, INavigationRoot):\n     """\n     Marker interface for the object which serves as the root of a\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2023-03-06T15:25:07+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.base/commit/e5e8275cb3040693149c01b1a28f470dde97752e

Merge pull request #29 from plone/fix-navigationroot-import

move INavigationRoot from plone.app.layout to plone.base.

Files changed:
A news/Plone-3731.bugfix
M src/plone/base/interfaces/__init__.py
M src/plone/base/interfaces/siteroot.py

b'diff --git a/news/Plone-3731.bugfix b/news/Plone-3731.bugfix\nnew file mode 100644\nindex 0000000..5ee64af\n--- /dev/null\n+++ b/news/Plone-3731.bugfix\n@@ -0,0 +1,2 @@\n+Move interface plone.app.layout.navigation.interfaces.INavigationRoot to plone.base.interfaces.siteroot and add a deprecated import to plone.app.layout.\n+[jensens, gforcarda]\n\\ No newline at end of file\ndiff --git a/src/plone/base/interfaces/__init__.py b/src/plone/base/interfaces/__init__.py\nindex 99dd116..ad92b39 100644\n--- a/src/plone/base/interfaces/__init__.py\n+++ b/src/plone/base/interfaces/__init__.py\n@@ -55,6 +55,7 @@\n from .resources import IBundleRegistry\n from .resources import IResourceRegistry\n from .siteroot import IMigratingPloneSiteRoot\n+from .siteroot import INavigationRoot\n from .siteroot import IPloneSiteRoot\n from .siteroot import ITestCasePloneSiteRoot\n from .structure import INonStructuralFolder\ndiff --git a/src/plone/base/interfaces/siteroot.py b/src/plone/base/interfaces/siteroot.py\nindex 3e63f5f..780e401 100644\n--- a/src/plone/base/interfaces/siteroot.py\n+++ b/src/plone/base/interfaces/siteroot.py\n@@ -1,8 +1,11 @@\n-from plone.app.layout.navigation.interfaces import INavigationRoot\n from Products.CMFCore.interfaces import ISiteRoot\n from zope.interface import Interface\n \n \n+class INavigationRoot(Interface):\n+    """A marker interface for signaling the navigation root."""\n+\n+\n class IPloneSiteRoot(ISiteRoot, INavigationRoot):\n     """\n     Marker interface for the object which serves as the root of a\n'

