Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-16T22:42:10+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/eb2973f43d6cea6a356a1d235f3e80c52dde6490

Update icons chapter

Files changed:
M docs/classic-ui/icons.md
M docs/classic-ui/index.md

b'diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 8fa7df78..f3c525f6 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -1,14 +1,14 @@\n ---\n html_meta:\n-  "description": ""\n-  "property=og:description": ""\n-  "property=og:title": ""\n-  "keywords": ""\n+  "description": "Icon registration and resolving in Plone Classic UI"\n+  "property=og:description": "Icon registration and resolving in Plone Classic UI"\n+  "property=og:title": "Icon registration and resolving"\n+  "keywords": "Plone, Classic UI, classic-ui, icons, svg"\n ---\n \n (classic-ui-icons-label)=\n \n-# Icons in Plone 6 Classic UI\n+# Icons\n \n This sections describes how to work with icons in Plone 6 Classic UI.\n Examples include the following.\n@@ -35,83 +35,75 @@ See the file [package.json](https://github.com/plone/plone.staticresources/blob/\n ## Registration\n \n Icons are registered in Plone\'s registry.\n-This provides an option to customize the contenttype and Plone UI icons by overriding icons via XML.\n+This provides an option to customize the contenttype and Plone UI icons by overriding icons via XML. Plone ships with the following icon registrations by default.\n \n-- [Bootstrap icons](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_bootstrap.xml)\n-- [contenttypes](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_contenttype.xml)\n-- [Plone UI](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n+- [Bootstrap](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_bootstrap.xml)\n+- [Content Type](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_contenttype.xml)\n+- [Mimetype](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_mimetype.xml)\n+- [Language Flags](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_language_flags.xml)\n+- [Country Flags](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_country_flags.xml)\n+- [Plone](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n+- [Toolbar](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n+\n+The icons above are made available as plone resources.\n+For example, the lightning icon\'s resource path is `++plone++bootstrap-icons/lightning.svg`. One could register another icon set under a new name, for example `++plone++fontawesome-icons` and override the registrations above to use them.\n \n \n (classic-ui-icons-contextual-icons-label)=\n \n ## Contextual Icons\n \n-We can define contextual icons to be used in specific places in a website while preserving the default system icons to be used elsewhere throughout the site.\n-To use a different icon than the system default, you would override it without touching the system icon.\n- \n-You should avoid replacing system icons because it may result in an inconsistent user interface.\n-\n-The specific icon name is based on the usage in the system.\n-For example the copy icon is named `plone.icon.plone-copy`.\n+Plone defines contextual icons, which are used in specific places in a website.\n+For example we have an icon registered under the name `plone.icon.plone-copy` in https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml which points to the bootstrap clipboard-plus icon `++plone++bootstrap-icons/clipboard-plus.svg`.\n+To use a different icon than the system default, you can override the registration for `plone.icon.plone-copy` with another icon path.\n \n \n (classic-ui-icons-icon-expression-label)=\n \n ## Icon expression\n \n+```{note}\n+How does this work? We need an example here!\n+```\n+\n - The field `icon_expression` is used again to define icons for actions, contenttypes, and other purposes.\n - Use the icon name for icon expressions.\n \n \n-(classic-ui-icons-customization-label)=\n-\n-## Customization\n-\n-```{todo}\n-Add content for this section\n-```\n-\n-- Add custom icons\n-- Override some of the icons\n-\n+(classic-ui-icons-iconresolver-label)=\n \n-(classic-ui-icons-icon-font-label)=\n+## Iconresolver\n \n-## Icon font\n+The iconresolver take\'s an icon name (without the `plone.icon.` prefix) like `plone-copy` or `align-center` and resolves it to an actual icon.\n \n-```{todo}\n-Add content for this section\n+```\n+http://localhost:8080/Plone/@@iconresolver/plone-copy\n ```\n \n-- Set up a profile to install the icon font.\n-- Use Font Awesome as an example.\n-\n-\n-(classic-ui-icons-iconresolver-label)=\n-\n-## Iconresolver\n-\n-```{todo}\n-What is `iconresolver`?\n-Add to Glossary.\n ```\n+http://localhost:8080/Plone/@@iconresolver/align-center\n+```\n+\n+It can be used via URL or via Python as shown below.\n \n \n (classic-ui-icons-iconresolver-get-icon-url-label)=\n \n-### Get Icon URL\n+### Get icon URL via Python expression\n \n-URL method of `@@icons` view returns the actual URL to the SVG icon.\n-This can be used in an HTML `img` tag, for example.\n+The `url` method of `@@iconresolver` view returns the actual url to the SVG icon. The iconresolver view is globally available in templates under the name `icons`.\n+This can be used in a template for an `img` tag:\n \n ```xml\n-<img src="" tal:attributes="src python:icons.url(\'alarm\')" class="custom-class" alt="foo" />\n+<img class="custom-class"\n+    alt="foo"\n+    src="${python:icons.url(\'alarm\')}" />\n ```\n \n \n (classic-ui-icons-iconresolver-get-icon-tag-label)=\n \n-### Get Icon Tag\n+### Get an inline icon (tag) via Python expression\n \n The tag method is used with `tal:replace`.\n It returns an SVG image.\n@@ -119,15 +111,36 @@ Inline icons can be styled via CSS.\n `tag_class` and `tag_alt` is used to pass in custom classes and an `alt` text.\n \n ```xml\n-<tal:icon tal:replace="structure python:icons.tag(\'archive\', tag_class=\'custom-class\', tag_alt=\'foobar\')" />\n+<tal:icon\n+  tal:replace="structure python:icons.tag(\'alarm\')" />\n+\n+<tal:icon\n+  tal:replace="structure python:icons.tag(\'archive\', tag_class=\'custom-class\', tag_alt=\'foobar\')" />\n+```\n+\n+### Get inline icon (tag) in a template via traverse\n+\n+```xml\n+<tal:icon tal:replace="structure icons/alarm" />\n+```\n+\n+### Get an inline icon (tag) in JavaScript\n+\n+```js\n+const baseUrl = $("body").attr("data-portal-url");\n+let icon = null;\n+if(baseUrl){\n+    const url = baseUrl + "/@@iconresolver";\n+    if (url) {\n+        const resp = await fetch(`${url}/${name}`);\n+        icon = await resp.text();\n+    }\n+}\n ```\n \n-(classic-ui-icons-iconresolver-resource-path-label)=\n+[Mockup](https://github.com/plone/mockup) provides an iconResolver function, defined in core/utils.js,  which does this the same way and has a fallback for demo and testing.\n \n-### Resource Path\n \n-SVG files are available from the resource path.\n-For example, the lightning icon\'s resource path is `++plone++bootstrap-icons/lightning.svg`.\n \n \n (classic-ui-icons-iconresolver-fallback-label)=\ndiff --git a/docs/classic-ui/index.md b/docs/classic-ui/index.md\nindex b0352712..cfc686c2 100644\n--- a/docs/classic-ui/index.md\n+++ b/docs/classic-ui/index.md\n@@ -47,9 +47,10 @@ This chapter is a developer reference manual for working with Classic UI.\n ```{toctree}\n :maxdepth: 2\n \n-static-resources\n theming/index\n+static-resources\n templates\n+templates-global-variables\n views\n viewlets\n forms\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:48:33+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/11fc77356d3a396b4acc43f05578c21cd40968af

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b"diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex f3c525f6..8df6f550 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -35,7 +35,8 @@ See the file [package.json](https://github.com/plone/plone.staticresources/blob/\n ## Registration\n \n Icons are registered in Plone's registry.\n-This provides an option to customize the contenttype and Plone UI icons by overriding icons via XML. Plone ships with the following icon registrations by default.\n+This provides an option to customize the content type and Plone UI icons by overriding icons via XML.\n+Plone ships with the following icon registrations by default.\n \n - [Bootstrap](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_bootstrap.xml)\n - [Content Type](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_contenttype.xml)\n"

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:48:41+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/60c9bc95e3d528cda696a1df933eb6f51ab3583a

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b"diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 8df6f550..02804fe7 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -46,7 +46,7 @@ Plone ships with the following icon registrations by default.\n - [Plone](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n - [Toolbar](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n \n-The icons above are made available as plone resources.\n+The icons above are made available as Plone resources.\n For example, the lightning icon's resource path is `++plone++bootstrap-icons/lightning.svg`. One could register another icon set under a new name, for example `++plone++fontawesome-icons` and override the registrations above to use them.\n \n \n"

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:49:08+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/5711c98273d7f58799b3671f4bd5c45f74f5892d

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b"diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 02804fe7..48ceccce 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -47,7 +47,8 @@ Plone ships with the following icon registrations by default.\n - [Toolbar](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n \n The icons above are made available as Plone resources.\n-For example, the lightning icon's resource path is `++plone++bootstrap-icons/lightning.svg`. One could register another icon set under a new name, for example `++plone++fontawesome-icons` and override the registrations above to use them.\n+For example, the lightning icon's resource path is `++plone++bootstrap-icons/lightning.svg`.\n+One could register another icon set under a new name, for example `++plone++fontawesome-icons`, and override the registrations above to use them.\n \n \n (classic-ui-icons-contextual-icons-label)=\n"

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:49:24+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/8ed9358f79363335821de1cd3ac1b593b4c7ddcd

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b'diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 48ceccce..6b7e823a 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -56,7 +56,7 @@ One could register another icon set under a new name, for example `++plone++font\n ## Contextual Icons\n \n Plone defines contextual icons, which are used in specific places in a website.\n-For example we have an icon registered under the name `plone.icon.plone-copy` in https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml which points to the bootstrap clipboard-plus icon `++plone++bootstrap-icons/clipboard-plus.svg`.\n+For example we have an icon registered under the name `plone.icon.plone-copy` in https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml which points to the bootstrap `clipboard-plus` icon `++plone++bootstrap-icons/clipboard-plus.svg`.\n To use a different icon than the system default, you can override the registration for `plone.icon.plone-copy` with another icon path.\n \n \n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:49:33+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/92f03be1c79500099b3758a3ba0583d34f06a06c

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b'diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 6b7e823a..f30e81ec 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -64,7 +64,7 @@ To use a different icon than the system default, you can override the registrati\n \n ## Icon expression\n \n-```{note}\n+```{todo}\n How does this work? We need an example here!\n ```\n \n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:50:45+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/f0375ccd1320013e6853ae7a66de9b50b9fe2621

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b'diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex f30e81ec..297a6343 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -93,7 +93,8 @@ It can be used via URL or via Python as shown below.\n \n ### Get icon URL via Python expression\n \n-The `url` method of `@@iconresolver` view returns the actual url to the SVG icon. The iconresolver view is globally available in templates under the name `icons`.\n+The `url` method of the `@@iconresolver` view returns the actual URL to the SVG icon.\n+The icon resolver view is globally available in templates under the name `icons`.\n This can be used in a template for an `img` tag:\n \n ```xml\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:50:57+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/a91d36e6ea9c20ba4107fd7f28efb8edf1f3a4e3

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b'diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 297a6343..95596c8f 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -111,7 +111,7 @@ This can be used in a template for an `img` tag:\n The tag method is used with `tal:replace`.\n It returns an SVG image.\n Inline icons can be styled via CSS.\n-`tag_class` and `tag_alt` is used to pass in custom classes and an `alt` text.\n+`tag_class` and `tag_alt` are used to pass in custom classes and an `alt` text.\n \n ```xml\n <tal:icon\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T14:51:03+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/5abcaae4758ae074d98d7681f69e82cc557f4544

Update docs/classic-ui/icons.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/icons.md

b'diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 95596c8f..ddf327bb 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -141,7 +141,7 @@ if(baseUrl){\n }\n ```\n \n-[Mockup](https://github.com/plone/mockup) provides an iconResolver function, defined in core/utils.js,  which does this the same way and has a fallback for demo and testing.\n+[Mockup](https://github.com/plone/mockup) provides an `iconResolver` function, defined in `core/utils.js`,  which does this the same way and has a fallback for demo and testing.\n \n \n \n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-04-06T17:27:31+03:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/346107bdf4af774f2e1cef953a0d9c967405b8e1

Update docs/classic-ui/icons.md

Co-authored-by: Jens W. Klein &lt;jk@kleinundpartner.at&gt;

Files changed:
M docs/classic-ui/icons.md

b"diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex ddf327bb..102fb35a 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -47,7 +47,7 @@ Plone ships with the following icon registrations by default.\n - [Toolbar](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n \n The icons above are made available as Plone resources.\n-For example, the lightning icon's resource path is `++plone++bootstrap-icons/lightning.svg`.\n+For example, the icon registered as `lightning` (in XML with prefix full name is `plone.icon.lighting`) resource path is `++plone++bootstrap-icons/lightning.svg`.\n One could register another icon set under a new name, for example `++plone++fontawesome-icons`, and override the registrations above to use them.\n \n \n"

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-04-07T12:20:07+03:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/81ad70e09ced80c792b28a6366afc6c09e448352

Optimize icons chapter

Files changed:
M docs/classic-ui/icons.md

b"diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 102fb35a..270778d5 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -80,13 +80,10 @@ The iconresolver take's an icon name (without the `plone.icon.` prefix) like `pl\n \n ```\n http://localhost:8080/Plone/@@iconresolver/plone-copy\n-```\n-\n-```\n http://localhost:8080/Plone/@@iconresolver/align-center\n ```\n \n-It can be used via URL or via Python as shown below.\n+The iconresolver can be used via URL or via Python as shown in section {ref}`classic-ui-icons-iconresolver-get-icon-url-label` and {ref}`classic-ui-icons-iconresolver-get-icon-tag-label`.\n \n \n (classic-ui-icons-iconresolver-get-icon-url-label)=\n"

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-04-07T12:21:19+03:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/255c87615535d639fa765421a6c79b864a6e31da

Merge pull request #1203 from plone/classic-ui-icons

Update icons chapter

Files changed:
M docs/classic-ui/icons.md
M docs/classic-ui/index.md

b'diff --git a/docs/classic-ui/icons.md b/docs/classic-ui/icons.md\nindex 8fa7df78..270778d5 100644\n--- a/docs/classic-ui/icons.md\n+++ b/docs/classic-ui/icons.md\n@@ -1,14 +1,14 @@\n ---\n html_meta:\n-  "description": ""\n-  "property=og:description": ""\n-  "property=og:title": ""\n-  "keywords": ""\n+  "description": "Icon registration and resolving in Plone Classic UI"\n+  "property=og:description": "Icon registration and resolving in Plone Classic UI"\n+  "property=og:title": "Icon registration and resolving"\n+  "keywords": "Plone, Classic UI, classic-ui, icons, svg"\n ---\n \n (classic-ui-icons-label)=\n \n-# Icons in Plone 6 Classic UI\n+# Icons\n \n This sections describes how to work with icons in Plone 6 Classic UI.\n Examples include the following.\n@@ -35,99 +35,112 @@ See the file [package.json](https://github.com/plone/plone.staticresources/blob/\n ## Registration\n \n Icons are registered in Plone\'s registry.\n-This provides an option to customize the contenttype and Plone UI icons by overriding icons via XML.\n+This provides an option to customize the content type and Plone UI icons by overriding icons via XML.\n+Plone ships with the following icon registrations by default.\n \n-- [Bootstrap icons](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_bootstrap.xml)\n-- [contenttypes](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_contenttype.xml)\n-- [Plone UI](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n+- [Bootstrap](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_bootstrap.xml)\n+- [Content Type](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_contenttype.xml)\n+- [Mimetype](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_mimetype.xml)\n+- [Language Flags](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_language_flags.xml)\n+- [Country Flags](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_country_flags.xml)\n+- [Plone](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n+- [Toolbar](https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml)\n+\n+The icons above are made available as Plone resources.\n+For example, the icon registered as `lightning` (in XML with prefix full name is `plone.icon.lighting`) resource path is `++plone++bootstrap-icons/lightning.svg`.\n+One could register another icon set under a new name, for example `++plone++fontawesome-icons`, and override the registrations above to use them.\n \n \n (classic-ui-icons-contextual-icons-label)=\n \n ## Contextual Icons\n \n-We can define contextual icons to be used in specific places in a website while preserving the default system icons to be used elsewhere throughout the site.\n-To use a different icon than the system default, you would override it without touching the system icon.\n- \n-You should avoid replacing system icons because it may result in an inconsistent user interface.\n-\n-The specific icon name is based on the usage in the system.\n-For example the copy icon is named `plone.icon.plone-copy`.\n+Plone defines contextual icons, which are used in specific places in a website.\n+For example we have an icon registered under the name `plone.icon.plone-copy` in https://github.com/plone/plone.staticresources/blob/master/src/plone/staticresources/profiles/default/registry/icons_plone.xml which points to the bootstrap `clipboard-plus` icon `++plone++bootstrap-icons/clipboard-plus.svg`.\n+To use a different icon than the system default, you can override the registration for `plone.icon.plone-copy` with another icon path.\n \n \n (classic-ui-icons-icon-expression-label)=\n \n ## Icon expression\n \n-- The field `icon_expression` is used again to define icons for actions, contenttypes, and other purposes.\n-- Use the icon name for icon expressions.\n-\n-\n-(classic-ui-icons-customization-label)=\n-\n-## Customization\n-\n-```{todo}\n-Add content for this section\n-```\n-\n-- Add custom icons\n-- Override some of the icons\n-\n-\n-(classic-ui-icons-icon-font-label)=\n-\n-## Icon font\n-\n ```{todo}\n-Add content for this section\n+How does this work? We need an example here!\n ```\n \n-- Set up a profile to install the icon font.\n-- Use Font Awesome as an example.\n+- The field `icon_expression` is used again to define icons for actions, contenttypes, and other purposes.\n+- Use the icon name for icon expressions.\n \n \n (classic-ui-icons-iconresolver-label)=\n \n ## Iconresolver\n \n-```{todo}\n-What is `iconresolver`?\n-Add to Glossary.\n+The iconresolver take\'s an icon name (without the `plone.icon.` prefix) like `plone-copy` or `align-center` and resolves it to an actual icon.\n+\n+```\n+http://localhost:8080/Plone/@@iconresolver/plone-copy\n+http://localhost:8080/Plone/@@iconresolver/align-center\n ```\n \n+The iconresolver can be used via URL or via Python as shown in section {ref}`classic-ui-icons-iconresolver-get-icon-url-label` and {ref}`classic-ui-icons-iconresolver-get-icon-tag-label`.\n+\n \n (classic-ui-icons-iconresolver-get-icon-url-label)=\n \n-### Get Icon URL\n+### Get icon URL via Python expression\n \n-URL method of `@@icons` view returns the actual URL to the SVG icon.\n-This can be used in an HTML `img` tag, for example.\n+The `url` method of the `@@iconresolver` view returns the actual URL to the SVG icon.\n+The icon resolver view is globally available in templates under the name `icons`.\n+This can be used in a template for an `img` tag:\n \n ```xml\n-<img src="" tal:attributes="src python:icons.url(\'alarm\')" class="custom-class" alt="foo" />\n+<img class="custom-class"\n+    alt="foo"\n+    src="${python:icons.url(\'alarm\')}" />\n ```\n \n \n (classic-ui-icons-iconresolver-get-icon-tag-label)=\n \n-### Get Icon Tag\n+### Get an inline icon (tag) via Python expression\n \n The tag method is used with `tal:replace`.\n It returns an SVG image.\n Inline icons can be styled via CSS.\n-`tag_class` and `tag_alt` is used to pass in custom classes and an `alt` text.\n+`tag_class` and `tag_alt` are used to pass in custom classes and an `alt` text.\n \n ```xml\n-<tal:icon tal:replace="structure python:icons.tag(\'archive\', tag_class=\'custom-class\', tag_alt=\'foobar\')" />\n+<tal:icon\n+  tal:replace="structure python:icons.tag(\'alarm\')" />\n+\n+<tal:icon\n+  tal:replace="structure python:icons.tag(\'archive\', tag_class=\'custom-class\', tag_alt=\'foobar\')" />\n+```\n+\n+### Get inline icon (tag) in a template via traverse\n+\n+```xml\n+<tal:icon tal:replace="structure icons/alarm" />\n+```\n+\n+### Get an inline icon (tag) in JavaScript\n+\n+```js\n+const baseUrl = $("body").attr("data-portal-url");\n+let icon = null;\n+if(baseUrl){\n+    const url = baseUrl + "/@@iconresolver";\n+    if (url) {\n+        const resp = await fetch(`${url}/${name}`);\n+        icon = await resp.text();\n+    }\n+}\n ```\n \n-(classic-ui-icons-iconresolver-resource-path-label)=\n+[Mockup](https://github.com/plone/mockup) provides an `iconResolver` function, defined in `core/utils.js`,  which does this the same way and has a fallback for demo and testing.\n \n-### Resource Path\n \n-SVG files are available from the resource path.\n-For example, the lightning icon\'s resource path is `++plone++bootstrap-icons/lightning.svg`.\n \n \n (classic-ui-icons-iconresolver-fallback-label)=\ndiff --git a/docs/classic-ui/index.md b/docs/classic-ui/index.md\nindex b0352712..cfc686c2 100644\n--- a/docs/classic-ui/index.md\n+++ b/docs/classic-ui/index.md\n@@ -47,9 +47,10 @@ This chapter is a developer reference manual for working with Classic UI.\n ```{toctree}\n :maxdepth: 2\n \n-static-resources\n theming/index\n+static-resources\n templates\n+templates-global-variables\n views\n viewlets\n forms\n'

