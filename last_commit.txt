Repository: mockup


Branch: refs/heads/master
Date: 2022-05-18T00:05:38+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/c268d849553034787df73d0d59c3c85b06981023

Release new version.

Files changed:
M CHANGES.md
M package.json

b'diff --git a/CHANGES.md b/CHANGES.md\nindex 5787679a4..7c3bd1940 100644\n--- a/CHANGES.md\n+++ b/CHANGES.md\n@@ -1,4 +1,66 @@\n \n+\n+### [5.0.1-alpha.0](https://github.com/plone/mockup/compare/5.0.0-alpha.0...5.0.1-alpha.0) (2022-05-17)\n+\n+\n+### Features\n+\n+\n+* **Build:** Use dynamic module federation. ([6aefc4b](https://github.com/plone/mockup/commit/6aefc4bd108b37aa2c292f6243e60a1005c8517f))\n+\n+\n+\n+### Bug Fixes\n+\n+\n+* **relateditems:** Move Select2 out of init. ([0a7c631](https://github.com/plone/mockup/commit/0a7c631d30553a43a43d616f3947ac0bc6232113))\n+If it wasn\'t already registered, it would register and scan the document now.\n+If there were previous relateditems already modifying the DOM structure\n+and placing pat-select2 classes to some items, the import here would try\n+to initialize them.\n+But those pat-select2 items were meant to be initialized via the\n+Patternslib API and not automatically and are missing some configuration\n+needed by select2 (query attribute...).\n+By moving the Select2 out of the init and importing it early fixes this\n+problem.\n+\n+Note: This happened in plone.app.mosaic with module federation.\n+pat-select2 was already directly imported by the main Mockup bundle.\n+But since we didn\'t have a global pattern registry, the pattern was\n+re-initialized where it wouldn\'t have to.\n+Since the change in Patternslib 8.0.0 with a global pattern registry\n+this fix might become obsolete.\n+\n+However, we should have an eye on dynamic pattern imports immediately\n+registering and scanning the docment and possibly prevent that in some\n+way.\n+\n+See: https://github.com/Patternslib/Patterns/issues/961\n+\n+\n+### Maintenance\n+\n+\n+* **Build:** Add build:webpack:dev:plone as package.json script to allow for a Plone development build. ([acf9839](https://github.com/plone/mockup/commit/acf9839ddf5b29c34068085ce3ac8a4d8a90f0c7))\n+\n+\n+* **Build:** Add prerelease target in Makefile. ([ea8d4e4](https://github.com/plone/mockup/commit/ea8d4e4fc2f87f1757ffd984be00926080f8795b))\n+\n+\n+* **Build:** Upgrade dependencies. ([2312ee5](https://github.com/plone/mockup/commit/2312ee55eb90340bc8fb35db102f7befd71b81d4))\n+\n+\n+* **Cleanup:** Cleanup unused parameter in webpack config. ([f749505](https://github.com/plone/mockup/commit/f7495052f02f9fcbed0e56308359d9ad64b7a679))\n+\n+\n+* **Cleanup:** Remove pat-content-browser. ([abd58f7](https://github.com/plone/mockup/commit/abd58f77e0a8cc7ff5807ce6ea322a38fa7c5b28))\n+This can be provided by an external bundle.\n+\n+* **Makefile:** Add watch-plone and bundle-plone targets to Makefile. ([62332d1](https://github.com/plone/mockup/commit/62332d1914de6ea57829f2cf4e5f908cd7f69d98))\n+\n+\n+* **pat querystring:** Cleanup - direct import of Select2 is not necessary. ([13d0e0d](https://github.com/plone/mockup/commit/13d0e0d9535c958eaf662308477b985d1a6c9225))\n+\n ## [5.0.0-alpha.0](https://github.com/plone/mockup/compare/3.2.2...5.0.0-alpha.0) (2022-05-17)\n \n ### Breaking Changes\n@@ -15,4 +77,4 @@\n \n * Remove Mockup\'s ``pat-eventedit``, which was unused. Instead use Patternslib\' ``pat-date-picker``, ``pat-depends`` and ``pat-validation``.\n \n-* Restructure searchbox markup for mobile navigation as offcanvas sidebar.\n+* Restructure searchbox markup for mobile navigation as offcanvas sidebar.\n\\ No newline at end of file\ndiff --git a/package.json b/package.json\nindex cee7354f0..96871fe0a 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n     "name": "@plone/mockup",\n-    "version": "5.0.0-alpha.0",\n+    "version": "5.0.1-alpha.0",\n     "description": "A collection of client side patterns for faster and easier web development",\n     "license": "BSD-3-Clause",\n     "main": "./src/patterns.js",\n'

