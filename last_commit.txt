Repository: Products.MimetypesRegistry


Branch: refs/heads/master
Date: 2017-06-10T13:03:47+02:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/Products.MimetypesRegistry/commit/69f50965411641f256e876619a72acf7839fffc5

Fix MimeTypeException deprecation warnings

Files changed:
M CHANGES.rst
M Products/MimetypesRegistry/MimeTypesRegistry.py
M Products/MimetypesRegistry/__init__.py
M Products/MimetypesRegistry/mime_types/py_mimetypes.py
M Products/MimetypesRegistry/mime_types/smi_mimetypes.py
M Products/MimetypesRegistry/mime_types/suppl_mimetypes.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 19ae1dc..2379ef3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Fix MimeTypeException deprecation warnings
+  [ale-rt]
 
 
 2.1 (2016-11-01)
diff --git a/Products/MimetypesRegistry/MimeTypesRegistry.py b/Products/MimetypesRegistry/MimeTypesRegistry.py
index cdae7b1..6d8a6b2 100644
--- a/Products/MimetypesRegistry/MimeTypesRegistry.py
+++ b/Products/MimetypesRegistry/MimeTypesRegistry.py
@@ -9,13 +9,13 @@
 from Products.CMFCore.permissions import ManagePortal
 from Products.CMFCore.utils import registerToolInterface
 from Products.CMFCore.utils import UniqueObject
-from Products.MimetypesRegistry.common import MimeTypeException
 from Products.MimetypesRegistry.encoding import guess_encoding
 from Products.MimetypesRegistry.interfaces import IClassifier
 from Products.MimetypesRegistry.interfaces import IMimetype
 from Products.MimetypesRegistry.interfaces import IMimetypesRegistry
 from Products.MimetypesRegistry.interfaces import IMimetypesRegistryTool
 from Products.MimetypesRegistry.interfaces import ISourceAdapter
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 from Products.MimetypesRegistry.mime_types import initialize
 from Products.MimetypesRegistry.mime_types import magic
 from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
diff --git a/Products/MimetypesRegistry/__init__.py b/Products/MimetypesRegistry/__init__.py
index 60cb723..00adefe 100644
--- a/Products/MimetypesRegistry/__init__.py
+++ b/Products/MimetypesRegistry/__init__.py
@@ -2,7 +2,7 @@
 from AccessControl.SecurityInfo import allow_class
 from AccessControl.SecurityInfo import allow_module
 from Products.MimetypesRegistry import MimeTypesRegistry
-from Products.MimetypesRegistry.interfaces import MimeTypeException  # noqa
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 
 
 # remove when Archetypes are removed:
diff --git a/Products/MimetypesRegistry/mime_types/py_mimetypes.py b/Products/MimetypesRegistry/mime_types/py_mimetypes.py
index b1f69db..5cc874e 100644
--- a/Products/MimetypesRegistry/mime_types/py_mimetypes.py
+++ b/Products/MimetypesRegistry/mime_types/py_mimetypes.py
@@ -1,5 +1,5 @@
 # -*- coding: utf-8 -*-
-from Products.MimetypesRegistry.common import MimeTypeException
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 from Products.MimetypesRegistry.MimeTypeItem import guess_icon_path
 from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
 from zope.contenttype import add_files
diff --git a/Products/MimetypesRegistry/mime_types/smi_mimetypes.py b/Products/MimetypesRegistry/mime_types/smi_mimetypes.py
index 5510494..487e9dc 100644
--- a/Products/MimetypesRegistry/mime_types/smi_mimetypes.py
+++ b/Products/MimetypesRegistry/mime_types/smi_mimetypes.py
@@ -119,8 +119,8 @@ def readSMIFile():
 
 def initialize(registry):
     global mimetypes
+    from Products.MimetypesRegistry.interfaces import MimeTypeException
     from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
-    from Products.MimetypesRegistry.common import MimeTypeException
     # Find things that are not in the specially registered mimetypes
     # and add them using some default policy, none of these will impl
     # iclassifier
diff --git a/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py b/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py
index 59d8b7c..b67ebd2 100644
--- a/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py
+++ b/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py
@@ -1,5 +1,5 @@
 # -*- coding: utf-8 -*-
-from Products.MimetypesRegistry.common import MimeTypeException
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
 
 


Repository: Products.MimetypesRegistry


Branch: refs/heads/master
Date: 2017-06-10T22:50:23+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.MimetypesRegistry/commit/db8c93b73be61486dcd57a13a6957da1d461cb7d

Merge pull request #9 from plone/fix-deprecation-warnings

Fix MimeTypeException deprecation warnings

Files changed:
M CHANGES.rst
M Products/MimetypesRegistry/MimeTypesRegistry.py
M Products/MimetypesRegistry/__init__.py
M Products/MimetypesRegistry/mime_types/py_mimetypes.py
M Products/MimetypesRegistry/mime_types/smi_mimetypes.py
M Products/MimetypesRegistry/mime_types/suppl_mimetypes.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 19ae1dc..2379ef3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Fix MimeTypeException deprecation warnings
+  [ale-rt]
 
 
 2.1 (2016-11-01)
diff --git a/Products/MimetypesRegistry/MimeTypesRegistry.py b/Products/MimetypesRegistry/MimeTypesRegistry.py
index cdae7b1..6d8a6b2 100644
--- a/Products/MimetypesRegistry/MimeTypesRegistry.py
+++ b/Products/MimetypesRegistry/MimeTypesRegistry.py
@@ -9,13 +9,13 @@
 from Products.CMFCore.permissions import ManagePortal
 from Products.CMFCore.utils import registerToolInterface
 from Products.CMFCore.utils import UniqueObject
-from Products.MimetypesRegistry.common import MimeTypeException
 from Products.MimetypesRegistry.encoding import guess_encoding
 from Products.MimetypesRegistry.interfaces import IClassifier
 from Products.MimetypesRegistry.interfaces import IMimetype
 from Products.MimetypesRegistry.interfaces import IMimetypesRegistry
 from Products.MimetypesRegistry.interfaces import IMimetypesRegistryTool
 from Products.MimetypesRegistry.interfaces import ISourceAdapter
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 from Products.MimetypesRegistry.mime_types import initialize
 from Products.MimetypesRegistry.mime_types import magic
 from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
diff --git a/Products/MimetypesRegistry/__init__.py b/Products/MimetypesRegistry/__init__.py
index 60cb723..00adefe 100644
--- a/Products/MimetypesRegistry/__init__.py
+++ b/Products/MimetypesRegistry/__init__.py
@@ -2,7 +2,7 @@
 from AccessControl.SecurityInfo import allow_class
 from AccessControl.SecurityInfo import allow_module
 from Products.MimetypesRegistry import MimeTypesRegistry
-from Products.MimetypesRegistry.interfaces import MimeTypeException  # noqa
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 
 
 # remove when Archetypes are removed:
diff --git a/Products/MimetypesRegistry/mime_types/py_mimetypes.py b/Products/MimetypesRegistry/mime_types/py_mimetypes.py
index b1f69db..5cc874e 100644
--- a/Products/MimetypesRegistry/mime_types/py_mimetypes.py
+++ b/Products/MimetypesRegistry/mime_types/py_mimetypes.py
@@ -1,5 +1,5 @@
 # -*- coding: utf-8 -*-
-from Products.MimetypesRegistry.common import MimeTypeException
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 from Products.MimetypesRegistry.MimeTypeItem import guess_icon_path
 from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
 from zope.contenttype import add_files
diff --git a/Products/MimetypesRegistry/mime_types/smi_mimetypes.py b/Products/MimetypesRegistry/mime_types/smi_mimetypes.py
index 5510494..487e9dc 100644
--- a/Products/MimetypesRegistry/mime_types/smi_mimetypes.py
+++ b/Products/MimetypesRegistry/mime_types/smi_mimetypes.py
@@ -119,8 +119,8 @@ def readSMIFile():
 
 def initialize(registry):
     global mimetypes
+    from Products.MimetypesRegistry.interfaces import MimeTypeException
     from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
-    from Products.MimetypesRegistry.common import MimeTypeException
     # Find things that are not in the specially registered mimetypes
     # and add them using some default policy, none of these will impl
     # iclassifier
diff --git a/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py b/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py
index 59d8b7c..b67ebd2 100644
--- a/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py
+++ b/Products/MimetypesRegistry/mime_types/suppl_mimetypes.py
@@ -1,5 +1,5 @@
 # -*- coding: utf-8 -*-
-from Products.MimetypesRegistry.common import MimeTypeException
+from Products.MimetypesRegistry.interfaces import MimeTypeException
 from Products.MimetypesRegistry.MimeTypeItem import MimeTypeItem
 
 


