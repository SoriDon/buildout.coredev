Repository: plone.restapi


Branch: refs/heads/master
Date: 2019-08-30T12:08:12+02:00
Author: Lukas Graf (lukasgraf) <lukas.graf@4teamwork.ch>
Commit: https://github.com/plone/plone.restapi/commit/e711b743d908187b7e446c77b2e516f54aa6da0a

Add @querystring endpoint that dumps p.a.querystring config (#759)

* Added docs for the @querystring endpoint.

* Add @querystring endpoint that dumps p.a.querystring config.

Files changed:
A docs/source/querystring.rst
A news/754.feature
A src/plone/restapi/services/querystring/__init__.py
A src/plone/restapi/services/querystring/configure.zcml
A src/plone/restapi/services/querystring/get.py
A src/plone/restapi/tests/http-examples/querystring_get.req
A src/plone/restapi/tests/http-examples/querystring_get.resp
A src/plone/restapi/tests/test_services_querystring.py
M docs/source/index.rst
M src/plone/restapi/services/configure.zcml
M src/plone/restapi/tests/test_documentation.py

b'diff --git a/docs/source/index.rst b/docs/source/index.rst\nindex 882b2765..a44836c0 100644\n--- a/docs/source/index.rst\n+++ b/docs/source/index.rst\n@@ -46,6 +46,7 @@ Contents\n    vocabularies\n    controlpanels\n    tiles\n+   querystring\n    customization\n    conventions\n    translations\ndiff --git a/docs/source/querystring.rst b/docs/source/querystring.rst\nnew file mode 100644\nindex 00000000..bf6d3098\n--- /dev/null\n+++ b/docs/source/querystring.rst\n@@ -0,0 +1,33 @@\n+Querystring\n+===========\n+\n+The ``@querystring`` endpoint returns the querystring config of ``plone.app.querystring``.\n+\n+Instead of simply exposing the querystring related ``field`` and ``operation``\n+entries from the registry, it serializes them the same way the\n+``@@querybuilderjsonconfig`` view from p.a.querystring does.\n+\n+This form is structured in a more conventient way for frontends to process:\n+\n+- **Vocabularies** will be resolved, and their values will be inlined in the\n+  ``values`` property\n+- **Operations** will be inlined as well. The ``operations`` property will contain\n+  the list of operations (dotted names), and the ``operators`` property will\n+  contain the full definition of each of those operations supported by that field.\n+- Indexes that are flagged as **sortable** are listed in a dedicated top-level property\n+  ``sortable_indexes``\n+\n+Available options for the querystring in a Plone site can be queried by interacting with the ``/@querystring`` endpoint on portal root:\n+\n+Querystring Config\n+------------------\n+\n+To retrieve all querystring options in the portal, call the ``/@querystring`` endpoint with a ``GET`` request:\n+\n+..  http:example:: curl httpie python-requests\n+    :request: ../../src/plone/restapi/tests/http-examples/querystring_get.req\n+\n+The server will respond with all querystring options in the portal:\n+\n+.. literalinclude:: ../../src/plone/restapi/tests/http-examples/querystring_get.resp\n+   :language: http\ndiff --git a/news/754.feature b/news/754.feature\nnew file mode 100644\nindex 00000000..7168c0cb\n--- /dev/null\n+++ b/news/754.feature\n@@ -0,0 +1,2 @@\n+Add @querystring endpoint that dumps p.a.querystring config.\n+[lgraf]\ndiff --git a/src/plone/restapi/services/configure.zcml b/src/plone/restapi/services/configure.zcml\nindex 19b45f0b..6ecd2c9d 100644\n--- a/src/plone/restapi/services/configure.zcml\n+++ b/src/plone/restapi/services/configure.zcml\n@@ -19,6 +19,7 @@\n   <include package=".history"/>\n   <include package=".locking" />\n   <include package=".principals"/>\n+  <include package=".querystring"/>\n   <include package=".registry"/>\n   <include package=".roles"/>\n   <include package=".search"/>\ndiff --git a/src/plone/restapi/services/querystring/__init__.py b/src/plone/restapi/services/querystring/__init__.py\nnew file mode 100644\nindex 00000000..e69de29b\ndiff --git a/src/plone/restapi/services/querystring/configure.zcml b/src/plone/restapi/services/querystring/configure.zcml\nnew file mode 100644\nindex 00000000..3e250414\n--- /dev/null\n+++ b/src/plone/restapi/services/querystring/configure.zcml\n@@ -0,0 +1,13 @@\n+<configure\n+    xmlns="http://namespaces.zope.org/zope"\n+    xmlns:plone="http://namespaces.plone.org/plone">\n+\n+  <plone:service\n+    method="GET"\n+    for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n+    factory=".get.QuerystringGet"\n+    name="@querystring"\n+    permission="zope2.View"\n+    />\n+\n+</configure>\ndiff --git a/src/plone/restapi/services/querystring/get.py b/src/plone/restapi/services/querystring/get.py\nnew file mode 100644\nindex 00000000..57b5adfa\n--- /dev/null\n+++ b/src/plone/restapi/services/querystring/get.py\n@@ -0,0 +1,23 @@\n+# -*- coding: utf-8 -*-\n+from plone.app.querystring.interfaces import IQuerystringRegistryReader\n+from plone.registry.interfaces import IRegistry\n+from plone.restapi.services import Service\n+from zope.component import getMultiAdapter\n+from zope.component import getUtility\n+\n+\n+class QuerystringGet(Service):\n+    """Returns the querystring configuration.\n+\n+    This basically does the same thing as the \'@@querybuilderjsonconfig\'\n+    view from p.a.querystring, but exposes the config via the REST API.\n+    """\n+\n+    def reply(self):\n+        registry = getUtility(IRegistry)\n+        reader = getMultiAdapter(\n+            (registry, self.request), IQuerystringRegistryReader)\n+\n+        result = reader()\n+        result[\'@id\'] = \'%s/@querystring\' % self.context.absolute_url()\n+        return result\ndiff --git a/src/plone/restapi/tests/http-examples/querystring_get.req b/src/plone/restapi/tests/http-examples/querystring_get.req\nnew file mode 100644\nindex 00000000..dfe3c0d3\n--- /dev/null\n+++ b/src/plone/restapi/tests/http-examples/querystring_get.req\n@@ -0,0 +1,3 @@\n+GET /plone/@querystring HTTP/1.1\n+Accept: application/json\n+Authorization: Basic YWRtaW46c2VjcmV0\ndiff --git a/src/plone/restapi/tests/http-examples/querystring_get.resp b/src/plone/restapi/tests/http-examples/querystring_get.resp\nnew file mode 100644\nindex 00000000..d71dab54\n--- /dev/null\n+++ b/src/plone/restapi/tests/http-examples/querystring_get.resp\n@@ -0,0 +1,1620 @@\n+HTTP/1.1 200 OK\n+Content-Type: application/json\n+\n+{\n+  "@id": "http://localhost:55001/plone/@querystring", \n+  "indexes": {\n+    "Creator": {\n+      "description": "The person that created an item", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.string.currentUser", \n+        "plone.app.querystring.operation.selection.any"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.selection.any": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Matches any of", \n+          "widget": "MultipleSelectionWidget"\n+        }, \n+        "plone.app.querystring.operation.string.currentUser": {\n+          "description": "The user viewing the querystring results", \n+          "operation": "plone.app.querystring.queryparser._currentUser", \n+          "title": "Current logged in user", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Creator", \n+      "values": {}, \n+      "vocabulary": "plone.app.vocabularies.Users"\n+    }, \n+    "Description": {\n+      "description": "An item\'s description", \n+      "enabled": true, \n+      "group": "Text", \n+      "operations": [\n+        "plone.app.querystring.operation.string.contains"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.contains": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Contains", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Description", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "SearchableText": {\n+      "description": "Text search of an item\'s contents", \n+      "enabled": true, \n+      "group": "Text", \n+      "operations": [\n+        "plone.app.querystring.operation.string.contains"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.contains": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Contains", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Searchable text", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "Subject": {\n+      "description": "Tags are used for organization of content", \n+      "enabled": true, \n+      "group": "Text", \n+      "operations": [\n+        "plone.app.querystring.operation.selection.any", \n+        "plone.app.querystring.operation.selection.all"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.selection.all": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._all", \n+          "title": "Matches all of", \n+          "widget": "MultipleSelectionWidget"\n+        }, \n+        "plone.app.querystring.operation.selection.any": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Matches any of", \n+          "widget": "MultipleSelectionWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Tag", \n+      "values": {}, \n+      "vocabulary": "plone.app.vocabularies.Keywords"\n+    }, \n+    "Title": {\n+      "description": "Text search of an item\'s title", \n+      "enabled": true, \n+      "group": "Text", \n+      "operations": [\n+        "plone.app.querystring.operation.string.contains"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.contains": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Contains", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Title", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "created": {\n+      "description": "The date an item was created", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Creation date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "effective": {\n+      "description": "The time and date an item was first published", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Effective date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "effectiveRange": {\n+      "description": "Querying this is undefined", \n+      "enabled": false, \n+      "group": "Dates", \n+      "operations": [], \n+      "operators": {}, \n+      "sortable": false, \n+      "title": "Effective range", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "end": {\n+      "description": "The end date and time of an event", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Event end date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "expires": {\n+      "description": "The time and date an item was expired", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Expiration date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "getId": {\n+      "description": "The short name of an item (used in the url)", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.string.is"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.is": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._equal", \n+          "title": "Is", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Short name (id)", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "getObjPositionInParent": {\n+      "description": "The order of an item in its parent folder", \n+      "enabled": false, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.int.is", \n+        "plone.app.querystring.operation.int.lessThan", \n+        "plone.app.querystring.operation.int.largerThan"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.int.is": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._intEqual", \n+          "title": "Equals", \n+          "widget": "StringWidget"\n+        }, \n+        "plone.app.querystring.operation.int.largerThan": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._intLargerThan", \n+          "title": "Larger than", \n+          "widget": "StringWidget"\n+        }, \n+        "plone.app.querystring.operation.int.lessThan": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._intLessThan", \n+          "title": "Less than", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Order in folder", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "getRawRelatedItems": {\n+      "description": "Find items related to the selected items", \n+      "enabled": false, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.reference.is"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.reference.is": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._referenceIs", \n+          "title": "Equals", \n+          "widget": "ReferenceWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Related To", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "isDefaultPage": {\n+      "description": "Find items that are the default view for their containing folder.", \n+      "enabled": false, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.boolean.isTrue", \n+        "plone.app.querystring.operation.boolean.isFalse"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.boolean.isFalse": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._isFalse", \n+          "title": "No", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.boolean.isTrue": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._isTrue", \n+          "title": "Yes", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Default Page", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "isFolderish": {\n+      "description": "Find items that can contain other objects", \n+      "enabled": false, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.boolean.isTrue", \n+        "plone.app.querystring.operation.boolean.isFalse"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.boolean.isFalse": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._isFalse", \n+          "title": "No", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.boolean.isTrue": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._isTrue", \n+          "title": "Yes", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Folder-like", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "modified": {\n+      "description": "The time and date an item was last modified", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Modification date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "path": {\n+      "description": "The location of an item ", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.string.absolutePath", \n+        "plone.app.querystring.operation.string.path", \n+        "plone.app.querystring.operation.string.relativePath"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.absolutePath": {\n+          "description": "Location in the site structure", \n+          "operation": "plone.app.querystring.queryparser._absolutePath", \n+          "title": "Absolute path", \n+          "widget": "ReferenceWidget"\n+        }, \n+        "plone.app.querystring.operation.string.path": {\n+          "description": "Location in the navigation structure", \n+          "operation": "plone.app.querystring.queryparser._navigationPath", \n+          "title": "Navigation path", \n+          "widget": "ReferenceWidget"\n+        }, \n+        "plone.app.querystring.operation.string.relativePath": {\n+          "description": "Use \'../\' to navigate to parent objects.", \n+          "operation": "plone.app.querystring.queryparser._relativePath", \n+          "title": "Relative path", \n+          "widget": "RelativePathWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Location", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "portal_type": {\n+      "description": "An item\'s type (e.g. Event)", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.selection.any"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.selection.any": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Matches any of", \n+          "widget": "MultipleSelectionWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Type", \n+      "values": {\n+        "ATTestDocument": {\n+          "title": "Test Document"\n+        }, \n+        "ATTestFolder": {\n+          "title": "Test Folder"\n+        }, \n+        "Collection": {\n+          "title": "Collection"\n+        }, \n+        "DXTestDocument": {\n+          "title": "DX Test Document"\n+        }, \n+        "Discussion Item": {\n+          "title": "Comment"\n+        }, \n+        "Document": {\n+          "title": "Page"\n+        }, \n+        "Event": {\n+          "title": "Event"\n+        }, \n+        "File": {\n+          "title": "File"\n+        }, \n+        "Folder": {\n+          "title": "Folder"\n+        }, \n+        "Image": {\n+          "title": "Image"\n+        }, \n+        "Link": {\n+          "title": "Link"\n+        }, \n+        "News Item": {\n+          "title": "News Item"\n+        }\n+      }, \n+      "vocabulary": "plone.app.vocabularies.ReallyUserFriendlyTypes"\n+    }, \n+    "review_state": {\n+      "description": "An item\'s workflow state (e.g.published)", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.selection.any"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.selection.any": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Matches any of", \n+          "widget": "MultipleSelectionWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Review state", \n+      "values": {\n+        "external": {\n+          "title": "Externally visible [external]"\n+        }, \n+        "internal": {\n+          "title": "Internal draft [internal]"\n+        }, \n+        "internally_published": {\n+          "title": "Internally published [internally_published]"\n+        }, \n+        "pending": {\n+          "title": "Pending [pending]"\n+        }, \n+        "private": {\n+          "title": "Private [private]"\n+        }, \n+        "published": {\n+          "title": "Published with accent \\u00e9 [published]"\n+        }, \n+        "visible": {\n+          "title": "Public draft [visible]"\n+        }\n+      }, \n+      "vocabulary": "plone.app.vocabularies.WorkflowStates"\n+    }, \n+    "show_inactive": {\n+      "description": "Select which roles have the permission to view inactive objects", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.string.showInactive"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.showInactive": {\n+          "description": "The user roles which are allowed to see inactive content", \n+          "operation": "plone.app.querystring.queryparser._showInactive", \n+          "title": "Show Inactive", \n+          "widget": "MultipleSelectionWidget"\n+        }\n+      }, \n+      "sortable": false, \n+      "title": "Show Inactive", \n+      "values": {\n+        "Anonymous": {\n+          "title": "Anonymous"\n+        }, \n+        "Authenticated": {\n+          "title": "Authenticated"\n+        }, \n+        "Contributor": {\n+          "title": "Contributor"\n+        }, \n+        "Editor": {\n+          "title": "Editor"\n+        }, \n+        "Manager": {\n+          "title": "Manager"\n+        }, \n+        "Member": {\n+          "title": "Member"\n+        }, \n+        "Owner": {\n+          "title": "Owner"\n+        }, \n+        "Reader": {\n+          "title": "Reader"\n+        }, \n+        "Reviewer": {\n+          "title": "Reviewer"\n+        }, \n+        "Site Administrator": {\n+          "title": "Site Administrator"\n+        }\n+      }, \n+      "vocabulary": "plone.app.vocabularies.Roles"\n+    }, \n+    "sortable_title": {\n+      "description": "The item\'s title, transformed for sorting", \n+      "enabled": false, \n+      "group": "Text", \n+      "operations": [\n+        "plone.app.querystring.operation.string.contains", \n+        "plone.app.querystring.operation.string.is"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.contains": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Contains", \n+          "widget": "StringWidget"\n+        }, \n+        "plone.app.querystring.operation.string.is": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._equal", \n+          "title": "Is", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Sortable Title", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "start": {\n+      "description": "The start date and time of an event", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Event start date", \n+      "values": {}, \n+      "vocabulary": null\n+    }\n+  }, \n+  "sortable_indexes": {\n+    "Creator": {\n+      "description": "The person that created an item", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.string.currentUser", \n+        "plone.app.querystring.operation.selection.any"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.selection.any": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Matches any of", \n+          "widget": "MultipleSelectionWidget"\n+        }, \n+        "plone.app.querystring.operation.string.currentUser": {\n+          "description": "The user viewing the querystring results", \n+          "operation": "plone.app.querystring.queryparser._currentUser", \n+          "title": "Current logged in user", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Creator", \n+      "values": {}, \n+      "vocabulary": "plone.app.vocabularies.Users"\n+    }, \n+    "created": {\n+      "description": "The date an item was created", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Creation date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "effective": {\n+      "description": "The time and date an item was first published", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Effective date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "end": {\n+      "description": "The end date and time of an event", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Event end date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "expires": {\n+      "description": "The time and date an item was expired", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Expiration date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "getId": {\n+      "description": "The short name of an item (used in the url)", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.string.is"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.is": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._equal", \n+          "title": "Is", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Short name (id)", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "getObjPositionInParent": {\n+      "description": "The order of an item in its parent folder", \n+      "enabled": false, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.int.is", \n+        "plone.app.querystring.operation.int.lessThan", \n+        "plone.app.querystring.operation.int.largerThan"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.int.is": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._intEqual", \n+          "title": "Equals", \n+          "widget": "StringWidget"\n+        }, \n+        "plone.app.querystring.operation.int.largerThan": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._intLargerThan", \n+          "title": "Larger than", \n+          "widget": "StringWidget"\n+        }, \n+        "plone.app.querystring.operation.int.lessThan": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._intLessThan", \n+          "title": "Less than", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Order in folder", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "modified": {\n+      "description": "The time and date an item was last modified", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Modification date", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "review_state": {\n+      "description": "An item\'s workflow state (e.g.published)", \n+      "enabled": true, \n+      "group": "Metadata", \n+      "operations": [\n+        "plone.app.querystring.operation.selection.any"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.selection.any": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Matches any of", \n+          "widget": "MultipleSelectionWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Review state", \n+      "values": {\n+        "external": {\n+          "title": "Externally visible [external]"\n+        }, \n+        "internal": {\n+          "title": "Internal draft [internal]"\n+        }, \n+        "internally_published": {\n+          "title": "Internally published [internally_published]"\n+        }, \n+        "pending": {\n+          "title": "Pending [pending]"\n+        }, \n+        "private": {\n+          "title": "Private [private]"\n+        }, \n+        "published": {\n+          "title": "Published with accent \\u00e9 [published]"\n+        }, \n+        "visible": {\n+          "title": "Public draft [visible]"\n+        }\n+      }, \n+      "vocabulary": "plone.app.vocabularies.WorkflowStates"\n+    }, \n+    "sortable_title": {\n+      "description": "The item\'s title, transformed for sorting", \n+      "enabled": false, \n+      "group": "Text", \n+      "operations": [\n+        "plone.app.querystring.operation.string.contains", \n+        "plone.app.querystring.operation.string.is"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.string.contains": {\n+          "description": null, \n+          "operation": "plone.app.querystring.queryparser._contains", \n+          "title": "Contains", \n+          "widget": "StringWidget"\n+        }, \n+        "plone.app.querystring.operation.string.is": {\n+          "description": "Tip: you can use * to autocomplete.", \n+          "operation": "plone.app.querystring.queryparser._equal", \n+          "title": "Is", \n+          "widget": "StringWidget"\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Sortable Title", \n+      "values": {}, \n+      "vocabulary": null\n+    }, \n+    "start": {\n+      "description": "The start date and time of an event", \n+      "enabled": true, \n+      "group": "Dates", \n+      "operations": [\n+        "plone.app.querystring.operation.date.lessThan", \n+        "plone.app.querystring.operation.date.largerThan", \n+        "plone.app.querystring.operation.date.between", \n+        "plone.app.querystring.operation.date.lessThanRelativeDate", \n+        "plone.app.querystring.operation.date.largerThanRelativeDate", \n+        "plone.app.querystring.operation.date.today", \n+        "plone.app.querystring.operation.date.beforeToday", \n+        "plone.app.querystring.operation.date.afterToday", \n+        "plone.app.querystring.operation.date.beforeRelativeDate", \n+        "plone.app.querystring.operation.date.afterRelativeDate"\n+      ], \n+      "operators": {\n+        "plone.app.querystring.operation.date.afterRelativeDate": {\n+          "description": "After N days in the future", \n+          "operation": "plone.app.querystring.queryparser._afterRelativeDate", \n+          "title": "After relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.afterToday": {\n+          "description": "After the current day", \n+          "operation": "plone.app.querystring.queryparser._afterToday", \n+          "title": "After today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.beforeRelativeDate": {\n+          "description": "Before N days in the past", \n+          "operation": "plone.app.querystring.queryparser._beforeRelativeDate", \n+          "title": "Before relative Date", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.beforeToday": {\n+          "description": "Before the current day", \n+          "operation": "plone.app.querystring.queryparser._beforeToday", \n+          "title": "Before today", \n+          "widget": null\n+        }, \n+        "plone.app.querystring.operation.date.between": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._between", \n+          "title": "Between dates", \n+          "widget": "DateRangeWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._largerThan", \n+          "title": "After date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.largerThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._moreThanRelativeDate", \n+          "title": "Within last", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThan": {\n+          "description": "Please use YYYY/MM/DD.", \n+          "operation": "plone.app.querystring.queryparser._lessThan", \n+          "title": "Before date", \n+          "widget": "DateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.lessThanRelativeDate": {\n+          "description": "Please enter the number in days.", \n+          "operation": "plone.app.querystring.queryparser._lessThanRelativeDate", \n+          "title": "Within next", \n+          "widget": "RelativeDateWidget"\n+        }, \n+        "plone.app.querystring.operation.date.today": {\n+          "description": "The current day", \n+          "operation": "plone.app.querystring.queryparser._today", \n+          "title": "Today", \n+          "widget": null\n+        }\n+      }, \n+      "sortable": true, \n+      "title": "Event start date", \n+      "values": {}, \n+      "vocabulary": null\n+    }\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/src/plone/restapi/tests/test_documentation.py b/src/plone/restapi/tests/test_documentation.py\nindex a3027ddf..1c116702 100644\n--- a/src/plone/restapi/tests/test_documentation.py\n+++ b/src/plone/restapi/tests/test_documentation.py\n@@ -1292,6 +1292,11 @@ def test_update_with_lock(self):\n         ] = u"0.684672730996-0.25195226375-00105A989226:1477076400.000"  # noqa\n         save_request_and_response_for_docs("lock_update", response)\n \n+    def test_querystring_get(self):\n+        url = "/@querystring"\n+        response = self.api_session.get(url)\n+        save_request_and_response_for_docs("querystring_get", response)\n+\n \n class TestDocumentationMessageTranslations(unittest.TestCase):\n \ndiff --git a/src/plone/restapi/tests/test_services_querystring.py b/src/plone/restapi/tests/test_services_querystring.py\nnew file mode 100644\nindex 00000000..f8098007\n--- /dev/null\n+++ b/src/plone/restapi/tests/test_services_querystring.py\n@@ -0,0 +1,139 @@\n+# -*- coding: utf-8 -*-\n+from plone.app.testing import setRoles\n+from plone.app.testing import SITE_OWNER_NAME\n+from plone.app.testing import SITE_OWNER_PASSWORD\n+from plone.app.testing import TEST_USER_ID\n+from plone.restapi.testing import PLONE_RESTAPI_DX_FUNCTIONAL_TESTING\n+from plone.restapi.testing import RelativeSession\n+\n+import unittest\n+\n+\n+class TestQuerystringEndpoint(unittest.TestCase):\n+\n+    layer = PLONE_RESTAPI_DX_FUNCTIONAL_TESTING\n+\n+    def setUp(self):\n+        self.app = self.layer["app"]\n+        self.portal = self.layer["portal"]\n+        self.portal_url = self.portal.absolute_url()\n+        setRoles(self.portal, TEST_USER_ID, ["Manager"])\n+\n+        self.api_session = RelativeSession(self.portal_url)\n+        self.api_session.headers.update({"Accept": "application/json"})\n+        self.api_session.auth = (SITE_OWNER_NAME, SITE_OWNER_PASSWORD)\n+\n+    def tearDown(self):\n+        self.api_session.close()\n+\n+    def test_endpoint_lists_indexes(self):\n+        response = self.api_session.get("/@querystring")\n+\n+        self.assertEqual(response.status_code, 200)\n+        self.assertIn(\'indexes\', response.json())\n+        self.assertIn(\'isFolderish\', response.json()[\'indexes\'])\n+\n+    def test_endpoint_lists_sortable_indexes(self):\n+        response = self.api_session.get("/@querystring")\n+\n+        self.assertEqual(response.status_code, 200)\n+        self.assertIn(\'sortable_indexes\', response.json())\n+        self.assertIn(\'sortable_title\', response.json()[\'sortable_indexes\'])\n+\n+    def test_endpoint_shows_field_config(self):\n+        response = self.api_session.get("/@querystring")\n+\n+        self.assertEqual(response.status_code, 200)\n+        indexes = response.json()[\'indexes\']\n+        idx = indexes[\'Title\']\n+\n+        expected_field_config = {\n+            u\'description\': u"Text search of an item\'s title",\n+            u\'enabled\': True,\n+            u\'group\': u\'Text\',\n+            u\'operations\': [u\'plone.app.querystring.operation.string.contains\'],\n+            u\'operators\': {\n+                u\'plone.app.querystring.operation.string.contains\': {\n+                    u\'description\': None,\n+                    u\'operation\': u\'plone.app.querystring.queryparser._contains\',\n+                    u\'title\': u\'Contains\',\n+                    u\'widget\': u\'StringWidget\'}},\n+            u\'sortable\': False,\n+            u\'title\': u\'Title\',\n+            u\'values\': {},\n+            u\'vocabulary\': None}\n+        self.assertEqual(expected_field_config, idx)\n+\n+    def test_endpoint_inlines_vocabularies(self):\n+        response = self.api_session.get("/@querystring")\n+\n+        self.assertEqual(response.status_code, 200)\n+        indexes = response.json()[\'indexes\']\n+        idx = indexes[\'review_state\']\n+\n+        self.assertDictContainsSubset({\n+            \'title\': u\'Review state\',\n+            \'vocabulary\': u\'plone.app.vocabularies.WorkflowStates\'},\n+            idx)\n+\n+        expected_vocab_values = {\n+            u\'external\': {u\'title\': u\'Externally visible [external]\'},\n+            u\'internal\': {u\'title\': u\'Internal draft [internal]\'},\n+            u\'internally_published\': {u\'title\': u\'Internally published [internally_published]\'},\n+            u\'pending\': {u\'title\': u\'Pending [pending]\'},\n+            u\'private\': {u\'title\': u\'Private [private]\'},\n+            u\'published\': {u\'title\': u\'Published with accent \\xe9 [published]\'},\n+            u\'visible\': {u\'title\': u\'Public draft [visible]\'},\n+        }\n+        self.assertEqual(expected_vocab_values, idx[\'values\'])\n+\n+    def test_endpoint_inlines_operators(self):\n+        response = self.api_session.get("/@querystring")\n+\n+        self.assertEqual(response.status_code, 200)\n+        indexes = response.json()[\'indexes\']\n+        idx = indexes[\'isDefaultPage\']\n+\n+        self.assertDictContainsSubset({\n+            \'title\': u\'Default Page\',\n+            \'operations\': [\n+                u\'plone.app.querystring.operation.boolean.isTrue\',\n+                u\'plone.app.querystring.operation.boolean.isFalse\']},\n+            idx)\n+\n+        expected_operators = {\n+            u\'plone.app.querystring.operation.boolean.isFalse\': {\n+                u\'description\': None,\n+                u\'operation\': u\'plone.app.querystring.queryparser._isFalse\',\n+                u\'title\': u\'No\',\n+                u\'widget\': None},\n+            u\'plone.app.querystring.operation.boolean.isTrue\': {\n+                u\'description\': None,\n+                u\'operation\': u\'plone.app.querystring.queryparser._isTrue\',\n+                u\'title\': u\'Yes\',\n+                u\'widget\': None}}\n+        self.assertEqual(expected_operators, idx[\'operators\'])\n+\n+    def test_endpoint_includes_widgets_for_operators(self):\n+        response = self.api_session.get("/@querystring")\n+\n+        self.assertEqual(response.status_code, 200)\n+        indexes = response.json()[\'indexes\']\n+        idx = indexes[\'getObjPositionInParent\']\n+\n+        self.assertDictContainsSubset({\n+            \'title\': u\'Order in folder\',\n+            \'operations\': [\n+                \'plone.app.querystring.operation.int.is\',\n+                \'plone.app.querystring.operation.int.lessThan\',\n+                \'plone.app.querystring.operation.int.largerThan\']},\n+            idx)\n+\n+        ops = idx[\'operators\']\n+\n+        self.assertEqual({\n+            \'description\': None,\n+            \'operation\': \'plone.app.querystring.queryparser._intLargerThan\',\n+            \'title\': \'Larger than\',\n+            \'widget\': \'StringWidget\'},\n+            ops[\'plone.app.querystring.operation.int.largerThan\'])\n'

