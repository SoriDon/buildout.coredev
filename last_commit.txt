Repository: plone.staticresources


Branch: refs/heads/master
Date: 2022-06-24T22:39:16+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/plone.staticresources/commit/a018b55096fe807b98897eb7bc2e29fb51abbc76

Add upgrade step for image full screen support

Files changed:
A src/plone/staticresources/upgrades/211.zcml
A src/plone/staticresources/upgrades/profiles/211/registry.xml
M src/plone/staticresources/upgrades/configure.zcml

b'diff --git a/src/plone/staticresources/upgrades/211.zcml b/src/plone/staticresources/upgrades/211.zcml\nnew file mode 100644\nindex 00000000..481fb38a\n--- /dev/null\n+++ b/src/plone/staticresources/upgrades/211.zcml\n@@ -0,0 +1,22 @@\n+<configure xmlns="http://namespaces.zope.org/zope"\n+  xmlns:gs="http://namespaces.zope.org/genericsetup">\n+\n+  <gs:registerProfile name="210"\n+    title="Update to Mockup with module federation."\n+    description="Configuration for version 210"\n+    directory="profiles/210"\n+    for="Products.CMFPlone.interfaces.IMigratingPloneSiteRoot"\n+    provides="Products.GenericSetup.interfaces.EXTENSION" />\n+\n+  <gs:upgradeSteps\n+    source="210"\n+    destination="211"\n+    profile="plone.staticresources:default">\n+\n+    <gs:upgradeDepends\n+      title="Add image fullscreen support"\n+      import_profile="plone.staticresources.upgrades:211" />\n+\n+  </gs:upgradeSteps>\n+\n+</configure>\ndiff --git a/src/plone/staticresources/upgrades/configure.zcml b/src/plone/staticresources/upgrades/configure.zcml\nindex f029c02c..665af541 100644\n--- a/src/plone/staticresources/upgrades/configure.zcml\n+++ b/src/plone/staticresources/upgrades/configure.zcml\n@@ -21,5 +21,6 @@\n   <include file="208.zcml" />\n   <include file="209.zcml" />\n   <include file="210.zcml" />\n+  <include file="211.zcml" />\n \n </configure>\ndiff --git a/src/plone/staticresources/upgrades/profiles/211/registry.xml b/src/plone/staticresources/upgrades/profiles/211/registry.xml\nnew file mode 100644\nindex 00000000..f4fad1a8\n--- /dev/null\n+++ b/src/plone/staticresources/upgrades/profiles/211/registry.xml\n@@ -0,0 +1,12 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.bundles/plone-fullscreen" interface="Products.CMFPlone.interfaces.IBundleRegistry">\n+    <value key="enabled">True</value>\n+    <value key="jscompilation">++plone++static/plone-fullscreen/fullscreen.js</value>\n+    <value key="csscompilation">++plone++static/plone-fullscreen/fullscreen.css</value>\n+    <value key="load_async">True</value>\n+    <value key="load_defer">False</value>\n+  </records>\n+\n+</registry>\n'

Repository: plone.staticresources


Branch: refs/heads/master
Date: 2022-06-25T12:28:39+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/plone.staticresources/commit/c1686dcee333b5e59dd19712a560c670fdacdc62

Update register profile for 211

Files changed:
M src/plone/staticresources/upgrades/211.zcml

b'diff --git a/src/plone/staticresources/upgrades/211.zcml b/src/plone/staticresources/upgrades/211.zcml\nindex 481fb38a..0349aea4 100644\n--- a/src/plone/staticresources/upgrades/211.zcml\n+++ b/src/plone/staticresources/upgrades/211.zcml\n@@ -1,10 +1,10 @@\n <configure xmlns="http://namespaces.zope.org/zope"\n   xmlns:gs="http://namespaces.zope.org/genericsetup">\n \n-  <gs:registerProfile name="210"\n-    title="Update to Mockup with module federation."\n-    description="Configuration for version 210"\n-    directory="profiles/210"\n+  <gs:registerProfile name="211"\n+    title="Add image fullscreen support"\n+    description="Configuration for version 211"\n+    directory="profiles/211"\n     for="Products.CMFPlone.interfaces.IMigratingPloneSiteRoot"\n     provides="Products.GenericSetup.interfaces.EXTENSION" />\n \n'

Repository: plone.staticresources


Branch: refs/heads/master
Date: 2022-06-25T12:30:28+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/plone.staticresources/commit/566f5bacd2c442317d5b892fb3fc4bd30ad5bf31

Increase version in metadata.xml

Files changed:
M src/plone/staticresources/profiles/default/metadata.xml

b"diff --git a/src/plone/staticresources/profiles/default/metadata.xml b/src/plone/staticresources/profiles/default/metadata.xml\nindex cd405e4c..239c8171 100644\n--- a/src/plone/staticresources/profiles/default/metadata.xml\n+++ b/src/plone/staticresources/profiles/default/metadata.xml\n@@ -1,6 +1,6 @@\n <?xml version='1.0' encoding='UTF-8'?>\n <metadata>\n-  <version>210</version>\n+  <version>211</version>\n   <dependencies>\n     <dependency>profile-plone.resource:default</dependency>\n   </dependencies>\n"

Repository: plone.staticresources


Branch: refs/heads/master
Date: 2022-06-25T13:14:51+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/plone.staticresources/commit/4a871166c4d5ed01ad5f540d946569a18f0e8653

add message

Files changed:
A news/229.feature

b'diff --git a/news/229.feature b/news/229.feature\nnew file mode 100644\nindex 00000000..097f27cf\n--- /dev/null\n+++ b/news/229.feature\n@@ -0,0 +1,2 @@\n+Add Upgrade Stept for image full screen support\n+[1letter]\n'

Repository: plone.staticresources


Branch: refs/heads/master
Date: 2022-06-25T19:58:02+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.staticresources/commit/51a151a45e047c462727ad406b05f7025f6cfb42

Merge pull request #228 from plone/1letter/upgrade-step-fullscreen

Add upgrade step for image full screen support

Files changed:
A news/229.feature
A src/plone/staticresources/upgrades/211.zcml
A src/plone/staticresources/upgrades/profiles/211/registry.xml
M src/plone/staticresources/profiles/default/metadata.xml
M src/plone/staticresources/upgrades/configure.zcml

b'diff --git a/news/229.feature b/news/229.feature\nnew file mode 100644\nindex 000000000..097f27cfb\n--- /dev/null\n+++ b/news/229.feature\n@@ -0,0 +1,2 @@\n+Add Upgrade Stept for image full screen support\n+[1letter]\ndiff --git a/src/plone/staticresources/profiles/default/metadata.xml b/src/plone/staticresources/profiles/default/metadata.xml\nindex cd405e4c2..239c81717 100644\n--- a/src/plone/staticresources/profiles/default/metadata.xml\n+++ b/src/plone/staticresources/profiles/default/metadata.xml\n@@ -1,6 +1,6 @@\n <?xml version=\'1.0\' encoding=\'UTF-8\'?>\n <metadata>\n-  <version>210</version>\n+  <version>211</version>\n   <dependencies>\n     <dependency>profile-plone.resource:default</dependency>\n   </dependencies>\ndiff --git a/src/plone/staticresources/upgrades/211.zcml b/src/plone/staticresources/upgrades/211.zcml\nnew file mode 100644\nindex 000000000..0349aea44\n--- /dev/null\n+++ b/src/plone/staticresources/upgrades/211.zcml\n@@ -0,0 +1,22 @@\n+<configure xmlns="http://namespaces.zope.org/zope"\n+  xmlns:gs="http://namespaces.zope.org/genericsetup">\n+\n+  <gs:registerProfile name="211"\n+    title="Add image fullscreen support"\n+    description="Configuration for version 211"\n+    directory="profiles/211"\n+    for="Products.CMFPlone.interfaces.IMigratingPloneSiteRoot"\n+    provides="Products.GenericSetup.interfaces.EXTENSION" />\n+\n+  <gs:upgradeSteps\n+    source="210"\n+    destination="211"\n+    profile="plone.staticresources:default">\n+\n+    <gs:upgradeDepends\n+      title="Add image fullscreen support"\n+      import_profile="plone.staticresources.upgrades:211" />\n+\n+  </gs:upgradeSteps>\n+\n+</configure>\ndiff --git a/src/plone/staticresources/upgrades/configure.zcml b/src/plone/staticresources/upgrades/configure.zcml\nindex f029c02cf..665af5418 100644\n--- a/src/plone/staticresources/upgrades/configure.zcml\n+++ b/src/plone/staticresources/upgrades/configure.zcml\n@@ -21,5 +21,6 @@\n   <include file="208.zcml" />\n   <include file="209.zcml" />\n   <include file="210.zcml" />\n+  <include file="211.zcml" />\n \n </configure>\ndiff --git a/src/plone/staticresources/upgrades/profiles/211/registry.xml b/src/plone/staticresources/upgrades/profiles/211/registry.xml\nnew file mode 100644\nindex 000000000..f4fad1a85\n--- /dev/null\n+++ b/src/plone/staticresources/upgrades/profiles/211/registry.xml\n@@ -0,0 +1,12 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records prefix="plone.bundles/plone-fullscreen" interface="Products.CMFPlone.interfaces.IBundleRegistry">\n+    <value key="enabled">True</value>\n+    <value key="jscompilation">++plone++static/plone-fullscreen/fullscreen.js</value>\n+    <value key="csscompilation">++plone++static/plone-fullscreen/fullscreen.css</value>\n+    <value key="load_async">True</value>\n+    <value key="load_defer">False</value>\n+  </records>\n+\n+</registry>\n'

