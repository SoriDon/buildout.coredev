Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2016-09-27T12:38:09+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.Archetypes/commit/d25e7e23785277443bdf33d82258586a7bd070d7

Don't use document/folder_icon.gif in the test profile.

Use png instead.

We could change the document_icon and folder_icon in
ArchetypeTool.registerClasses and BaseFolder.content_icon too, but the
first one is already not called anywhere in Plone 4.3, and
content_icons should be done in the GS profile.  Or in css actually.

Files changed:
M CHANGES.rst
M Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
M Products/Archetypes/profiles/sample_types/types/ComplexType.xml
M Products/Archetypes/profiles/sample_types/types/DDocument.xml
M Products/Archetypes/profiles/sample_types/types/Fact.xml
M Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
M Products/Archetypes/profiles/sample_types/types/Refnode.xml
M Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
M Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
M Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
M Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
M Products/Archetypes/profiles/sample_types/types/SimpleType.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index d4125e1..fa12392 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,11 +14,11 @@ New features:
 
 Bug fixes:
 
+- Don't use document/folder_icon.gif in the test profile.  Use png instead.  [maurits]
+
 - no allowable_content_types for description (avoid validation)
   [tschorr]
 
-- *add item here*
-
 
 1.11.2 (2016-09-14)
 -------------------
diff --git a/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml b/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
index 8dd5471..68b1a9d 100644
--- a/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
+++ b/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
@@ -4,7 +4,7 @@
  <property name="title">ATBIFolder</property>
  <property
     name="description">A simple folder that uses AllowedTypesByIfaceMixin</property>
- <property name="content_icon">folder_icon.gif</property>
+ <property name="content_icon">folder_icon.png</property>
  <property name="content_meta_type">ATBIFolder</property>
  <property name="product">Archetypes</property>
  <property name="factory">addATBIFolder</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/ComplexType.xml b/Products/Archetypes/profiles/sample_types/types/ComplexType.xml
index 3172f85..a4ce5a7 100644
--- a/Products/Archetypes/profiles/sample_types/types/ComplexType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/ComplexType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">ComplexType</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">ComplexType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addComplexType</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/DDocument.xml b/Products/Archetypes/profiles/sample_types/types/DDocument.xml
index 44f80d6..effce18 100644
--- a/Products/Archetypes/profiles/sample_types/types/DDocument.xml
+++ b/Products/Archetypes/profiles/sample_types/types/DDocument.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Demo Doc</property>
  <property name="description">An extensible Document (test) type</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">DDocument</property>
  <property name="product">Archetypes</property>
  <property name="factory">addDDocument</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/Fact.xml b/Products/Archetypes/profiles/sample_types/types/Fact.xml
index 4124a7c..0709acc 100644
--- a/Products/Archetypes/profiles/sample_types/types/Fact.xml
+++ b/Products/Archetypes/profiles/sample_types/types/Fact.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Fact</property>
  <property name="description">A quoteable fact or tidbit</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">Fact</property>
  <property name="product">Archetypes</property>
  <property name="factory">addFact</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml b/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
index 6d40e43..444cf43 100644
--- a/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">My Simple Type</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleType</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/Refnode.xml b/Products/Archetypes/profiles/sample_types/types/Refnode.xml
index b0453a7..13c9892 100644
--- a/Products/Archetypes/profiles/sample_types/types/Refnode.xml
+++ b/Products/Archetypes/profiles/sample_types/types/Refnode.xml
@@ -4,7 +4,7 @@
  <property name="title">Refnode</property>
  <property
     name="description">A simple archetype for testing references. It can point to itself</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">Refnode</property>
  <property name="product">Archetypes</property>
  <property name="factory">addRefnode</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml b/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
index 36b0f85..5dd331f 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple BTree Folder</property>
  <property name="description">A simple folderish archetype</property>
- <property name="content_icon">folder_icon.gif</property>
+ <property name="content_icon">folder_icon.png</property>
  <property name="content_meta_type">SimpleBTreeFolder</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleBTreeFolder</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml b/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
index 2115a1b..e95d8a1 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple File Type</property>
  <property name="description">An File (test) type</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleFile</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleFile</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml b/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
index e4a45ef..18bb371 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple Folder</property>
  <property name="description">A simple folderish archetype</property>
- <property name="content_icon">folder_icon.gif</property>
+ <property name="content_icon">folder_icon.png</property>
  <property name="content_meta_type">SimpleFolder</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleFolder</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml b/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
index 7f33d62..51da73d 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">SimpleProtectedType</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleProtectedType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleProtectedType</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleType.xml b/Products/Archetypes/profiles/sample_types/types/SimpleType.xml
index b69971c..fcb4652 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple Type</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleType</property>


Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2016-09-27T16:59:59+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.Archetypes/commit/22b4a463f50329faa6f0ff64b46e255e39cdce30

Merge pull request #65 from plone/no-gif-in-test-profile

Don't use document/folder_icon.gif in the test profile.

Files changed:
M CHANGES.rst
M Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
M Products/Archetypes/profiles/sample_types/types/ComplexType.xml
M Products/Archetypes/profiles/sample_types/types/DDocument.xml
M Products/Archetypes/profiles/sample_types/types/Fact.xml
M Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
M Products/Archetypes/profiles/sample_types/types/Refnode.xml
M Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
M Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
M Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
M Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
M Products/Archetypes/profiles/sample_types/types/SimpleType.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index d4125e1..fa12392 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,11 +14,11 @@ New features:
 
 Bug fixes:
 
+- Don't use document/folder_icon.gif in the test profile.  Use png instead.  [maurits]
+
 - no allowable_content_types for description (avoid validation)
   [tschorr]
 
-- *add item here*
-
 
 1.11.2 (2016-09-14)
 -------------------
diff --git a/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml b/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
index 8dd5471..68b1a9d 100644
--- a/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
+++ b/Products/Archetypes/profiles/sample_types/types/ATBIFolder.xml
@@ -4,7 +4,7 @@
  <property name="title">ATBIFolder</property>
  <property
     name="description">A simple folder that uses AllowedTypesByIfaceMixin</property>
- <property name="content_icon">folder_icon.gif</property>
+ <property name="content_icon">folder_icon.png</property>
  <property name="content_meta_type">ATBIFolder</property>
  <property name="product">Archetypes</property>
  <property name="factory">addATBIFolder</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/ComplexType.xml b/Products/Archetypes/profiles/sample_types/types/ComplexType.xml
index 3172f85..a4ce5a7 100644
--- a/Products/Archetypes/profiles/sample_types/types/ComplexType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/ComplexType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">ComplexType</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">ComplexType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addComplexType</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/DDocument.xml b/Products/Archetypes/profiles/sample_types/types/DDocument.xml
index 44f80d6..effce18 100644
--- a/Products/Archetypes/profiles/sample_types/types/DDocument.xml
+++ b/Products/Archetypes/profiles/sample_types/types/DDocument.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Demo Doc</property>
  <property name="description">An extensible Document (test) type</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">DDocument</property>
  <property name="product">Archetypes</property>
  <property name="factory">addDDocument</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/Fact.xml b/Products/Archetypes/profiles/sample_types/types/Fact.xml
index 4124a7c..0709acc 100644
--- a/Products/Archetypes/profiles/sample_types/types/Fact.xml
+++ b/Products/Archetypes/profiles/sample_types/types/Fact.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Fact</property>
  <property name="description">A quoteable fact or tidbit</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">Fact</property>
  <property name="product">Archetypes</property>
  <property name="factory">addFact</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml b/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
index 6d40e43..444cf43 100644
--- a/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/MySimpleType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">My Simple Type</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleType</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/Refnode.xml b/Products/Archetypes/profiles/sample_types/types/Refnode.xml
index b0453a7..13c9892 100644
--- a/Products/Archetypes/profiles/sample_types/types/Refnode.xml
+++ b/Products/Archetypes/profiles/sample_types/types/Refnode.xml
@@ -4,7 +4,7 @@
  <property name="title">Refnode</property>
  <property
     name="description">A simple archetype for testing references. It can point to itself</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">Refnode</property>
  <property name="product">Archetypes</property>
  <property name="factory">addRefnode</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml b/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
index 36b0f85..5dd331f 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleBTreeFolder.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple BTree Folder</property>
  <property name="description">A simple folderish archetype</property>
- <property name="content_icon">folder_icon.gif</property>
+ <property name="content_icon">folder_icon.png</property>
  <property name="content_meta_type">SimpleBTreeFolder</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleBTreeFolder</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml b/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
index 2115a1b..e95d8a1 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleFile.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple File Type</property>
  <property name="description">An File (test) type</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleFile</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleFile</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml b/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
index e4a45ef..18bb371 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleFolder.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple Folder</property>
  <property name="description">A simple folderish archetype</property>
- <property name="content_icon">folder_icon.gif</property>
+ <property name="content_icon">folder_icon.png</property>
  <property name="content_meta_type">SimpleFolder</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleFolder</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml b/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
index 7f33d62..51da73d 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleProtectedType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">SimpleProtectedType</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleProtectedType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleProtectedType</property>
diff --git a/Products/Archetypes/profiles/sample_types/types/SimpleType.xml b/Products/Archetypes/profiles/sample_types/types/SimpleType.xml
index b69971c..fcb4652 100644
--- a/Products/Archetypes/profiles/sample_types/types/SimpleType.xml
+++ b/Products/Archetypes/profiles/sample_types/types/SimpleType.xml
@@ -3,7 +3,7 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <property name="title">Simple Type</property>
  <property name="description">A simple archetype</property>
- <property name="content_icon">document_icon.gif</property>
+ <property name="content_icon">document_icon.png</property>
  <property name="content_meta_type">SimpleType</property>
  <property name="product">Archetypes</property>
  <property name="factory">addSimpleType</property>


