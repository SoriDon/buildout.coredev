Repository: plone.app.layout


Branch: refs/heads/master
Date: 2021-08-11T10:54:43+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/b81913b90abb59ee6d3c0cba16b9d42b0f4a4dab

Protect @@historyview with Modify portal content permission. See https://github.com/plone/Products.CMFPlone/pull/3298

Files changed:
M plone/app/layout/viewlets/configure.zcml

b'diff --git a/plone/app/layout/viewlets/configure.zcml b/plone/app/layout/viewlets/configure.zcml\nindex cf109281..441948a9 100644\n--- a/plone/app/layout/viewlets/configure.zcml\n+++ b/plone/app/layout/viewlets/configure.zcml\n@@ -283,7 +283,7 @@\n         for="*"\n         name="historyview"\n         class=".content.HistoryByLineView"\n-        permission="zope2.View"\n+        permission="cmf.ModifyPortalContent"\n         />\n \n     <!-- Manage portlets Fallback link -->\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2021-08-11T10:56:47+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/6e4328faf06c7b60bab1dcde3499811d1a69a0c6

add changenote

Files changed:
A news/257.feature

b'diff --git a/news/257.feature b/news/257.feature\nnew file mode 100644\nindex 00000000..438e9900\n--- /dev/null\n+++ b/news/257.feature\n@@ -0,0 +1,2 @@\n+Protect @@historyview with Modify portal content permission. Fixes https://github.com/plone/Products.CMFPlone/issues/3297\n+[pbauer]\n\\ No newline at end of file\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2021-08-11T17:17:37+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/251da4a8caf39612d5747e5e785100a83740f70c

Merge pull request #257 from plone/protect_historyview_3297

Protect @@historyview with Modify portal content permission.

Files changed:
A news/257.feature
M plone/app/layout/viewlets/configure.zcml

b'diff --git a/news/257.feature b/news/257.feature\nnew file mode 100644\nindex 00000000..438e9900\n--- /dev/null\n+++ b/news/257.feature\n@@ -0,0 +1,2 @@\n+Protect @@historyview with Modify portal content permission. Fixes https://github.com/plone/Products.CMFPlone/issues/3297\n+[pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/layout/viewlets/configure.zcml b/plone/app/layout/viewlets/configure.zcml\nindex cf109281..441948a9 100644\n--- a/plone/app/layout/viewlets/configure.zcml\n+++ b/plone/app/layout/viewlets/configure.zcml\n@@ -283,7 +283,7 @@\n         for="*"\n         name="historyview"\n         class=".content.HistoryByLineView"\n-        permission="zope2.View"\n+        permission="cmf.ModifyPortalContent"\n         />\n \n     <!-- Manage portlets Fallback link -->\n'

