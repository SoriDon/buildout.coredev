Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-08-15T08:25:47+02:00
Author: petschki (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.widgets/commit/54381f572aac7a43a9e140bdfc99486771e44c56

wait for element before click

Files changed:
M plone/app/widgets/tests/robot/test_querystring_widget.robot

b'diff --git a/plone/app/widgets/tests/robot/test_querystring_widget.robot b/plone/app/widgets/tests/robot/test_querystring_widget.robot\nindex db0b57e7..35450fca 100644\n--- a/plone/app/widgets/tests/robot/test_querystring_widget.robot\n+++ b/plone/app/widgets/tests/robot/test_querystring_widget.robot\n@@ -90,7 +90,7 @@ Collection Creation works\n I select criteria index in row\n   [Arguments]  ${number}  ${label}\n   ${criteria_row} =  Convert to String  ${querywidget_selector} .querystring-criteria-wrapper:nth-child(${number})\n-  Click Element  css=${criteria_row} .querystring-criteria-index .select2-container a\n+  Wait For Then Click Element  css=${criteria_row} .querystring-criteria-index .select2-container a\n   Wait until Element is Visible  css=#select2-drop .select2-input\n   Input Text  css=#select2-drop .select2-input  text=${label}\n   Press Key  css=#select2-drop .select2-input  \\\\13\n@@ -100,7 +100,7 @@ I select criteria operator in row\n   ${criteria_selector} =  Convert to String  ${querywidget_selector} .querystring-criteria-wrapper:nth-child(${number}) .querystring-criteria-operator .select2-container .select2-choice\n   Click Link  css=${criteria_selector}\n   Wait until Element is Visible  css=#select2-drop\n-  Click Element  xpath=//div[@id="select2-drop"]/ul[@class="select2-results"]//*[contains(text(), "${label}")]\n+  Wait For Then Click Element  xpath=//div[@id="select2-drop"]/ul[@class="select2-results"]//*[contains(text(), "${label}")]\n   Wait until Element is not Visible  css=#select2-drop\n \n Operator slave field becomes visible\n'

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-08-15T08:27:53+02:00
Author: petschki (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.widgets/commit/af3fa204f8dcee38cd4bd5acc7b831a6156cee7d

changenote

Files changed:
A news/219.bugfix

b'diff --git a/news/219.bugfix b/news/219.bugfix\nnew file mode 100644\nindex 00000000..0355b86e\n--- /dev/null\n+++ b/news/219.bugfix\n@@ -0,0 +1,2 @@\n+Fix random failing robottests.\n+[petschki]\n'

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-08-16T13:33:35+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.widgets/commit/4e28325ce6f1c9c9f56385abf324e37198419d8b

Merge pull request #219 from plone/petschki-robottest-fix

Fix random failing robottest

Files changed:
A news/219.bugfix
M plone/app/widgets/tests/robot/test_querystring_widget.robot

b'diff --git a/news/219.bugfix b/news/219.bugfix\nnew file mode 100644\nindex 00000000..0355b86e\n--- /dev/null\n+++ b/news/219.bugfix\n@@ -0,0 +1,2 @@\n+Fix random failing robottests.\n+[petschki]\ndiff --git a/plone/app/widgets/tests/robot/test_querystring_widget.robot b/plone/app/widgets/tests/robot/test_querystring_widget.robot\nindex db0b57e7..35450fca 100644\n--- a/plone/app/widgets/tests/robot/test_querystring_widget.robot\n+++ b/plone/app/widgets/tests/robot/test_querystring_widget.robot\n@@ -90,7 +90,7 @@ Collection Creation works\n I select criteria index in row\n   [Arguments]  ${number}  ${label}\n   ${criteria_row} =  Convert to String  ${querywidget_selector} .querystring-criteria-wrapper:nth-child(${number})\n-  Click Element  css=${criteria_row} .querystring-criteria-index .select2-container a\n+  Wait For Then Click Element  css=${criteria_row} .querystring-criteria-index .select2-container a\n   Wait until Element is Visible  css=#select2-drop .select2-input\n   Input Text  css=#select2-drop .select2-input  text=${label}\n   Press Key  css=#select2-drop .select2-input  \\\\13\n@@ -100,7 +100,7 @@ I select criteria operator in row\n   ${criteria_selector} =  Convert to String  ${querywidget_selector} .querystring-criteria-wrapper:nth-child(${number}) .querystring-criteria-operator .select2-container .select2-choice\n   Click Link  css=${criteria_selector}\n   Wait until Element is Visible  css=#select2-drop\n-  Click Element  xpath=//div[@id="select2-drop"]/ul[@class="select2-results"]//*[contains(text(), "${label}")]\n+  Wait For Then Click Element  xpath=//div[@id="select2-drop"]/ul[@class="select2-results"]//*[contains(text(), "${label}")]\n   Wait until Element is not Visible  css=#select2-drop\n \n Operator slave field becomes visible\n'

