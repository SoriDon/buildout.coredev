Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-05-02T23:34:33+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/3976136cd81b81f3d4bdb01ead476a45633538a1

Make compatible with robotframework 3-5.

And remove a fallback for Internet Explorer, added in 2013, which fails now

```
Test Actionmenu
==============================================================================
Scenario: Do a workflow change                                        | FAIL |
Value of variable '@{value}[0]' is not list or list-like.
```

Files changed:
A news/5.bugfix
M Products/CMFPlone/tests/robot/robodoc/config-screens.robot
M Products/CMFPlone/tests/robot/robodoc/managing_content.robot
M Products/CMFPlone/tests/robot/test_actionmenu.robot
M Products/CMFPlone/tests/robot/test_controlpanel_actions.robot
M Products/CMFPlone/tests/robot/test_controlpanel_filter.robot
M Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot
M Products/CMFPlone/tests/robot/test_controlpanel_search.robot
M Products/CMFPlone/tests/robot/test_controlpanel_types.robot
M Products/CMFPlone/tests/robot/test_edit.robot
M Products/CMFPlone/tests/robot/test_portlets.robot

b'diff --git a/Products/CMFPlone/tests/robot/robodoc/config-screens.robot b/Products/CMFPlone/tests/robot/robodoc/config-screens.robot\nindex 36697f6176..8422f57999 100644\n--- a/Products/CMFPlone/tests/robot/robodoc/config-screens.robot\n+++ b/Products/CMFPlone/tests/robot/robodoc/config-screens.robot\n@@ -47,7 +47,7 @@ Show Content setup screen\n \n     Click element  type_id\n \n-    Select From List  name=type_id  Document\n+    Select From List By Label  name=type_id  Document\n \n     Capture and crop page screenshot\n     ...  ${CURDIR}/_robot/content-document.png\ndiff --git a/Products/CMFPlone/tests/robot/robodoc/managing_content.robot b/Products/CMFPlone/tests/robot/robodoc/managing_content.robot\nindex 370363e6f5..1d5de8ccb7 100644\n--- a/Products/CMFPlone/tests/robot/robodoc/managing_content.robot\n+++ b/Products/CMFPlone/tests/robot/robodoc/managing_content.robot\n@@ -27,7 +27,7 @@ add rule\n     Click element  css=#form-widgets-description\n     Input text  css=#form-widgets-description  this rule is meant for folders where new staff is having a go\n     Click element  css=#formfield-form-widgets-event\n-    Select From List  id=form-widgets-event  Object modified\n+    Select From List By Label  id=form-widgets-event  Object modified\n \n \n     Capture and crop page screenshot\n@@ -195,4 +195,4 @@ Show right portlets\n \n     Capture and crop page screenshot\n     ...  ${CURDIR}/_robot/portlet-footer.png\n-    ...  css=#content\n\\ No newline at end of file\n+    ...  css=#content\ndiff --git a/Products/CMFPlone/tests/robot/test_actionmenu.robot b/Products/CMFPlone/tests/robot/test_actionmenu.robot\nindex 4182e6a59e..cb85f84351 100644\n--- a/Products/CMFPlone/tests/robot/test_actionmenu.robot\n+++ b/Products/CMFPlone/tests/robot/test_actionmenu.robot\n@@ -113,23 +113,6 @@ workflow link is clicked\n     Click Link  xpath=//li[@id=\'plone-contentmenu-workflow\']/a\n     Click Link  xpath=(//li[@id=\'plone-contentmenu-workflow\']/div/ul/li/a)[1]\n     Page Should Contain  Item state changed.\n-    # FIXME: The above \'Click Link\' fails on Internet Explorer, but the\n-    # following keywords \'workflow link is clicked softly\' passes. Until we\n-    # know why, we check if the above worked and if not, we try the other\n-    # approach.\n-    @{value} =  Run Keyword And Ignore Error\n-    ...         Page Should Contain  Item state changed.\n-    Run Keyword If  \'@{value}[0]\' == \'FAIL\'\n-    ...         workflow link is clicked softly\n-\n-workflow link is clicked softly\n-    [Documentation]  This works on Internet Explorer, but not on Firefox...\n-    Mouse Over  xpath=//*[@id=\'plone-contentmenu-workflow\']/a\n-    Click Link  xpath=//li[@id=\'plone-contentmenu-workflow\']/a\n-    Mouse Over  xpath=(//li[@id=\'plone-contentmenu-workflow\']//a)[1]\n-    Mouse Down  xpath=(//li[@id=\'plone-contentmenu-workflow\']//a)[1]\n-    Mouse Up  xpath=(//li[@id=\'plone-contentmenu-workflow\']//a)[1]\n-    Wait until page contains  Item state changed.\n \n Open Menu\n     [Arguments]  ${elementId}\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot b/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot\nindex afee018bef..3d7bfd015f 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot\n@@ -105,7 +105,7 @@ I add a new action\n \n I delete an action\n   Click Button    css=section:nth-child(3) li:first-child button[name=delete]\n-  Confirm Action\n+  Handle alert\n \n I hide an action\n   Click Button    css=section:nth-child(3) li:first-child button[name=hide]\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot b/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot\nindex 4f69ef5ea7..d056bf0a8e 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot\n@@ -119,7 +119,7 @@ the \'h1\' tag is stripped when a document is saved\n   Click Button  Save\n   Wait until page contains  Changes saved\n   Page should contain  heading\n-  XPath Should Match X Times  //div[@id=\'content-core\']//h1  0  message=h1 should have been stripped out\n+  Page Should Contain Element  //div[@id=\'content-core\']//h1  limit=0  message=h1 should have been stripped out\n \n the \'${tag}\' tag is preserved when a document is saved\n   ${doc1_uid}=  Create content  id=doc1  title=Document 1  type=Document\n@@ -128,7 +128,7 @@ the \'${tag}\' tag is preserved when a document is saved\n   Input RichText  <${tag}>lorem ipsum</${tag}>\n   Click Button  Save\n   Wait until page contains  Changes saved\n-  XPath Should Match X Times  //div[@id=\'content-core\']//${tag}  1  message=the ${tag} tag should have been preserved\n+  Page Should Contain Element  //div[@id=\'content-core\']//${tag}  limit=1  message=the ${tag} tag should have been preserved\n \n the \'${attribute}\' attribute is preserved when a document is saved\n   ${doc1_uid}=  Create content  id=doc1  title=Document 1  type=Document\n@@ -137,7 +137,7 @@ the \'${attribute}\' attribute is preserved when a document is saved\n   Input RichText  <span ${attribute}="foo">lorem ipsum</span>\n   Click Button  Save\n   Wait until page contains  Changes saved\n-  XPath Should Match X Times  //span[@${attribute}]  1  message=the ${attribute} tag should have been preserved\n+  Page Should Contain Element  //span[@${attribute}]  limit=1  message=the ${attribute} tag should have been preserved\n \n success message should contain information regarding caching\n   Element Should Contain  css=.alert-warning  HTML generation is heavily cached across Plone. You may have to edit existing content or restart your server to see the changes.\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot b/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot\nindex bdad652733..7518cd3a03 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot\n@@ -112,14 +112,14 @@ I choose to not show \'${workflow_state}\' items\n the document \'${title}\' shows up in the navigation\n   Go to  ${PLONE_URL}\n   Wait until page contains  Powered by Plone\n-  XPath Should Match X Times  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  1  message=The global navigation should have contained the item \'${title}\'\n+  Page Should Contain Element  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  limit=1  message=The global navigation should have contained the item \'${title}\'\n \n the document \'${title}\' does not show up in the navigation\n   Go to  ${PLONE_URL}\n   Wait until page contains  Powered by Plone\n-  XPath Should Match X Times  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  0  message=The global navigation should not have contained the item \'${title}\'\n+  Page Should Contain Element  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  limit=0  message=The global navigation should not have contained the item \'${title}\'\n \n the document \'${title}\' does not show up in the sitemap\n   Go to  ${PLONE_URL}/sitemap\n   Wait until page contains  Powered by Plone\n-  XPath Should Match X Times  //ul[@id=\'portal-sitemap\']/li/a/span[contains(text(), \'${title}\')]  0  message=The sitemap should not have contained the item \'${title}\'\n+  Page Should Contain Element  //ul[@id=\'portal-sitemap\']/li/a/span[contains(text(), \'${title}\')]  limit=0  message=The sitemap should not have contained the item \'${title}\'\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_search.robot b/Products/CMFPlone/tests/robot/test_controlpanel_search.robot\nindex dc0185a2b4..395c160b30 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_search.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_search.robot\n@@ -79,6 +79,6 @@ searching for \'${search_term}\' will not return any results\n   Input Text  xpath=//form[@id=\'searchform\']//input[@name=\'SearchableText\']  ${search_term}\n   Submit Form  name=searchform\n   Wait until page contains  items matching your search terms\n-  XPath Should Match X Times  //span[@id=\'search-results-number\' and contains(.,\'0\')]  1\n+  Page Should Contain Element  //span[@id=\'search-results-number\' and contains(.,\'0\')]  1\n \n \ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_types.robot b/Products/CMFPlone/tests/robot/test_controlpanel_types.robot\nindex 4c211f255f..ad494dd09b 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_types.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_types.robot\n@@ -55,7 +55,7 @@ Globaly enabled comments\n # --- WHEN -------------------------------------------------------------------\n \n I select \'${content_type}\' in types dropdown\n-  Select from list  name=type_id  ${content_type}\n+  Select from list by label  name=type_id  ${content_type}\n   Wait until page contains  Globally addable\n \n Allow discussion\n@@ -63,7 +63,7 @@ Allow discussion\n   Click Button  Save\n \n I select \'${workflow}\' workflow\n-  Select from list  name=new_workflow  ${workflow}\n+  Select from list by label  name=new_workflow  ${workflow}\n   Click Button  Save\n \n I add new Link \'${id}\'\ndiff --git a/Products/CMFPlone/tests/robot/test_edit.robot b/Products/CMFPlone/tests/robot/test_edit.robot\nindex 67ad46425e..9c8935560e 100644\n--- a/Products/CMFPlone/tests/robot/test_edit.robot\n+++ b/Products/CMFPlone/tests/robot/test_edit.robot\n@@ -106,12 +106,12 @@ I save the page\n    Click Button  Save\n \n I select a date using the dropdowns\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_year\']  2001\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_month\']  January\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_day\']  01\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_hour\']  01\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_minute\']  00\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_ampm\']  AM\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_year\']  2001\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_month\']  January\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_day\']  01\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_hour\']  01\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_minute\']  00\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_ampm\']  AM\n \n I click the calendar icon\n \ndiff --git a/Products/CMFPlone/tests/robot/test_portlets.robot b/Products/CMFPlone/tests/robot/test_portlets.robot\nindex abfb6ddc21..6167adc91b 100644\n--- a/Products/CMFPlone/tests/robot/test_portlets.robot\n+++ b/Products/CMFPlone/tests/robot/test_portlets.robot\n@@ -28,10 +28,10 @@ a manage portlets view\n     Wait until page contains  Manage portlets\n \n I add a \'${portletname}\' portlet to the left column\n-    Select from list  xpath=//div[@id="portletmanager-plone-leftcolumn"]//select  ${portletname}\n+    Select from list by label  xpath=//div[@id="portletmanager-plone-leftcolumn"]//select  ${portletname}\n \n I add a \'${portletname}\' portlet to the right column\n-    Select from list  xpath=//div[@id="portletmanager-plone-rightcolumn"]//select  ${portletname}\n+    Select from list by label  xpath=//div[@id="portletmanager-plone-rightcolumn"]//select  ${portletname}\n \n I delete a \'${portlet}\'\' portlet from the left column\n     Click Link  xpath=//div[@id="portal-column-one"]//div[@class="portletHeader" and contains(.,"${portlet}")]//a[@class="delete"]  don\'t wait\ndiff --git a/news/5.bugfix b/news/5.bugfix\nnew file mode 100644\nindex 0000000000..cddac02902\n--- /dev/null\n+++ b/news/5.bugfix\n@@ -0,0 +1,2 @@\n+Make compatible with robotframework 3-5.\n+[maurits]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-05-03T01:13:19+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/96a3029e31b1203504a3cc6ef0a4b744fa04b354

Merge pull request #3519 from plone/robotframework5

Make compatible with robotframework 3-5.

Files changed:
A news/5.bugfix
M Products/CMFPlone/tests/robot/robodoc/config-screens.robot
M Products/CMFPlone/tests/robot/robodoc/managing_content.robot
M Products/CMFPlone/tests/robot/test_actionmenu.robot
M Products/CMFPlone/tests/robot/test_controlpanel_actions.robot
M Products/CMFPlone/tests/robot/test_controlpanel_filter.robot
M Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot
M Products/CMFPlone/tests/robot/test_controlpanel_search.robot
M Products/CMFPlone/tests/robot/test_controlpanel_types.robot
M Products/CMFPlone/tests/robot/test_edit.robot
M Products/CMFPlone/tests/robot/test_portlets.robot

b'diff --git a/Products/CMFPlone/tests/robot/robodoc/config-screens.robot b/Products/CMFPlone/tests/robot/robodoc/config-screens.robot\nindex 36697f6176..8422f57999 100644\n--- a/Products/CMFPlone/tests/robot/robodoc/config-screens.robot\n+++ b/Products/CMFPlone/tests/robot/robodoc/config-screens.robot\n@@ -47,7 +47,7 @@ Show Content setup screen\n \n     Click element  type_id\n \n-    Select From List  name=type_id  Document\n+    Select From List By Label  name=type_id  Document\n \n     Capture and crop page screenshot\n     ...  ${CURDIR}/_robot/content-document.png\ndiff --git a/Products/CMFPlone/tests/robot/robodoc/managing_content.robot b/Products/CMFPlone/tests/robot/robodoc/managing_content.robot\nindex 370363e6f5..1d5de8ccb7 100644\n--- a/Products/CMFPlone/tests/robot/robodoc/managing_content.robot\n+++ b/Products/CMFPlone/tests/robot/robodoc/managing_content.robot\n@@ -27,7 +27,7 @@ add rule\n     Click element  css=#form-widgets-description\n     Input text  css=#form-widgets-description  this rule is meant for folders where new staff is having a go\n     Click element  css=#formfield-form-widgets-event\n-    Select From List  id=form-widgets-event  Object modified\n+    Select From List By Label  id=form-widgets-event  Object modified\n \n \n     Capture and crop page screenshot\n@@ -195,4 +195,4 @@ Show right portlets\n \n     Capture and crop page screenshot\n     ...  ${CURDIR}/_robot/portlet-footer.png\n-    ...  css=#content\n\\ No newline at end of file\n+    ...  css=#content\ndiff --git a/Products/CMFPlone/tests/robot/test_actionmenu.robot b/Products/CMFPlone/tests/robot/test_actionmenu.robot\nindex 4182e6a59e..cb85f84351 100644\n--- a/Products/CMFPlone/tests/robot/test_actionmenu.robot\n+++ b/Products/CMFPlone/tests/robot/test_actionmenu.robot\n@@ -113,23 +113,6 @@ workflow link is clicked\n     Click Link  xpath=//li[@id=\'plone-contentmenu-workflow\']/a\n     Click Link  xpath=(//li[@id=\'plone-contentmenu-workflow\']/div/ul/li/a)[1]\n     Page Should Contain  Item state changed.\n-    # FIXME: The above \'Click Link\' fails on Internet Explorer, but the\n-    # following keywords \'workflow link is clicked softly\' passes. Until we\n-    # know why, we check if the above worked and if not, we try the other\n-    # approach.\n-    @{value} =  Run Keyword And Ignore Error\n-    ...         Page Should Contain  Item state changed.\n-    Run Keyword If  \'@{value}[0]\' == \'FAIL\'\n-    ...         workflow link is clicked softly\n-\n-workflow link is clicked softly\n-    [Documentation]  This works on Internet Explorer, but not on Firefox...\n-    Mouse Over  xpath=//*[@id=\'plone-contentmenu-workflow\']/a\n-    Click Link  xpath=//li[@id=\'plone-contentmenu-workflow\']/a\n-    Mouse Over  xpath=(//li[@id=\'plone-contentmenu-workflow\']//a)[1]\n-    Mouse Down  xpath=(//li[@id=\'plone-contentmenu-workflow\']//a)[1]\n-    Mouse Up  xpath=(//li[@id=\'plone-contentmenu-workflow\']//a)[1]\n-    Wait until page contains  Item state changed.\n \n Open Menu\n     [Arguments]  ${elementId}\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot b/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot\nindex afee018bef..3d7bfd015f 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_actions.robot\n@@ -105,7 +105,7 @@ I add a new action\n \n I delete an action\n   Click Button    css=section:nth-child(3) li:first-child button[name=delete]\n-  Confirm Action\n+  Handle alert\n \n I hide an action\n   Click Button    css=section:nth-child(3) li:first-child button[name=hide]\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot b/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot\nindex 4f69ef5ea7..d056bf0a8e 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_filter.robot\n@@ -119,7 +119,7 @@ the \'h1\' tag is stripped when a document is saved\n   Click Button  Save\n   Wait until page contains  Changes saved\n   Page should contain  heading\n-  XPath Should Match X Times  //div[@id=\'content-core\']//h1  0  message=h1 should have been stripped out\n+  Page Should Contain Element  //div[@id=\'content-core\']//h1  limit=0  message=h1 should have been stripped out\n \n the \'${tag}\' tag is preserved when a document is saved\n   ${doc1_uid}=  Create content  id=doc1  title=Document 1  type=Document\n@@ -128,7 +128,7 @@ the \'${tag}\' tag is preserved when a document is saved\n   Input RichText  <${tag}>lorem ipsum</${tag}>\n   Click Button  Save\n   Wait until page contains  Changes saved\n-  XPath Should Match X Times  //div[@id=\'content-core\']//${tag}  1  message=the ${tag} tag should have been preserved\n+  Page Should Contain Element  //div[@id=\'content-core\']//${tag}  limit=1  message=the ${tag} tag should have been preserved\n \n the \'${attribute}\' attribute is preserved when a document is saved\n   ${doc1_uid}=  Create content  id=doc1  title=Document 1  type=Document\n@@ -137,7 +137,7 @@ the \'${attribute}\' attribute is preserved when a document is saved\n   Input RichText  <span ${attribute}="foo">lorem ipsum</span>\n   Click Button  Save\n   Wait until page contains  Changes saved\n-  XPath Should Match X Times  //span[@${attribute}]  1  message=the ${attribute} tag should have been preserved\n+  Page Should Contain Element  //span[@${attribute}]  limit=1  message=the ${attribute} tag should have been preserved\n \n success message should contain information regarding caching\n   Element Should Contain  css=.alert-warning  HTML generation is heavily cached across Plone. You may have to edit existing content or restart your server to see the changes.\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot b/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot\nindex bdad652733..7518cd3a03 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_navigation.robot\n@@ -112,14 +112,14 @@ I choose to not show \'${workflow_state}\' items\n the document \'${title}\' shows up in the navigation\n   Go to  ${PLONE_URL}\n   Wait until page contains  Powered by Plone\n-  XPath Should Match X Times  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  1  message=The global navigation should have contained the item \'${title}\'\n+  Page Should Contain Element  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  limit=1  message=The global navigation should have contained the item \'${title}\'\n \n the document \'${title}\' does not show up in the navigation\n   Go to  ${PLONE_URL}\n   Wait until page contains  Powered by Plone\n-  XPath Should Match X Times  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  0  message=The global navigation should not have contained the item \'${title}\'\n+  Page Should Contain Element  //ul[@id=\'portal-globalnav\']/li/a[contains(text(), \'${title}\')]  limit=0  message=The global navigation should not have contained the item \'${title}\'\n \n the document \'${title}\' does not show up in the sitemap\n   Go to  ${PLONE_URL}/sitemap\n   Wait until page contains  Powered by Plone\n-  XPath Should Match X Times  //ul[@id=\'portal-sitemap\']/li/a/span[contains(text(), \'${title}\')]  0  message=The sitemap should not have contained the item \'${title}\'\n+  Page Should Contain Element  //ul[@id=\'portal-sitemap\']/li/a/span[contains(text(), \'${title}\')]  limit=0  message=The sitemap should not have contained the item \'${title}\'\ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_search.robot b/Products/CMFPlone/tests/robot/test_controlpanel_search.robot\nindex dc0185a2b4..395c160b30 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_search.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_search.robot\n@@ -79,6 +79,6 @@ searching for \'${search_term}\' will not return any results\n   Input Text  xpath=//form[@id=\'searchform\']//input[@name=\'SearchableText\']  ${search_term}\n   Submit Form  name=searchform\n   Wait until page contains  items matching your search terms\n-  XPath Should Match X Times  //span[@id=\'search-results-number\' and contains(.,\'0\')]  1\n+  Page Should Contain Element  //span[@id=\'search-results-number\' and contains(.,\'0\')]  1\n \n \ndiff --git a/Products/CMFPlone/tests/robot/test_controlpanel_types.robot b/Products/CMFPlone/tests/robot/test_controlpanel_types.robot\nindex 4c211f255f..ad494dd09b 100644\n--- a/Products/CMFPlone/tests/robot/test_controlpanel_types.robot\n+++ b/Products/CMFPlone/tests/robot/test_controlpanel_types.robot\n@@ -55,7 +55,7 @@ Globaly enabled comments\n # --- WHEN -------------------------------------------------------------------\n \n I select \'${content_type}\' in types dropdown\n-  Select from list  name=type_id  ${content_type}\n+  Select from list by label  name=type_id  ${content_type}\n   Wait until page contains  Globally addable\n \n Allow discussion\n@@ -63,7 +63,7 @@ Allow discussion\n   Click Button  Save\n \n I select \'${workflow}\' workflow\n-  Select from list  name=new_workflow  ${workflow}\n+  Select from list by label  name=new_workflow  ${workflow}\n   Click Button  Save\n \n I add new Link \'${id}\'\ndiff --git a/Products/CMFPlone/tests/robot/test_edit.robot b/Products/CMFPlone/tests/robot/test_edit.robot\nindex 67ad46425e..9c8935560e 100644\n--- a/Products/CMFPlone/tests/robot/test_edit.robot\n+++ b/Products/CMFPlone/tests/robot/test_edit.robot\n@@ -106,12 +106,12 @@ I save the page\n    Click Button  Save\n \n I select a date using the dropdowns\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_year\']  2001\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_month\']  January\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_day\']  01\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_hour\']  01\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_minute\']  00\n-    Select From List  xpath=//select[@id=\'edit_form_effectiveDate_0_ampm\']  AM\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_year\']  2001\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_month\']  January\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_day\']  01\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_hour\']  01\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_minute\']  00\n+    Select From List By Label  xpath=//select[@id=\'edit_form_effectiveDate_0_ampm\']  AM\n \n I click the calendar icon\n \ndiff --git a/Products/CMFPlone/tests/robot/test_portlets.robot b/Products/CMFPlone/tests/robot/test_portlets.robot\nindex abfb6ddc21..6167adc91b 100644\n--- a/Products/CMFPlone/tests/robot/test_portlets.robot\n+++ b/Products/CMFPlone/tests/robot/test_portlets.robot\n@@ -28,10 +28,10 @@ a manage portlets view\n     Wait until page contains  Manage portlets\n \n I add a \'${portletname}\' portlet to the left column\n-    Select from list  xpath=//div[@id="portletmanager-plone-leftcolumn"]//select  ${portletname}\n+    Select from list by label  xpath=//div[@id="portletmanager-plone-leftcolumn"]//select  ${portletname}\n \n I add a \'${portletname}\' portlet to the right column\n-    Select from list  xpath=//div[@id="portletmanager-plone-rightcolumn"]//select  ${portletname}\n+    Select from list by label  xpath=//div[@id="portletmanager-plone-rightcolumn"]//select  ${portletname}\n \n I delete a \'${portlet}\'\' portlet from the left column\n     Click Link  xpath=//div[@id="portal-column-one"]//div[@class="portletHeader" and contains(.,"${portlet}")]//a[@class="delete"]  don\'t wait\ndiff --git a/news/5.bugfix b/news/5.bugfix\nnew file mode 100644\nindex 0000000000..cddac02902\n--- /dev/null\n+++ b/news/5.bugfix\n@@ -0,0 +1,2 @@\n+Make compatible with robotframework 3-5.\n+[maurits]\n'

