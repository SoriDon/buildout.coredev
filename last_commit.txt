Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-12-12T00:13:11-03:00
Author: Ã‰rico Andrei (ericof) <ericof@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/78edca06f0e541720d07721e05fc401de7ddebf8

Move documentation to Markdown

Files changed:
A CHANGES.md
A CONTRIBUTING.md
A README.md
A docs/changelog_template.jinja
M pyproject.toml
M setup.py
D CHANGES.rst
D CONTRIBUTING.rst
D README.rst

b'diff --git a/CHANGES.rst b/CHANGES.md\nsimilarity index 94%\nrename from CHANGES.rst\nrename to CHANGES.md\nindex 839d23c09e..5895b3839e 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.md\n@@ -1,21 +1,22 @@\n-.. This file should contain the changes for the last release only, which\n+<!--\n+   This file should contain the changes for the last release only, which\n    will be included on the package\'s page on pypi. All older entries are\n    kept in docs/HISTORY.rst\n+-->\n \n-Changelog\n-=========\n+# Changelog\n \n-.. You should *NOT* be adding new change log entries to this file.\n+<!--\n+   You should *NOT* be adding new change log entries to this file.\n    You should create a file in the news directory instead.\n    For helpful instructions, please see:\n    https://github.com/plone/plone.releaser/blob/master/ADD-A-NEWS-ITEM.rst\n+-->\n+<!-- towncrier release notes start -->\n \n-.. towncrier release notes start\n+## 6.0.0rc2 (2022-12-05)\n \n-6.0.0rc2 (2022-12-05)\n----------------------\n-\n-Bug fixes:\n+### Bug fixes:\n \n \n - Fix duplicated ``<article id="content">`` in login form.\n@@ -27,10 +28,9 @@ Bug fixes:\n - Updated metadata version to 6010.  [maurits] (#6010)\n \n \n-6.0.0rc1 (2022-11-18)\n----------------------\n+## 6.0.0rc1 (2022-11-18)\n \n-Bug fixes:\n+### Bug fixes:\n \n \n - Don\'t create news, events, and users folders for Volto sites. [davisagli] (#3628)\n@@ -43,10 +43,9 @@ Bug fixes:\n - Updated metadata version to 6009.  [maurits] (#6009)\n \n \n-6.0.0b3 (2022-10-04)\n---------------------\n+## 6.0.0b3 (2022-10-04)\n \n-Bug fixes:\n+### Bug fixes:\n \n \n - Deprecate the portal_properties tool, remove obsolete code (#125)\n@@ -61,10 +60,9 @@ Bug fixes:\n - Updated metadata version to 6008.  [maurits] (#6008)\n \n \n-6.0.0b2 (2022-09-10)\n---------------------\n+## 6.0.0b2 (2022-09-10)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Officially drop Python 3.7 support and add 3.10 support.\n@@ -73,7 +71,7 @@ Breaking changes:\n   [maurits] (#3635)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Moved CSFR patches addressing CMFPlone itself to decorators.\n@@ -124,10 +122,9 @@ Bug fixes:\n   [maurits] (#6007)\n \n \n-6.0.0b1 (2022-07-23)\n---------------------\n+## 6.0.0b1 (2022-07-23)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Removed our expressions patch.\n@@ -137,7 +134,7 @@ Breaking changes:\n   [maurits] (#3567)\n \n \n-New features:\n+### New features:\n \n \n - Initially open accordions in resource registry. Hide via JS when no errors occur.\n@@ -146,7 +143,7 @@ New features:\n   [petschki] (#3570)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Reduce dependencies in setup.py here, when already fulfilled in the packages where in use.\n@@ -161,10 +158,9 @@ Bug fixes:\n   [maurits] (#6006)\n \n \n-6.0.0a6 (2022-06-27)\n---------------------\n+## 6.0.0a6 (2022-06-27)\n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Remove the use of f-strings for translations\n@@ -175,10 +171,9 @@ Bug fixes:\n   [petschki] (#3566)\n \n \n-6.0.0a5 (2022-06-24)\n---------------------\n+## 6.0.0a5 (2022-06-24)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Remove Archtypes specific ``isIDAutoGenerated`` helper.\n@@ -194,7 +189,7 @@ Breaking changes:\n   [jensens] (#3520)\n \n \n-New features:\n+### New features:\n \n \n - Added customisable batch_size for redirects controlpanel\n@@ -218,7 +213,7 @@ New features:\n   [petschki] (#3558)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Make compatible with robotframework 3-5.\n@@ -251,10 +246,9 @@ Bug fixes:\n   [maurits] (#6005)\n \n \n-6.0.0a4 (2022-04-08)\n---------------------\n+## 6.0.0a4 (2022-04-08)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - PLIP 3211:\n@@ -287,7 +281,7 @@ Breaking changes:\n   [jensens, pbauer] (#3485)\n \n \n-New features:\n+### New features:\n \n \n - PLIP #3279: Implement modern images scales. Add huge (1600px), great (1200px), larger (1000px), teaser (600px). Amend preview and mini (remove height constraint).\n@@ -305,7 +299,7 @@ New features:\n   [agitator] (#3489)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Fixed evaluating expressions on resources, and especially loading ``plone.session`` resources.\n@@ -360,10 +354,9 @@ Bug fixes:\n   [maurits] (#6004)\n \n \n-6.0.0a3 (2022-01-28)\n---------------------\n+## 6.0.0a3 (2022-01-28)\n \n-New features:\n+### New features:\n \n \n - add a new entry in site-controlpanel to change the favicon and its MIME-type\n@@ -377,7 +370,7 @@ New features:\n   [jensens] (#3377)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Cleanup Error Log Form after Review\n@@ -393,10 +386,9 @@ Bug fixes:\n - Updated metadata version to 6003.  [maurits] (#6003)\n \n \n-6.0.0a2 (2021-12-03)\n---------------------\n+## 6.0.0a2 (2021-12-03)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - PLIP 3339: Replace ``z3c.autoinclude`` with ``plone.autoinclude``.\n@@ -404,14 +396,14 @@ Breaking changes:\n   [maurits, tschorr] (#3339)\n \n \n-New features:\n+### New features:\n \n \n - On Zope root, create Volto site by default.\n   [maurits] (#3344)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Move prefs_error_log* from skins to browser views\n@@ -434,10 +426,9 @@ Bug fixes:\n - Updated metadata version to 6002.  [maurits] (#6002)\n \n \n-6.0.0a1 (2021-10-22)\n---------------------\n+## 6.0.0a1 (2021-10-22)\n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Release Plone 6.0.0a1.\n@@ -445,10 +436,9 @@ Bug fixes:\n   [maurits] (#3341)\n \n \n-6.0.0a1.dev1 (2021-10-16)\n--------------------------\n+## 6.0.0a1.dev1 (2021-10-16)\n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Use HTML5 meta charset.\n@@ -479,10 +469,9 @@ Bug fixes:\n   [maurits] (#6001)\n \n \n-6.0.0a1.dev0 (2021-09-15)\n--------------------------\n+## 6.0.0a1.dev0 (2021-09-15)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Removed our CMFQuickInstallerTool code completely.\n@@ -523,7 +512,7 @@ Breaking changes:\n   tschorr] (#3249)\n \n \n-New features:\n+### New features:\n \n \n - Custom date format strings from registry can be in the ``${}`` format as in the locales files.\n@@ -540,7 +529,7 @@ New features:\n   [pbauer] (#3297)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Add ``plone.app.caching`` to the list of add-ons that is upgraded when upgrading Plone.\ndiff --git a/CONTRIBUTING.md b/CONTRIBUTING.md\nnew file mode 100644\nindex 0000000000..5826e4eca3\n--- /dev/null\n+++ b/CONTRIBUTING.md\n@@ -0,0 +1 @@\n+Please see [Developer Guidelines](https://docs.plone.org/develop/coredev/docs/guidelines.html)\ndiff --git a/CONTRIBUTING.rst b/CONTRIBUTING.rst\ndeleted file mode 100644\nindex fc637ac8aa..0000000000\n--- a/CONTRIBUTING.rst\n+++ /dev/null\n@@ -1 +0,0 @@\n-Please see http://docs.plone.org/develop/coredev/docs/guidelines.html\ndiff --git a/README.md b/README.md\nnew file mode 100644\nindex 0000000000..9673c9eb53\n--- /dev/null\n+++ b/README.md\n@@ -0,0 +1,141 @@\n+<p align="center">\n+    <img alt="Plone Logo" width="200px" src="https://raw.githubusercontent.com/plone/.github/main/plone-logo.png">\n+</p>\n+\n+<h1 align="center">\n+  Plone\n+</h1>\n+\n+<div align="center">\n+\n+[![PyPI - Wheel](https://img.shields.io/pypi/wheel/plone)](https://pypi.org/project/plone/)\n+[![PyPI - License](https://img.shields.io/pypi/l/plone)](https://pypi.org/project/plone/)\n+[![PyPI - Status](https://img.shields.io/pypi/status/plone)](https://pypi.org/project/plone/)\n+\n+[![GitHub contributors](https://img.shields.io/github/contributors/plone/Products.CMFPlone)](https://github.com/plone/Products.CMFPlone)\n+![GitHub Repo stars](https://img.shields.io/github/stars/plone/Plone?style=flat-square)\n+\n+</div>\n+\n+Plone is a mature, secure, and user-friendly content management system (CMS).\n+\n+Plone was first released to the public on October 4, 2001.\n+\n+Plone has the maturity, stability, and reliability of an application maintained by open source developers with decades of experience, while continually evolving and adapting to modern technology.\n+\n+Lots of customizations can be made trough-the-web, such as creating content types, themes, workflows, and much more.\n+Plone may be extended and used as a framework on which to build custom CMS-like solutions.\n+\n+Plone works as a\n+\n+- Full-featured server-side rendered HTML CMS.\n+- React-based frontend for editing and viewing content, backed by a server with a REST API.\n+- Headless CMS server with a REST API, allowing a developer to build a custom frontend with their chosen technology.\n+\n+\n+<h2 align="center">\n+  Installing Plone\n+</h2>\n+\n+Plone is available on Linux, Microsoft Windows, macOS, and BSD platforms.\n+\n+Plone may be run as a container in the cloud with Docker and other Open Containers Initiative compliant platforms.\n+[Example Dockerfiles](https://6.docs.plone.org/install/containers/images/index.html) and base images are available.\n+\n+[Install Plone by choosing an option from plone.org](https://plone.org/download)\n+\n+\n+<h2 align="center">\n+  Documentation\n+</h2>\n+\n+Consult [the official Plone documentation](https://docs.plone.org) with information for different audiences.\n+\n+For trainings [comprehensive Plone training material](https://training.plone.org) is available.\n+\n+\n+<h2 align="center">\n+  What is Plone?\n+</h2>\n+\n+Plone is a ready-to-run content management system, offering a complete set of features needed by a wide variety of organizations.\n+\n+Security is built into Plone\'s architecture from the ground up.\n+Plone offers fine-grained permission control over content and actions.\n+\n+Plone is easy to set up, extremely flexible,\n+and provides you with a system for managing web content that is ideal for project groups, communities, websites, extranets, and intranets.\n+\n+- **Plone is easy to install.**\n+  Several installation options are available for either your local machine or on servers in the cloud.\n+\n+- **Plone empowers content editors and web application developers.**\n+  The Plone Team includes usability experts who have made Plone easy and attractive for content managers to add, update, and maintain content.\n+\n+- **Plone is international.**\n+  The Plone interface has more than 35 translations, and tools exist for managing multilingual content.\n+\n+- **Plone follows standards and is inclusive.**\n+  Plone carefully follows standards for usability and accessibility.\n+  Plone is compliant with WCAG 2.1 level AA and aims for ATAG 2.0 level AA.\n+\n+- **Plone is open source.**\n+  Plone is licensed under the GNU General Public License, the same license used by Linux.\n+  This gives you the right to use Plone without a license fee, and to improve upon the product.\n+\n+- **Plone is supported.**\n+  There are over two hundred active developers in the Plone Development Team around the world, and a multitude of companies that specialize in Plone development and support.\n+\n+- **Plone is extensible.**\n+  There is a multitude of add-on products for Plone to add new features and content types.\n+  In addition, Plone can be scripted using web standard solutions and open source languages.\n+\n+- **Plone is technology neutral.**\n+  Plone can interoperate with most relational database systems\xe2\x80\x94both open source and commercial\xe2\x80\x94and runs on a vast array of\n+  platforms, including Linux, Windows, macOS, and BSD.\n+\n+\n+<h2 align="center">\n+Technical overview\n+</h2>\n+\n+Plone is a content management platform with its backend written in Python.\n+Plone has a choice of frontend, either Classic UI using server-side templates or Volto written in modern React-based JavaScript.\n+It builds upon Zope, an open source web application server and development system, and thus on the pluggable Zope Component Architecture (ZCA).\n+\n+Python is the easy to learn, widely used, and supported open source programming language.\n+Python can be used to add new features to Plone and used to understand or make changes to the way that Plone works.\n+\n+Plone stores its contents in Zope\'s built-in transactional hierarchical object database, the ZODB.\n+The ZODB can be connected to simple file-storages, scalable ZEO-Servers or Postgres, MySQL, and Oracle.\n+There are add-ons and techniques, however, to share information with other sources, such as relational databases, LDAP, filesystem\n+files, and so on.\n+\n+\n+<h2 align="center">\n+Official Resources\n+</h2>\n+\n+* [plone.org](https://plone.org/) - Official website for developers, community, decision makers, and evaluators.\n+* [Plone support](https://plone.org/support) - Where to find help.\n+* [community.plone.org](https://community.plone.org/) - Official community forum, the best place to get help.\n+* [docs.plone.org](https://docs.plone.org/) - Official documentation for developers, integrators, and content editors.\n+* [training.plone.org](https://training.plone.org/) - Trainings for developers, integrators, content editors, and designers.\n+* [`plone.api`](https://docs.plone.org/develop/plone.api/docs/index.html) - Documentation for `plone.api`.\n+* [`plone.restapi`](https://plonerestapi.readthedocs.io/en/latest/) - Documentation for `plone.restapi`.\n+* [Discord](https://discord.gg/zFY3EBbjaj) - Official Plone chat, voice, and video service.\n+\n+<h2 align="center">\n+This project is supported by\n+</h2>\n+\n+<p align="center">\n+    <a href="https://plone.org/foundation/">\n+      <img alt="Plone Logo" width="200px" src="https://raw.githubusercontent.com/plone/.github/main/plone-foundation.png">\n+    </a>\n+</p>\n+\n+<h2 align="center">\n+License\n+</h2>\n+The project is licensed under the GPLv2.\ndiff --git a/README.rst b/README.rst\ndeleted file mode 100644\nindex 243d3c582c..0000000000\n--- a/README.rst\n+++ /dev/null\n@@ -1,100 +0,0 @@\n-About Plone\n-===========\n-\n-Plone is a mature, secure and user-friendly Content Management System (CMS).\n-\n-Plone - and the Open Source community behind it - aggregates more than 20 years of experience in content management.\n-It offers all major features expected by a modern CMS out-of-the-box.\n-\n-Lots of customizations can be made trough-the-web, such as creating content types, themes, workflows and much more.\n-Pushed one step further Plone can be used as a framework on which to build custom CMS-like solutions.\n-\n-Plone works as a\n-\n-- full-featured classical server-side rendered CMS,\n-- headless CMS offering all features as a REST API.\n-\n-\n-Installing Plone\n------------------\n-\n-Plone is available on Microsoft Windows, Linux, OSX and BSD platforms.\n-\n-Plone runs as container in the cloud with Docker.\n-\n-`Install Plone by choosing an option from plone.org <https://plone.org/download>`_\n-\n-\n-Documentation\n--------------\n-\n-Consult `the official Plone documentation <https://docs.plone.org>`_ with information for different audiences.\n-\n-For trainings `comprehensive Plone training material <https://training.plone.org>`_ is available.\n-\n-\n-What is Plone?\n---------------\n-\n-Plone is a ready-to-run content management system, offering a complete set of features needed by a wide variety of organizations.\n-\n-Security is built into Plone\'s architecture from the ground up.\n-Plone offers fine-grained permission control over content and actions.\n-\n-Plone is easy to set up, extremely flexible,\n-and provides you with a system for managing web content that is ideal for project groups, communities, websites, extranets and intranets.\n-\n-- *Plone is easy to install.*\n-  Several installation options are available for either your local machine or on servers in the cloud.\n-\n-- *Plone is easy to use.*\n-  The Plone Team includes usability experts who have made Plone easy and attractive for content managers to add, update, and maintain content.\n-\n-- *Plone is international.*\n-  The Plone interface has more than 35 translations, and tools exist for managing multilingual content.\n-\n-- *Plone is standard.*\n-  Plone carefully follows standards for usability and accessibility.\n-  Plone pages are compliant with US Section 508, and the W3C\'s AAA rating for accessibility.\n-\n-- *Plone is Open Source.*\n-  Plone is licensed under the GNU General Public License, the same license used by Linux.\n-  This gives you the right to use Plone without a license fee, and to improve upon the product.\n-\n-- *Plone is supported.*\n-  There are over three hundred developers in the Plone Development Team around the world, and a multitude of companies that specialize in Plone development and support.\n-\n-- *Plone is extensible.*\n-  There is a multitude of add-on products for Plone to add new features and content types.\n-  In addition, Plone can be scripted using web standard solutions and Open Source languages.\n-\n-- *Plone is technology neutral.*\n-  Plone can interoperate with most relational database systems, open source and commercial, and runs on a vast array of\n-  platforms, including Linux, Windows, Mac OS X, Solaris and BSD.\n-\n-\n-Technical overview\n-------------------\n-\n-Plone is a content management platform written in Python.\n-It builds upon Zope, an Open Source web application server and development system and thus on the pluggable Zope Component Architecture (ZCA).\n-\n-Python is the easy-to-learn, widely-used and supported Open Source programming language.\n-Python can be used to add new features to Plone, and used to understand or make changes to the way that Plone works.\n-\n-Plone stores its contents in Zope\'s built-in transactional hierarchical object database, the ZODB.\n-The ZODB can be connected to simple file-storages, scalable ZEO-Servers or Postgres, MySQL and Oracle.\n-There are addons and techniques, however, to share information with other sources, such as relational databases, LDAP, filesystem\n-files, etc.\n-\n-\n-Official Resources\n-------------------\n-* `plone.org <https://plone.org/>`_ - Official website for developers and community.\n-* `Plone support <https://plone.org/support>`_ - Where to find help.\n-* `community.plone.org <https://community.plone.org/>`_ - Official community forum, the best place to get help.\n-* `docs.plone.org <https://docs.plone.org/>`_ - Official documentation for developers/integrators.\n-* `training.plone.org <https://training.plone.org/>`_ - Training classes for developers/integrators/users/designers.\n-* `plone.api <https://docs.plone.org/develop/plone.api/docs/index.html>`_ - Documentation for plone.api.\n-* `plone.restapi <https://plonerestapi.readthedocs.io/en/latest/>`_ - Documentation for plone.restapi.\n-* `official Discord chat <https://discord.gg/zFY3EBbjaj>`_ - Join link.\ndiff --git a/docs/changelog_template.jinja b/docs/changelog_template.jinja\nnew file mode 100644\nindex 0000000000..b35bff39d4\n--- /dev/null\n+++ b/docs/changelog_template.jinja\n@@ -0,0 +1,15 @@\n+{% if sections[""] %}\n+{% for category, val in definitions.items() if category in sections[""] %}\n+\n+### {{ definitions[category][\'name\'] }}\n+\n+{% for text, values in sections[""][category].items() %}\n+- {{ text }} {{ values|join(\', \') }}\n+{% endfor %}\n+\n+{% endfor %}\n+{% else %}\n+No significant changes.\n+\n+\n+{% endif %}\n\\ No newline at end of file\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 05b615de2f..10d43bb1bd 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -1,8 +1,10 @@\n [tool.towncrier]\n-filename = "CHANGES.rst"\n+filename = "CHANGES.md"\n directory = "news/"\n-title_format = "{version} ({project_date})"\n-underlines = ["-", ""]\n+start_string = "<!-- towncrier release notes start -->\\n"\n+title_format = "## {version} ({project_date})"\n+template = "docs/changelog_template.jinja"\n+underlines = ["", "", ""]\n \n [[tool.towncrier.type]]\n directory = "breaking"\ndiff --git a/setup.py b/setup.py\nindex 4120300723..e18d514d5f 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -9,8 +9,8 @@\n     name=\'Products.CMFPlone\',\n     version=version,\n     description="The Plone Content Management System (core)",\n-    long_description=open("README.rst").read() + "\\n" +\n-    open("CHANGES.rst").read(),\n+    long_description=open("README.md").read() + "\\n" +\n+    open("CHANGES.md").read(),\n     classifiers=[\n         "Development Status :: 5 - Production/Stable",\n         "Environment :: Web Environment",\n@@ -34,7 +34,7 @@\n     license=\'GPL version 2\',\n     project_urls={\n         "Homepage": "https://plone.org",\n-        "Documentation": "https://docs.plone.org",\n+        "Documentation": "https://6.docs.plone.org",\n         "PyPI": "https://pypi.python.org/pypi/Products.CMFPlone",\n         "Source": "https://github.com/plone/Products.CMFPlone",\n         "Issues": "https://github.com/plone/plone.org/Products.CMFPlone",\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-12-12T11:17:33+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/899a7b63844356ab54a2689f6fc8b9ccd34eb658

Set long_description_content_type to text/markdown.

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex e18d514d5f..2d4857222a 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -11,6 +11,7 @@\n     description="The Plone Content Management System (core)",\n     long_description=open("README.md").read() + "\\n" +\n     open("CHANGES.md").read(),\n+    long_description_content_type="text/markdown",\n     classifiers=[\n         "Development Status :: 5 - Production/Stable",\n         "Environment :: Web Environment",\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-12-12T11:25:14+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/e87b66195cf9c76528402e248d101dc54f84b2e1

Removed PyPI from project_urls.

It is not really useful to show the PyPI link on PyPI.
Also, this was using an old url.

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex 2d4857222a..0568c7326d 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -36,7 +36,6 @@\n     project_urls={\n         "Homepage": "https://plone.org",\n         "Documentation": "https://6.docs.plone.org",\n-        "PyPI": "https://pypi.python.org/pypi/Products.CMFPlone",\n         "Source": "https://github.com/plone/Products.CMFPlone",\n         "Issues": "https://github.com/plone/plone.org/Products.CMFPlone",\n         "Forum": "https://community.plone.org/",\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-12-12T11:29:32+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/0011a270a718a24db04174c31530147f65b21617

Merge pull request #3701 from plone/update-readme

Move documentation to Markdown, update Readme

Files changed:
A CHANGES.md
A CONTRIBUTING.md
A README.md
A docs/changelog_template.jinja
M pyproject.toml
M setup.py
D CHANGES.rst
D CONTRIBUTING.rst
D README.rst

b'diff --git a/CHANGES.rst b/CHANGES.md\nsimilarity index 94%\nrename from CHANGES.rst\nrename to CHANGES.md\nindex 839d23c09e..5895b3839e 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.md\n@@ -1,21 +1,22 @@\n-.. This file should contain the changes for the last release only, which\n+<!--\n+   This file should contain the changes for the last release only, which\n    will be included on the package\'s page on pypi. All older entries are\n    kept in docs/HISTORY.rst\n+-->\n \n-Changelog\n-=========\n+# Changelog\n \n-.. You should *NOT* be adding new change log entries to this file.\n+<!--\n+   You should *NOT* be adding new change log entries to this file.\n    You should create a file in the news directory instead.\n    For helpful instructions, please see:\n    https://github.com/plone/plone.releaser/blob/master/ADD-A-NEWS-ITEM.rst\n+-->\n+<!-- towncrier release notes start -->\n \n-.. towncrier release notes start\n+## 6.0.0rc2 (2022-12-05)\n \n-6.0.0rc2 (2022-12-05)\n----------------------\n-\n-Bug fixes:\n+### Bug fixes:\n \n \n - Fix duplicated ``<article id="content">`` in login form.\n@@ -27,10 +28,9 @@ Bug fixes:\n - Updated metadata version to 6010.  [maurits] (#6010)\n \n \n-6.0.0rc1 (2022-11-18)\n----------------------\n+## 6.0.0rc1 (2022-11-18)\n \n-Bug fixes:\n+### Bug fixes:\n \n \n - Don\'t create news, events, and users folders for Volto sites. [davisagli] (#3628)\n@@ -43,10 +43,9 @@ Bug fixes:\n - Updated metadata version to 6009.  [maurits] (#6009)\n \n \n-6.0.0b3 (2022-10-04)\n---------------------\n+## 6.0.0b3 (2022-10-04)\n \n-Bug fixes:\n+### Bug fixes:\n \n \n - Deprecate the portal_properties tool, remove obsolete code (#125)\n@@ -61,10 +60,9 @@ Bug fixes:\n - Updated metadata version to 6008.  [maurits] (#6008)\n \n \n-6.0.0b2 (2022-09-10)\n---------------------\n+## 6.0.0b2 (2022-09-10)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Officially drop Python 3.7 support and add 3.10 support.\n@@ -73,7 +71,7 @@ Breaking changes:\n   [maurits] (#3635)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Moved CSFR patches addressing CMFPlone itself to decorators.\n@@ -124,10 +122,9 @@ Bug fixes:\n   [maurits] (#6007)\n \n \n-6.0.0b1 (2022-07-23)\n---------------------\n+## 6.0.0b1 (2022-07-23)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Removed our expressions patch.\n@@ -137,7 +134,7 @@ Breaking changes:\n   [maurits] (#3567)\n \n \n-New features:\n+### New features:\n \n \n - Initially open accordions in resource registry. Hide via JS when no errors occur.\n@@ -146,7 +143,7 @@ New features:\n   [petschki] (#3570)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Reduce dependencies in setup.py here, when already fulfilled in the packages where in use.\n@@ -161,10 +158,9 @@ Bug fixes:\n   [maurits] (#6006)\n \n \n-6.0.0a6 (2022-06-27)\n---------------------\n+## 6.0.0a6 (2022-06-27)\n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Remove the use of f-strings for translations\n@@ -175,10 +171,9 @@ Bug fixes:\n   [petschki] (#3566)\n \n \n-6.0.0a5 (2022-06-24)\n---------------------\n+## 6.0.0a5 (2022-06-24)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Remove Archtypes specific ``isIDAutoGenerated`` helper.\n@@ -194,7 +189,7 @@ Breaking changes:\n   [jensens] (#3520)\n \n \n-New features:\n+### New features:\n \n \n - Added customisable batch_size for redirects controlpanel\n@@ -218,7 +213,7 @@ New features:\n   [petschki] (#3558)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Make compatible with robotframework 3-5.\n@@ -251,10 +246,9 @@ Bug fixes:\n   [maurits] (#6005)\n \n \n-6.0.0a4 (2022-04-08)\n---------------------\n+## 6.0.0a4 (2022-04-08)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - PLIP 3211:\n@@ -287,7 +281,7 @@ Breaking changes:\n   [jensens, pbauer] (#3485)\n \n \n-New features:\n+### New features:\n \n \n - PLIP #3279: Implement modern images scales. Add huge (1600px), great (1200px), larger (1000px), teaser (600px). Amend preview and mini (remove height constraint).\n@@ -305,7 +299,7 @@ New features:\n   [agitator] (#3489)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Fixed evaluating expressions on resources, and especially loading ``plone.session`` resources.\n@@ -360,10 +354,9 @@ Bug fixes:\n   [maurits] (#6004)\n \n \n-6.0.0a3 (2022-01-28)\n---------------------\n+## 6.0.0a3 (2022-01-28)\n \n-New features:\n+### New features:\n \n \n - add a new entry in site-controlpanel to change the favicon and its MIME-type\n@@ -377,7 +370,7 @@ New features:\n   [jensens] (#3377)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Cleanup Error Log Form after Review\n@@ -393,10 +386,9 @@ Bug fixes:\n - Updated metadata version to 6003.  [maurits] (#6003)\n \n \n-6.0.0a2 (2021-12-03)\n---------------------\n+## 6.0.0a2 (2021-12-03)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - PLIP 3339: Replace ``z3c.autoinclude`` with ``plone.autoinclude``.\n@@ -404,14 +396,14 @@ Breaking changes:\n   [maurits, tschorr] (#3339)\n \n \n-New features:\n+### New features:\n \n \n - On Zope root, create Volto site by default.\n   [maurits] (#3344)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Move prefs_error_log* from skins to browser views\n@@ -434,10 +426,9 @@ Bug fixes:\n - Updated metadata version to 6002.  [maurits] (#6002)\n \n \n-6.0.0a1 (2021-10-22)\n---------------------\n+## 6.0.0a1 (2021-10-22)\n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Release Plone 6.0.0a1.\n@@ -445,10 +436,9 @@ Bug fixes:\n   [maurits] (#3341)\n \n \n-6.0.0a1.dev1 (2021-10-16)\n--------------------------\n+## 6.0.0a1.dev1 (2021-10-16)\n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Use HTML5 meta charset.\n@@ -479,10 +469,9 @@ Bug fixes:\n   [maurits] (#6001)\n \n \n-6.0.0a1.dev0 (2021-09-15)\n--------------------------\n+## 6.0.0a1.dev0 (2021-09-15)\n \n-Breaking changes:\n+### Breaking changes:\n \n \n - Removed our CMFQuickInstallerTool code completely.\n@@ -523,7 +512,7 @@ Breaking changes:\n   tschorr] (#3249)\n \n \n-New features:\n+### New features:\n \n \n - Custom date format strings from registry can be in the ``${}`` format as in the locales files.\n@@ -540,7 +529,7 @@ New features:\n   [pbauer] (#3297)\n \n \n-Bug fixes:\n+### Bug Fixes:\n \n \n - Add ``plone.app.caching`` to the list of add-ons that is upgraded when upgrading Plone.\ndiff --git a/CONTRIBUTING.md b/CONTRIBUTING.md\nnew file mode 100644\nindex 0000000000..5826e4eca3\n--- /dev/null\n+++ b/CONTRIBUTING.md\n@@ -0,0 +1 @@\n+Please see [Developer Guidelines](https://docs.plone.org/develop/coredev/docs/guidelines.html)\ndiff --git a/CONTRIBUTING.rst b/CONTRIBUTING.rst\ndeleted file mode 100644\nindex fc637ac8aa..0000000000\n--- a/CONTRIBUTING.rst\n+++ /dev/null\n@@ -1 +0,0 @@\n-Please see http://docs.plone.org/develop/coredev/docs/guidelines.html\ndiff --git a/README.md b/README.md\nnew file mode 100644\nindex 0000000000..9673c9eb53\n--- /dev/null\n+++ b/README.md\n@@ -0,0 +1,141 @@\n+<p align="center">\n+    <img alt="Plone Logo" width="200px" src="https://raw.githubusercontent.com/plone/.github/main/plone-logo.png">\n+</p>\n+\n+<h1 align="center">\n+  Plone\n+</h1>\n+\n+<div align="center">\n+\n+[![PyPI - Wheel](https://img.shields.io/pypi/wheel/plone)](https://pypi.org/project/plone/)\n+[![PyPI - License](https://img.shields.io/pypi/l/plone)](https://pypi.org/project/plone/)\n+[![PyPI - Status](https://img.shields.io/pypi/status/plone)](https://pypi.org/project/plone/)\n+\n+[![GitHub contributors](https://img.shields.io/github/contributors/plone/Products.CMFPlone)](https://github.com/plone/Products.CMFPlone)\n+![GitHub Repo stars](https://img.shields.io/github/stars/plone/Plone?style=flat-square)\n+\n+</div>\n+\n+Plone is a mature, secure, and user-friendly content management system (CMS).\n+\n+Plone was first released to the public on October 4, 2001.\n+\n+Plone has the maturity, stability, and reliability of an application maintained by open source developers with decades of experience, while continually evolving and adapting to modern technology.\n+\n+Lots of customizations can be made trough-the-web, such as creating content types, themes, workflows, and much more.\n+Plone may be extended and used as a framework on which to build custom CMS-like solutions.\n+\n+Plone works as a\n+\n+- Full-featured server-side rendered HTML CMS.\n+- React-based frontend for editing and viewing content, backed by a server with a REST API.\n+- Headless CMS server with a REST API, allowing a developer to build a custom frontend with their chosen technology.\n+\n+\n+<h2 align="center">\n+  Installing Plone\n+</h2>\n+\n+Plone is available on Linux, Microsoft Windows, macOS, and BSD platforms.\n+\n+Plone may be run as a container in the cloud with Docker and other Open Containers Initiative compliant platforms.\n+[Example Dockerfiles](https://6.docs.plone.org/install/containers/images/index.html) and base images are available.\n+\n+[Install Plone by choosing an option from plone.org](https://plone.org/download)\n+\n+\n+<h2 align="center">\n+  Documentation\n+</h2>\n+\n+Consult [the official Plone documentation](https://docs.plone.org) with information for different audiences.\n+\n+For trainings [comprehensive Plone training material](https://training.plone.org) is available.\n+\n+\n+<h2 align="center">\n+  What is Plone?\n+</h2>\n+\n+Plone is a ready-to-run content management system, offering a complete set of features needed by a wide variety of organizations.\n+\n+Security is built into Plone\'s architecture from the ground up.\n+Plone offers fine-grained permission control over content and actions.\n+\n+Plone is easy to set up, extremely flexible,\n+and provides you with a system for managing web content that is ideal for project groups, communities, websites, extranets, and intranets.\n+\n+- **Plone is easy to install.**\n+  Several installation options are available for either your local machine or on servers in the cloud.\n+\n+- **Plone empowers content editors and web application developers.**\n+  The Plone Team includes usability experts who have made Plone easy and attractive for content managers to add, update, and maintain content.\n+\n+- **Plone is international.**\n+  The Plone interface has more than 35 translations, and tools exist for managing multilingual content.\n+\n+- **Plone follows standards and is inclusive.**\n+  Plone carefully follows standards for usability and accessibility.\n+  Plone is compliant with WCAG 2.1 level AA and aims for ATAG 2.0 level AA.\n+\n+- **Plone is open source.**\n+  Plone is licensed under the GNU General Public License, the same license used by Linux.\n+  This gives you the right to use Plone without a license fee, and to improve upon the product.\n+\n+- **Plone is supported.**\n+  There are over two hundred active developers in the Plone Development Team around the world, and a multitude of companies that specialize in Plone development and support.\n+\n+- **Plone is extensible.**\n+  There is a multitude of add-on products for Plone to add new features and content types.\n+  In addition, Plone can be scripted using web standard solutions and open source languages.\n+\n+- **Plone is technology neutral.**\n+  Plone can interoperate with most relational database systems\xe2\x80\x94both open source and commercial\xe2\x80\x94and runs on a vast array of\n+  platforms, including Linux, Windows, macOS, and BSD.\n+\n+\n+<h2 align="center">\n+Technical overview\n+</h2>\n+\n+Plone is a content management platform with its backend written in Python.\n+Plone has a choice of frontend, either Classic UI using server-side templates or Volto written in modern React-based JavaScript.\n+It builds upon Zope, an open source web application server and development system, and thus on the pluggable Zope Component Architecture (ZCA).\n+\n+Python is the easy to learn, widely used, and supported open source programming language.\n+Python can be used to add new features to Plone and used to understand or make changes to the way that Plone works.\n+\n+Plone stores its contents in Zope\'s built-in transactional hierarchical object database, the ZODB.\n+The ZODB can be connected to simple file-storages, scalable ZEO-Servers or Postgres, MySQL, and Oracle.\n+There are add-ons and techniques, however, to share information with other sources, such as relational databases, LDAP, filesystem\n+files, and so on.\n+\n+\n+<h2 align="center">\n+Official Resources\n+</h2>\n+\n+* [plone.org](https://plone.org/) - Official website for developers, community, decision makers, and evaluators.\n+* [Plone support](https://plone.org/support) - Where to find help.\n+* [community.plone.org](https://community.plone.org/) - Official community forum, the best place to get help.\n+* [docs.plone.org](https://docs.plone.org/) - Official documentation for developers, integrators, and content editors.\n+* [training.plone.org](https://training.plone.org/) - Trainings for developers, integrators, content editors, and designers.\n+* [`plone.api`](https://docs.plone.org/develop/plone.api/docs/index.html) - Documentation for `plone.api`.\n+* [`plone.restapi`](https://plonerestapi.readthedocs.io/en/latest/) - Documentation for `plone.restapi`.\n+* [Discord](https://discord.gg/zFY3EBbjaj) - Official Plone chat, voice, and video service.\n+\n+<h2 align="center">\n+This project is supported by\n+</h2>\n+\n+<p align="center">\n+    <a href="https://plone.org/foundation/">\n+      <img alt="Plone Logo" width="200px" src="https://raw.githubusercontent.com/plone/.github/main/plone-foundation.png">\n+    </a>\n+</p>\n+\n+<h2 align="center">\n+License\n+</h2>\n+The project is licensed under the GPLv2.\ndiff --git a/README.rst b/README.rst\ndeleted file mode 100644\nindex 243d3c582c..0000000000\n--- a/README.rst\n+++ /dev/null\n@@ -1,100 +0,0 @@\n-About Plone\n-===========\n-\n-Plone is a mature, secure and user-friendly Content Management System (CMS).\n-\n-Plone - and the Open Source community behind it - aggregates more than 20 years of experience in content management.\n-It offers all major features expected by a modern CMS out-of-the-box.\n-\n-Lots of customizations can be made trough-the-web, such as creating content types, themes, workflows and much more.\n-Pushed one step further Plone can be used as a framework on which to build custom CMS-like solutions.\n-\n-Plone works as a\n-\n-- full-featured classical server-side rendered CMS,\n-- headless CMS offering all features as a REST API.\n-\n-\n-Installing Plone\n------------------\n-\n-Plone is available on Microsoft Windows, Linux, OSX and BSD platforms.\n-\n-Plone runs as container in the cloud with Docker.\n-\n-`Install Plone by choosing an option from plone.org <https://plone.org/download>`_\n-\n-\n-Documentation\n--------------\n-\n-Consult `the official Plone documentation <https://docs.plone.org>`_ with information for different audiences.\n-\n-For trainings `comprehensive Plone training material <https://training.plone.org>`_ is available.\n-\n-\n-What is Plone?\n---------------\n-\n-Plone is a ready-to-run content management system, offering a complete set of features needed by a wide variety of organizations.\n-\n-Security is built into Plone\'s architecture from the ground up.\n-Plone offers fine-grained permission control over content and actions.\n-\n-Plone is easy to set up, extremely flexible,\n-and provides you with a system for managing web content that is ideal for project groups, communities, websites, extranets and intranets.\n-\n-- *Plone is easy to install.*\n-  Several installation options are available for either your local machine or on servers in the cloud.\n-\n-- *Plone is easy to use.*\n-  The Plone Team includes usability experts who have made Plone easy and attractive for content managers to add, update, and maintain content.\n-\n-- *Plone is international.*\n-  The Plone interface has more than 35 translations, and tools exist for managing multilingual content.\n-\n-- *Plone is standard.*\n-  Plone carefully follows standards for usability and accessibility.\n-  Plone pages are compliant with US Section 508, and the W3C\'s AAA rating for accessibility.\n-\n-- *Plone is Open Source.*\n-  Plone is licensed under the GNU General Public License, the same license used by Linux.\n-  This gives you the right to use Plone without a license fee, and to improve upon the product.\n-\n-- *Plone is supported.*\n-  There are over three hundred developers in the Plone Development Team around the world, and a multitude of companies that specialize in Plone development and support.\n-\n-- *Plone is extensible.*\n-  There is a multitude of add-on products for Plone to add new features and content types.\n-  In addition, Plone can be scripted using web standard solutions and Open Source languages.\n-\n-- *Plone is technology neutral.*\n-  Plone can interoperate with most relational database systems, open source and commercial, and runs on a vast array of\n-  platforms, including Linux, Windows, Mac OS X, Solaris and BSD.\n-\n-\n-Technical overview\n-------------------\n-\n-Plone is a content management platform written in Python.\n-It builds upon Zope, an Open Source web application server and development system and thus on the pluggable Zope Component Architecture (ZCA).\n-\n-Python is the easy-to-learn, widely-used and supported Open Source programming language.\n-Python can be used to add new features to Plone, and used to understand or make changes to the way that Plone works.\n-\n-Plone stores its contents in Zope\'s built-in transactional hierarchical object database, the ZODB.\n-The ZODB can be connected to simple file-storages, scalable ZEO-Servers or Postgres, MySQL and Oracle.\n-There are addons and techniques, however, to share information with other sources, such as relational databases, LDAP, filesystem\n-files, etc.\n-\n-\n-Official Resources\n-------------------\n-* `plone.org <https://plone.org/>`_ - Official website for developers and community.\n-* `Plone support <https://plone.org/support>`_ - Where to find help.\n-* `community.plone.org <https://community.plone.org/>`_ - Official community forum, the best place to get help.\n-* `docs.plone.org <https://docs.plone.org/>`_ - Official documentation for developers/integrators.\n-* `training.plone.org <https://training.plone.org/>`_ - Training classes for developers/integrators/users/designers.\n-* `plone.api <https://docs.plone.org/develop/plone.api/docs/index.html>`_ - Documentation for plone.api.\n-* `plone.restapi <https://plonerestapi.readthedocs.io/en/latest/>`_ - Documentation for plone.restapi.\n-* `official Discord chat <https://discord.gg/zFY3EBbjaj>`_ - Join link.\ndiff --git a/docs/changelog_template.jinja b/docs/changelog_template.jinja\nnew file mode 100644\nindex 0000000000..b35bff39d4\n--- /dev/null\n+++ b/docs/changelog_template.jinja\n@@ -0,0 +1,15 @@\n+{% if sections[""] %}\n+{% for category, val in definitions.items() if category in sections[""] %}\n+\n+### {{ definitions[category][\'name\'] }}\n+\n+{% for text, values in sections[""][category].items() %}\n+- {{ text }} {{ values|join(\', \') }}\n+{% endfor %}\n+\n+{% endfor %}\n+{% else %}\n+No significant changes.\n+\n+\n+{% endif %}\n\\ No newline at end of file\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 05b615de2f..10d43bb1bd 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -1,8 +1,10 @@\n [tool.towncrier]\n-filename = "CHANGES.rst"\n+filename = "CHANGES.md"\n directory = "news/"\n-title_format = "{version} ({project_date})"\n-underlines = ["-", ""]\n+start_string = "<!-- towncrier release notes start -->\\n"\n+title_format = "## {version} ({project_date})"\n+template = "docs/changelog_template.jinja"\n+underlines = ["", "", ""]\n \n [[tool.towncrier.type]]\n directory = "breaking"\ndiff --git a/setup.py b/setup.py\nindex 4120300723..0568c7326d 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -9,8 +9,9 @@\n     name=\'Products.CMFPlone\',\n     version=version,\n     description="The Plone Content Management System (core)",\n-    long_description=open("README.rst").read() + "\\n" +\n-    open("CHANGES.rst").read(),\n+    long_description=open("README.md").read() + "\\n" +\n+    open("CHANGES.md").read(),\n+    long_description_content_type="text/markdown",\n     classifiers=[\n         "Development Status :: 5 - Production/Stable",\n         "Environment :: Web Environment",\n@@ -34,8 +35,7 @@\n     license=\'GPL version 2\',\n     project_urls={\n         "Homepage": "https://plone.org",\n-        "Documentation": "https://docs.plone.org",\n-        "PyPI": "https://pypi.python.org/pypi/Products.CMFPlone",\n+        "Documentation": "https://6.docs.plone.org",\n         "Source": "https://github.com/plone/Products.CMFPlone",\n         "Issues": "https://github.com/plone/plone.org/Products.CMFPlone",\n         "Forum": "https://community.plone.org/",\n'

