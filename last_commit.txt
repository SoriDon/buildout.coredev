Repository: plone.namedfile


Branch: refs/heads/master
Date: 2022-01-26T22:44:34+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.namedfile/commit/11960d7644a6f092354cee35dc071469527bc2e9

Drop support for Python 2.7.

Main target is now Plone 6, but we try to keep it running on Plone 5.2 with Python 3.
See discussion at https://github.com/plone/plone.scale/issues/44

Files changed:
A .github/workflows/tests.yml
A news/44.breaking
A tox.ini
M setup.py

b'diff --git a/.github/workflows/tests.yml b/.github/workflows/tests.yml\nnew file mode 100644\nindex 0000000..25cbef5\n--- /dev/null\n+++ b/.github/workflows/tests.yml\n@@ -0,0 +1,43 @@\n+name: tests\n+\n+on:\n+  push:\n+    branches: [ master ]\n+  pull_request:\n+  # Allow to run this workflow manually from the Actions tab\n+  workflow_dispatch:\n+jobs:\n+  build:\n+    strategy:\n+      matrix:\n+        config:\n+        # [Python version, tox env]\n+        - ["3.6",  "plone52-py36"]\n+        - ["3.7",  "plone52-py37"]\n+        - ["3.8",  "plone52-py38"]\n+        - ["3.7",  "plone60-py37"]\n+        - ["3.8",  "plone60-py38"]\n+        - ["3.9",  "plone60-py39"]\n+        - ["3.10", "plone60-py310"]\n+    runs-on: ubuntu-latest\n+    name: ${{ matrix.config[1] }}\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up Python\n+      uses: actions/setup-python@v2\n+      with:\n+        python-version: ${{ matrix.config[0] }}\n+    - name: Pip cache\n+      uses: actions/cache@v2\n+      with:\n+        path: ~/.cache/pip\n+        key: ${{ runner.os }}-pip-${{ matrix.config[0] }}-${{ hashFiles(\'setup.*\', \'tox.ini\') }}\n+        restore-keys: |\n+          ${{ runner.os }}-pip-${{ matrix.config[0] }}-\n+          ${{ runner.os }}-pip-\n+    - name: Install dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install tox\n+    - name: Test\n+      run: tox -e ${{ matrix.config[1] }}\ndiff --git a/news/44.breaking b/news/44.breaking\nnew file mode 100644\nindex 0000000..c1f93fe\n--- /dev/null\n+++ b/news/44.breaking\n@@ -0,0 +1,4 @@\n+Drop support for Python 2.7.\n+Main target is now Plone 6, but we try to keep it running on Plone 5.2 with Python 3.\n+See discussion in `plone.scale <https://github.com/plone/plone.scale/issues/44>`_.\n+[maurits]\ndiff --git a/setup.py b/setup.py\nindex 15ca613..62986fb 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -5,7 +5,7 @@\n import os\n \n \n-version = \'5.6.1.dev0\'\n+version = \'6.0.0a1.dev0\'\n \n description = \'File types and fields for images, files and blob files with \' \\\n               \'filenames\'\n@@ -28,11 +28,11 @@\n         "Framework :: Plone :: 6.0",\n         "Framework :: Plone :: Core",\n         "Programming Language :: Python",\n-        "Programming Language :: Python :: 2.7",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n         "Programming Language :: Python :: 3.8",\n         "Programming Language :: Python :: 3.9",\n+        "Programming Language :: Python :: 3.10",\n         "Topic :: Software Development :: Libraries :: Python Modules",\n         "License :: OSI Approved :: BSD License",\n     ],\n@@ -46,9 +46,10 @@\n     include_package_data=True,\n     zip_safe=False,\n     install_requires=[\n+        \'persistent\',\n         \'piexif\',\n-        \'plone.rfc822>=2.0a1\',\n-        \'plone.scale[storage] >=1.4.999\',\n+        \'plone.rfc822>=2.0.0\',\n+        \'plone.scale[storage] >=3.0\',\n         \'plone.schemaeditor\',\n         \'plone.supermodel\',\n         \'setuptools\',\n@@ -61,6 +62,7 @@\n     ],\n     extras_require={\n         \'test\': [\n+            \'plone.app.testing\',\n             \'lxml\',\n             \'Pillow\',\n             \'plone.testing[z2]\',\ndiff --git a/tox.ini b/tox.ini\nnew file mode 100644\nindex 0000000..7a84ed4\n--- /dev/null\n+++ b/tox.ini\n@@ -0,0 +1,25 @@\n+[tox]\n+envlist =\n+    plone52-py36,\n+    plone52-py37,\n+    plone52-py38,\n+    plone60-py37,\n+    plone60-py38,\n+    plone60-py39,\n+    plone60-py310,\n+\n+skip_missing_interpreters = False\n+\n+[testenv]\n+usedevelop = True\n+extras =\n+    test\n+commands =\n+    python -V\n+    pip list\n+    zope-testrunner --test-path={toxinidir} {posargs:-vc}\n+install_command = pip install --use-deprecated legacy-resolver {opts} {packages}\n+deps =\n+    zope.testrunner\n+    plone52: -c https://dist.plone.org/release/5.2-dev/constraints.txt\n+    plone60: -c https://dist.plone.org/release/6.0-dev/constraints.txt\n'

Repository: plone.namedfile


Branch: refs/heads/master
Date: 2022-01-26T23:07:09+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.namedfile/commit/68da72166277742c551ed27a5dd1a2e37cda13d4

Removed unused imports.

Files changed:
M plone/namedfile/browser.py
M plone/namedfile/tests/test_display_file.py

b'diff --git a/plone/namedfile/browser.py b/plone/namedfile/browser.py\nindex 0792545..daaa769 100644\n--- a/plone/namedfile/browser.py\n+++ b/plone/namedfile/browser.py\n@@ -4,7 +4,6 @@\n from plone.namedfile.utils import stream_data\n from plone.rfc822.interfaces import IPrimaryFieldInfo\n from Products.Five.browser import BrowserView\n-from zope.annotation.interfaces import IAnnotations\n from zope.interface import implementer\n from zope.publisher.interfaces import IPublishTraverse\n from zope.publisher.interfaces import NotFound\ndiff --git a/plone/namedfile/tests/test_display_file.py b/plone/namedfile/tests/test_display_file.py\nindex fe537e8..2414bf9 100644\n--- a/plone/namedfile/tests/test_display_file.py\n+++ b/plone/namedfile/tests/test_display_file.py\n@@ -12,7 +12,6 @@\n from zope.annotation import IAttributeAnnotatable\n from zope.interface import implementer\n \n-import os\n import transaction\n import unittest\n \n'

Repository: plone.namedfile


Branch: refs/heads/master
Date: 2022-01-26T23:07:09+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.namedfile/commit/c060e8fab10b2902ba9d61f6fb6292d5f32a4b4f

Fixed NameError `file` on Python 3. Use `io.IOBase` instead.

Files changed:
A news/3.bugfix
M plone/namedfile/storages.py

b'diff --git a/news/3.bugfix b/news/3.bugfix\nnew file mode 100644\nindex 0000000..d36a316\n--- /dev/null\n+++ b/news/3.bugfix\n@@ -0,0 +1 @@\n+Fixed NameError `file` on Python 3. Use `io.IOBase` instead.\ndiff --git a/plone/namedfile/storages.py b/plone/namedfile/storages.py\nindex b4a08c7..4091d1a 100644\n--- a/plone/namedfile/storages.py\n+++ b/plone/namedfile/storages.py\n@@ -65,8 +65,8 @@ def store(self, data, blob):\n class FileDescriptorStorable(object):\n \n     def store(self, data, blob):\n-        if not isinstance(data, file):\n-            raise NotStorable(\'Could not store data (not of "file").\')\n+        if not isinstance(data, io.IOBase):\n+            raise NotStorable(\'Could not store data: not of io.IOBase ("file").\')\n \n         filename = getattr(data, \'name\', None)\n         if filename is not None:\n'

Repository: plone.namedfile


Branch: refs/heads/master
Date: 2022-01-27T11:04:54+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.namedfile/commit/9a7c21db468c4e1b3ec6b39774d42a49959ee52b

Tox: use mxdev so we can ignore the version pin for plone.namedfile.

The previous version of this tox file did not work as intended:
I got CMFPlone 5.2.6 for all environments, instead of 5.2.7rc1 and 6.0.0a2.

Files changed:
A requirements-52.txt
A requirements-60.txt
A sources-52.ini
A sources-60.ini
M .gitignore
M tox.ini

b'diff --git a/.gitignore b/.gitignore\nindex cde2daa..9eff048 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -1,11 +1,13 @@\n-*.egg-info\n-*.pyc\n-.project\n .idea\n-.pydevproject\n .installed.cfg\n+.project\n+.pydevproject\n+*.egg-info\n+*.pyc\n bin\n-lib\n+constraints-*-mxdev.txt\n+develop-eggs\n include\n+lib\n parts\n-develop-eggs\n+requirements-*-mxdev.txt\ndiff --git a/requirements-52.txt b/requirements-52.txt\nnew file mode 100644\nindex 0000000..95d53f8\n--- /dev/null\n+++ b/requirements-52.txt\n@@ -0,0 +1,4 @@\n+-e .[test]\n+zope.testrunner\n+--pre\n+-c https://dist.plone.org/release/5.2-dev/constraints.txt\ndiff --git a/requirements-60.txt b/requirements-60.txt\nnew file mode 100644\nindex 0000000..b7b56cb\n--- /dev/null\n+++ b/requirements-60.txt\n@@ -0,0 +1,4 @@\n+-e .[test]\n+zope.testrunner\n+--pre\n+-c https://dist.plone.org/release/6.0-dev/constraints.txt\ndiff --git a/sources-52.ini b/sources-52.ini\nnew file mode 100644\nindex 0000000..9a78476\n--- /dev/null\n+++ b/sources-52.ini\n@@ -0,0 +1,10 @@\n+[settings]\n+# This is a mxdev configuration file\n+#\n+# available options are documented at\n+# https://pypi.org/project/mxdev/\n+\n+requirements-in = requirements-52.txt\n+requirements-out = requirements-52-mxdev.txt\n+constraints-out = constraints-52-mxdev.txt\n+ignores = plone.namedfile\ndiff --git a/sources-60.ini b/sources-60.ini\nnew file mode 100644\nindex 0000000..23c132d\n--- /dev/null\n+++ b/sources-60.ini\n@@ -0,0 +1,10 @@\n+[settings]\n+# This is a mxdev configuration file\n+#\n+# available options are documented at\n+# https://pypi.org/project/mxdev/\n+\n+requirements-in = requirements-60.txt\n+requirements-out = requirements-60-mxdev.txt\n+constraints-out = constraints-60-mxdev.txt\n+ignores = plone.namedfile\ndiff --git a/tox.ini b/tox.ini\nindex 7a84ed4..c505c68 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -11,15 +11,21 @@ envlist =\n skip_missing_interpreters = False\n \n [testenv]\n-usedevelop = True\n-extras =\n-    test\n+usedevelop = False\n+skip_install = true\n commands =\n     python -V\n     pip list\n     zope-testrunner --test-path={toxinidir} {posargs:-vc}\n-install_command = pip install --use-deprecated legacy-resolver {opts} {packages}\n-deps =\n-    zope.testrunner\n-    plone52: -c https://dist.plone.org/release/5.2-dev/constraints.txt\n-    plone60: -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+\n+[testenv:plone52-py{36,37,38}]\n+commands_pre =\n+    pip install mxdev\n+    mxdev -c sources-52.ini\n+    pip install --use-deprecated legacy-resolver -rrequirements-52-mxdev.txt\n+\n+[testenv:plone60-py{37,38,39,310}]\n+commands_pre =\n+    pip install mxdev\n+    mxdev -c sources-60.ini\n+    pip install --use-deprecated legacy-resolver -rrequirements-60-mxdev.txt\n'

Repository: plone.namedfile


Branch: refs/heads/master
Date: 2022-01-27T11:14:24+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.namedfile/commit/05ae1149f9b29ca0769cb04aaa9942d067bc78d5

Tox on Plone 6: include Zope[wsgi] explicitly.

Otherwise all test modules fail with this error:

```
Test-module import failures:

Module: plone.namedfile.tests.test_blobfile

Traceback (most recent call last):
  File "/Users/maurits/community/plone-coredev/6.0/src/plone.namedfile/plone/namedfile/__init__.py", line 2, in &lt;module&gt;
    from plone.namedfile.file import NamedBlobFile  # noqa
  File "/Users/maurits/community/plone-coredev/6.0/src/plone.namedfile/plone/namedfile/file.py", line 12, in &lt;module&gt;
    from plone.namedfile.utils import get_contenttype
  File "/Users/maurits/community/plone-coredev/6.0/src/plone.namedfile/plone/namedfile/utils/__init__.py", line 31, in &lt;module&gt;
    from Products.CMFPlone.interfaces.controlpanel import IImagingSchema
  File "/Users/maurits/community/plone-coredev/6.0/src/plone.namedfile/.tox/plone60-py39/lib/python3.9/site-packages/Products/CMFPlone/__init__.py", line 6, in &lt;module&gt;
    __version__ = pkg_resources.require("Products.CMFPlone")[0].version
  File "/Users/maurits/community/plone-coredev/6.0/src/plone.namedfile/.tox/plone60-py39/lib/python3.9/site-packages/pkg_resources/__init__.py", line 891, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/Users/maurits/community/plone-coredev/6.0/src/plone.namedfile/.tox/plone60-py39/lib/python3.9/site-packages/pkg_resources/__init__.py", line 777, in resolve
    raise DistributionNotFound(req, requirers)
pkg_resources.DistributionNotFound: The 'Paste; extra == "wsgi"' distribution was not found and is required by Zope
```

I wonder if `Zope[wsgi]` (which only contains `Paste`) should be added in CMFPlone as dependency.
Ah, but it *is* there.  So this is strange.
This is the first time I see this error, so let's have this workaround for now.

Files changed:
M requirements-60.txt

b'diff --git a/requirements-60.txt b/requirements-60.txt\nindex b7b56cb..096a384 100644\n--- a/requirements-60.txt\n+++ b/requirements-60.txt\n@@ -1,4 +1,7 @@\n -e .[test]\n zope.testrunner\n+# Somehow the Zope[wsgi] dependency of CMFPlone is not pulled in, making all tests fail.\n+# So include it explicitly for now.\n+Zope[wsgi]\n --pre\n -c https://dist.plone.org/release/6.0-dev/constraints.txt\n'

Repository: plone.namedfile


Branch: refs/heads/master
Date: 2022-01-27T21:14:08+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.namedfile/commit/51641a0e022f99fe91d1da06e6ccf101275559a5

Merge pull request #107 from plone/maurits-tox-python3-only

Drop support for Python 2.7.

Files changed:
A .github/workflows/tests.yml
A news/3.bugfix
A news/44.breaking
A requirements-52.txt
A requirements-60.txt
A sources-52.ini
A sources-60.ini
A tox.ini
M .gitignore
M plone/namedfile/browser.py
M plone/namedfile/storages.py
M plone/namedfile/tests/test_display_file.py
M setup.py

b'diff --git a/.github/workflows/tests.yml b/.github/workflows/tests.yml\nnew file mode 100644\nindex 0000000..25cbef5\n--- /dev/null\n+++ b/.github/workflows/tests.yml\n@@ -0,0 +1,43 @@\n+name: tests\n+\n+on:\n+  push:\n+    branches: [ master ]\n+  pull_request:\n+  # Allow to run this workflow manually from the Actions tab\n+  workflow_dispatch:\n+jobs:\n+  build:\n+    strategy:\n+      matrix:\n+        config:\n+        # [Python version, tox env]\n+        - ["3.6",  "plone52-py36"]\n+        - ["3.7",  "plone52-py37"]\n+        - ["3.8",  "plone52-py38"]\n+        - ["3.7",  "plone60-py37"]\n+        - ["3.8",  "plone60-py38"]\n+        - ["3.9",  "plone60-py39"]\n+        - ["3.10", "plone60-py310"]\n+    runs-on: ubuntu-latest\n+    name: ${{ matrix.config[1] }}\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up Python\n+      uses: actions/setup-python@v2\n+      with:\n+        python-version: ${{ matrix.config[0] }}\n+    - name: Pip cache\n+      uses: actions/cache@v2\n+      with:\n+        path: ~/.cache/pip\n+        key: ${{ runner.os }}-pip-${{ matrix.config[0] }}-${{ hashFiles(\'setup.*\', \'tox.ini\') }}\n+        restore-keys: |\n+          ${{ runner.os }}-pip-${{ matrix.config[0] }}-\n+          ${{ runner.os }}-pip-\n+    - name: Install dependencies\n+      run: |\n+        python -m pip install --upgrade pip\n+        pip install tox\n+    - name: Test\n+      run: tox -e ${{ matrix.config[1] }}\ndiff --git a/.gitignore b/.gitignore\nindex cde2daa..9eff048 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -1,11 +1,13 @@\n-*.egg-info\n-*.pyc\n-.project\n .idea\n-.pydevproject\n .installed.cfg\n+.project\n+.pydevproject\n+*.egg-info\n+*.pyc\n bin\n-lib\n+constraints-*-mxdev.txt\n+develop-eggs\n include\n+lib\n parts\n-develop-eggs\n+requirements-*-mxdev.txt\ndiff --git a/news/3.bugfix b/news/3.bugfix\nnew file mode 100644\nindex 0000000..d36a316\n--- /dev/null\n+++ b/news/3.bugfix\n@@ -0,0 +1 @@\n+Fixed NameError `file` on Python 3. Use `io.IOBase` instead.\ndiff --git a/news/44.breaking b/news/44.breaking\nnew file mode 100644\nindex 0000000..c1f93fe\n--- /dev/null\n+++ b/news/44.breaking\n@@ -0,0 +1,4 @@\n+Drop support for Python 2.7.\n+Main target is now Plone 6, but we try to keep it running on Plone 5.2 with Python 3.\n+See discussion in `plone.scale <https://github.com/plone/plone.scale/issues/44>`_.\n+[maurits]\ndiff --git a/plone/namedfile/browser.py b/plone/namedfile/browser.py\nindex 0792545..daaa769 100644\n--- a/plone/namedfile/browser.py\n+++ b/plone/namedfile/browser.py\n@@ -4,7 +4,6 @@\n from plone.namedfile.utils import stream_data\n from plone.rfc822.interfaces import IPrimaryFieldInfo\n from Products.Five.browser import BrowserView\n-from zope.annotation.interfaces import IAnnotations\n from zope.interface import implementer\n from zope.publisher.interfaces import IPublishTraverse\n from zope.publisher.interfaces import NotFound\ndiff --git a/plone/namedfile/storages.py b/plone/namedfile/storages.py\nindex b4a08c7..4091d1a 100644\n--- a/plone/namedfile/storages.py\n+++ b/plone/namedfile/storages.py\n@@ -65,8 +65,8 @@ def store(self, data, blob):\n class FileDescriptorStorable(object):\n \n     def store(self, data, blob):\n-        if not isinstance(data, file):\n-            raise NotStorable(\'Could not store data (not of "file").\')\n+        if not isinstance(data, io.IOBase):\n+            raise NotStorable(\'Could not store data: not of io.IOBase ("file").\')\n \n         filename = getattr(data, \'name\', None)\n         if filename is not None:\ndiff --git a/plone/namedfile/tests/test_display_file.py b/plone/namedfile/tests/test_display_file.py\nindex fe537e8..2414bf9 100644\n--- a/plone/namedfile/tests/test_display_file.py\n+++ b/plone/namedfile/tests/test_display_file.py\n@@ -12,7 +12,6 @@\n from zope.annotation import IAttributeAnnotatable\n from zope.interface import implementer\n \n-import os\n import transaction\n import unittest\n \ndiff --git a/requirements-52.txt b/requirements-52.txt\nnew file mode 100644\nindex 0000000..95d53f8\n--- /dev/null\n+++ b/requirements-52.txt\n@@ -0,0 +1,4 @@\n+-e .[test]\n+zope.testrunner\n+--pre\n+-c https://dist.plone.org/release/5.2-dev/constraints.txt\ndiff --git a/requirements-60.txt b/requirements-60.txt\nnew file mode 100644\nindex 0000000..096a384\n--- /dev/null\n+++ b/requirements-60.txt\n@@ -0,0 +1,7 @@\n+-e .[test]\n+zope.testrunner\n+# Somehow the Zope[wsgi] dependency of CMFPlone is not pulled in, making all tests fail.\n+# So include it explicitly for now.\n+Zope[wsgi]\n+--pre\n+-c https://dist.plone.org/release/6.0-dev/constraints.txt\ndiff --git a/setup.py b/setup.py\nindex 15ca613..62986fb 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -5,7 +5,7 @@\n import os\n \n \n-version = \'5.6.1.dev0\'\n+version = \'6.0.0a1.dev0\'\n \n description = \'File types and fields for images, files and blob files with \' \\\n               \'filenames\'\n@@ -28,11 +28,11 @@\n         "Framework :: Plone :: 6.0",\n         "Framework :: Plone :: Core",\n         "Programming Language :: Python",\n-        "Programming Language :: Python :: 2.7",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n         "Programming Language :: Python :: 3.8",\n         "Programming Language :: Python :: 3.9",\n+        "Programming Language :: Python :: 3.10",\n         "Topic :: Software Development :: Libraries :: Python Modules",\n         "License :: OSI Approved :: BSD License",\n     ],\n@@ -46,9 +46,10 @@\n     include_package_data=True,\n     zip_safe=False,\n     install_requires=[\n+        \'persistent\',\n         \'piexif\',\n-        \'plone.rfc822>=2.0a1\',\n-        \'plone.scale[storage] >=1.4.999\',\n+        \'plone.rfc822>=2.0.0\',\n+        \'plone.scale[storage] >=3.0\',\n         \'plone.schemaeditor\',\n         \'plone.supermodel\',\n         \'setuptools\',\n@@ -61,6 +62,7 @@\n     ],\n     extras_require={\n         \'test\': [\n+            \'plone.app.testing\',\n             \'lxml\',\n             \'Pillow\',\n             \'plone.testing[z2]\',\ndiff --git a/sources-52.ini b/sources-52.ini\nnew file mode 100644\nindex 0000000..9a78476\n--- /dev/null\n+++ b/sources-52.ini\n@@ -0,0 +1,10 @@\n+[settings]\n+# This is a mxdev configuration file\n+#\n+# available options are documented at\n+# https://pypi.org/project/mxdev/\n+\n+requirements-in = requirements-52.txt\n+requirements-out = requirements-52-mxdev.txt\n+constraints-out = constraints-52-mxdev.txt\n+ignores = plone.namedfile\ndiff --git a/sources-60.ini b/sources-60.ini\nnew file mode 100644\nindex 0000000..23c132d\n--- /dev/null\n+++ b/sources-60.ini\n@@ -0,0 +1,10 @@\n+[settings]\n+# This is a mxdev configuration file\n+#\n+# available options are documented at\n+# https://pypi.org/project/mxdev/\n+\n+requirements-in = requirements-60.txt\n+requirements-out = requirements-60-mxdev.txt\n+constraints-out = constraints-60-mxdev.txt\n+ignores = plone.namedfile\ndiff --git a/tox.ini b/tox.ini\nnew file mode 100644\nindex 0000000..c505c68\n--- /dev/null\n+++ b/tox.ini\n@@ -0,0 +1,31 @@\n+[tox]\n+envlist =\n+    plone52-py36,\n+    plone52-py37,\n+    plone52-py38,\n+    plone60-py37,\n+    plone60-py38,\n+    plone60-py39,\n+    plone60-py310,\n+\n+skip_missing_interpreters = False\n+\n+[testenv]\n+usedevelop = False\n+skip_install = true\n+commands =\n+    python -V\n+    pip list\n+    zope-testrunner --test-path={toxinidir} {posargs:-vc}\n+\n+[testenv:plone52-py{36,37,38}]\n+commands_pre =\n+    pip install mxdev\n+    mxdev -c sources-52.ini\n+    pip install --use-deprecated legacy-resolver -rrequirements-52-mxdev.txt\n+\n+[testenv:plone60-py{37,38,39,310}]\n+commands_pre =\n+    pip install mxdev\n+    mxdev -c sources-60.ini\n+    pip install --use-deprecated legacy-resolver -rrequirements-60-mxdev.txt\n'

