Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-05-02T23:01:56+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.schemaeditor/commit/acd81515db27261b4e4e86d78d3b9f330e39cf44

Make compatible with robotframework 3-5.

Files changed:
A news/5.bugfix
M plone/schemaeditor/tests/robot/test_fields.robot

b'diff --git a/news/5.bugfix b/news/5.bugfix\nnew file mode 100644\nindex 0000000..cddac02\n--- /dev/null\n+++ b/news/5.bugfix\n@@ -0,0 +1,2 @@\n+Make compatible with robotframework 3-5.\n+[maurits]\ndiff --git a/plone/schemaeditor/tests/robot/test_fields.robot b/plone/schemaeditor/tests/robot/test_fields.robot\nindex 9cee989..344aa9e 100644\n--- a/plone/schemaeditor/tests/robot/test_fields.robot\n+++ b/plone/schemaeditor/tests/robot/test_fields.robot\n@@ -38,7 +38,7 @@ Add a choice field with a named vocabulary\n     Wait until page contains element  css=div[data-field_id="languages"] a.fieldSettings\n \n     Open field settings  languages\n-    Select from list  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n+    Select from list by value  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n     Click button  css=.modal-footer #form-buttons-save\n     Wait overlay is closed\n     Page should contain  Fran\xc3\xa7ais\n@@ -62,7 +62,7 @@ Add a choice field with vocabulary values\n #    Add field  Hobbies  hobbies  Multiple Choice\n #    Open field settings  hobbies\n #    Input text  form-widgets-values  Chess\\nSoccer\\nBaseball\\nVideo games\n-#    Select from list  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n+#    Select from list by value  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n #    Click Button  Save\n #    Wait until page contains element  css=#formfield-form-widgets-vocabularyName.error\n #\n@@ -125,7 +125,7 @@ Delete field\n     Add field  Phone  phone  Text line (String)\n     Wait until page contains element  css=#fieldset-0 #formfield-form-widgets-phone\n     Click link  css=div.fieldControls .schemaeditor-delete-field\n-    Confirm Action\n+    Handle alert\n     Wait Until Keyword Succeeds  10  1  Page Should Not Contain Element  css=#formfield-form-widgets-phone\n     # Make sure it actually got deleted\n     Go to  ${PLONE_URL}/@@dexterity-types/somebody/@@fields\n@@ -176,7 +176,7 @@ Add field\n     Input text for sure  form-widgets-title  ${field_title}\n     Set Focus to Element  form-widgets-__name__\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-__name__  ${field_id}\n-    Select from list  form-widgets-factory  ${field_type}\n+    Select from list by label  form-widgets-factory  ${field_type}\n     Click button  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n \n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-05-03T01:13:27+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/20fe4afb5d28c31f11d3ac61e48a4a159e045663

Merge pull request #88 from plone/robotframework5

Make compatible with robotframework 3-5.

Files changed:
A news/5.bugfix
M plone/schemaeditor/tests/robot/test_fields.robot

b'diff --git a/news/5.bugfix b/news/5.bugfix\nnew file mode 100644\nindex 0000000..cddac02\n--- /dev/null\n+++ b/news/5.bugfix\n@@ -0,0 +1,2 @@\n+Make compatible with robotframework 3-5.\n+[maurits]\ndiff --git a/plone/schemaeditor/tests/robot/test_fields.robot b/plone/schemaeditor/tests/robot/test_fields.robot\nindex 9cee989..344aa9e 100644\n--- a/plone/schemaeditor/tests/robot/test_fields.robot\n+++ b/plone/schemaeditor/tests/robot/test_fields.robot\n@@ -38,7 +38,7 @@ Add a choice field with a named vocabulary\n     Wait until page contains element  css=div[data-field_id="languages"] a.fieldSettings\n \n     Open field settings  languages\n-    Select from list  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n+    Select from list by value  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n     Click button  css=.modal-footer #form-buttons-save\n     Wait overlay is closed\n     Page should contain  Fran\xc3\xa7ais\n@@ -62,7 +62,7 @@ Add a choice field with vocabulary values\n #    Add field  Hobbies  hobbies  Multiple Choice\n #    Open field settings  hobbies\n #    Input text  form-widgets-values  Chess\\nSoccer\\nBaseball\\nVideo games\n-#    Select from list  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n+#    Select from list by value  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n #    Click Button  Save\n #    Wait until page contains element  css=#formfield-form-widgets-vocabularyName.error\n #\n@@ -125,7 +125,7 @@ Delete field\n     Add field  Phone  phone  Text line (String)\n     Wait until page contains element  css=#fieldset-0 #formfield-form-widgets-phone\n     Click link  css=div.fieldControls .schemaeditor-delete-field\n-    Confirm Action\n+    Handle alert\n     Wait Until Keyword Succeeds  10  1  Page Should Not Contain Element  css=#formfield-form-widgets-phone\n     # Make sure it actually got deleted\n     Go to  ${PLONE_URL}/@@dexterity-types/somebody/@@fields\n@@ -176,7 +176,7 @@ Add field\n     Input text for sure  form-widgets-title  ${field_title}\n     Set Focus to Element  form-widgets-__name__\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-__name__  ${field_id}\n-    Select from list  form-widgets-factory  ${field_type}\n+    Select from list by label  form-widgets-factory  ${field_type}\n     Click button  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n \n'

