Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-01-05T23:37:31+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/d687faad2b8a253a095b7148e3963e406c50390e

Revert "[a11y] Added role attribute for portalMessage + formatted its template"

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/globalstatusmessage.pt

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 1874adb..c5ae11a 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,8 +14,7 @@ New features:\n \n Bug fixes:\n \n-- a11y: Added role attribute for portalMessage\n-  [nzambello]\n+- *add item here*\n \n \n 3.0.0 (2018-10-30)\ndiff --git a/plone/app/layout/viewlets/globalstatusmessage.pt b/plone/app/layout/viewlets/globalstatusmessage.pt\nindex 850a51d..cfdc6b9 100644\n--- a/plone/app/layout/viewlets/globalstatusmessage.pt\n+++ b/plone/app/layout/viewlets/globalstatusmessage.pt\n@@ -1,18 +1,12 @@\n <tal:statusmsg tal:define="messages view/messages"\n-               tal:repeat="message messages">\n+    tal:repeat="message messages">\n \n-    <div tal:define="mtype message/type | nothing;\n-                     mrole python: mtype === \'error\' and \'alert\' or \'status\';"\n-         tal:attributes="class string:portalMessage ${mtype};\n-                         role mrole;">\n-\n-        <strong i18n:translate=""\n-                tal:content="python:mtype.capitalize()">\n-            Info\n-        </strong>\n+    <div tal:define="mtype message/type | nothing;"\n+        tal:attributes="class string:portalMessage ${mtype};">\n+        <strong\n+            i18n:translate="" tal:content="python:mtype.capitalize()">Info</strong>\n         <span class="content"\n-              tal:replace="message/message | nothing"\n-              i18n:translate="">\n+            tal:replace="message/message | nothing" i18n:translate="">\n             The status message.\n         </span>\n     </div>\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-01-05T23:37:51+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/5b809872fd8516447e5ccba332a313285bd9130f

Merge pull request #174 from plone/revert-173-nzambello_a11y_portalMessage

Revert "[a11y] Added role attribute for portalMessage + formatted its template"

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/globalstatusmessage.pt

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 1874adb..c5ae11a 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,8 +14,7 @@ New features:\n \n Bug fixes:\n \n-- a11y: Added role attribute for portalMessage\n-  [nzambello]\n+- *add item here*\n \n \n 3.0.0 (2018-10-30)\ndiff --git a/plone/app/layout/viewlets/globalstatusmessage.pt b/plone/app/layout/viewlets/globalstatusmessage.pt\nindex 850a51d..cfdc6b9 100644\n--- a/plone/app/layout/viewlets/globalstatusmessage.pt\n+++ b/plone/app/layout/viewlets/globalstatusmessage.pt\n@@ -1,18 +1,12 @@\n <tal:statusmsg tal:define="messages view/messages"\n-               tal:repeat="message messages">\n+    tal:repeat="message messages">\n \n-    <div tal:define="mtype message/type | nothing;\n-                     mrole python: mtype === \'error\' and \'alert\' or \'status\';"\n-         tal:attributes="class string:portalMessage ${mtype};\n-                         role mrole;">\n-\n-        <strong i18n:translate=""\n-                tal:content="python:mtype.capitalize()">\n-            Info\n-        </strong>\n+    <div tal:define="mtype message/type | nothing;"\n+        tal:attributes="class string:portalMessage ${mtype};">\n+        <strong\n+            i18n:translate="" tal:content="python:mtype.capitalize()">Info</strong>\n         <span class="content"\n-              tal:replace="message/message | nothing"\n-              i18n:translate="">\n+            tal:replace="message/message | nothing" i18n:translate="">\n             The status message.\n         </span>\n     </div>\n'

