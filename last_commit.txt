Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2022-07-05T12:26:05+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/44f598cb4617842427a43470ecce618104917d68

Fix test for changed label in Products.CMFEditions

Files changed:
M plone/app/versioningbehavior/tests/test_functional.py

b"diff --git a/plone/app/versioningbehavior/tests/test_functional.py b/plone/app/versioningbehavior/tests/test_functional.py\nindex 3c525b4..1fc8bdc 100644\n--- a/plone/app/versioningbehavior/tests/test_functional.py\n+++ b/plone/app/versioningbehavior/tests/test_functional.py\n@@ -73,13 +73,13 @@ def _assert_versions_history_form(self, version_id, obj_id, title, text):\n         self.browser.open(\n             '%s/%s/versions_history_form?version_id=%s'\n             % (self.portal_url, obj_id, version_id))\n-        self.assertIn('Working Copy', self.browser.contents)\n+        self.assertIn('Current revision', self.browser.contents)\n \n         if version_id == 0:\n             self.assertIn(\n                 '/%s/versions_history_form?version_id=%s' % (obj_id, version_id),\n                 self.browser.contents)\n-        self.assertIn('Working Copy', self.browser.contents)\n+        self.assertIn('Current revision', self.browser.contents)\n         self.assertIn('Revert to this revision', self.browser.contents)\n         self.assertIn(\n             '/%s/@@history?one' % obj_id, self.browser.contents)\n"

Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2022-07-05T12:26:54+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/0e1c87767aff52822ae6c343cd5313ddaea8f95e

changenote

Files changed:
A news/64.bugfix

b'diff --git a/news/64.bugfix b/news/64.bugfix\nnew file mode 100644\nindex 0000000..46f72d9\n--- /dev/null\n+++ b/news/64.bugfix\n@@ -0,0 +1,2 @@\n+Fix test for changed label in `Products.CMFEditions`.\n+[petschki]\n'

Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2022-07-05T13:09:54+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/b5d0522355e946b004e5fc971a111dc5cbd115a8

bump version

Files changed:
M setup.py

b"diff --git a/setup.py b/setup.py\nindex 81e048a..4fca49b 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -5,7 +5,7 @@\n import os\n \n \n-version = '1.4.7.dev0'\n+version = '2.0.0.dev0'\n \n tests_require = [\n     'plone.app.testing',\n"

Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2022-07-05T13:09:54+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/8d5d97a1000d9e63c8df14c1a8984c2b701f01db

remove deprecated buildout configs

Files changed:
D test-plone-4.1.x-dexterity-1.cfg
D test-plone-4.1.x-dexterity-2.cfg
D test-plone-5.cfg

b"diff --git a/test-plone-4.1.x-dexterity-1.cfg b/test-plone-4.1.x-dexterity-1.cfg\ndeleted file mode 100644\nindex 50cc5b9..0000000\n--- a/test-plone-4.1.x-dexterity-1.cfg\n+++ /dev/null\n@@ -1,39 +0,0 @@\n-[buildout]\n-extends =\n-    http://dist.plone.org/release/4.1-latest/versions.cfg\n-    http://good-py.appspot.com/release/dexterity/1.0-next\n-find-links =\n-    http://dist.plone.org/release/4.1-latest\n-\n-develop = .\n-eggs =\n-unzip = true\n-versions = versions\n-\n-parts =\n-    zc-recipe-egg\n-    test\n-\n-package-name = plone.app.versioningbehavior\n-\n-\n-# We include this here because collective.xmltestreport depends on zc.recipe.egg,\n-# but doesn't list it in its setup.py\n-# See http://plone.293351.n2.nabble.com/collective-xmltestreport-small-bug-td5185485.html\n-[zc-recipe-egg]\n-recipe = zc.recipe.egg\n-eggs =\n-\n-# create xml reports for hudson\n-[test]\n-recipe = collective.xmltestreport\n-eggs =\n-    Plone\n-    ${buildout:package-name} [tests]\n-defaults = ['-s', '${buildout:package-name}', '--xml', '--exit-with-status', '--auto-color', '--auto-progress']\n-\n-\n-[versions]\n-plone.app.versioningbehavior =\n-# collective.xmltestreport 1.2.3 is not working\n-collective.xmltestreport = 1.2\n\\ No newline at end of file\ndiff --git a/test-plone-4.1.x-dexterity-2.cfg b/test-plone-4.1.x-dexterity-2.cfg\ndeleted file mode 100644\nindex 8fd82aa..0000000\n--- a/test-plone-4.1.x-dexterity-2.cfg\n+++ /dev/null\n@@ -1,4 +0,0 @@\n-[buildout]\n-extends =\n-    test-plone-4.1.x-dexterity-1.cfg\n-    http://good-py.appspot.com/release/dexterity/2.0-next\n\\ No newline at end of file\ndiff --git a/test-plone-5.cfg b/test-plone-5.cfg\ndeleted file mode 100644\nindex 0a9e518..0000000\n--- a/test-plone-5.cfg\n+++ /dev/null\n@@ -1,25 +0,0 @@\n-[buildout]\n-extends =\n-    http://dist.plone.org/release/5-latest/versions.cfg\n-find-links =\n-    http://dist.plone.org/release/5-latest\n-\n-develop = .\n-eggs =\n-unzip = true\n-versions = versions\n-\n-parts = test\n-package-name = plone.app.versioningbehavior\n-\n-\n-[test]\n-recipe = collective.xmltestreport\n-eggs =\n-    Plone\n-    ${buildout:package-name} [tests]\n-defaults = ['-s', '${buildout:package-name}', '--xml', '--exit-with-status', '--auto-color', '--auto-progress']\n-\n-\n-[versions]\n-plone.app.versioningbehavior =\n"

Repository: plone.app.versioningbehavior


Branch: refs/heads/master
Date: 2022-07-05T14:42:19+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.versioningbehavior/commit/96095256b4e1aaabd3c759784bb70d3fb035510c

Merge pull request #64 from plone/petschki-fix-test

Fix test for changed label in `Products.CMFEditions`

Files changed:
A news/64.bugfix
M plone/app/versioningbehavior/tests/test_functional.py
M setup.py
D test-plone-4.1.x-dexterity-1.cfg
D test-plone-4.1.x-dexterity-2.cfg
D test-plone-5.cfg

b"diff --git a/news/64.bugfix b/news/64.bugfix\nnew file mode 100644\nindex 0000000..46f72d9\n--- /dev/null\n+++ b/news/64.bugfix\n@@ -0,0 +1,2 @@\n+Fix test for changed label in `Products.CMFEditions`.\n+[petschki]\ndiff --git a/plone/app/versioningbehavior/tests/test_functional.py b/plone/app/versioningbehavior/tests/test_functional.py\nindex 3c525b4..1fc8bdc 100644\n--- a/plone/app/versioningbehavior/tests/test_functional.py\n+++ b/plone/app/versioningbehavior/tests/test_functional.py\n@@ -73,13 +73,13 @@ def _assert_versions_history_form(self, version_id, obj_id, title, text):\n         self.browser.open(\n             '%s/%s/versions_history_form?version_id=%s'\n             % (self.portal_url, obj_id, version_id))\n-        self.assertIn('Working Copy', self.browser.contents)\n+        self.assertIn('Current revision', self.browser.contents)\n \n         if version_id == 0:\n             self.assertIn(\n                 '/%s/versions_history_form?version_id=%s' % (obj_id, version_id),\n                 self.browser.contents)\n-        self.assertIn('Working Copy', self.browser.contents)\n+        self.assertIn('Current revision', self.browser.contents)\n         self.assertIn('Revert to this revision', self.browser.contents)\n         self.assertIn(\n             '/%s/@@history?one' % obj_id, self.browser.contents)\ndiff --git a/setup.py b/setup.py\nindex 81e048a..4fca49b 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -5,7 +5,7 @@\n import os\n \n \n-version = '1.4.7.dev0'\n+version = '2.0.0.dev0'\n \n tests_require = [\n     'plone.app.testing',\ndiff --git a/test-plone-4.1.x-dexterity-1.cfg b/test-plone-4.1.x-dexterity-1.cfg\ndeleted file mode 100644\nindex 50cc5b9..0000000\n--- a/test-plone-4.1.x-dexterity-1.cfg\n+++ /dev/null\n@@ -1,39 +0,0 @@\n-[buildout]\n-extends =\n-    http://dist.plone.org/release/4.1-latest/versions.cfg\n-    http://good-py.appspot.com/release/dexterity/1.0-next\n-find-links =\n-    http://dist.plone.org/release/4.1-latest\n-\n-develop = .\n-eggs =\n-unzip = true\n-versions = versions\n-\n-parts =\n-    zc-recipe-egg\n-    test\n-\n-package-name = plone.app.versioningbehavior\n-\n-\n-# We include this here because collective.xmltestreport depends on zc.recipe.egg,\n-# but doesn't list it in its setup.py\n-# See http://plone.293351.n2.nabble.com/collective-xmltestreport-small-bug-td5185485.html\n-[zc-recipe-egg]\n-recipe = zc.recipe.egg\n-eggs =\n-\n-# create xml reports for hudson\n-[test]\n-recipe = collective.xmltestreport\n-eggs =\n-    Plone\n-    ${buildout:package-name} [tests]\n-defaults = ['-s', '${buildout:package-name}', '--xml', '--exit-with-status', '--auto-color', '--auto-progress']\n-\n-\n-[versions]\n-plone.app.versioningbehavior =\n-# collective.xmltestreport 1.2.3 is not working\n-collective.xmltestreport = 1.2\n\\ No newline at end of file\ndiff --git a/test-plone-4.1.x-dexterity-2.cfg b/test-plone-4.1.x-dexterity-2.cfg\ndeleted file mode 100644\nindex 8fd82aa..0000000\n--- a/test-plone-4.1.x-dexterity-2.cfg\n+++ /dev/null\n@@ -1,4 +0,0 @@\n-[buildout]\n-extends =\n-    test-plone-4.1.x-dexterity-1.cfg\n-    http://good-py.appspot.com/release/dexterity/2.0-next\n\\ No newline at end of file\ndiff --git a/test-plone-5.cfg b/test-plone-5.cfg\ndeleted file mode 100644\nindex 0a9e518..0000000\n--- a/test-plone-5.cfg\n+++ /dev/null\n@@ -1,25 +0,0 @@\n-[buildout]\n-extends =\n-    http://dist.plone.org/release/5-latest/versions.cfg\n-find-links =\n-    http://dist.plone.org/release/5-latest\n-\n-develop = .\n-eggs =\n-unzip = true\n-versions = versions\n-\n-parts = test\n-package-name = plone.app.versioningbehavior\n-\n-\n-[test]\n-recipe = collective.xmltestreport\n-eggs =\n-    Plone\n-    ${buildout:package-name} [tests]\n-defaults = ['-s', '${buildout:package-name}', '--xml', '--exit-with-status', '--auto-color', '--auto-progress']\n-\n-\n-[versions]\n-plone.app.versioningbehavior =\n"

