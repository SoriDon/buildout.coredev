Repository: plone.batching


Branch: refs/heads/master
Date: 2023-02-01T21:17:34+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/52f906790547c1596500a253bc2bc69f850970a8

Configuring with plone/meta

Files changed:
M lint-requirements.txt
M pyproject.toml
M setup.cfg
M tox.ini

b'diff --git a/lint-requirements.txt b/lint-requirements.txt\nindex 129db4d..d2b64ff 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -5,4 +5,6 @@ check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\n+pyroma==4.1\n pyupgrade==3.3.1\n+z3c.dependencychecker==2.10\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0f96c85..2039265 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -41,3 +41,6 @@ profile = "plone"\n \n [tool.black]\n target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\'Products.Five\', \'ZTUtils\']\ndiff --git a/setup.cfg b/setup.cfg\nindex 129dd19..2e03fa3 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -20,4 +20,5 @@ ignore =\n     .editorconfig\n     .meta.toml\n     tox.ini\n+    lint-requirements.txt\n     conf.py\ndiff --git a/tox.ini b/tox.ini\nindex 5d1a605..c4810c9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -30,10 +30,21 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    tomli  # needed for codespell to read pyproject.toml\n     check-manifest\n+    pyroma\n     -c lint-requirements.txt\n commands =\n     sh -c \'{[testenv]py_files} | xargs flake8\'\n     sh -c \'{[testenv]py_files} | xargs codespell\'\n     sh -c \'{[testenv]text_files} | xargs codespell\'\n     check-manifest\n+    pyroma -n 10 .\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies\n+deps =\n+    z3c.dependencychecker\n+    -c lint-requirements.txt\n+commands =\n+    dependencychecker\n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2023-02-01T21:18:07+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/c3ef4d4e1d94104e751bc9c59508f82404620e88

feat: configure z3c.dependencychecker

Files changed:
M .meta.toml

b'diff --git a/.meta.toml b/.meta.toml\nindex 69f54a4..ef9a045 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -7,4 +7,9 @@ additional-ignores = [\n \n [meta]\n template = "default"\n-commit-id = "741efbc5"\n+commit-id = "40520c52"\n+\n+[dependencies]\n+mappings = [\n+    "Zope = [\'Products.Five\', \'ZTUtils\']",\n+    ]\n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2023-02-01T21:18:24+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/8611c1b2f394ff3570e71ada55b7245acbf1cb9a

feat: define dependencies

As reported by z3c.dependencychecker.

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex 8b6f512..d2c97aa 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -41,9 +41,18 @@\n     zip_safe=False,\n     python_requires=">=3.8",\n     install_requires=[\n+        "AccessControl",\n         "setuptools",\n         "Zope",\n+        "zope.interface",\n+        "zope.schema",\n     ],\n+    extras_require={\n+        "test": [\n+            "zope.component",\n+            "zope.publisher",\n+        ],\n+    },\n     entry_points="""\n     [z3c.autoinclude.plugin]\n     target = plone\n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2023-02-01T21:19:17+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/edde5196314853211f3ed5b1ce486a9ac0cba890

Add news entry

Files changed:
A news/1.bugfix

b'diff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 0000000..d787408\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1,2 @@\n+Declare all dependencies, as reported by z3c.dependencychecker.\n+[gforcada]\n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2023-02-02T00:33:35+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.batching/commit/ef2696bef2e84c185941936d1e8d1796b50e5e72

Merge pull request #35 from plone/config-with-default-template-edde5196

Config with default template (dependencies)

Files changed:
A news/1.bugfix
M .meta.toml
M lint-requirements.txt
M pyproject.toml
M setup.cfg
M setup.py
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 69f54a4..ef9a045 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -7,4 +7,9 @@ additional-ignores = [\n \n [meta]\n template = "default"\n-commit-id = "741efbc5"\n+commit-id = "40520c52"\n+\n+[dependencies]\n+mappings = [\n+    "Zope = [\'Products.Five\', \'ZTUtils\']",\n+    ]\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex 129db4d..d2b64ff 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -5,4 +5,6 @@ check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\n+pyroma==4.1\n pyupgrade==3.3.1\n+z3c.dependencychecker==2.10\ndiff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 0000000..d787408\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1,2 @@\n+Declare all dependencies, as reported by z3c.dependencychecker.\n+[gforcada]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0f96c85..2039265 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -41,3 +41,6 @@ profile = "plone"\n \n [tool.black]\n target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\'Products.Five\', \'ZTUtils\']\ndiff --git a/setup.cfg b/setup.cfg\nindex 129dd19..2e03fa3 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -20,4 +20,5 @@ ignore =\n     .editorconfig\n     .meta.toml\n     tox.ini\n+    lint-requirements.txt\n     conf.py\ndiff --git a/setup.py b/setup.py\nindex 8b6f512..d2c97aa 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -41,9 +41,18 @@\n     zip_safe=False,\n     python_requires=">=3.8",\n     install_requires=[\n+        "AccessControl",\n         "setuptools",\n         "Zope",\n+        "zope.interface",\n+        "zope.schema",\n     ],\n+    extras_require={\n+        "test": [\n+            "zope.component",\n+            "zope.publisher",\n+        ],\n+    },\n     entry_points="""\n     [z3c.autoinclude.plugin]\n     target = plone\ndiff --git a/tox.ini b/tox.ini\nindex 5d1a605..c4810c9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -30,10 +30,21 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    tomli  # needed for codespell to read pyproject.toml\n     check-manifest\n+    pyroma\n     -c lint-requirements.txt\n commands =\n     sh -c \'{[testenv]py_files} | xargs flake8\'\n     sh -c \'{[testenv]py_files} | xargs codespell\'\n     sh -c \'{[testenv]text_files} | xargs codespell\'\n     check-manifest\n+    pyroma -n 10 .\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies\n+deps =\n+    z3c.dependencychecker\n+    -c lint-requirements.txt\n+commands =\n+    dependencychecker\n'

