Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-09-27T21:26:52+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/99970f39c287f65286ee2f71ac73677e8f0feaa5

Explicitly load zcml of dependencies.

This is instead of using includeDependencies.

See https://github.com/plone/Products.CMFPlone/issues/2952

Files changed:
A news/2952.bugfix
M plone/app/contenttypes/configure.zcml

b'diff --git a/news/2952.bugfix b/news/2952.bugfix\nnew file mode 100644\nindex 00000000..413bcf9e\n--- /dev/null\n+++ b/news/2952.bugfix\n@@ -0,0 +1,2 @@\n+Explicitly load zcml of dependencies, instead of using ``includeDependencies``\n+[maurits]\ndiff --git a/plone/app/contenttypes/configure.zcml b/plone/app/contenttypes/configure.zcml\nindex 2157d4db..c26d2c0f 100644\n--- a/plone/app/contenttypes/configure.zcml\n+++ b/plone/app/contenttypes/configure.zcml\n@@ -7,8 +7,25 @@\n            xmlns:plone="http://namespaces.plone.org/plone"\n            i18n_domain="plone">\n \n-  <includeDependencies package="." />\n+  <include package="Products.CMFPlone" file="meta.zcml"/>\n+  <include package="plone.behavior" file="meta.zcml"/>\n+  <include package="plone.dexterity" file="meta.zcml"/>\n+  <include package="plone.app.dexterity" file="meta.zcml"/>\n+\n+  <include package="Products.CMFPlone" />\n+  <include package="plone.behavior" />\n+  <include package="plone.dexterity" />\n+  <include package="plone.namedfile" />\n+  <include package="plone.app.contentmenu" />\n+  <include package="plone.app.dexterity" />\n   <include package="plone.app.event" />\n+  <include package="plone.app.linkintegrity" />\n+  <include package="plone.app.lockingbehavior" />\n+  <include package="plone.app.querystring" />\n+  <include package="plone.app.relationfield" />\n+  <include package="plone.app.versioningbehavior" />\n+  <include package="plone.app.z3cform" />\n+\n   <include file="profiles.zcml" />\n \n   <include package=".behaviors" />\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-09-29T11:54:59+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contenttypes/commit/6c77762e39653b951e6e859fb094d791ab88eb81

Merge pull request #530 from plone/maurits/dependencies-issue-2952

Explicitly load zcml of dependencies.

Files changed:
A news/2952.bugfix
M plone/app/contenttypes/configure.zcml

b'diff --git a/news/2952.bugfix b/news/2952.bugfix\nnew file mode 100644\nindex 00000000..413bcf9e\n--- /dev/null\n+++ b/news/2952.bugfix\n@@ -0,0 +1,2 @@\n+Explicitly load zcml of dependencies, instead of using ``includeDependencies``\n+[maurits]\ndiff --git a/plone/app/contenttypes/configure.zcml b/plone/app/contenttypes/configure.zcml\nindex 2157d4db..c26d2c0f 100644\n--- a/plone/app/contenttypes/configure.zcml\n+++ b/plone/app/contenttypes/configure.zcml\n@@ -7,8 +7,25 @@\n            xmlns:plone="http://namespaces.plone.org/plone"\n            i18n_domain="plone">\n \n-  <includeDependencies package="." />\n+  <include package="Products.CMFPlone" file="meta.zcml"/>\n+  <include package="plone.behavior" file="meta.zcml"/>\n+  <include package="plone.dexterity" file="meta.zcml"/>\n+  <include package="plone.app.dexterity" file="meta.zcml"/>\n+\n+  <include package="Products.CMFPlone" />\n+  <include package="plone.behavior" />\n+  <include package="plone.dexterity" />\n+  <include package="plone.namedfile" />\n+  <include package="plone.app.contentmenu" />\n+  <include package="plone.app.dexterity" />\n   <include package="plone.app.event" />\n+  <include package="plone.app.linkintegrity" />\n+  <include package="plone.app.lockingbehavior" />\n+  <include package="plone.app.querystring" />\n+  <include package="plone.app.relationfield" />\n+  <include package="plone.app.versioningbehavior" />\n+  <include package="plone.app.z3cform" />\n+\n   <include file="profiles.zcml" />\n \n   <include package=".behaviors" />\n'

