Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2023-12-11T16:01:24+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/7e50e843fb13097ddcf55bfc4d0220e9955c658e

mark get_production_resource_directory deprectated

Files changed:
A news/3887.bugfix
M Products/CMFPlone/resources/utils.py

b'diff --git a/Products/CMFPlone/resources/utils.py b/Products/CMFPlone/resources/utils.py\nindex e72f9553fe..a0632ec8dc 100644\n--- a/Products/CMFPlone/resources/utils.py\n+++ b/Products/CMFPlone/resources/utils.py\n@@ -8,6 +8,7 @@\n from Products.CMFCore.utils import getToolByName\n from zExceptions import NotFound\n from zope.component import queryUtility\n+from zope.deprecation import deprecate\n \n import logging\n \n@@ -16,7 +17,12 @@\n logger = logging.getLogger(__name__)\n \n \n+@deprecate(\n+    "get_production_resource_directory is deprecated and will be removed in Plone 7. "\n+)\n def get_production_resource_directory():\n+    # this function is not used in Plone 6.1 anymore, but we keep it for\n+    # backwards compatibility until Plone 7\n     persistent_directory = queryUtility(IResourceDirectory, name="persistent")\n     if persistent_directory is None:\n         return ""\ndiff --git a/news/3887.bugfix b/news/3887.bugfix\nnew file mode 100644\nindex 0000000000..3cfbd5fff6\n--- /dev/null\n+++ b/news/3887.bugfix\n@@ -0,0 +1,2 @@\n+Deprecate `get_production_resource_directory` since it is not used anywhere in core.\n+[@jensens]\n\\ No newline at end of file\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2023-12-14T12:25:33+01:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/Products.CMFPlone/commit/5f8f65a89b787c33a90c05eee80eeb86e31d56a2

Merge pull request #3887 from plone/deprecate-get_production_resource_directory

mark get_production_resource_directory deprectated

Files changed:
A news/3887.bugfix
M Products/CMFPlone/resources/utils.py

b'diff --git a/Products/CMFPlone/resources/utils.py b/Products/CMFPlone/resources/utils.py\nindex e72f9553fe..a0632ec8dc 100644\n--- a/Products/CMFPlone/resources/utils.py\n+++ b/Products/CMFPlone/resources/utils.py\n@@ -8,6 +8,7 @@\n from Products.CMFCore.utils import getToolByName\n from zExceptions import NotFound\n from zope.component import queryUtility\n+from zope.deprecation import deprecate\n \n import logging\n \n@@ -16,7 +17,12 @@\n logger = logging.getLogger(__name__)\n \n \n+@deprecate(\n+    "get_production_resource_directory is deprecated and will be removed in Plone 7. "\n+)\n def get_production_resource_directory():\n+    # this function is not used in Plone 6.1 anymore, but we keep it for\n+    # backwards compatibility until Plone 7\n     persistent_directory = queryUtility(IResourceDirectory, name="persistent")\n     if persistent_directory is None:\n         return ""\ndiff --git a/news/3887.bugfix b/news/3887.bugfix\nnew file mode 100644\nindex 0000000000..3cfbd5fff6\n--- /dev/null\n+++ b/news/3887.bugfix\n@@ -0,0 +1,2 @@\n+Deprecate `get_production_resource_directory` since it is not used anywhere in core.\n+[@jensens]\n\\ No newline at end of file\n'

