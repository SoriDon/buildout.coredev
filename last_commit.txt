Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2016-02-01T10:59:00+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.contenttypes/commit/34916e59ce691a388ab67de95f6eb18e521342d4

Fix uninstall-profile to fix test-issues.

Files changed:
M CHANGES.rst
M plone/app/contenttypes/profiles/uninstall/types.xml
D plone/app/contenttypes/profiles/uninstall/types/Document.xml
D plone/app/contenttypes/profiles/uninstall/types/Event.xml
D plone/app/contenttypes/profiles/uninstall/types/File.xml
D plone/app/contenttypes/profiles/uninstall/types/Folder.xml
D plone/app/contenttypes/profiles/uninstall/types/Image.xml
D plone/app/contenttypes/profiles/uninstall/types/Link.xml
D plone/app/contenttypes/profiles/uninstall/types/News_Item.xml
D plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index b70d3b1..af66498 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -13,7 +13,13 @@ New:
 
 Fixes:
 
-- Enhancement: Split up migration test for modification date and references 
+- Also remove collections upon uninstalling.
+  [pbauer]
+
+- No longer try to install ATContentTypes-types on uninstalling.
+  [pbauer]
+
+- Enhancement: Split up migration test for modification date and references
   in two functions for easier debugging.
   [jensens]
 
diff --git a/plone/app/contenttypes/profiles/uninstall/types.xml b/plone/app/contenttypes/profiles/uninstall/types.xml
index fca8606..dd1af05 100644
--- a/plone/app/contenttypes/profiles/uninstall/types.xml
+++ b/plone/app/contenttypes/profiles/uninstall/types.xml
@@ -9,23 +9,6 @@
  <object meta_type="Dexterity FTI" name="Image" remove="True" />
  <object meta_type="Dexterity FTI" name="News Item" remove="True" />
  <object meta_type="Dexterity FTI" name="Event" remove="True" />
-
- <object name="Document"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Event"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="File"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Folder"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Image"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Link"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="News Item"
-    meta_type="Factory-based Type Information with dynamic views"/>
-
- <object name="Plone Site"
-    meta_type="Factory-based Type Information with dynamic views"/>
+ <object meta_type="Dexterity FTI" name="Collection" remove="True" />
 
 </object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Document.xml b/plone/app/contenttypes/profiles/uninstall/types/Document.xml
deleted file mode 100644
index f60d813..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Document.xml
+++ /dev/null
@@ -1,44 +0,0 @@
-<?xml version="1.0"?>
-<object name="Document"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Page</property>
- <property name="description"
-      i18n:translate=""></property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATDocument</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATDocument</property>
- <property name="immediate_view">document_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">document_view</property>
- <property name="view_methods">
-  <element value="document_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True" i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True" i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="History" action_id="history" category="object"
-    condition_expr="" url_expr="string:${object_url}/atct_history"
-    visible="False" i18n:attributes="title">
-  <permission value="ATContentTypes: View history"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Event.xml b/plone/app/contenttypes/profiles/uninstall/types/Event.xml
deleted file mode 100644
index db8150f..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Event.xml
+++ /dev/null
@@ -1,46 +0,0 @@
-<?xml version="1.0"?>
-<object name="Event"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Event</property>
- <property name="description"
-      i18n:translate="">Events can be shown in calendars.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATEvent</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATEvent</property>
- <property name="immediate_view">event_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">event_view</property>
- <property name="view_methods">
-  <element value="event_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="History" action_id="history" category="object"
-    condition_expr="" url_expr="string:${object_url}/atct_history"
-    visible="False" i18n:attributes="title">
-  <permission value="ATContentTypes: View history"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/File.xml b/plone/app/contenttypes/profiles/uninstall/types/File.xml
deleted file mode 100644
index 9c5f2fb..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/File.xml
+++ /dev/null
@@ -1,46 +0,0 @@
-<?xml version="1.0"?>
-<object name="File"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">File</property>
- <property name="description"
-      i18n:translate="">Lets you upload a file to the site.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATBlob</property>
- <property name="product">plone.app.blob</property>
- <property name="factory">addATBlobFile</property>
- <property name="immediate_view">file_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">file_view</property>
- <property name="view_methods">
-  <element value="file_view"/>
- </property>
- <alias from="(Default)" to="index_html"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}/view" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Download" action_id="download" category="object"
-    condition_expr="member" url_expr="string:${object_url}/download"
-    visible="False" i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Folder.xml b/plone/app/contenttypes/profiles/uninstall/types/Folder.xml
deleted file mode 100644
index fae1d73..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Folder.xml
+++ /dev/null
@@ -1,45 +0,0 @@
-<?xml version="1.0"?>
-<object name="Folder"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Folder</property>
- <property name="description"
-     i18n:translate=""></property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATFolder</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATFolder</property>
- <property name="immediate_view">folder_listing</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">False</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">folder_listing</property>
- <property name="view_methods">
-  <element value="folder_summary_view"/>
-  <element value="folder_full_view"/>
-  <element value="folder_tabular_view"/>
-  <element value="folder_album_view"/>
-  <element value="folder_listing"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${folder_url}/" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Folder Listing" action_id="folderlisting" category="folder"
-    condition_expr="object/isPrincipiaFolderish"
-    url_expr="string:${folder_url}/view" visible="False"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Image.xml b/plone/app/contenttypes/profiles/uninstall/types/Image.xml
deleted file mode 100644
index 3ee5309..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Image.xml
+++ /dev/null
@@ -1,52 +0,0 @@
-<?xml version="1.0"?>
-<object name="Image"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Image</property>
- <property name="description"
-      i18n:translate="">Images can be referenced in pages or displayed in an album.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATBlob</property>
- <property name="product">plone.app.blob</property>
- <property name="factory">addATBlobImage</property>
- <property name="immediate_view">image_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">image_view</property>
- <property name="view_methods">
-  <element value="image_view"/>
- </property>
- <alias from="(Default)" to="index_html"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}/view" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Transform" action_id="transform" category="object"
-    condition_expr="object/hasPIL"
-    url_expr="string:${object_url}/atct_image_transform" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Download" action_id="download" category="object"
-    condition_expr="member" url_expr="string:${object_url}/download"
-    visible="False" i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Link.xml b/plone/app/contenttypes/profiles/uninstall/types/Link.xml
deleted file mode 100644
index 72b7234..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Link.xml
+++ /dev/null
@@ -1,41 +0,0 @@
-<?xml version="1.0"?>
-<object name="Link"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Link</property>
- <property name="description"
-      i18n:translate="">Links to an internal or external resource.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATLink</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATLink</property>
- <property name="immediate_view">link_redirect_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">link_redirect_view</property>
- <property name="view_methods">
-  <element value="link_redirect_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/News_Item.xml b/plone/app/contenttypes/profiles/uninstall/types/News_Item.xml
deleted file mode 100644
index dca3cb4..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/News_Item.xml
+++ /dev/null
@@ -1,46 +0,0 @@
-<?xml version="1.0"?>
-<object name="News Item"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">News Item</property>
- <property name="description"
-     i18n:translate="">An announcement that will show up in news listings.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATNewsItem</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATNewsItem</property>
- <property name="immediate_view">newsitem_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">newsitem_view</property>
- <property name="view_methods">
-  <element value="newsitem_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="History" action_id="history" category="object"
-    condition_expr="" url_expr="string:${object_url}/atct_history"
-    visible="False" i18n:attributes="title">
-  <permission value="ATContentTypes: View history"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml b/plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml
deleted file mode 100644
index 316c0c5..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<?xml version="1.0"?>
-<object name="Plone Site" meta_type="Factory-based Type Information with dynamic views" i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
-  <property name="immediate_view">folder_listing</property>
-  <property name="default_view">folder_listing</property>
-  <property name="view_methods">
-    <element value="folder_listing" />
-    <element value="folder_summary_view" />
-    <element value="folder_full_view" />
-    <element value="folder_tabular_view" />
-    <element value="atct_album_view" />
-  </property>
-</object>


Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2016-02-01T15:34:07+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contenttypes/commit/476a982fe9774dc5c541de4a7ca05923ad6a7166

Merge pull request #317 from plone/thet-zope4

Fix uninstall-profile to fix test-issues.

Files changed:
M CHANGES.rst
M plone/app/contenttypes/profiles/uninstall/types.xml
D plone/app/contenttypes/profiles/uninstall/types/Document.xml
D plone/app/contenttypes/profiles/uninstall/types/Event.xml
D plone/app/contenttypes/profiles/uninstall/types/File.xml
D plone/app/contenttypes/profiles/uninstall/types/Folder.xml
D plone/app/contenttypes/profiles/uninstall/types/Image.xml
D plone/app/contenttypes/profiles/uninstall/types/Link.xml
D plone/app/contenttypes/profiles/uninstall/types/News_Item.xml
D plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index b70d3b1..af66498 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -13,7 +13,13 @@ New:
 
 Fixes:
 
-- Enhancement: Split up migration test for modification date and references 
+- Also remove collections upon uninstalling.
+  [pbauer]
+
+- No longer try to install ATContentTypes-types on uninstalling.
+  [pbauer]
+
+- Enhancement: Split up migration test for modification date and references
   in two functions for easier debugging.
   [jensens]
 
diff --git a/plone/app/contenttypes/profiles/uninstall/types.xml b/plone/app/contenttypes/profiles/uninstall/types.xml
index fca8606..dd1af05 100644
--- a/plone/app/contenttypes/profiles/uninstall/types.xml
+++ b/plone/app/contenttypes/profiles/uninstall/types.xml
@@ -9,23 +9,6 @@
  <object meta_type="Dexterity FTI" name="Image" remove="True" />
  <object meta_type="Dexterity FTI" name="News Item" remove="True" />
  <object meta_type="Dexterity FTI" name="Event" remove="True" />
-
- <object name="Document"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Event"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="File"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Folder"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Image"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="Link"
-    meta_type="Factory-based Type Information with dynamic views"/>
- <object name="News Item"
-    meta_type="Factory-based Type Information with dynamic views"/>
-
- <object name="Plone Site"
-    meta_type="Factory-based Type Information with dynamic views"/>
+ <object meta_type="Dexterity FTI" name="Collection" remove="True" />
 
 </object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Document.xml b/plone/app/contenttypes/profiles/uninstall/types/Document.xml
deleted file mode 100644
index f60d813..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Document.xml
+++ /dev/null
@@ -1,44 +0,0 @@
-<?xml version="1.0"?>
-<object name="Document"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Page</property>
- <property name="description"
-      i18n:translate=""></property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATDocument</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATDocument</property>
- <property name="immediate_view">document_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">document_view</property>
- <property name="view_methods">
-  <element value="document_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True" i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True" i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="History" action_id="history" category="object"
-    condition_expr="" url_expr="string:${object_url}/atct_history"
-    visible="False" i18n:attributes="title">
-  <permission value="ATContentTypes: View history"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Event.xml b/plone/app/contenttypes/profiles/uninstall/types/Event.xml
deleted file mode 100644
index db8150f..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Event.xml
+++ /dev/null
@@ -1,46 +0,0 @@
-<?xml version="1.0"?>
-<object name="Event"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Event</property>
- <property name="description"
-      i18n:translate="">Events can be shown in calendars.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATEvent</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATEvent</property>
- <property name="immediate_view">event_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">event_view</property>
- <property name="view_methods">
-  <element value="event_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="History" action_id="history" category="object"
-    condition_expr="" url_expr="string:${object_url}/atct_history"
-    visible="False" i18n:attributes="title">
-  <permission value="ATContentTypes: View history"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/File.xml b/plone/app/contenttypes/profiles/uninstall/types/File.xml
deleted file mode 100644
index 9c5f2fb..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/File.xml
+++ /dev/null
@@ -1,46 +0,0 @@
-<?xml version="1.0"?>
-<object name="File"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">File</property>
- <property name="description"
-      i18n:translate="">Lets you upload a file to the site.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATBlob</property>
- <property name="product">plone.app.blob</property>
- <property name="factory">addATBlobFile</property>
- <property name="immediate_view">file_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">file_view</property>
- <property name="view_methods">
-  <element value="file_view"/>
- </property>
- <alias from="(Default)" to="index_html"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}/view" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Download" action_id="download" category="object"
-    condition_expr="member" url_expr="string:${object_url}/download"
-    visible="False" i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Folder.xml b/plone/app/contenttypes/profiles/uninstall/types/Folder.xml
deleted file mode 100644
index fae1d73..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Folder.xml
+++ /dev/null
@@ -1,45 +0,0 @@
-<?xml version="1.0"?>
-<object name="Folder"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Folder</property>
- <property name="description"
-     i18n:translate=""></property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATFolder</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATFolder</property>
- <property name="immediate_view">folder_listing</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">False</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">folder_listing</property>
- <property name="view_methods">
-  <element value="folder_summary_view"/>
-  <element value="folder_full_view"/>
-  <element value="folder_tabular_view"/>
-  <element value="folder_album_view"/>
-  <element value="folder_listing"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${folder_url}/" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Folder Listing" action_id="folderlisting" category="folder"
-    condition_expr="object/isPrincipiaFolderish"
-    url_expr="string:${folder_url}/view" visible="False"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Image.xml b/plone/app/contenttypes/profiles/uninstall/types/Image.xml
deleted file mode 100644
index 3ee5309..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Image.xml
+++ /dev/null
@@ -1,52 +0,0 @@
-<?xml version="1.0"?>
-<object name="Image"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Image</property>
- <property name="description"
-      i18n:translate="">Images can be referenced in pages or displayed in an album.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATBlob</property>
- <property name="product">plone.app.blob</property>
- <property name="factory">addATBlobImage</property>
- <property name="immediate_view">image_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">image_view</property>
- <property name="view_methods">
-  <element value="image_view"/>
- </property>
- <alias from="(Default)" to="index_html"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}/view" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Transform" action_id="transform" category="object"
-    condition_expr="object/hasPIL"
-    url_expr="string:${object_url}/atct_image_transform" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="Download" action_id="download" category="object"
-    condition_expr="member" url_expr="string:${object_url}/download"
-    visible="False" i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Link.xml b/plone/app/contenttypes/profiles/uninstall/types/Link.xml
deleted file mode 100644
index 72b7234..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Link.xml
+++ /dev/null
@@ -1,41 +0,0 @@
-<?xml version="1.0"?>
-<object name="Link"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">Link</property>
- <property name="description"
-      i18n:translate="">Links to an internal or external resource.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATLink</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATLink</property>
- <property name="immediate_view">link_redirect_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">link_redirect_view</property>
- <property name="view_methods">
-  <element value="link_redirect_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/News_Item.xml b/plone/app/contenttypes/profiles/uninstall/types/News_Item.xml
deleted file mode 100644
index dca3cb4..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/News_Item.xml
+++ /dev/null
@@ -1,46 +0,0 @@
-<?xml version="1.0"?>
-<object name="News Item"
-   meta_type="Factory-based Type Information with dynamic views"
-   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
- <property name="title" i18n:translate="">News Item</property>
- <property name="description"
-     i18n:translate="">An announcement that will show up in news listings.</property>
- <property name="icon_expr"></property>
- <property name="content_meta_type">ATNewsItem</property>
- <property name="product">ATContentTypes</property>
- <property name="factory">addATNewsItem</property>
- <property name="immediate_view">newsitem_view</property>
- <property name="global_allow">True</property>
- <property name="filter_content_types">True</property>
- <property name="allowed_content_types"/>
- <property name="allow_discussion">False</property>
- <property name="default_view">newsitem_view</property>
- <property name="view_methods">
-  <element value="newsitem_view"/>
- </property>
- <alias from="(Default)" to="(dynamic view)"/>
- <alias from="edit" to="atct_edit"/>
- <alias from="sharing" to="@@sharing"/>
- <alias from="view" to="(selected layout)"/>
- <action title="View" action_id="view" category="object" condition_expr=""
-    url_expr="string:${object_url}" visible="True"
-    i18n:attributes="title">
-  <permission value="View"/>
- </action>
- <action title="Edit" action_id="edit" category="object" condition_expr="not:object/@@plone_lock_info/is_locked_for_current_user|python:True"
-    url_expr="string:${object_url}/edit" visible="True"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
- <action title="History" action_id="history" category="object"
-    condition_expr="" url_expr="string:${object_url}/atct_history"
-    visible="False" i18n:attributes="title">
-  <permission value="ATContentTypes: View history"/>
- </action>
- <action title="External Edit" action_id="external_edit" category="object"
-    condition_expr="object/externalEditorEnabled"
-    url_expr="string:${object_url}/external_edit" visible="False"
-    i18n:attributes="title">
-  <permission value="Modify portal content"/>
- </action>
-</object>
diff --git a/plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml b/plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml
deleted file mode 100644
index 316c0c5..0000000
--- a/plone/app/contenttypes/profiles/uninstall/types/Plone_Site.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<?xml version="1.0"?>
-<object name="Plone Site" meta_type="Factory-based Type Information with dynamic views" i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
-  <property name="immediate_view">folder_listing</property>
-  <property name="default_view">folder_listing</property>
-  <property name="view_methods">
-    <element value="folder_listing" />
-    <element value="folder_summary_view" />
-    <element value="folder_full_view" />
-    <element value="folder_tabular_view" />
-    <element value="atct_album_view" />
-  </property>
-</object>


