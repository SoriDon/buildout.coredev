Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-24T06:40:14+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.rest/commit/f2b8dbbfeb0a18e43a9de51cb91f03cfa01299e8

Remove CMFPlone dependency.

Files changed:
A news/81.feature
M setup.py
M src/plone/rest/traverse.py

b"diff --git a/news/81.feature b/news/81.feature\nnew file mode 100644\nindex 0000000..27f2f08\n--- /dev/null\n+++ b/news/81.feature\n@@ -0,0 +1 @@\n+Remove CMFPlone dependency. [timo]\ndiff --git a/setup.py b/setup.py\nindex 9f0327d..b40cf9c 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -52,7 +52,7 @@ def read(*rnames):\n               'plone.app.testing[robot]>=4.2.2',\n               'plone.app.robotframework',\n               'plone.dexterity',\n-              'Products.CMFPlone',\n+              'Products.CMFCore',\n               'requests',\n           ]\n       ),\ndiff --git a/src/plone/rest/traverse.py b/src/plone/rest/traverse.py\nindex b94f324..6a705a8 100644\n--- a/src/plone/rest/traverse.py\n+++ b/src/plone/rest/traverse.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot\n+from Products.CMFCore.interfaces import ISiteRoot\n from Products.SiteAccess.VirtualHostMonster import VirtualHostMonster\n from ZPublisher.BaseRequest import DefaultPublishTraverse\n from plone.rest.interfaces import IAPIRequest\n@@ -11,7 +11,7 @@\n from Products.CMFCore.interfaces import IContentish\n \n \n-@adapter(IPloneSiteRoot, IAPIRequest)\n+@adapter(ISiteRoot, IAPIRequest)\n class RESTTraverse(DefaultPublishTraverse):\n \n     def publishTraverse(self, request, name):\n"

Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-24T07:45:22+02:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.rest/commit/bb7c353ad8989fc0652cf78a5acc9bad88fab2b0

Merge pull request #89 from plone/remove-cmfplone-dependency

Remove CMFPlone dependency.

Files changed:
A news/81.feature
M setup.py
M src/plone/rest/traverse.py

b"diff --git a/news/81.feature b/news/81.feature\nnew file mode 100644\nindex 0000000..27f2f08\n--- /dev/null\n+++ b/news/81.feature\n@@ -0,0 +1 @@\n+Remove CMFPlone dependency. [timo]\ndiff --git a/setup.py b/setup.py\nindex 9f0327d..b40cf9c 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -52,7 +52,7 @@ def read(*rnames):\n               'plone.app.testing[robot]>=4.2.2',\n               'plone.app.robotframework',\n               'plone.dexterity',\n-              'Products.CMFPlone',\n+              'Products.CMFCore',\n               'requests',\n           ]\n       ),\ndiff --git a/src/plone/rest/traverse.py b/src/plone/rest/traverse.py\nindex b94f324..6a705a8 100644\n--- a/src/plone/rest/traverse.py\n+++ b/src/plone/rest/traverse.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot\n+from Products.CMFCore.interfaces import ISiteRoot\n from Products.SiteAccess.VirtualHostMonster import VirtualHostMonster\n from ZPublisher.BaseRequest import DefaultPublishTraverse\n from plone.rest.interfaces import IAPIRequest\n@@ -11,7 +11,7 @@\n from Products.CMFCore.interfaces import IContentish\n \n \n-@adapter(IPloneSiteRoot, IAPIRequest)\n+@adapter(ISiteRoot, IAPIRequest)\n class RESTTraverse(DefaultPublishTraverse):\n \n     def publishTraverse(self, request, name):\n"

