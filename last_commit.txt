Repository: plone.testing


Branch: refs/heads/master
Date: 2018-01-29T10:21:46+01:00
Author: Michael Howitz (icemac) <mh@gocept.com>
Commit: https://github.com/plone/plone.testing/commit/38e653a01df6ab9ac4eed9fa3d2bd316360bad7f

Fix tests by actually and only using Zope 4.

Files changed:
M CHANGES.rst
M buildout.cfg
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 26506a9..ed959f6 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,8 +1,10 @@
 Changelog
 =========
 
-5.1.2 (unreleased)
-------------------
+6.0 (unreleased)
+----------------
+
+- Breaking change: Only support ``Zope >= 4``, no longer support ``Zope2``.
 
 - Update code to follow Plone styleguide.
   [gforcada]
diff --git a/buildout.cfg b/buildout.cfg
index a92c977..5854182 100644
--- a/buildout.cfg
+++ b/buildout.cfg
@@ -1,8 +1,7 @@
 [buildout]
-extends =
-    http://dist.plone.org/release/5-latest/versions.cfg
 parts = coverage test report report-xml
 develop = .
+prefer-final = false
 
 [versions]
 setuptools =
diff --git a/setup.py b/setup.py
index 61a7c22..6a18b96 100644
--- a/setup.py
+++ b/setup.py
@@ -4,7 +4,7 @@
 import sys
 from setuptools import setup, find_packages
 
-version = '5.1.2.dev0'
+version = '6.0.dev0'
 
 install_requires = [
     'setuptools',
@@ -28,7 +28,8 @@
     'zope.security',
     'zope.testbrowser',
     'zope.testrunner',
-    'Zope2',
+    'Zope',
+    'ZServer',
 ]
 
 setup(
@@ -92,7 +93,7 @@
             'zope.publisher',
         ],
         'z2': [
-            'Zope2',
+            'Zope',
             'zope.component',
             'zope.testbrowser',
             'zope.publisher',


