Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-02-08T15:29:58+01:00
Author: Wolfgang Thomas (pysailor) <thomas@syslab.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/73597179187bbdf77b0473f8ba6ae9c6ae0787f5

Declare the former dotted name of the LeadImage and the RichText behavior
Follows #480
Depends on plone/plone.behavior#19

Files changed:
M plone/app/contenttypes/behaviors/configure.zcml

b'diff --git a/plone/app/contenttypes/behaviors/configure.zcml b/plone/app/contenttypes/behaviors/configure.zcml\nindex 69cb53fb..a5136858 100644\n--- a/plone/app/contenttypes/behaviors/configure.zcml\n+++ b/plone/app/contenttypes/behaviors/configure.zcml\n@@ -15,6 +15,7 @@\n     factory=".leadimage.LeadImage"\n     for="plone.dexterity.interfaces.IDexterityContent"\n     marker=".leadimage.ILeadImage"\n+    former_dotted_names="plone.app.contenttypes.behaviors.leadimage.ILeadImage"\n     />\n \n   <browser:viewlet\n@@ -53,6 +54,7 @@\n     factory=".richtext.RichText"\n     for="plone.dexterity.interfaces.IDexterityContent"\n     marker=".richtext.IRichText"\n+    former_dotted_names="plone.app.contenttypes.behaviors.richtext.IRichText"\n     />\n \n   <plone:behavior\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-02-08T15:34:58+01:00
Author: Wolfgang Thomas (pysailor) <thomas@syslab.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/6b96b5bd98fc2d57170625bd57fec1c58bc279d3

update changelog

Files changed:
A news/480.bugfix

b'diff --git a/news/480.bugfix b/news/480.bugfix\nnew file mode 100644\nindex 00000000..83060cf3\n--- /dev/null\n+++ b/news/480.bugfix\n@@ -0,0 +1,7 @@\n+Following the rename of the lead image and rich text behaviors, use the new\n+setting of plone.behavior to register their ``former_dotted_names``, so that\n+consumers that have stored the old dotted name have a chance of recovering.\n+This is especially needed for plone.app.versioningbehavior,\n+see `issue <https://github.com/plone/plone.app.versioningbehavior/pull/45>`\n+[pysailor]\n+\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-02-08T17:21:56+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contenttypes/commit/5827048a9a2bdb9febbc6257db63b1c558270f3b

Merge pull request #504 from plone/declare-old-dotted-name

Declare the former name of the LeadImage behavior

Files changed:
A news/480.bugfix
M plone/app/contenttypes/behaviors/configure.zcml

b'diff --git a/news/480.bugfix b/news/480.bugfix\nnew file mode 100644\nindex 00000000..83060cf3\n--- /dev/null\n+++ b/news/480.bugfix\n@@ -0,0 +1,7 @@\n+Following the rename of the lead image and rich text behaviors, use the new\n+setting of plone.behavior to register their ``former_dotted_names``, so that\n+consumers that have stored the old dotted name have a chance of recovering.\n+This is especially needed for plone.app.versioningbehavior,\n+see `issue <https://github.com/plone/plone.app.versioningbehavior/pull/45>`\n+[pysailor]\n+\ndiff --git a/plone/app/contenttypes/behaviors/configure.zcml b/plone/app/contenttypes/behaviors/configure.zcml\nindex 69cb53fb..a5136858 100644\n--- a/plone/app/contenttypes/behaviors/configure.zcml\n+++ b/plone/app/contenttypes/behaviors/configure.zcml\n@@ -15,6 +15,7 @@\n     factory=".leadimage.LeadImage"\n     for="plone.dexterity.interfaces.IDexterityContent"\n     marker=".leadimage.ILeadImage"\n+    former_dotted_names="plone.app.contenttypes.behaviors.leadimage.ILeadImage"\n     />\n \n   <browser:viewlet\n@@ -53,6 +54,7 @@\n     factory=".richtext.RichText"\n     for="plone.dexterity.interfaces.IDexterityContent"\n     marker=".richtext.IRichText"\n+    former_dotted_names="plone.app.contenttypes.behaviors.richtext.IRichText"\n     />\n \n   <plone:behavior\n'

