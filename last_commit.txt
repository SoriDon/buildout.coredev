Repository: plone.app.users


Branch: refs/heads/master
Date: 2018-08-08T13:46:36+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.users/commit/5e1fa20dd06fa849337e763a9439e4c6b08c9ed4

Remove dependency on plone,app.controlpanel

Files changed:
M CHANGES.rst
M plone/app/users/browser/configure.zcml
M plone/app/users/browser/interfaces.py
M setup.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex b23efe2..9b6697d 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,6 +14,9 @@ New features:\n \n Bug fixes:\n \n+- Remove dependency on plone,app.controlpanel.\n+  [jensens]\n+\n - Fix browser test to use name of user/password field instead of label.\n   [jensens]\n \ndiff --git a/plone/app/users/browser/configure.zcml b/plone/app/users/browser/configure.zcml\nindex 3a31117..024f795 100644\n--- a/plone/app/users/browser/configure.zcml\n+++ b/plone/app/users/browser/configure.zcml\n@@ -5,7 +5,7 @@\n     i18n_domain="plone">\n \n   <include package="plone.autoform" />\n-  <include package="plone.app.controlpanel" />\n+  <include package="Products.CMFPlone.controlpanel" file="permissions.zcml" />\n \n   <browser:page\n       name="member-registration"\ndiff --git a/plone/app/users/browser/interfaces.py b/plone/app/users/browser/interfaces.py\nindex 1eac5bc..59e5399 100644\n--- a/plone/app/users/browser/interfaces.py\n+++ b/plone/app/users/browser/interfaces.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from plone.app.controlpanel.interfaces import IPloneControlPanelForm\n+from Products.CMFPlone.interfaces.controlpanel import IPloneControlPanelForm\n from zope.interface import Interface\n \n \ndiff --git a/setup.py b/setup.py\nindex 713a83e..24fcf7d 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -51,7 +51,6 @@\n         \'Products.PlonePAS >= 5.0.1\',\n         \'Products.statusmessages\',\n         \'Zope2 >= 2.12.3\',\n-        \'plone.app.controlpanel >=2.1b1\',\n         \'plone.app.layout\',\n         \'plone.autoform >= 1.2\',\n         \'plone.formwidget.namedfile >= 1.0.3\',\n'

Repository: plone.app.users


Branch: refs/heads/master
Date: 2018-08-09T18:16:19+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.users/commit/95e2d9d967803dd3b18397b7bb28b10f95b84c10

Merge pull request #77 from plone/jensens/make-p.a.controlpanel-obsolete

Remove dependency on plone.app.controlpanel

Files changed:
M CHANGES.rst
M plone/app/users/browser/configure.zcml
M plone/app/users/browser/interfaces.py
M setup.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex b23efe2..9b6697d 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,6 +14,9 @@ New features:\n \n Bug fixes:\n \n+- Remove dependency on plone,app.controlpanel.\n+  [jensens]\n+\n - Fix browser test to use name of user/password field instead of label.\n   [jensens]\n \ndiff --git a/plone/app/users/browser/configure.zcml b/plone/app/users/browser/configure.zcml\nindex 3a31117..024f795 100644\n--- a/plone/app/users/browser/configure.zcml\n+++ b/plone/app/users/browser/configure.zcml\n@@ -5,7 +5,7 @@\n     i18n_domain="plone">\n \n   <include package="plone.autoform" />\n-  <include package="plone.app.controlpanel" />\n+  <include package="Products.CMFPlone.controlpanel" file="permissions.zcml" />\n \n   <browser:page\n       name="member-registration"\ndiff --git a/plone/app/users/browser/interfaces.py b/plone/app/users/browser/interfaces.py\nindex 1eac5bc..59e5399 100644\n--- a/plone/app/users/browser/interfaces.py\n+++ b/plone/app/users/browser/interfaces.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from plone.app.controlpanel.interfaces import IPloneControlPanelForm\n+from Products.CMFPlone.interfaces.controlpanel import IPloneControlPanelForm\n from zope.interface import Interface\n \n \ndiff --git a/setup.py b/setup.py\nindex 713a83e..24fcf7d 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -51,7 +51,6 @@\n         \'Products.PlonePAS >= 5.0.1\',\n         \'Products.statusmessages\',\n         \'Zope2 >= 2.12.3\',\n-        \'plone.app.controlpanel >=2.1b1\',\n         \'plone.app.layout\',\n         \'plone.autoform >= 1.2\',\n         \'plone.formwidget.namedfile >= 1.0.3\',\n'

