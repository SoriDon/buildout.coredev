Repository: plone.locking


Branch: refs/heads/master
Date: 2023-04-15T11:17:13+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.locking/commit/163ac3a5c79e817975fde5d9e0d1d42655c37685

Configuring with plone/meta

Files changed:
A news/5cc689e5.internal
M .meta.toml
M pyproject.toml

b'diff --git a/.meta.toml b/.meta.toml\nindex 87cb9ff..1b2346d 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,4 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "234bb1d6"\n+commit-id = "5cc689e5"\ndiff --git a/news/5cc689e5.internal b/news/5cc689e5.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/5cc689e5.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0dad625..92c3af9 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -48,9 +48,11 @@ Zope = [\n   \'App\', \'OFS\', \'Products.Five\', \'Products.OFSP\', \'Products.PageTemplates\',\n   \'Products.SiteAccess\', \'Shared\', \'Testing\', \'ZPublisher\', \'ZTUtils\',\n   \'Zope2\', \'webdav\', \'zmi\',\n+  # ExtensionClass own provided namespaces\n+  \'ExtensionClass\', \'ComputedAttribute\', \'MethodObject\',\n   # Zope dependencies\n   \'AccessControl\', \'Acquisition\', \'AuthEncoding\', \'beautifulsoup4\', \'BTrees\',\n-  \'cffi\', \'Chameleon\', \'DateTime\', \'DocumentTemplate\', \'ExtensionClass\',\n+  \'cffi\', \'Chameleon\', \'DateTime\', \'DocumentTemplate\',\n   \'MultiMapping\', \'multipart\', \'PasteDeploy\', \'Persistence\', \'persistent\',\n   \'pycparser\', \'python-gettext\', \'pytz\', \'RestrictedPython\', \'roman\', \'six\',\n   \'soupsieve\', \'transaction\', \'waitress\', \'WebOb\', \'WebTest\', \'WSGIProxy2\',\n'

Repository: plone.locking


Branch: refs/heads/master
Date: 2023-04-15T11:33:03+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.locking/commit/7cb2e43f95453bbcff16d29d9818c8bf331c4889

feat: drop CMFPlone dependency

Files changed:
M plone/locking/lockable.py

b'diff --git a/plone/locking/lockable.py b/plone/locking/lockable.py\nindex 963ff92..e68b01d 100644\n--- a/plone/locking/lockable.py\n+++ b/plone/locking/lockable.py\n@@ -13,13 +13,13 @@\n     # Zope2\n     from webdav.LockItem import LockItem\n \n+from plone.base.interfaces import IEditingSchema\n from plone.locking.interfaces import ILockSettings\n from plone.locking.interfaces import INonStealableLock\n from plone.locking.interfaces import IRefreshableLockable\n from plone.locking.interfaces import ITTWLockable\n from plone.locking.interfaces import STEALABLE_LOCK\n from plone.registry.interfaces import IRegistry\n-from Products.CMFPlone.interfaces import IEditingSchema\n \n \n try:\n'

Repository: plone.locking


Branch: refs/heads/master
Date: 2023-04-15T11:37:30+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.locking/commit/941315af24224f009cbaab9369fb6940aedc4ddc

feat: ignore a package

Files changed:
M .meta.toml
M pyproject.toml

b'diff --git a/.meta.toml b/.meta.toml\nindex 1b2346d..70f1fd4 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -3,3 +3,6 @@\n [meta]\n template = "default"\n commit-id = "5cc689e5"\n+\n+[dependencies]\n+ignores = "[\'plone.protect\']"\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 92c3af9..fed6bfa 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -81,3 +81,4 @@ Zope = [\n   \'Products.CMFCore\', \'Products.CMFDynamicViewFTI\',\n ]\n python-dateutil = [\'dateutil\']\n+ignore-packages = [\'plone.protect\']\n'

Repository: plone.locking


Branch: refs/heads/master
Date: 2023-04-15T11:37:30+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.locking/commit/b6ed20815358c219fbbfb7098840b9008c7e3548

feat: declare dependencies

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex e205956..ed69613 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -36,22 +36,14 @@\n     python_requires=">=3.8",\n     extras_require=dict(\n         test=[\n-            "plone.app.contenttypes",\n+            "plone.app.contenttypes[test]",\n             "plone.app.testing",\n+            "plone.dexterity",\n+            "plone.testing",\n         ]\n     ),\n     install_requires=[\n         "setuptools",\n-        "zope.annotation",\n-        "zope.component",\n-        "zope.i18nmessageid",\n-        "zope.interface",\n-        "zope.schema",\n-        "zope.viewlet",\n-        "Acquisition",\n-        "DateTime",\n-        "Products.CMFCore",\n-        "ZODB",\n-        "Zope",\n+        "plone.base",\n     ],\n )\n'

Repository: plone.locking


Branch: refs/heads/master
Date: 2023-04-15T13:07:42+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.locking/commit/03871223ed49e8b426fbc41be2a343a97722ef5b

Merge pull request #23 from plone/config-with-default-template-48ff1b96

Config with default template

Files changed:
A news/5cc689e5.internal
M .meta.toml
M plone/locking/lockable.py
M pyproject.toml
M setup.py

b'diff --git a/.meta.toml b/.meta.toml\nindex 87cb9ff..70f1fd4 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,7 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "234bb1d6"\n+commit-id = "5cc689e5"\n+\n+[dependencies]\n+ignores = "[\'plone.protect\']"\ndiff --git a/news/5cc689e5.internal b/news/5cc689e5.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/5cc689e5.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/plone/locking/lockable.py b/plone/locking/lockable.py\nindex 963ff92..e68b01d 100644\n--- a/plone/locking/lockable.py\n+++ b/plone/locking/lockable.py\n@@ -13,13 +13,13 @@\n     # Zope2\n     from webdav.LockItem import LockItem\n \n+from plone.base.interfaces import IEditingSchema\n from plone.locking.interfaces import ILockSettings\n from plone.locking.interfaces import INonStealableLock\n from plone.locking.interfaces import IRefreshableLockable\n from plone.locking.interfaces import ITTWLockable\n from plone.locking.interfaces import STEALABLE_LOCK\n from plone.registry.interfaces import IRegistry\n-from Products.CMFPlone.interfaces import IEditingSchema\n \n \n try:\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0dad625..fed6bfa 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -48,9 +48,11 @@ Zope = [\n   \'App\', \'OFS\', \'Products.Five\', \'Products.OFSP\', \'Products.PageTemplates\',\n   \'Products.SiteAccess\', \'Shared\', \'Testing\', \'ZPublisher\', \'ZTUtils\',\n   \'Zope2\', \'webdav\', \'zmi\',\n+  # ExtensionClass own provided namespaces\n+  \'ExtensionClass\', \'ComputedAttribute\', \'MethodObject\',\n   # Zope dependencies\n   \'AccessControl\', \'Acquisition\', \'AuthEncoding\', \'beautifulsoup4\', \'BTrees\',\n-  \'cffi\', \'Chameleon\', \'DateTime\', \'DocumentTemplate\', \'ExtensionClass\',\n+  \'cffi\', \'Chameleon\', \'DateTime\', \'DocumentTemplate\',\n   \'MultiMapping\', \'multipart\', \'PasteDeploy\', \'Persistence\', \'persistent\',\n   \'pycparser\', \'python-gettext\', \'pytz\', \'RestrictedPython\', \'roman\', \'six\',\n   \'soupsieve\', \'transaction\', \'waitress\', \'WebOb\', \'WebTest\', \'WSGIProxy2\',\n@@ -79,3 +81,4 @@ Zope = [\n   \'Products.CMFCore\', \'Products.CMFDynamicViewFTI\',\n ]\n python-dateutil = [\'dateutil\']\n+ignore-packages = [\'plone.protect\']\ndiff --git a/setup.py b/setup.py\nindex e205956..ed69613 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -36,22 +36,14 @@\n     python_requires=">=3.8",\n     extras_require=dict(\n         test=[\n-            "plone.app.contenttypes",\n+            "plone.app.contenttypes[test]",\n             "plone.app.testing",\n+            "plone.dexterity",\n+            "plone.testing",\n         ]\n     ),\n     install_requires=[\n         "setuptools",\n-        "zope.annotation",\n-        "zope.component",\n-        "zope.i18nmessageid",\n-        "zope.interface",\n-        "zope.schema",\n-        "zope.viewlet",\n-        "Acquisition",\n-        "DateTime",\n-        "Products.CMFCore",\n-        "ZODB",\n-        "Zope",\n+        "plone.base",\n     ],\n )\n'

