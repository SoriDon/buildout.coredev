Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2017-03-08T21:03:52Z
Author: Tom Gross (tomgross) <itconsense@gmail.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/5106714c3cebfb4d39b9c26f98fba87edb3712ad

Catch TypeError occuring on conflicting subrequests in inline validation

Files changed:
M CHANGES.rst
M plone/app/z3cform/inline_validation.py

diff --git a/CHANGES.rst b/CHANGES.rst
index b1f285f..5d97cdc 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Catch TypeError occuring on conflicting subrequests in inline validation
+  [tomgross]
 
 
 2.2.1 (2017-02-12)
diff --git a/plone/app/z3cform/inline_validation.py b/plone/app/z3cform/inline_validation.py
index 3ab940f..10a91c6 100644
--- a/plone/app/z3cform/inline_validation.py
+++ b/plone/app/z3cform/inline_validation.py
@@ -26,7 +26,7 @@ def __call__(self, fname=None, fset=None):
             form = self.context
         try:
             aq_base(form).update()
-        except AttributeError:
+        except (AttributeError, TypeError):
             return json.dumps(res)
 
         if getattr(form, 'extractData', None):


Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2017-03-08T23:09:04+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/04076b0dd687436dcfd97380d3eec71fbb9a9f9b

Merge pull request #62 from plone/catch_typerror

Catch TypeError occuring on conflicting subrequests in inline validation

Files changed:
M CHANGES.rst
M plone/app/z3cform/inline_validation.py

diff --git a/CHANGES.rst b/CHANGES.rst
index b1f285f..5d97cdc 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Catch TypeError occuring on conflicting subrequests in inline validation
+  [tomgross]
 
 
 2.2.1 (2017-02-12)
diff --git a/plone/app/z3cform/inline_validation.py b/plone/app/z3cform/inline_validation.py
index 3ab940f..10a91c6 100644
--- a/plone/app/z3cform/inline_validation.py
+++ b/plone/app/z3cform/inline_validation.py
@@ -26,7 +26,7 @@ def __call__(self, fname=None, fset=None):
             form = self.context
         try:
             aq_base(form).update()
-        except AttributeError:
+        except (AttributeError, TypeError):
             return json.dumps(res)
 
         if getattr(form, 'extractData', None):


