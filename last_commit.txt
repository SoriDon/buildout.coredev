Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-02-17T13:24:07-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/9c3060a432b8eb6925fae7dbb8071881fc61c380

Fix robot test "When page is linked show warning"

Wait for the list of objects to stop moving before clicking on the
desired object

Fix error:

Element 'css=.breach-container .breach-item' did not appear in 7
seconds.

Files changed:
M Products/CMFPlone/tests/robot/test_linkintegrity.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\nindex b798d6a824..b0c6fa4dbb 100644\n--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n@@ -77,15 +77,14 @@ a link in rich text\n   Click Button  css=button[aria-label="Insert/edit link"]\n \n   Given patterns are loaded\n-  # Somehow this does not work:\n-  # Wait For Then Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems .select2-input.select2-default\n   Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Click Element  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Wait until element is visible  xpath=(//span[contains(., \'Foo\')])\n+  Sleep  2s\n   Click Element  xpath=(//span[contains(., \'Foo\')])\n-  Wait until page contains  Foo\n+  Wait until element is visible  css=.pat-relateditems-item-title\n   Wait For Then Click Element  css=.modal-footer .btn-primary\n   Wait For Then Click Element  css=#form-buttons-save\n \n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-02-17T13:37:04-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/858721bfe1160285b6ca31c2a3ebcb5e52685e2c

Add Changes

Files changed:
A news/3902.internal

b'diff --git a/news/3902.internal b/news/3902.internal\nnew file mode 100644\nindex 0000000000..2c3f8419dc\n--- /dev/null\n+++ b/news/3902.internal\n@@ -0,0 +1 @@\n+Fix robot test "When page is linked show warning". @wesleybl\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-02-19T10:28:52+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/633e7f3e323160db19470dbb6c52b71da41c0c79

Merge pull request #3902 from plone/linkintegrity_robot

Fix robot test "When page is linked show warning"

Files changed:
A news/3902.internal
M Products/CMFPlone/tests/robot/test_linkintegrity.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\nindex b798d6a824..b0c6fa4dbb 100644\n--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n@@ -77,15 +77,14 @@ a link in rich text\n   Click Button  css=button[aria-label="Insert/edit link"]\n \n   Given patterns are loaded\n-  # Somehow this does not work:\n-  # Wait For Then Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems .select2-input.select2-default\n   Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Click Element  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Wait until element is visible  xpath=(//span[contains(., \'Foo\')])\n+  Sleep  2s\n   Click Element  xpath=(//span[contains(., \'Foo\')])\n-  Wait until page contains  Foo\n+  Wait until element is visible  css=.pat-relateditems-item-title\n   Wait For Then Click Element  css=.modal-footer .btn-primary\n   Wait For Then Click Element  css=#form-buttons-save\n \ndiff --git a/news/3902.internal b/news/3902.internal\nnew file mode 100644\nindex 0000000000..2c3f8419dc\n--- /dev/null\n+++ b/news/3902.internal\n@@ -0,0 +1 @@\n+Fix robot test "When page is linked show warning". @wesleybl\n'

