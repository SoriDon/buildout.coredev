Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2018-10-03T17:00:27+02:00
Author: Thomas Lotze (tlotze) <thomas@thomas-lotze.net>
Commit: https://github.com/plone/Products.CMFPlone/commit/139ead55299d3a9edcec51db751785bfac49c3d5

re #1801: Removed setAuthCookie.py skin script.

Files changed:
M CHANGES.rst
D Products/CMFPlone/skins/plone_scripts/setAuthCookie.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex b0194199e..6ddbfa514 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -16,6 +16,8 @@ Breaking changes:\n   [jensens]\n - Removed getObjectsFromPathList.py skin script. #1801\n   [reinhardt]\n+- Removed setAuthCookie.py skin script. #1801\n+  [tlotze]\n \n New features:\n \ndiff --git a/Products/CMFPlone/skins/plone_scripts/setAuthCookie.py b/Products/CMFPlone/skins/plone_scripts/setAuthCookie.py\ndeleted file mode 100644\nindex 02a3a93af..000000000\n--- a/Products/CMFPlone/skins/plone_scripts/setAuthCookie.py\n+++ /dev/null\n@@ -1,24 +0,0 @@\n-## Script (Python) "setAuthCookie"\n-##title=Set Authentication Cookie\n-##parameters=resp, cookie_name, cookie_value\n-\n-try:\n-    length = context.portal_registry[\'plone.auth_cookie_length\']\n-except AttributeError:\n-    length = 0\n-\n-try:\n-    length = int(length)\n-except ValueError:\n-    length = 0\n-\n-cookie_path = \'/\'\n-if length:\n-    expires = (DateTime() + length).toZone(\'GMT\').rfc822()\n-    resp.setCookie(\n-        cookie_name,\n-        cookie_value,\n-        path=cookie_path,\n-        expires=expires)\n-else:\n-    resp.setCookie(cookie_name, cookie_value, path=cookie_path)\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2018-10-03T17:43:45+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/5ca282280c75dcce53532c0bec402c8ab24e6219

Merge pull request #2562 from plone/1801-remove-setAuthCookie

re #1801: Removed setAuthCookie.py skin script.

Files changed:
M CHANGES.rst
D Products/CMFPlone/skins/plone_scripts/setAuthCookie.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex b0194199e..6ddbfa514 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -16,6 +16,8 @@ Breaking changes:\n   [jensens]\n - Removed getObjectsFromPathList.py skin script. #1801\n   [reinhardt]\n+- Removed setAuthCookie.py skin script. #1801\n+  [tlotze]\n \n New features:\n \ndiff --git a/Products/CMFPlone/skins/plone_scripts/setAuthCookie.py b/Products/CMFPlone/skins/plone_scripts/setAuthCookie.py\ndeleted file mode 100644\nindex 02a3a93af..000000000\n--- a/Products/CMFPlone/skins/plone_scripts/setAuthCookie.py\n+++ /dev/null\n@@ -1,24 +0,0 @@\n-## Script (Python) "setAuthCookie"\n-##title=Set Authentication Cookie\n-##parameters=resp, cookie_name, cookie_value\n-\n-try:\n-    length = context.portal_registry[\'plone.auth_cookie_length\']\n-except AttributeError:\n-    length = 0\n-\n-try:\n-    length = int(length)\n-except ValueError:\n-    length = 0\n-\n-cookie_path = \'/\'\n-if length:\n-    expires = (DateTime() + length).toZone(\'GMT\').rfc822()\n-    resp.setCookie(\n-        cookie_name,\n-        cookie_value,\n-        path=cookie_path,\n-        expires=expires)\n-else:\n-    resp.setCookie(cookie_name, cookie_value, path=cookie_path)\n'

