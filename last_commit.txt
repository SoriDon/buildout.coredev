Repository: Products.CMFFormController


Branch: refs/heads/master
Date: 2018-10-03T13:46:40+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFFormController/commit/0b22727d8b50a8bf385e3c67e5d3c0e0018d8752

add tearDown method to avoid isolation errors

Files changed:
M Products/CMFFormController/tests/testRedirectTo.py

b"diff --git a/Products/CMFFormController/tests/testRedirectTo.py b/Products/CMFFormController/tests/testRedirectTo.py\nindex b969fad..4424014 100644\n--- a/Products/CMFFormController/tests/testRedirectTo.py\n+++ b/Products/CMFFormController/tests/testRedirectTo.py\n@@ -67,6 +67,14 @@ def setUp(self):\n             'Authorization', 'Basic {0}:{1}'.format(\n                 TEST_USER_NAME, TEST_USER_PASSWORD))\n \n+    def tearDown(self):\n+        # still have to delete the created pages manually\n+        # because of test isolation problems\n+        del self.portal['page']\n+        del self.portal['front-page']\n+        transaction.commit()\n+        super(TestRedirectToFunctional, self).tearDown()\n+\n     def test_regression(self):\n         csrf_token = createToken()\n         target = 'front-page'\n"

Repository: Products.CMFFormController


Branch: refs/heads/master
Date: 2018-10-03T16:00:33+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFFormController/commit/646de392e725f7db01ce8f0900e8b8edcbb76c0e

add changenote

Files changed:
A news/18.bugfix

b'diff --git a/news/18.bugfix b/news/18.bugfix\nnew file mode 100644\nindex 0000000..f7466a7\n--- /dev/null\n+++ b/news/18.bugfix\n@@ -0,0 +1,3 @@\n+fix testisolation problems\n+\n+[petschki]\n\\ No newline at end of file\n'

Repository: Products.CMFFormController


Branch: refs/heads/master
Date: 2018-10-03T17:07:21+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFFormController/commit/f1d39e0dfd903b7d218ef20a1fef441bb646c4be

Merge pull request #18 from plone/testisolation-fix

testisolation fixes

Files changed:
A news/18.bugfix
M Products/CMFFormController/tests/testRedirectTo.py

b"diff --git a/Products/CMFFormController/tests/testRedirectTo.py b/Products/CMFFormController/tests/testRedirectTo.py\nindex b969fad..4424014 100644\n--- a/Products/CMFFormController/tests/testRedirectTo.py\n+++ b/Products/CMFFormController/tests/testRedirectTo.py\n@@ -67,6 +67,14 @@ def setUp(self):\n             'Authorization', 'Basic {0}:{1}'.format(\n                 TEST_USER_NAME, TEST_USER_PASSWORD))\n \n+    def tearDown(self):\n+        # still have to delete the created pages manually\n+        # because of test isolation problems\n+        del self.portal['page']\n+        del self.portal['front-page']\n+        transaction.commit()\n+        super(TestRedirectToFunctional, self).tearDown()\n+\n     def test_regression(self):\n         csrf_token = createToken()\n         target = 'front-page'\ndiff --git a/news/18.bugfix b/news/18.bugfix\nnew file mode 100644\nindex 0000000..f7466a7\n--- /dev/null\n+++ b/news/18.bugfix\n@@ -0,0 +1,3 @@\n+fix testisolation problems\n+\n+[petschki]\n\\ No newline at end of file\n"

