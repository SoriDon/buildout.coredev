Repository: plone.app.event


Branch: refs/heads/master
Date: 2021-05-27T12:45:11+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.event/commit/ef6b4cc35cbc51c6abfd85d38e0545b78767f1ca

Fix #330 traversal problem in the portlet_events template when an object in a folder is called image

Files changed:
A news/330.bugfix
M plone/app/event/portlets/portlet_events.pt

b'diff --git a/news/330.bugfix b/news/330.bugfix\nnew file mode 100644\nindex 00000000..50a4c4e3\n--- /dev/null\n+++ b/news/330.bugfix\n@@ -0,0 +1,2 @@\n+Fix #330 traversal problem in the portlet_events template when an object in a folder is called "image"\n+[sneridagh]\ndiff --git a/plone/app/event/portlets/portlet_events.pt b/plone/app/event/portlets/portlet_events.pt\nindex 7e7bd832..95beefc7 100644\n--- a/plone/app/event/portlets/portlet_events.pt\n+++ b/plone/app/event/portlets/portlet_events.pt\n@@ -25,7 +25,7 @@\n                         item_descr    item/description;\n                         item_title    item/title;\n                         item_location item/location;\n-                        item_hasimage item/context/image|nothing"\n+                        item_hasimage python:getattr(item.context.aq_base, \'image\', None)"\n             tal:attributes="class python:\'portletItem odd\' if oddrow else \'portletItem even\'">\n           <a href="#" class="tile"\n               tal:attributes="href item_url;\n@@ -72,4 +72,4 @@\n \n   </div>\n \n-</html>\n\\ No newline at end of file\n+</html>\n'

Repository: plone.app.event


Branch: refs/heads/master
Date: 2021-05-30T23:22:24+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.event/commit/443dd2dd437b89de5e3d7efef778ec0293656aa8

Merge pull request #331 from plone/fixeventportlettemplatetraversal

Fix #330 traversal problem in the portlet_events template when an objâ€¦

Files changed:
A news/330.bugfix
M plone/app/event/portlets/portlet_events.pt

b'diff --git a/news/330.bugfix b/news/330.bugfix\nnew file mode 100644\nindex 00000000..50a4c4e3\n--- /dev/null\n+++ b/news/330.bugfix\n@@ -0,0 +1,2 @@\n+Fix #330 traversal problem in the portlet_events template when an object in a folder is called "image"\n+[sneridagh]\ndiff --git a/plone/app/event/portlets/portlet_events.pt b/plone/app/event/portlets/portlet_events.pt\nindex 7e7bd832..95beefc7 100644\n--- a/plone/app/event/portlets/portlet_events.pt\n+++ b/plone/app/event/portlets/portlet_events.pt\n@@ -25,7 +25,7 @@\n                         item_descr    item/description;\n                         item_title    item/title;\n                         item_location item/location;\n-                        item_hasimage item/context/image|nothing"\n+                        item_hasimage python:getattr(item.context.aq_base, \'image\', None)"\n             tal:attributes="class python:\'portletItem odd\' if oddrow else \'portletItem even\'">\n           <a href="#" class="tile"\n               tal:attributes="href item_url;\n@@ -72,4 +72,4 @@\n \n   </div>\n \n-</html>\n\\ No newline at end of file\n+</html>\n'

