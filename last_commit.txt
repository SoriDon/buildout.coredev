Repository: plone.volto


Branch: refs/heads/main
Date: 2022-04-08T09:00:59+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.volto/commit/46075e212a48b05b92813d6262b6195d2b78fe91

fix deprecated import of isDefaultPage

Files changed:
M src/plone/volto/browser/breadcrumbs.py

b"diff --git a/src/plone/volto/browser/breadcrumbs.py b/src/plone/volto/browser/breadcrumbs.py\nindex 85ac05a..1d64f92 100644\n--- a/src/plone/volto/browser/breadcrumbs.py\n+++ b/src/plone/volto/browser/breadcrumbs.py\n@@ -5,6 +5,7 @@\n from Products.CMFPlone import utils\n from Products.CMFPlone.browser.interfaces import INavigationBreadcrumbs\n from Products.CMFPlone.browser.navigation import get_view_url\n+from Products.CMFPlone.defaultpage import check_default_page_via_view\n from Products.CMFPlone.interfaces import IHideFromBreadcrumbs\n from Products.Five import BrowserView\n from zope.component import getMultiAdapter\n@@ -46,7 +47,7 @@ def breadcrumbs(self):\n \n         # don't show default pages in breadcrumbs or pages above the navigation\n         # root\n-        if not utils.isDefaultPage(context, request) and not rootPath.startswith(\n+        if not check_default_page_via_view(context, request) and not rootPath.startswith(\n             itemPath\n         ):\n             base += (\n"

