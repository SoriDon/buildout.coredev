Repository: plone.app.theming


Branch: refs/heads/master
Date: 2018-06-15T10:17:04+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.theming/commit/8eb5fbaeb89adbc92f3cd11e363284ce8c817f45

fix tests for merged plone.login

Files changed:
M CHANGES.rst
M setup.py
M src/plone/app/theming/tests/test_controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 73fce71..004b6ba 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New features:
 
 Bug fixes:
 
+- Fix tests for merged plone.login. 
+  [jensens]
+
 - More Python 3 fixes [ale-rt, pbauer]
 
 
diff --git a/setup.py b/setup.py
index 5cb7e17..974ba22 100644
--- a/setup.py
+++ b/setup.py
@@ -5,7 +5,7 @@
 import os
 
 
-version = '2.0.4.dev0'
+version = '3.0.0.dev0'
 
 longdescription = open("README.rst").read()
 longdescription += "\n\n"
diff --git a/src/plone/app/theming/tests/test_controlpanel.py b/src/plone/app/theming/tests/test_controlpanel.py
index a1f443d..53fcdb5 100644
--- a/src/plone/app/theming/tests/test_controlpanel.py
+++ b/src/plone/app/theming/tests/test_controlpanel.py
@@ -30,7 +30,7 @@ def setUp(self):
             self.browser.getControl(
                 name='__ac_password'
             ).value = TEST_USER_PASSWORD
-            self.browser.getControl(name='submit').click()
+            self.browser.getControl('Log in').click()
         finally:
             self.browser.handleErrors = handleErrors
 


Repository: plone.app.theming


Branch: refs/heads/master
Date: 2018-06-15T10:20:53+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.theming/commit/5241fd49521cedcbb553c29aa57d88c3a104ff20

isort

Files changed:
M src/plone/__init__.py
M src/plone/app/__init__.py
M src/plone/app/theming/browser/mapper.py

diff --git a/src/plone/__init__.py b/src/plone/__init__.py
index a8cfe76..68c04af 100644
--- a/src/plone/__init__.py
+++ b/src/plone/__init__.py
@@ -1,3 +1,2 @@
 # -*- coding: utf-8 -*-
 __import__('pkg_resources').declare_namespace(__name__)
-
diff --git a/src/plone/app/__init__.py b/src/plone/app/__init__.py
index a8cfe76..68c04af 100644
--- a/src/plone/app/__init__.py
+++ b/src/plone/app/__init__.py
@@ -1,3 +1,2 @@
 # -*- coding: utf-8 -*-
 __import__('pkg_resources').declare_namespace(__name__)
-
diff --git a/src/plone/app/theming/browser/mapper.py b/src/plone/app/theming/browser/mapper.py
index bc12536..ed7e8c6 100644
--- a/src/plone/app/theming/browser/mapper.py
+++ b/src/plone/app/theming/browser/mapper.py
@@ -21,6 +21,7 @@
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from Products.statusmessages.interfaces import IStatusMessage
 from repoze.xmliter.utils import getHTMLSerializer
+from six.moves import urllib
 from zExceptions import NotFound
 from zope.component import getMultiAdapter
 from zope.component import getUtility
@@ -32,8 +33,6 @@
 import lxml.html
 import lxml.html.builder
 import os.path
-from six.moves import urllib
-
 import six
 
 


Repository: plone.app.theming


Branch: refs/heads/master
Date: 2018-06-15T12:39:18+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.theming/commit/81522bb6eb2bf55d3ef0c14c297014a821b12099

Merge pull request #144 from plone/merge-plone-login

fix tests for merged plone.login

Files changed:
M CHANGES.rst
M setup.py
M src/plone/__init__.py
M src/plone/app/__init__.py
M src/plone/app/theming/browser/mapper.py
M src/plone/app/theming/tests/test_controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 73fce71..004b6ba 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New features:
 
 Bug fixes:
 
+- Fix tests for merged plone.login. 
+  [jensens]
+
 - More Python 3 fixes [ale-rt, pbauer]
 
 
diff --git a/setup.py b/setup.py
index 5cb7e17..974ba22 100644
--- a/setup.py
+++ b/setup.py
@@ -5,7 +5,7 @@
 import os
 
 
-version = '2.0.4.dev0'
+version = '3.0.0.dev0'
 
 longdescription = open("README.rst").read()
 longdescription += "\n\n"
diff --git a/src/plone/__init__.py b/src/plone/__init__.py
index a8cfe76..68c04af 100644
--- a/src/plone/__init__.py
+++ b/src/plone/__init__.py
@@ -1,3 +1,2 @@
 # -*- coding: utf-8 -*-
 __import__('pkg_resources').declare_namespace(__name__)
-
diff --git a/src/plone/app/__init__.py b/src/plone/app/__init__.py
index a8cfe76..68c04af 100644
--- a/src/plone/app/__init__.py
+++ b/src/plone/app/__init__.py
@@ -1,3 +1,2 @@
 # -*- coding: utf-8 -*-
 __import__('pkg_resources').declare_namespace(__name__)
-
diff --git a/src/plone/app/theming/browser/mapper.py b/src/plone/app/theming/browser/mapper.py
index bc12536..ed7e8c6 100644
--- a/src/plone/app/theming/browser/mapper.py
+++ b/src/plone/app/theming/browser/mapper.py
@@ -21,6 +21,7 @@
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from Products.statusmessages.interfaces import IStatusMessage
 from repoze.xmliter.utils import getHTMLSerializer
+from six.moves import urllib
 from zExceptions import NotFound
 from zope.component import getMultiAdapter
 from zope.component import getUtility
@@ -32,8 +33,6 @@
 import lxml.html
 import lxml.html.builder
 import os.path
-from six.moves import urllib
-
 import six
 
 
diff --git a/src/plone/app/theming/tests/test_controlpanel.py b/src/plone/app/theming/tests/test_controlpanel.py
index a1f443d..53fcdb5 100644
--- a/src/plone/app/theming/tests/test_controlpanel.py
+++ b/src/plone/app/theming/tests/test_controlpanel.py
@@ -30,7 +30,7 @@ def setUp(self):
             self.browser.getControl(
                 name='__ac_password'
             ).value = TEST_USER_PASSWORD
-            self.browser.getControl(name='submit').click()
+            self.browser.getControl('Log in').click()
         finally:
             self.browser.handleErrors = handleErrors
 


