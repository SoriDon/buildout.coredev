Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-02-01T16:56:01+01:00
Author: Johannes Raggam (thet) <raggam-nl@adm.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/b7155e6c354032942371b5b3e364ce625c1c3caa

No longer rely on deprecated bobobase_modification_time from Persistence.Persistent.

Files changed:
M CHANGES.rst
M Products/CMFPlone/DublinCore.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 7ecfd02..b3dc7f5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -90,6 +90,11 @@ New:
   [petschki]
 
 - Added new commandline argument to plone-compile-resource: --compile-dir
+- No longer rely on deprecated ``bobobase_modification_time`` from
+  ``Persistence.Persistent``.
+  [thet]
+
+- compress generated bundle css file when running plone-compile-resource
   [petschki]
 
 - Upgraded to patternslib 2.0.11.
diff --git a/Products/CMFPlone/DublinCore.py b/Products/CMFPlone/DublinCore.py
index 4607acc..ea10cea 100644
--- a/Products/CMFPlone/DublinCore.py
+++ b/Products/CMFPlone/DublinCore.py
@@ -350,7 +350,7 @@ def modified(self):
         date = self.modification_date
         if date is None:
             # Upgrade.
-            date = self.bobobase_modification_time()
+            date = DateTime(self._p_mtime)
             self.modification_date = date
         return date
 


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-02-01T18:40:45+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/4cddeb343c121f44648c8f421010c35f978e2dc9

Merge pull request #1165 from plone/thet-nobobomodification

Remove bobobase_modification_time

Files changed:
M CHANGES.rst
M Products/CMFPlone/DublinCore.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 7ecfd02..b3dc7f5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -90,6 +90,11 @@ New:
   [petschki]
 
 - Added new commandline argument to plone-compile-resource: --compile-dir
+- No longer rely on deprecated ``bobobase_modification_time`` from
+  ``Persistence.Persistent``.
+  [thet]
+
+- compress generated bundle css file when running plone-compile-resource
   [petschki]
 
 - Upgraded to patternslib 2.0.11.
diff --git a/Products/CMFPlone/DublinCore.py b/Products/CMFPlone/DublinCore.py
index 4607acc..ea10cea 100644
--- a/Products/CMFPlone/DublinCore.py
+++ b/Products/CMFPlone/DublinCore.py
@@ -350,7 +350,7 @@ def modified(self):
         date = self.modification_date
         if date is None:
             # Upgrade.
-            date = self.bobobase_modification_time()
+            date = DateTime(self._p_mtime)
             self.modification_date = date
         return date
 


