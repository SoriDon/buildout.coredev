Repository: plone.batching


Branch: refs/heads/master
Date: 2023-03-03T19:39:01+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/a81b1f91d25ed4a186ef57f70575f7412d2cf7db

Configuring with plone/meta

Files changed:
A news/e42131fe.internal
M .meta.toml
M .pre-commit-config.yaml
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex edb485d..2058a18 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -7,7 +7,7 @@ additional-ignores = [\n \n [meta]\n template = "default"\n-commit-id = "80b6e76b"\n+commit-id = "e42131fe"\n \n [dependencies]\n mappings = [\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex 307a093..582f8ac 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -1,10 +1,15 @@\n # Generated from:\n # https://github.com/plone/meta/tree/master/config/default\n+ci:\n+    autofix_prs: false\n+    autoupdate_schedule: monthly\n+\n repos:\n -   repo: https://github.com/asottile/pyupgrade\n     rev: v3.3.1\n     hooks:\n     -   id: pyupgrade\n+        args: [--py38-plus]\n -   repo: https://github.com/pycqa/isort\n     rev: 5.12.0\n     hooks:\n@@ -25,6 +30,8 @@ repos:\n     rev: v2.2.2\n     hooks:\n     -   id: codespell\n+        additional_dependencies:\n+          - tomli\n -   repo: https://github.com/mgedmin/check-manifest\n     rev: "0.49"\n     hooks:\ndiff --git a/news/e42131fe.internal b/news/e42131fe.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/e42131fe.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/tox.ini b/tox.ini\nindex 9e1e43a..f71ccfe 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -4,6 +4,11 @@\n envlist =\n     format\n     lint\n+    test\n+\n+[testenv]\n+allowlist_externals =\n+    sh\n \n [testenv:format]\n description = automatically reformat code\n@@ -25,29 +30,21 @@ commands =\n     pre-commit run -a\n \n [testenv:dependencies]\n-description = check if the package defines all its dependencies\n-deps =\n-    z3c.dependencychecker\n-    -c lint-requirements.txt\n-commands =\n-    dependencychecker\n-\n-[testenv:dependencies-graph]\n-description = generate a graph with the distribution dependencies\n+description = check if the package defines all its dependencies and generate a graph out of them\n deps =\n-    pipdeptree\n+    z3c.dependencychecker==2.11\n+    pipdeptree==2.5.1\n     graphviz  # optional dependency of pipdeptree\n-    -c lint-requirements.txt\n commands =\n-    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel --graph-output svg > dependencies.svg\'\n+    dependencychecker\n+    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel,pipdeptree,z3c.dependencychecker,zope.interface,zope.component --graph-output svg > dependencies.svg\'\n \n [testenv:test]\n-description = run the distribution\'s tests\n+usedevelop = true\n deps =\n-    plone.batching[test]\n-    pytest\n-    gocept.pytestlayer\n+    zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    pip install -e .\n-    pytest\n+    zope-testrunner --test-path={toxinidir} -s plone.batching\n+extras =\n+    test\n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2023-03-12T01:09:56+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/bf2e61d7b4be8711b09591f36172aa4671ecce6a

Merge pull request #43 from plone/config-with-default-template-541425f6

Configuring with plone/meta

Files changed:
A news/e42131fe.internal
M .meta.toml
M .pre-commit-config.yaml
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex edb485d..2058a18 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -7,7 +7,7 @@ additional-ignores = [\n \n [meta]\n template = "default"\n-commit-id = "80b6e76b"\n+commit-id = "e42131fe"\n \n [dependencies]\n mappings = [\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex 307a093..582f8ac 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -1,10 +1,15 @@\n # Generated from:\n # https://github.com/plone/meta/tree/master/config/default\n+ci:\n+    autofix_prs: false\n+    autoupdate_schedule: monthly\n+\n repos:\n -   repo: https://github.com/asottile/pyupgrade\n     rev: v3.3.1\n     hooks:\n     -   id: pyupgrade\n+        args: [--py38-plus]\n -   repo: https://github.com/pycqa/isort\n     rev: 5.12.0\n     hooks:\n@@ -25,6 +30,8 @@ repos:\n     rev: v2.2.2\n     hooks:\n     -   id: codespell\n+        additional_dependencies:\n+          - tomli\n -   repo: https://github.com/mgedmin/check-manifest\n     rev: "0.49"\n     hooks:\ndiff --git a/news/e42131fe.internal b/news/e42131fe.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/e42131fe.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/tox.ini b/tox.ini\nindex 9e1e43a..f71ccfe 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -4,6 +4,11 @@\n envlist =\n     format\n     lint\n+    test\n+\n+[testenv]\n+allowlist_externals =\n+    sh\n \n [testenv:format]\n description = automatically reformat code\n@@ -25,29 +30,21 @@ commands =\n     pre-commit run -a\n \n [testenv:dependencies]\n-description = check if the package defines all its dependencies\n-deps =\n-    z3c.dependencychecker\n-    -c lint-requirements.txt\n-commands =\n-    dependencychecker\n-\n-[testenv:dependencies-graph]\n-description = generate a graph with the distribution dependencies\n+description = check if the package defines all its dependencies and generate a graph out of them\n deps =\n-    pipdeptree\n+    z3c.dependencychecker==2.11\n+    pipdeptree==2.5.1\n     graphviz  # optional dependency of pipdeptree\n-    -c lint-requirements.txt\n commands =\n-    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel --graph-output svg > dependencies.svg\'\n+    dependencychecker\n+    sh -c \'pipdeptree --exclude setuptools,pipdeptree,wheel,pipdeptree,z3c.dependencychecker,zope.interface,zope.component --graph-output svg > dependencies.svg\'\n \n [testenv:test]\n-description = run the distribution\'s tests\n+usedevelop = true\n deps =\n-    plone.batching[test]\n-    pytest\n-    gocept.pytestlayer\n+    zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    pip install -e .\n-    pytest\n+    zope-testrunner --test-path={toxinidir} -s plone.batching\n+extras =\n+    test\n'

