Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2016-02-25T15:07:03+01:00
Author: Gagaro (Gagaro) <gagaro42@gmail.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/95fcf95c1d760cca6e4967217f3960c374b0f838

fix: relateditems test for plone.app.widgets

Files changed:
M CHANGES.rst
M plone/app/z3cform/tests/test_widgets.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ec5953f..2370b52 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -24,6 +24,9 @@ Fixes:
 - Fixed test for plone.app.widgets.
   [Gagaro]
 
+- Used assertDictEqual instead of assertEqual for RelatedItemsWidgetTests.test_widget
+  [Gagaro]
+
 1.1.8 (2016-01-08)
 ------------------
 
diff --git a/plone/app/z3cform/tests/test_widgets.py b/plone/app/z3cform/tests/test_widgets.py
index ab464af..28818ef 100644
--- a/plone/app/z3cform/tests/test_widgets.py
+++ b/plone/app/z3cform/tests/test_widgets.py
@@ -948,7 +948,7 @@ def test_widget(self):
         widget.context = Mock(absolute_url=lambda: 'fake_url',
                               getPhysicalPath=lambda: ['', 'site'])
         widget.update()
-        self.assertEqual(
+        self.assertDictEqual(
             {
                 'name': None,
                 'value': u'',
@@ -964,6 +964,8 @@ def test_widget(self):
                     'rootPath': '/site',
                     'treeVocabularyUrl':  '/@@getVocabulary?name='
                                           'plone.app.vocabularies.Catalog',
+                    'sort_on': 'sortable_title',
+                    'sort_order': 'ascending'
                 },
             },
             widget._base_args()


Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2016-02-25T08:45:03-06:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/c1437a0fa05c839908158bc850e4807f70f7b5d7

Merge pull request #42 from plone/fix-relateditems-tests

fix: relateditems test for plone.app.widgets

Files changed:
M CHANGES.rst
M plone/app/z3cform/tests/test_widgets.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ec5953f..2370b52 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -24,6 +24,9 @@ Fixes:
 - Fixed test for plone.app.widgets.
   [Gagaro]
 
+- Used assertDictEqual instead of assertEqual for RelatedItemsWidgetTests.test_widget
+  [Gagaro]
+
 1.1.8 (2016-01-08)
 ------------------
 
diff --git a/plone/app/z3cform/tests/test_widgets.py b/plone/app/z3cform/tests/test_widgets.py
index ab464af..28818ef 100644
--- a/plone/app/z3cform/tests/test_widgets.py
+++ b/plone/app/z3cform/tests/test_widgets.py
@@ -948,7 +948,7 @@ def test_widget(self):
         widget.context = Mock(absolute_url=lambda: 'fake_url',
                               getPhysicalPath=lambda: ['', 'site'])
         widget.update()
-        self.assertEqual(
+        self.assertDictEqual(
             {
                 'name': None,
                 'value': u'',
@@ -964,6 +964,8 @@ def test_widget(self):
                     'rootPath': '/site',
                     'treeVocabularyUrl':  '/@@getVocabulary?name='
                                           'plone.app.vocabularies.Catalog',
+                    'sort_on': 'sortable_title',
+                    'sort_order': 'ascending'
                 },
             },
             widget._base_args()


