Repository: plone.namedfile


Branch: refs/heads/master
Date: 2015-12-07T17:29:49+01:00
Author: Godefroid Chapelle (gotcha) <gotcha@bubblenet.be>
Commit: https://github.com/plone/plone.namedfile/commit/74d7509f0b8c42138e0f3a88845e29e7b796d18c

add Makefile

Files changed:
A Makefile

diff --git a/Makefile b/Makefile
new file mode 100644
index 0000000..16792d5
--- /dev/null
+++ b/Makefile
@@ -0,0 +1,28 @@
+PHONY: plone4.3 plone5.0
+
+ifneq ($(strip $(TRAVIS)),)
+IS_TRAVIS = yes
+endif
+
+ifdef IS_TRAVIS
+
+PIP = pip
+PYTHON27 = python2.7
+
+else
+
+PIP = bin/pip
+PYTHON27 = bin/python2.7
+
+endif
+
+plone4.3:
+	$(PIP) install setuptools==0.6c11
+	$(PYTHON27) bootstrap.py --version
+	$(PYTHON27) bootstrap.py --setuptools-version=0.6c11 --buildout-version=1.7.1 -c buildout.cfg
+	bin/buildout -vc buildout.cfg
+
+plone5.0:
+	$(PYTHON27) bootstrap.py --version
+	$(PYTHON27) bootstrap.py --setuptools-version=18.3.1 --buildout-version=2.4.3 -c buildout.cfg
+	bin/buildout -vc buildout.cfg


Repository: plone.namedfile


Branch: refs/heads/master
Date: 2015-12-07T17:30:03+01:00
Author: Godefroid Chapelle (gotcha) <gotcha@bubblenet.be>
Commit: https://github.com/plone/plone.namedfile/commit/44c7c0ae7ddb130f3e5cef8f073105521799aa59

enable Travis-CI

Files changed:
A .travis.yml

diff --git a/.travis.yml b/.travis.yml
new file mode 100644
index 0000000..0b85ef5
--- /dev/null
+++ b/.travis.yml
@@ -0,0 +1,10 @@
+language: python
+matrix:
+  include:
+    - python: "2.7"
+      env: PLONE=4.3
+install: make plone$PLONE
+script: ./bin/test
+cache:
+  directories:
+  - $TRAVIS_BUILD_DIR/eggs


Repository: plone.namedfile


Branch: refs/heads/master
Date: 2015-12-07T17:41:42+01:00
Author: Godefroid Chapelle (gotcha) <gotcha@bubblenet.be>
Commit: https://github.com/plone/plone.namedfile/commit/6a2a1c5c37cd347afd7d2956626b3636c4846832

test right version

Files changed:
M .travis.yml

diff --git a/.travis.yml b/.travis.yml
index 0b85ef5..4ff7aed 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -2,7 +2,7 @@ language: python
 matrix:
   include:
     - python: "2.7"
-      env: PLONE=4.3
+      env: PLONE=5.0
 install: make plone$PLONE
 script: ./bin/test
 cache:


Repository: plone.namedfile


Branch: refs/heads/master
Date: 2015-12-07T17:45:17+01:00
Author: Godefroid Chapelle (gotcha) <gotcha@bubblenet.be>
Commit: https://github.com/plone/plone.namedfile/commit/4aa7376a574f521acc8930179de89738f58dfc2f

get rid of BBB

Files changed:
M plone/namedfile/__init__.py

diff --git a/plone/namedfile/__init__.py b/plone/namedfile/__init__.py
index 44de100..6fcd4c8 100644
--- a/plone/namedfile/__init__.py
+++ b/plone/namedfile/__init__.py
@@ -1,12 +1,2 @@
-# BBB alias for zope.app.file.file.FileChunk
-try:
-    import zope.app.file
-except ImportError:
-    import sys
-    sys.modules['zope.app.file'] = sys.modules['plone.namedfile']
-
-from zope.app.file.file import FileChunk as zafFileChunk
-
 from plone.namedfile.file import NamedFile, NamedImage
 from plone.namedfile.file import NamedBlobFile, NamedBlobImage
-


Repository: plone.namedfile


Branch: refs/heads/master
Date: 2015-12-07T17:45:47+01:00
Author: Godefroid Chapelle (gotcha) <gotcha@bubblenet.be>
Commit: https://github.com/plone/plone.namedfile/commit/d30d23e44efa02c87ee29708b6fa7be7d92d408b

use latest location of testbrowser

Files changed:
M plone/namedfile/tests/base.py

diff --git a/plone/namedfile/tests/base.py b/plone/namedfile/tests/base.py
index 135dd11..668669e 100644
--- a/plone/namedfile/tests/base.py
+++ b/plone/namedfile/tests/base.py
@@ -4,7 +4,7 @@
 from Testing import ZopeTestCase as ztc
 from zope.component import testing
 from zope.configuration import xmlconfig
-from Products.Five.testbrowser import Browser
+from Testing.testbrowser import Browser
 
 def getFile(filename):
     """ return contents of the file with the given name """


