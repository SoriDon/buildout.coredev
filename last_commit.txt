Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-08-09T17:54:25+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.schemaeditor/commit/08a27f14d5bb666d8502423a3468c7b71d7ae278

Tests: sleep before clicking button to add new content type.

Tests fail too often here, having the modal still open after clicking this button.
See https://github.com/plone/Products.CMFPlone/issues/3582

Files changed:
A news/3582.bugfix
M plone/schemaeditor/tests/robot/test_fields.robot

b'diff --git a/news/3582.bugfix b/news/3582.bugfix\nnew file mode 100644\nindex 0000000..3c745e9\n--- /dev/null\n+++ b/news/3582.bugfix\n@@ -0,0 +1,3 @@\n+Tests: sleep before clicking button to add new content type.\n+Tests fail too often here, having the modal still open after clicking this button.\n+[maurits]\ndiff --git a/plone/schemaeditor/tests/robot/test_fields.robot b/plone/schemaeditor/tests/robot/test_fields.robot\nindex 9d6f04d..ed13c2b 100644\n--- a/plone/schemaeditor/tests/robot/test_fields.robot\n+++ b/plone/schemaeditor/tests/robot/test_fields.robot\n@@ -173,6 +173,9 @@ Add content type\n     Input text for sure  form-widgets-title  ${title}\n     Set Focus to Element  form-widgets-id\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-id  ${id}\n+    # Far too often, the overlay is not closed after clicking the add-button.\n+    # Maybe some sleep helps.  Never nice to do, but better than having developers lose sleep.\n+    Sleep  0.1\n     Wait For Then Click Element  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n     Wait until page contains  ${title}\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-08-10T15:49:36+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.schemaeditor/commit/5141b1b1af48cef8cae8ebb2f05b992a4997bbff

Merge pull request #94 from plone/maurits-robot-tests-sleep

Tests: sleep before clicking button to add new content type.

Files changed:
A news/3582.bugfix
M plone/schemaeditor/tests/robot/test_fields.robot

b'diff --git a/news/3582.bugfix b/news/3582.bugfix\nnew file mode 100644\nindex 0000000..3c745e9\n--- /dev/null\n+++ b/news/3582.bugfix\n@@ -0,0 +1,3 @@\n+Tests: sleep before clicking button to add new content type.\n+Tests fail too often here, having the modal still open after clicking this button.\n+[maurits]\ndiff --git a/plone/schemaeditor/tests/robot/test_fields.robot b/plone/schemaeditor/tests/robot/test_fields.robot\nindex 9d6f04d..ed13c2b 100644\n--- a/plone/schemaeditor/tests/robot/test_fields.robot\n+++ b/plone/schemaeditor/tests/robot/test_fields.robot\n@@ -173,6 +173,9 @@ Add content type\n     Input text for sure  form-widgets-title  ${title}\n     Set Focus to Element  form-widgets-id\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-id  ${id}\n+    # Far too often, the overlay is not closed after clicking the add-button.\n+    # Maybe some sleep helps.  Never nice to do, but better than having developers lose sleep.\n+    Sleep  0.1\n     Wait For Then Click Element  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n     Wait until page contains  ${title}\n'

