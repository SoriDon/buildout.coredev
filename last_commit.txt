Repository: plone.restapi


Branch: refs/heads/master
Date: 2023-03-19T11:21:38-07:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/plone.restapi/commit/193884e09d2857f04e999cf0a89cb48599921381

update github actions (#1601)

* update github actions

* temporarily ignore bad cert

Files changed:
M .github/workflows/black.yml
M .github/workflows/flake8.yml
M .github/workflows/pyroma.yml
M .github/workflows/tests.yml
M .github/workflows/zpretty.yml
M docs/source/conf.py

b'diff --git a/.github/workflows/black.yml b/.github/workflows/black.yml\nindex b7410e0e9..e7eeed7d4 100644\n--- a/.github/workflows/black.yml\n+++ b/.github/workflows/black.yml\n@@ -10,21 +10,14 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v3\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n-\n-      # python cache\n-      - uses: actions/cache@v1\n-        with:\n-          path: ~/.cache/pip\n-          key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\n-          restore-keys: |\n-            ${{ runner.os }}-pip-\n+          cache: pip\n \n       # install black (extract version from versions.cfg)\n       - name: install black\ndiff --git a/.github/workflows/flake8.yml b/.github/workflows/flake8.yml\nindex 45dbfae7b..dc32b52ff 100644\n--- a/.github/workflows/flake8.yml\n+++ b/.github/workflows/flake8.yml\n@@ -10,21 +10,14 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v3\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n-\n-      # python cache\n-      - uses: actions/cache@v1\n-        with:\n-          path: ~/.cache/pip\n-          key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\n-          restore-keys: |\n-            ${{ runner.os }}-pip-\n+          cache: pip\n \n       # install flake8\n       - name: install flake8\ndiff --git a/.github/workflows/pyroma.yml b/.github/workflows/pyroma.yml\nindex bbad3c28e..d32c26bb5 100644\n--- a/.github/workflows/pyroma.yml\n+++ b/.github/workflows/pyroma.yml\n@@ -10,21 +10,14 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v3\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n-\n-      # python cache\n-      - uses: actions/cache@v1\n-        with:\n-          path: ~/.cache/pip\n-          key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\n-          restore-keys: |\n-            ${{ runner.os }}-pip-\n+          cache: pip\n \n       # install pyroma\n       - name: install pyroma\ndiff --git a/.github/workflows/tests.yml b/.github/workflows/tests.yml\nindex 1a36bdb40..0a305371e 100644\n--- a/.github/workflows/tests.yml\n+++ b/.github/workflows/tests.yml\n@@ -20,7 +20,7 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v3\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\ndiff --git a/.github/workflows/zpretty.yml b/.github/workflows/zpretty.yml\nindex ef53ff490..61f785c1d 100644\n--- a/.github/workflows/zpretty.yml\n+++ b/.github/workflows/zpretty.yml\n@@ -10,21 +10,14 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v3\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n-\n-      # python cache\n-      - uses: actions/cache@v1\n-        with:\n-          path: ~/.cache/pip\n-          key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\n-          restore-keys: |\n-            ${{ runner.os }}-pip-\n+          cache: pip\n \n       # install zpretty\n       - name: install zpretty\ndiff --git a/docs/source/conf.py b/docs/source/conf.py\nindex d365478e3..11eb72e9d 100644\n--- a/docs/source/conf.py\n+++ b/docs/source/conf.py\n@@ -118,6 +118,7 @@ def patch_pygments_to_highlight_jsonschema():\n linkcheck_ignore = [\n     r"https://coveralls.io/repos/github/plone/plone.restapi/badge.svg\\?branch=master",  # plone.restapi\n     r"https://github.com/plone/plone.restapi/blob/dde57b88e0f1b5f5e9f04e6a21865bc0dde55b1c/src/plone/restapi/services/content/add.py#L35-L61",  # plone.restapi\n+    r"https://vhs-ehrenamtsportal.de/",  # cert fix in progress\n ]\n \n \n'

