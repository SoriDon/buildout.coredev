Repository: plone.app.portlets


Branch: refs/heads/master
Date: 2017-06-17T11:59:36+02:00
Author: Franz Gerhard Reinisch (fgrcon) <franz@fgrcon.net>
Commit: https://github.com/plone/plone.app.portlets/commit/d4458b057b70d1913e5a494e8bc227c270f95eae

fixing https://github.com/plone/Products.CMFPlone/issues/2077

Files changed:
M CHANGES.rst
M plone/app/portlets/portlets/navigation_recurse.pt
M plone/app/portlets/portlets/news.pt
M plone/app/portlets/portlets/recent.pt
M plone/app/portlets/portlets/review.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 69a3438..f634f0e 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -40,6 +40,10 @@ New features:
 
 Bug fixes:
 
+- fixed css-classes for thumb scales ...
+  https://github.com/plone/Products.CMFPlone/issues/2077
+  [fgrcon]
+
 - Fix regression where navigation portlet ignored unlimited setting for
   *Navigation tree depth* setting
   [datakurre]
diff --git a/plone/app/portlets/portlets/navigation_recurse.pt b/plone/app/portlets/portlets/navigation_recurse.pt
index f022048..4bef550 100644
--- a/plone/app/portlets/portlets/navigation_recurse.pt
+++ b/plone/app/portlets/portlets/navigation_recurse.pt
@@ -40,7 +40,7 @@
                                              src python:view.getMimeTypeIcon(node);">
 
             <img tal:condition="python:has_thumb and thumb_scale"
-                 tal:replace="structure python:image_scale.tag(item, 'image', scale=thumb_scale, css_class='pull-right image-'+thumb_scale)">
+                 tal:replace="structure python:image_scale.tag(item, 'image', scale=thumb_scale, css_class='pull-right thumb-'+thumb_scale)">
 
             <span tal:replace="node/Title">Selected Item Title</span>
         </a>
diff --git a/plone/app/portlets/portlets/news.pt b/plone/app/portlets/portlets/news.pt
index de7c05e..33fa54c 100644
--- a/plone/app/portlets/portlets/news.pt
+++ b/plone/app/portlets/portlets/news.pt
@@ -32,7 +32,7 @@
             tal:attributes="href obj/getURL;
                             title obj/Description">
            <img tal:condition="python:obj.getIcon and thumb_scale"
-                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right image-'+thumb_scale)" />
+                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right thumb-'+thumb_scale)" />
 
            <span tal:replace="obj/pretty_title_or_id">
              Plone 5.1 announced!
diff --git a/plone/app/portlets/portlets/recent.pt b/plone/app/portlets/portlets/recent.pt
index c9492fd..6a5fe80 100644
--- a/plone/app/portlets/portlets/recent.pt
+++ b/plone/app/portlets/portlets/recent.pt
@@ -41,7 +41,7 @@
                                              src python:view.getMimeTypeIcon(obj);">
 
            <img tal:condition="python:obj.getIcon and thumb_scale and not supress_thumb and image_scale"
-                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right image-'+thumb_scale)" />
+                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right thumb-'+thumb_scale)" />
 
                   <span tal:content="obj/pretty_title_or_id">
                      Title
diff --git a/plone/app/portlets/portlets/review.pt b/plone/app/portlets/portlets/review.pt
index 8e7f1f9..e150d5f 100644
--- a/plone/app/portlets/portlets/review.pt
+++ b/plone/app/portlets/portlets/review.pt
@@ -39,7 +39,7 @@
                                  class string:$review_state_class tile $item_class">
                                  
             <img  tal:condition="python:hasImage and thumb_scale!='none' and imagescale is not None"
-                   tal:replace="structure python:image.scale('image', scale=thumb_scale).tag(css_class='pull-right image-'+thumb_scale)"/>
+                   tal:replace="structure python:image.scale('image', scale=thumb_scale).tag(css_class='pull-right thumb-'+thumb_scale)"/>
 
                   <span tal:replace="obj/title">
                       Title


Repository: plone.app.portlets


Branch: refs/heads/master
Date: 2017-06-17T23:39:42+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.portlets/commit/9bdd2b23a8427731d491bcf1306f78459393df62

Merge pull request #101 from plone/fgrcon-fix-2077

Fgrcon fix 2077

Files changed:
M CHANGES.rst
M plone/app/portlets/portlets/navigation_recurse.pt
M plone/app/portlets/portlets/news.pt
M plone/app/portlets/portlets/recent.pt
M plone/app/portlets/portlets/review.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 69a3438..f634f0e 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -40,6 +40,10 @@ New features:
 
 Bug fixes:
 
+- fixed css-classes for thumb scales ...
+  https://github.com/plone/Products.CMFPlone/issues/2077
+  [fgrcon]
+
 - Fix regression where navigation portlet ignored unlimited setting for
   *Navigation tree depth* setting
   [datakurre]
diff --git a/plone/app/portlets/portlets/navigation_recurse.pt b/plone/app/portlets/portlets/navigation_recurse.pt
index f022048..4bef550 100644
--- a/plone/app/portlets/portlets/navigation_recurse.pt
+++ b/plone/app/portlets/portlets/navigation_recurse.pt
@@ -40,7 +40,7 @@
                                              src python:view.getMimeTypeIcon(node);">
 
             <img tal:condition="python:has_thumb and thumb_scale"
-                 tal:replace="structure python:image_scale.tag(item, 'image', scale=thumb_scale, css_class='pull-right image-'+thumb_scale)">
+                 tal:replace="structure python:image_scale.tag(item, 'image', scale=thumb_scale, css_class='pull-right thumb-'+thumb_scale)">
 
             <span tal:replace="node/Title">Selected Item Title</span>
         </a>
diff --git a/plone/app/portlets/portlets/news.pt b/plone/app/portlets/portlets/news.pt
index de7c05e..33fa54c 100644
--- a/plone/app/portlets/portlets/news.pt
+++ b/plone/app/portlets/portlets/news.pt
@@ -32,7 +32,7 @@
             tal:attributes="href obj/getURL;
                             title obj/Description">
            <img tal:condition="python:obj.getIcon and thumb_scale"
-                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right image-'+thumb_scale)" />
+                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right thumb-'+thumb_scale)" />
 
            <span tal:replace="obj/pretty_title_or_id">
              Plone 5.1 announced!
diff --git a/plone/app/portlets/portlets/recent.pt b/plone/app/portlets/portlets/recent.pt
index c9492fd..6a5fe80 100644
--- a/plone/app/portlets/portlets/recent.pt
+++ b/plone/app/portlets/portlets/recent.pt
@@ -41,7 +41,7 @@
                                              src python:view.getMimeTypeIcon(obj);">
 
            <img tal:condition="python:obj.getIcon and thumb_scale and not supress_thumb and image_scale"
-                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right image-'+thumb_scale)" />
+                tal:replace="structure python:image_scale.tag(obj, 'image', scale=thumb_scale, css_class='pull-right thumb-'+thumb_scale)" />
 
                   <span tal:content="obj/pretty_title_or_id">
                      Title
diff --git a/plone/app/portlets/portlets/review.pt b/plone/app/portlets/portlets/review.pt
index 8e7f1f9..e150d5f 100644
--- a/plone/app/portlets/portlets/review.pt
+++ b/plone/app/portlets/portlets/review.pt
@@ -39,7 +39,7 @@
                                  class string:$review_state_class tile $item_class">
                                  
             <img  tal:condition="python:hasImage and thumb_scale!='none' and imagescale is not None"
-                   tal:replace="structure python:image.scale('image', scale=thumb_scale).tag(css_class='pull-right image-'+thumb_scale)"/>
+                   tal:replace="structure python:image.scale('image', scale=thumb_scale).tag(css_class='pull-right thumb-'+thumb_scale)"/>
 
                   <span tal:replace="obj/title">
                       Title


