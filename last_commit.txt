Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2019-06-30T18:42:21+02:00
Author: mauro (mamico) <mauro.amico@unibo.it>
Commit: https://github.com/plone/plone.app.multilingual/commit/c89f0d8f36c039c7d2115587944bc78a08a4db70

wrong check for default addview in addtranslation traverser

Files changed:
A news/355.bugfix
M src/plone/app/multilingual/browser/add.py

b'diff --git a/news/355.bugfix b/news/355.bugfix\nnew file mode 100644\nindex 00000000..01959431\n--- /dev/null\n+++ b/news/355.bugfix\n@@ -0,0 +1,2 @@\n+wrong check for default addview in addtranslation traverser\n+[mauro]\ndiff --git a/src/plone/app/multilingual/browser/add.py b/src/plone/app/multilingual/browser/add.py\nindex e3ff90fe..4da120d1 100644\n--- a/src/plone/app/multilingual/browser/add.py\n+++ b/src/plone/app/multilingual/browser/add.py\n@@ -99,7 +99,7 @@ def traverse(self, name, ignored):\n             )\n         if add_view is None:\n             add_view = queryMultiAdapter((self.context, self.request, ti))\n-            if add_view is not None:\n+            if add_view is None:\n                 raise TraversalError(self.context, name)\n \n         add_view.__name__ = ti.factory\n'

Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2019-07-02T13:01:31+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/0f4ac3e9fc3528d3c2590d944e536aa208766efc

Merge pull request #355 from mamico/master

wrong check for default addview in addtranslation traverser

Files changed:
A news/355.bugfix
M src/plone/app/multilingual/browser/add.py

b'diff --git a/news/355.bugfix b/news/355.bugfix\nnew file mode 100644\nindex 00000000..01959431\n--- /dev/null\n+++ b/news/355.bugfix\n@@ -0,0 +1,2 @@\n+wrong check for default addview in addtranslation traverser\n+[mauro]\ndiff --git a/src/plone/app/multilingual/browser/add.py b/src/plone/app/multilingual/browser/add.py\nindex e3ff90fe..4da120d1 100644\n--- a/src/plone/app/multilingual/browser/add.py\n+++ b/src/plone/app/multilingual/browser/add.py\n@@ -99,7 +99,7 @@ def traverse(self, name, ignored):\n             )\n         if add_view is None:\n             add_view = queryMultiAdapter((self.context, self.request, ti))\n-            if add_view is not None:\n+            if add_view is None:\n                 raise TraversalError(self.context, name)\n \n         add_view.__name__ = ti.factory\n'

