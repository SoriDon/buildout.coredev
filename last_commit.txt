Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-09-13T16:40:57+02:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/e3752bbe09b8fe5cc91afa0d4e4273b58bf9d127

Fix aliased helpers

Fixes #3641
Refs #3615

Files changed:
A news/3641.bugfix
M Products/CMFPlone/utils.py

b'diff --git a/Products/CMFPlone/utils.py b/Products/CMFPlone/utils.py\nindex 45a651fb95..e731e62532 100644\n--- a/Products/CMFPlone/utils.py\n+++ b/Products/CMFPlone/utils.py\n@@ -79,9 +79,9 @@\n \n deprecated_import(\n     "Import from plone.namedfile.utils instead (will be removed in Plone 7)",\n-    getHighPixelDensityScales="plone.namedfile.utils.getHighPixelDensityScales",\n-    getAllowedSizes="plone.namedfile.utils.getAllowedSizes",\n-    getQuality="plone.namedfile.utils.getQuality",\n+    getHighPixelDensityScales="plone.namedfile.utils:getHighPixelDensityScales",\n+    getAllowedSizes="plone.namedfile.utils:getAllowedSizes",\n+    getQuality="plone.namedfile.utils:getQuality",\n )\n \n @deprecate("Use plone.base.utils.safe_bytes instead (will be removed in Plone 7)")\ndiff --git a/news/3641.bugfix b/news/3641.bugfix\nnew file mode 100644\nindex 0000000000..b5ed5ef967\n--- /dev/null\n+++ b/news/3641.bugfix\n@@ -0,0 +1,2 @@\n+Fix aliased helpers\n+[ale-rt]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-09-15T10:49:52+02:00
Author: Alessandro Pisa (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/a45941a6139ec3439de6294f718be0e09a59f776

Merge branch 'master' into 3641.bugfix

Files changed:
A news/3640.bugfix
M Products/CMFPlone/browser/static/plone-admin-ui.css
M Products/CMFPlone/browser/templates/plone-overview.pt
M Products/CMFPlone/browser/templates/plone-upgrade.pt

b'diff --git a/Products/CMFPlone/browser/static/plone-admin-ui.css b/Products/CMFPlone/browser/static/plone-admin-ui.css\nindex 822b02697a..93745280cc 100644\n--- a/Products/CMFPlone/browser/static/plone-admin-ui.css\n+++ b/Products/CMFPlone/browser/static/plone-admin-ui.css\n@@ -5,3 +5,8 @@ body {\n   background: rgba(255,255,255,.95);\n   max-width: 800px;\n }\n+#go-to-site-link,\n+#go-to-site-link:visited,\n+#go-to-site-link:active {\n+  color: #fff;\n+}\ndiff --git a/Products/CMFPlone/browser/templates/plone-overview.pt b/Products/CMFPlone/browser/templates/plone-overview.pt\nindex 9081f153d7..2ee17266fb 100644\n--- a/Products/CMFPlone/browser/templates/plone-overview.pt\n+++ b/Products/CMFPlone/browser/templates/plone-overview.pt\n@@ -46,7 +46,7 @@\n                 <div tal:define="outdated python: view.outdated(site);"\n                      class="mb-3 ${python: \'p-3 alert-warning\' if outdated else \'\'}">\n                     <p tal:condition="outdated" i18n:translate="">This site configuration is outdated and needs to be upgraded:</p>\n-                    <a href="#" class="btn btn-primary ${python:\'btn-lg\' if not many and not outdated  else \'\'}"\n+                    <a href="#" id="go-to-site-link" class="btn btn-primary ${python:\'btn-lg\' if not many and not outdated  else \'\'}"\n                         tal:attributes="href site/absolute_url"\n                         title="Go to your instance"\n                         i18n:attributes="title;">\ndiff --git a/Products/CMFPlone/browser/templates/plone-upgrade.pt b/Products/CMFPlone/browser/templates/plone-upgrade.pt\nindex 3d899aa99c..de42615fe6 100644\n--- a/Products/CMFPlone/browser/templates/plone-upgrade.pt\n+++ b/Products/CMFPlone/browser/templates/plone-upgrade.pt\n@@ -33,7 +33,8 @@\n             <h1>\n               <span i18n:translate="">Upgrade this site</span>\n             </h1>\n-            <h2>${context/Title} <small>(${context/getId})</small></h2>\n+            <h2>${context/Title}</h2>\n+            <p><span i18n:translate="">at path</span> <a href="${context/absolute_url}">${python:\'/\'.join(context.getPhysicalPath())}</a></p>\n             <p class="lead" i18n:translate="">\n                 More information about the upgrade procedure can be found in the documentation section of plone.org in the\n                 <a href="http://docs.plone.org/manage/upgrading"\ndiff --git a/news/3640.bugfix b/news/3640.bugfix\nnew file mode 100644\nindex 0000000000..b4672c6e75\n--- /dev/null\n+++ b/news/3640.bugfix\n@@ -0,0 +1 @@\n+Minor visual fixes in admin UI [jensens]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-09-15T12:08:52+02:00
Author: Alessandro Pisa (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/b5eb938a6c5b7129119714b9a427b1b70e640c25

Merge pull request #3642 from plone/3641.bugfix

Fix aliased helpers

Files changed:
A news/3641.bugfix
M Products/CMFPlone/utils.py

b'diff --git a/Products/CMFPlone/utils.py b/Products/CMFPlone/utils.py\nindex 45a651fb95..e731e62532 100644\n--- a/Products/CMFPlone/utils.py\n+++ b/Products/CMFPlone/utils.py\n@@ -79,9 +79,9 @@\n \n deprecated_import(\n     "Import from plone.namedfile.utils instead (will be removed in Plone 7)",\n-    getHighPixelDensityScales="plone.namedfile.utils.getHighPixelDensityScales",\n-    getAllowedSizes="plone.namedfile.utils.getAllowedSizes",\n-    getQuality="plone.namedfile.utils.getQuality",\n+    getHighPixelDensityScales="plone.namedfile.utils:getHighPixelDensityScales",\n+    getAllowedSizes="plone.namedfile.utils:getAllowedSizes",\n+    getQuality="plone.namedfile.utils:getQuality",\n )\n \n @deprecate("Use plone.base.utils.safe_bytes instead (will be removed in Plone 7)")\ndiff --git a/news/3641.bugfix b/news/3641.bugfix\nnew file mode 100644\nindex 0000000000..b5ed5ef967\n--- /dev/null\n+++ b/news/3641.bugfix\n@@ -0,0 +1,2 @@\n+Fix aliased helpers\n+[ale-rt]\n'

