Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2017-09-18T12:13:28+02:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/plone.app.discussion/commit/252b85e7960bbf515fc9236f7b9b54d4026a4f51

fix test layer ordering

Files changed:
M CHANGES.rst
M plone/app/discussion/testing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c9d0d2c0..84c1f8fa 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -45,6 +45,9 @@ Bug fixes:
 
 - Remove unittest2 dependency
   [kakshay21]
+- Make sure the effects of the robotframework REMOTE_LIBRARY_ROBOT_TESTING fixture
+  are not accidentally removed when tearing down the PLONE_APP_DISCUSSION_ROBOT_TESTING fixture.
+  [davisagli]
 
 
 3.0.0 (2017-02-12)
diff --git a/plone/app/discussion/testing.py b/plone/app/discussion/testing.py
index 4280a6e0..a7c439ae 100644
--- a/plone/app/discussion/testing.py
+++ b/plone/app/discussion/testing.py
@@ -98,6 +98,11 @@ def setUpPloneSite(self, portal):
 
 class PloneAppDiscussionRobot(PloneAppDiscussion):
 
+    defaultBases = (
+        PLONE_APP_CONTENTTYPES_FIXTURE,
+        REMOTE_LIBRARY_ROBOT_TESTING,
+    )
+
     def setUpPloneSite(self, portal):
         registry = queryUtility(IRegistry)
         settings = registry.forInterface(IDiscussionSettings)
@@ -113,9 +118,6 @@ def setUpPloneSite(self, portal):
     bases=(PLONE_APP_DISCUSSION_FIXTURE,),
     name='PloneAppDiscussion:Functional')
 PLONE_APP_DISCUSSION_ROBOT_TESTING = FunctionalTesting(
-    bases=(
-        PLONE_APP_DISCUSSION_ROBOT_FIXTURE,
-        REMOTE_LIBRARY_ROBOT_TESTING
-    ),
+    bases=(PLONE_APP_DISCUSSION_ROBOT_FIXTURE,),
     name='PloneAppDiscussion:Robot'
 )


Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2017-09-18T12:14:11+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.discussion/commit/90ba992f729d6337ef9194ca3b8233300c746c0e

fix changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 84c1f8fa..bf3c4a97 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,9 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Make sure the effects of the robotframework REMOTE_LIBRARY_ROBOT_TESTING fixture
+  are not accidentally removed when tearing down the PLONE_APP_DISCUSSION_ROBOT_TESTING fixture.
+  [davisagli]
 
 
 3.0.3 (2017-08-27)
@@ -45,9 +47,6 @@ Bug fixes:
 
 - Remove unittest2 dependency
   [kakshay21]
-- Make sure the effects of the robotframework REMOTE_LIBRARY_ROBOT_TESTING fixture
-  are not accidentally removed when tearing down the PLONE_APP_DISCUSSION_ROBOT_TESTING fixture.
-  [davisagli]
 
 
 3.0.0 (2017-02-12)


Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2017-09-18T17:11:32+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.discussion/commit/66e4da0d31857d410ddcaa1a8f0dcea65dc0b26a

Merge pull request #127 from plone/plonezope4

fix test layer ordering

Files changed:
M CHANGES.rst
M plone/app/discussion/testing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c9d0d2c0..bf3c4a97 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,9 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Make sure the effects of the robotframework REMOTE_LIBRARY_ROBOT_TESTING fixture
+  are not accidentally removed when tearing down the PLONE_APP_DISCUSSION_ROBOT_TESTING fixture.
+  [davisagli]
 
 
 3.0.3 (2017-08-27)
diff --git a/plone/app/discussion/testing.py b/plone/app/discussion/testing.py
index 4280a6e0..a7c439ae 100644
--- a/plone/app/discussion/testing.py
+++ b/plone/app/discussion/testing.py
@@ -98,6 +98,11 @@ def setUpPloneSite(self, portal):
 
 class PloneAppDiscussionRobot(PloneAppDiscussion):
 
+    defaultBases = (
+        PLONE_APP_CONTENTTYPES_FIXTURE,
+        REMOTE_LIBRARY_ROBOT_TESTING,
+    )
+
     def setUpPloneSite(self, portal):
         registry = queryUtility(IRegistry)
         settings = registry.forInterface(IDiscussionSettings)
@@ -113,9 +118,6 @@ def setUpPloneSite(self, portal):
     bases=(PLONE_APP_DISCUSSION_FIXTURE,),
     name='PloneAppDiscussion:Functional')
 PLONE_APP_DISCUSSION_ROBOT_TESTING = FunctionalTesting(
-    bases=(
-        PLONE_APP_DISCUSSION_ROBOT_FIXTURE,
-        REMOTE_LIBRARY_ROBOT_TESTING
-    ),
+    bases=(PLONE_APP_DISCUSSION_ROBOT_FIXTURE,),
     name='PloneAppDiscussion:Robot'
 )


