Repository: mockup


Branch: refs/heads/master
Date: 2022-07-11T10:36:32+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/mockup/commit/354531854b1725f030d53aea43c0e6ab52195109

revert async init in `pat-modal`

Files changed:
M src/pat/modal/modal.js

b'diff --git a/src/pat/modal/modal.js b/src/pat/modal/modal.js\nindex 7c9e373ea..c8cd2c644 100644\n--- a/src/pat/modal/modal.js\n+++ b/src/pat/modal/modal.js\n@@ -6,6 +6,8 @@ import registry from "@patternslib/patternslib/src/core/registry";\n import utils from "../../core/utils";\n import _t from "../../core/i18n";\n \n+import "jquery-form";\n+\n export default Base.extend({\n     name: "plone-modal",\n     trigger: ".pat-plone-modal",\n@@ -524,9 +526,8 @@ export default Base.extend({\n     reloadWindow: function () {\n         window.parent.location.reload();\n     },\n-    init: async function () {\n+    init: function () {\n         import("./modal.scss");\n-        (await import("jquery-form")).default;\n \n         var self = this;\n         self.options.loadLinksWithinModal = $.parseJSON(\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-07-11T13:04:58+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/mockup/commit/2f9ef9676a93aa226da66781cb5ef443ff5cf38c

Merge pull request #1188 from plone/petschki-modal-fix

Revert async init in `pat-modal`

Files changed:
M src/pat/modal/modal.js

b'diff --git a/src/pat/modal/modal.js b/src/pat/modal/modal.js\nindex 7c9e373ea..c8cd2c644 100644\n--- a/src/pat/modal/modal.js\n+++ b/src/pat/modal/modal.js\n@@ -6,6 +6,8 @@ import registry from "@patternslib/patternslib/src/core/registry";\n import utils from "../../core/utils";\n import _t from "../../core/i18n";\n \n+import "jquery-form";\n+\n export default Base.extend({\n     name: "plone-modal",\n     trigger: ".pat-plone-modal",\n@@ -524,9 +526,8 @@ export default Base.extend({\n     reloadWindow: function () {\n         window.parent.location.reload();\n     },\n-    init: async function () {\n+    init: function () {\n         import("./modal.scss");\n-        (await import("jquery-form")).default;\n \n         var self = this;\n         self.options.loadLinksWithinModal = $.parseJSON(\n'

