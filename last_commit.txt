Repository: mockup


Branch: refs/heads/master
Date: 2019-07-20T20:12:19+02:00
Author: Davi Lima (davilima6) <davilima6@gmail.com>
Commit: https://github.com/plone/mockup/commit/0815cc67491b92f2c9de502b95427b2a0d0f3708

Remove duplicated entries and a couple linter suggestions and normalisations

Files changed:
M mockup/patterns/tinymce/js/links.js
M mockup/patterns/tinymce/pattern.js
M mockup/patterns/tinymce/templates/image.xml
M mockup/patterns/tinymce/templates/link.xml

b'diff --git a/mockup/patterns/tinymce/js/links.js b/mockup/patterns/tinymce/js/links.js\nindex f51e34068..17a7985ff 100644\n--- a/mockup/patterns/tinymce/js/links.js\n+++ b/mockup/patterns/tinymce/js/links.js\n@@ -467,8 +467,6 @@ define([\n         text: this.options.text,\n         insertHeading: this.options.text.insertHeading,\n         insertImageHelp: this.options.text.insertImageHelp,\n-        ExternalImage: this.options.text.ExternalImage,\n-        InternalImage: this.options.text.InternalImage,\n         Upload: this.options.text.Upload,\n         insertLinkHelp: this.options.text.insertLinkHelp,\n         internal: this.options.text.internal,\n@@ -480,6 +478,7 @@ define([\n         subjectText: this.options.text.subject,\n         targetList: this.options.targetList,\n         titleText: this.options.text.title,\n+        internalImageText: this.options.text.internalImage,\n         externalImageText: this.options.text.externalImage,\n         altText: this.options.text.alt,\n         imageAlignText: this.options.text.imageAlign,\ndiff --git a/mockup/patterns/tinymce/pattern.js b/mockup/patterns/tinymce/pattern.js\nindex 54fbbe890..3e445b520 100644\n--- a/mockup/patterns/tinymce/pattern.js\n+++ b/mockup/patterns/tinymce/pattern.js\n@@ -145,14 +145,10 @@ define([\n         scale: _t(\'Size\'),\n         alt: _t(\'Alternative Text\'),\n         insertImageHelp: _t(\'Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image).\'),\n-        ExternalImage: _t("External Image"),\n-        InternalImage: _t("Internal Image"),\n-        Upload: _t("Upload"),\n-        insertLinkHelp: _t("Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."),\n-        internal: _t("Internal"),\n-        external: _t("External"),\n-        anchor: _t("Anchor"),\n-        externalImage: _t(\'External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\')\n+        internalImage: _t(\'Internal Image\'),\n+        externalImage: _t(\'External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\'),\n+        upload: _t(\'Upload\'),\n+        insertLinkHelp: _t(\'Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor).\'),\n       },\n       // URL generation options\n       loadingBaseUrl: \'../../../node_modules/tinymce-builded/js/tinymce/\',\ndiff --git a/mockup/patterns/tinymce/templates/image.xml b/mockup/patterns/tinymce/templates/image.xml\nindex 880b2d450..1d87ba639 100644\n--- a/mockup/patterns/tinymce/templates/image.xml\n+++ b/mockup/patterns/tinymce/templates/image.xml\n@@ -10,7 +10,7 @@\n \n         <% if(_.contains(linkTypes, \'image\')){ %>\n       <fieldset class="linkType image" data-linkType="image">\n-        <legend id="tinylink-image"><%- InternalImage %></legend>\n+        <legend id="tinylink-image"><%- internalImageText %></legend>\n         <div class="form-inline">\n           <div class="form-group main">\n             <input type="text" name="image" />\n@@ -19,8 +19,8 @@\n             <label><%- scaleText %></label>\n             <select name="scale">\n               <option value="">Original</option>\n-                <% _.each(imageScales, function(scale){ %>\n-                  <option value="<%- scale.value %>" <% if(scale.value === options.defaultScale){ %>selected<% } %> >\n+                <% _.each(imageScales, function(scale) { %>\n+                  <option value="<%- scale.value %>" <% if (scale.value === options.defaultScale) { %>selected<% } %> >\n                     <%- scale.title %>\n                   </option>\n                 <% }); %>\n@@ -32,14 +32,14 @@\n \n       <% if(_.contains(linkTypes, \'uploadImage\')){ %>\n       <fieldset class="linkType uploadImage" data-linkType="uploadImage">\n-        <legend id="tinylink-uploadImage"><%- Upload %></legend>\n+        <legend id="tinylink-uploadImage"><%- upload %></legend>\n         <div class="uploadify-me"></div>\n       </fieldset>\n       <% } %>\n \n       <% if(_.contains(linkTypes, \'externalImage\')){ %>\n       <fieldset class="linkType externalImage" data-linkType="externalImage">\n-        <legend id="tinylink-externalImage"><%- ExternalImage %></legend>\n+        <legend id="tinylink-externalImage"><%- externalImageText %></legend>\n         <div>\n           <div class="form-group main">\n             <label><%- externalImageText %></label>\n@@ -66,7 +66,7 @@\n           <% _.each(Object.keys(options.imageClasses), function(align){ %>\n               <option value="<%- align %>">\n               <%- options.imageClasses[align] %>\n-              </option>       \t\n+              </option>\n           <% }); %>\n         <select>\n       </div>\ndiff --git a/mockup/patterns/tinymce/templates/link.xml b/mockup/patterns/tinymce/templates/link.xml\nindex 220b13c80..a987b47f3 100644\n--- a/mockup/patterns/tinymce/templates/link.xml\n+++ b/mockup/patterns/tinymce/templates/link.xml\n@@ -20,7 +20,7 @@\n \n       <% if(upload){ %>\n       <fieldset class="linkType upload" data-linkType="upload">\n-        <legend id="tinylink-upload"><%- Upload %></legend>\n+        <legend id="tinylink-upload"><%- upload %></legend>\n         <div class="uploadify-me"></div>\n       </fieldset>\n       <% } %>\n'

Repository: mockup


Branch: refs/heads/master
Date: 2019-07-20T20:12:19+02:00
Author: Davi Lima (davilima6) <davilima6@gmail.com>
Commit: https://github.com/plone/mockup/commit/163ddc2308fcb3dee7cfb1fb24e2480ac86ef04e

Add Towncrier entry

Files changed:
A news/918.bugfix

b'diff --git a/news/918.bugfix b/news/918.bugfix\nnew file mode 100644\nindex 000000000..fdf399a6f\n--- /dev/null\n+++ b/news/918.bugfix\n@@ -0,0 +1,2 @@\n+Fix SyntaxError caused by duplicate translation keys\n+[davilima6]\n'

Repository: mockup


Branch: refs/heads/master
Date: 2019-07-23T09:45:21+02:00
Author: Davi Lima (davilima6) <davilima6@gmail.com>
Commit: https://github.com/plone/mockup/commit/03a23c75db2e2a2af3a75180f1399e58c53388ec

Merge pull request #918 from plone/fix_SyntaxError_after_910

Fix SyntaxError: remove duplicated entries

Files changed:
A news/918.bugfix
M mockup/patterns/tinymce/js/links.js
M mockup/patterns/tinymce/pattern.js
M mockup/patterns/tinymce/templates/image.xml
M mockup/patterns/tinymce/templates/link.xml

b'diff --git a/mockup/patterns/tinymce/js/links.js b/mockup/patterns/tinymce/js/links.js\nindex f51e34068..17a7985ff 100644\n--- a/mockup/patterns/tinymce/js/links.js\n+++ b/mockup/patterns/tinymce/js/links.js\n@@ -467,8 +467,6 @@ define([\n         text: this.options.text,\n         insertHeading: this.options.text.insertHeading,\n         insertImageHelp: this.options.text.insertImageHelp,\n-        ExternalImage: this.options.text.ExternalImage,\n-        InternalImage: this.options.text.InternalImage,\n         Upload: this.options.text.Upload,\n         insertLinkHelp: this.options.text.insertLinkHelp,\n         internal: this.options.text.internal,\n@@ -480,6 +478,7 @@ define([\n         subjectText: this.options.text.subject,\n         targetList: this.options.targetList,\n         titleText: this.options.text.title,\n+        internalImageText: this.options.text.internalImage,\n         externalImageText: this.options.text.externalImage,\n         altText: this.options.text.alt,\n         imageAlignText: this.options.text.imageAlign,\ndiff --git a/mockup/patterns/tinymce/pattern.js b/mockup/patterns/tinymce/pattern.js\nindex 54fbbe890..3e445b520 100644\n--- a/mockup/patterns/tinymce/pattern.js\n+++ b/mockup/patterns/tinymce/pattern.js\n@@ -145,14 +145,10 @@ define([\n         scale: _t(\'Size\'),\n         alt: _t(\'Alternative Text\'),\n         insertImageHelp: _t(\'Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image).\'),\n-        ExternalImage: _t("External Image"),\n-        InternalImage: _t("Internal Image"),\n-        Upload: _t("Upload"),\n-        insertLinkHelp: _t("Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor)."),\n-        internal: _t("Internal"),\n-        external: _t("External"),\n-        anchor: _t("Anchor"),\n-        externalImage: _t(\'External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\')\n+        internalImage: _t(\'Internal Image\'),\n+        externalImage: _t(\'External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\'),\n+        upload: _t(\'Upload\'),\n+        insertLinkHelp: _t(\'Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor).\'),\n       },\n       // URL generation options\n       loadingBaseUrl: \'../../../node_modules/tinymce-builded/js/tinymce/\',\ndiff --git a/mockup/patterns/tinymce/templates/image.xml b/mockup/patterns/tinymce/templates/image.xml\nindex 880b2d450..1d87ba639 100644\n--- a/mockup/patterns/tinymce/templates/image.xml\n+++ b/mockup/patterns/tinymce/templates/image.xml\n@@ -10,7 +10,7 @@\n \n         <% if(_.contains(linkTypes, \'image\')){ %>\n       <fieldset class="linkType image" data-linkType="image">\n-        <legend id="tinylink-image"><%- InternalImage %></legend>\n+        <legend id="tinylink-image"><%- internalImageText %></legend>\n         <div class="form-inline">\n           <div class="form-group main">\n             <input type="text" name="image" />\n@@ -19,8 +19,8 @@\n             <label><%- scaleText %></label>\n             <select name="scale">\n               <option value="">Original</option>\n-                <% _.each(imageScales, function(scale){ %>\n-                  <option value="<%- scale.value %>" <% if(scale.value === options.defaultScale){ %>selected<% } %> >\n+                <% _.each(imageScales, function(scale) { %>\n+                  <option value="<%- scale.value %>" <% if (scale.value === options.defaultScale) { %>selected<% } %> >\n                     <%- scale.title %>\n                   </option>\n                 <% }); %>\n@@ -32,14 +32,14 @@\n \n       <% if(_.contains(linkTypes, \'uploadImage\')){ %>\n       <fieldset class="linkType uploadImage" data-linkType="uploadImage">\n-        <legend id="tinylink-uploadImage"><%- Upload %></legend>\n+        <legend id="tinylink-uploadImage"><%- upload %></legend>\n         <div class="uploadify-me"></div>\n       </fieldset>\n       <% } %>\n \n       <% if(_.contains(linkTypes, \'externalImage\')){ %>\n       <fieldset class="linkType externalImage" data-linkType="externalImage">\n-        <legend id="tinylink-externalImage"><%- ExternalImage %></legend>\n+        <legend id="tinylink-externalImage"><%- externalImageText %></legend>\n         <div>\n           <div class="form-group main">\n             <label><%- externalImageText %></label>\n@@ -66,7 +66,7 @@\n           <% _.each(Object.keys(options.imageClasses), function(align){ %>\n               <option value="<%- align %>">\n               <%- options.imageClasses[align] %>\n-              </option>       \t\n+              </option>\n           <% }); %>\n         <select>\n       </div>\ndiff --git a/mockup/patterns/tinymce/templates/link.xml b/mockup/patterns/tinymce/templates/link.xml\nindex 220b13c80..a987b47f3 100644\n--- a/mockup/patterns/tinymce/templates/link.xml\n+++ b/mockup/patterns/tinymce/templates/link.xml\n@@ -20,7 +20,7 @@\n \n       <% if(upload){ %>\n       <fieldset class="linkType upload" data-linkType="upload">\n-        <legend id="tinylink-upload"><%- Upload %></legend>\n+        <legend id="tinylink-upload"><%- upload %></legend>\n         <div class="uploadify-me"></div>\n       </fieldset>\n       <% } %>\ndiff --git a/news/918.bugfix b/news/918.bugfix\nnew file mode 100644\nindex 000000000..fdf399a6f\n--- /dev/null\n+++ b/news/918.bugfix\n@@ -0,0 +1,2 @@\n+Fix SyntaxError caused by duplicate translation keys\n+[davilima6]\n'

