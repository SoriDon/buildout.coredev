Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-10-21T10:23:15+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/4a713a151e777b6eb3378119d317fc414d14af97

Replaced "Xpath Should Match X Times" with "Page Should Contain Element".

The old one is deprecated.

Files changed:
M plone/app/contenttypes/tests/robot/test_folderlisting.robot

b'diff --git a/plone/app/contenttypes/tests/robot/test_folderlisting.robot b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\nindex 4fa9075f..156049a3 100644\n--- a/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n+++ b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n@@ -75,7 +75,7 @@ Listing should list contained content in detail\n   Page Should Contain  this is a test document\n   Page Should Contain  Test News Item\n   Page Should Contain  this is a test news item\n-  Xpath Should Match X Times  //img[@title="Test News Item"]  2\n+  Page Should Contain Element  //img[@title="Test News Item"]  2\n   Page Should Contain  Test Event\n   Page Should Contain  this is a test event\n   Page Should Contain  Test Collection\n@@ -85,29 +85,29 @@ Listing should list contained content in detail\n   Page Should Contain  Test File\n   Page Should Contain  file.pdf\n   Page Should Contain  Test Image\n-  Xpath Should Match X Times  //img[@title="Test Image"]  3\n+  Page Should Contain Element  //img[@title="Test Image"]  3\n   Page Should Contain  Test Album\n   Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Album Image 1"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n   Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Album Image 2"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n   Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Album Image 3"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n   Page Should Contain  Test Sub Album\n   Page Should Contain  Test Sub Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 1"]  1\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 1"]  1\n   Page Should Contain  Test Sub Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 2"]  1\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 2"]  1\n   Page Should Contain  Test Sub Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 3"]  1\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 3"]  1\n \n Album should list contained images and albums\n   Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Album Image 1"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n   Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Album Image 2"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n   Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Album Image 3"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n   Page Should Contain  Test Sub Album\n \n \n@@ -133,7 +133,7 @@ Listing should list all content in detail\n   Page Should Contain  this is a test document\n   Page Should Contain  Test News Item\n   Page Should Contain  this is a test news item\n-  Xpath Should Match X Times  //img[@title="Test News Item"]  2\n+  Page Should Contain Element  //img[@title="Test News Item"]  2\n   Page Should Contain  Test Event\n   Page Should Contain  this is a test event\n   Page Should Contain  Test Collection\n@@ -143,39 +143,39 @@ Listing should list all content in detail\n   Page Should Contain  Test File\n   Page Should Contain  file.pdf\n   Page Should Contain  Test Image\n-  Xpath Should Match X Times  //img[@title="Test Image"]  3\n+  Page Should Contain Element  //img[@title="Test Image"]  3\n   Page Should Contain  Test Album\n   Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Album Image 1"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n   Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Album Image 2"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n   Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Album Image 3"]  2\n+  Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n   Page Should Contain  Test Sub Album\n   Page Should Contain  Test Sub Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 1"]  2\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 1"]  2\n   Page Should Contain  Test Sub Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 2"]  2\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 2"]  2\n   Page Should Contain  Test Sub Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 3"]  2\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 3"]  2\n \n Album should list all images and albums\n   Page Should Contain  Test Image\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Image"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Image"]  1\n   Page Should Contain  Test News Item\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test News Item"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test News Item"]  1\n   Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 1"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 1"]  1\n   Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 2"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 2"]  1\n   Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 3"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 3"]  1\n   Page Should Contain  Test Sub Album Image 1\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 1"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 1"]  1\n   Page Should Contain  Test Sub Album Image 2\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 2"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 2"]  1\n   Page Should Contain  Test Sub Album Image 3\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 3"]  1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 3"]  1\n   Page Should Contain  Test Album\n   Page Should Contain  Test Sub Album\n   Page Should Contain  Test Folder\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-10-21T10:45:27+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/796e65e92a5f31e46011abec78f55b190feb030d

Replaced deprecated 'Focus' with 'Set Focus To Element'.

Files changed:
M plone/app/contenttypes/tests/robot/keywords.txt

b"diff --git a/plone/app/contenttypes/tests/robot/keywords.txt b/plone/app/contenttypes/tests/robot/keywords.txt\nindex fa4df7d8..f9323934 100644\n--- a/plone/app/contenttypes/tests/robot/keywords.txt\n+++ b/plone/app/contenttypes/tests/robot/keywords.txt\n@@ -107,15 +107,15 @@ I set the criteria ${type} in row ${number} to the option '${label}'\n   Wait until page contains element  css=${criteria_row} .querystring-criteria-${type} .select2-choice\n   Click Element  css=${criteria_row} .querystring-criteria-${type} .select2-choice\n   Sleep  1.5\n-  Focus  css=body\n+  Set Focus To Element  css=body\n   Wait until element is visible  css=#select2-drop input\n   Input Text  css=#select2-drop input  ${label}\n   Sleep  1.5\n-  Focus  css=body\n+  Set Focus To Element  css=body\n   Wait until element is visible  css=#select2-drop .select2-match\n   Click Element  css=#select2-drop .select2-match\n   Sleep  1.5\n-  Focus  css=body\n+  Set Focus To Element  css=body\n \n I set the criteria ${type} in row ${number} to the options '${label}'\n   ${criteria_row} =  Convert to String  .querystring-criteria-wrapper:nth-child(${number})\n@@ -130,5 +130,5 @@ I set the criteria ${type} in row ${number} to the text '${label}'\n   Input text  css=${criteria_row} .querystring-criteria-value input  ${label}\\t\n   [Documentation]  Shift the focus so the input sticks, and wait a bit\n   Sleep  1.5\n-  Focus  css=.querystring-sortreverse\n+  Set Focus To Element  css=.querystring-sortreverse\n   Sleep  1.5\n"

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-10-21T10:56:59+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/2f417aae7cc8ac86749baf5cfb09035eedbfe846

Split scenario 'Test folder listing view' into ten scenarios.

It was doing minor setup and then visiting ten views.
Now we give each view its own scenario.

Files changed:
M plone/app/contenttypes/tests/robot/test_folderlisting.robot

b'diff --git a/plone/app/contenttypes/tests/robot/test_folderlisting.robot b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\nindex 156049a3..9f003269 100644\n--- a/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n+++ b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n@@ -15,38 +15,64 @@ Test Teardown  Run keywords  Plone test teardown\n \n *** Test cases ***\n \n-Scenario: Test listing views\n+Scenario: Test folder listing view\n     Given I am logged in as site owner\n     I disable dropdown navigation\n \n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/listing_view\n     Then Listing should list contained content\n \n+Scenario: Test folder summary view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/summary_view\n     Then Listing should list contained content\n \n+Scenario: Test folder tabular view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/tabular_view\n     Then Listing should list contained content\n \n+Scenario: Test folder full view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/full_view\n     Then Listing should list contained content in detail\n \n+Scenario: Test folder album view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_album/album_view\n     Then Album should list contained images and albums\n \n-\n+Scenario: Test collection listing view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/listing_view\n     Then Listing should list all content\n \n+Scenario: Test collection summary view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/summary_view\n     Then Listing should list all content\n \n+Scenario: Test collection tabular view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/tabular_view\n     Then Listing should list all content\n \n+Scenario: Test collection full view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/full_view\n     Then Listing should list all content in detail\n \n+Scenario: Test collection album view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/album_view\n     Then Album should list all images and albums\n \n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-10-21T11:52:43+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/97cba6060b11e39e449e43ae4409a8dcd4ab5b30

folder listing tests: look for text only in content area.

This avoids finding stuff in the navigation portlet.

Files changed:
M plone/app/contenttypes/tests/robot/test_folderlisting.robot

b'diff --git a/plone/app/contenttypes/tests/robot/test_folderlisting.robot b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\nindex 9f003269..70081634 100644\n--- a/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n+++ b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n@@ -80,131 +80,131 @@ Scenario: Test collection album view\n *** Keywords ***\n \n Listing should list contained content\n-  Page Should Contain  Test Document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  Test Event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  Test File\n-  Page Should Contain  Test Image\n-  Page Should Contain  Test Album\n-  Page Should Not Contain  Test Album Image 1\n-  Page Should Not Contain  Test Album Image 2\n-  Page Should Not Contain  Test Album Image 3\n-  Page Should Not Contain  Test Sub Album\n-  Page Should Not Contain  Test Sub Album Image 1\n-  Page Should Not Contain  Test Sub Album Image 2\n-  Page Should Not Contain  Test Sub Album Image 3\n+  the content area should contain  Test Document\n+  the content area should contain  Test News Item\n+  the content area should contain  Test Event\n+  the content area should contain  Test Collection\n+  the content area should contain  Test Link\n+  the content area should contain  Test File\n+  the content area should contain  Test Image\n+  the content area should contain  Test Album\n+  the content area should not contain  Test Album Image 1\n+  the content area should not contain  Test Album Image 2\n+  the content area should not contain  Test Album Image 3\n+  the content area should not contain  Test Sub Album\n+  the content area should not contain  Test Sub Album Image 1\n+  the content area should not contain  Test Sub Album Image 2\n+  the content area should not contain  Test Sub Album Image 3\n \n Listing should list contained content in detail\n-  Page Should Contain  Test Document\n-  Page Should Contain  this is a test document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  this is a test news item\n+  the content area should contain  Test Document\n+  the content area should contain  this is a test document\n+  the content area should contain  Test News Item\n+  the content area should contain  this is a test news item\n   Page Should Contain Element  //img[@title="Test News Item"]  2\n-  Page Should Contain  Test Event\n-  Page Should Contain  this is a test event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  this is a test collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  http://plone.org\n-  Page Should Contain  Test File\n-  Page Should Contain  file.pdf\n-  Page Should Contain  Test Image\n+  the content area should contain  Test Event\n+  the content area should contain  this is a test event\n+  the content area should contain  Test Collection\n+  the content area should contain  this is a test collection\n+  the content area should contain  Test Link\n+  the content area should contain  http://plone.org\n+  the content area should contain  Test File\n+  the content area should contain  file.pdf\n+  the content area should contain  Test Image\n   Page Should Contain Element  //img[@title="Test Image"]  3\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Album Image 1\n+  the content area should contain  Test Album\n+  the content area should contain  Test Album Image 1\n   Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n-  Page Should Contain  Test Album Image 2\n+  the content area should contain  Test Album Image 2\n   Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n-  Page Should Contain  Test Album Image 3\n+  the content area should contain  Test Album Image 3\n   Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Sub Album Image 1\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Sub Album Image 1\n   Page Should Contain Element  //img[@title="Test Sub Album Image 1"]  1\n-  Page Should Contain  Test Sub Album Image 2\n+  the content area should contain  Test Sub Album Image 2\n   Page Should Contain Element  //img[@title="Test Sub Album Image 2"]  1\n-  Page Should Contain  Test Sub Album Image 3\n+  the content area should contain  Test Sub Album Image 3\n   Page Should Contain Element  //img[@title="Test Sub Album Image 3"]  1\n \n Album should list contained images and albums\n-  Page Should Contain  Test Album Image 1\n+  the content area should contain  Test Album Image 1\n   Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n-  Page Should Contain  Test Album Image 2\n+  the content area should contain  Test Album Image 2\n   Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n-  Page Should Contain  Test Album Image 3\n+  the content area should contain  Test Album Image 3\n   Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n-  Page Should Contain  Test Sub Album\n+  the content area should contain  Test Sub Album\n \n \n Listing should list all content\n-  Page Should Contain  Test Document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  Test Event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  Test File\n-  Page Should Contain  Test Image\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Album Image 1\n-  Page Should Contain  Test Album Image 2\n-  Page Should Contain  Test Album Image 3\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Sub Album Image 1\n-  Page Should Contain  Test Sub Album Image 2\n-  Page Should Contain  Test Sub Album Image 3\n+  the content area should contain  Test Document\n+  the content area should contain  Test News Item\n+  the content area should contain  Test Event\n+  the content area should contain  Test Collection\n+  the content area should contain  Test Link\n+  the content area should contain  Test File\n+  the content area should contain  Test Image\n+  the content area should contain  Test Album\n+  the content area should contain  Test Album Image 1\n+  the content area should contain  Test Album Image 2\n+  the content area should contain  Test Album Image 3\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Sub Album Image 1\n+  the content area should contain  Test Sub Album Image 2\n+  the content area should contain  Test Sub Album Image 3\n \n Listing should list all content in detail\n-  Page Should Contain  Test Document\n-  Page Should Contain  this is a test document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  this is a test news item\n+  the content area should contain  Test Document\n+  the content area should contain  this is a test document\n+  the content area should contain  Test News Item\n+  the content area should contain  this is a test news item\n   Page Should Contain Element  //img[@title="Test News Item"]  2\n-  Page Should Contain  Test Event\n-  Page Should Contain  this is a test event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  this is a test collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  http://plone.org\n-  Page Should Contain  Test File\n-  Page Should Contain  file.pdf\n-  Page Should Contain  Test Image\n+  the content area should contain  Test Event\n+  the content area should contain  this is a test event\n+  the content area should contain  Test Collection\n+  the content area should contain  this is a test collection\n+  the content area should contain  Test Link\n+  the content area should contain  http://plone.org\n+  the content area should contain  Test File\n+  the content area should contain  file.pdf\n+  the content area should contain  Test Image\n   Page Should Contain Element  //img[@title="Test Image"]  3\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Album Image 1\n+  the content area should contain  Test Album\n+  the content area should contain  Test Album Image 1\n   Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n-  Page Should Contain  Test Album Image 2\n+  the content area should contain  Test Album Image 2\n   Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n-  Page Should Contain  Test Album Image 3\n+  the content area should contain  Test Album Image 3\n   Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Sub Album Image 1\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Sub Album Image 1\n   Page Should Contain Element  //img[@title="Test Sub Album Image 1"]  2\n-  Page Should Contain  Test Sub Album Image 2\n+  the content area should contain  Test Sub Album Image 2\n   Page Should Contain Element  //img[@title="Test Sub Album Image 2"]  2\n-  Page Should Contain  Test Sub Album Image 3\n+  the content area should contain  Test Sub Album Image 3\n   Page Should Contain Element  //img[@title="Test Sub Album Image 3"]  2\n \n Album should list all images and albums\n-  Page Should Contain  Test Image\n+  the content area should contain  Test Image\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Image"]  1\n-  Page Should Contain  Test News Item\n+  the content area should contain  Test News Item\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test News Item"]  1\n-  Page Should Contain  Test Album Image 1\n+  the content area should contain  Test Album Image 1\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 1"]  1\n-  Page Should Contain  Test Album Image 2\n+  the content area should contain  Test Album Image 2\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 2"]  1\n-  Page Should Contain  Test Album Image 3\n+  the content area should contain  Test Album Image 3\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 3"]  1\n-  Page Should Contain  Test Sub Album Image 1\n+  the content area should contain  Test Sub Album Image 1\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 1"]  1\n-  Page Should Contain  Test Sub Album Image 2\n+  the content area should contain  Test Sub Album Image 2\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 2"]  1\n-  Page Should Contain  Test Sub Album Image 3\n+  the content area should contain  Test Sub Album Image 3\n   Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 3"]  1\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Folder\n+  the content area should contain  Test Album\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Folder\n \n \n Setup Testcontent\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-10-21T23:00:59+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/dfe62c50818c7432e692792e966d366d7674c460

changelog entry

Files changed:
A news/533.bugfix

b'diff --git a/news/533.bugfix b/news/533.bugfix\nnew file mode 100644\nindex 00000000..9e55c3ce\n--- /dev/null\n+++ b/news/533.bugfix\n@@ -0,0 +1,2 @@\n+Robot tests: split big content listing scenario, fix deprecations.\n+[maurits]\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2019-10-22T09:12:10+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contenttypes/commit/94248c9a80479fb3868b8483d0dc68e0cc133e45

Merge pull request #533 from plone/maurits/robot-tests-warnings-cleanup-master

Robot tests: split big content listing scenario, fix deprecations

Files changed:
A news/533.bugfix
M plone/app/contenttypes/tests/robot/keywords.txt
M plone/app/contenttypes/tests/robot/test_folderlisting.robot

b'diff --git a/news/533.bugfix b/news/533.bugfix\nnew file mode 100644\nindex 00000000..9e55c3ce\n--- /dev/null\n+++ b/news/533.bugfix\n@@ -0,0 +1,2 @@\n+Robot tests: split big content listing scenario, fix deprecations.\n+[maurits]\ndiff --git a/plone/app/contenttypes/tests/robot/keywords.txt b/plone/app/contenttypes/tests/robot/keywords.txt\nindex fa4df7d8..f9323934 100644\n--- a/plone/app/contenttypes/tests/robot/keywords.txt\n+++ b/plone/app/contenttypes/tests/robot/keywords.txt\n@@ -107,15 +107,15 @@ I set the criteria ${type} in row ${number} to the option \'${label}\'\n   Wait until page contains element  css=${criteria_row} .querystring-criteria-${type} .select2-choice\n   Click Element  css=${criteria_row} .querystring-criteria-${type} .select2-choice\n   Sleep  1.5\n-  Focus  css=body\n+  Set Focus To Element  css=body\n   Wait until element is visible  css=#select2-drop input\n   Input Text  css=#select2-drop input  ${label}\n   Sleep  1.5\n-  Focus  css=body\n+  Set Focus To Element  css=body\n   Wait until element is visible  css=#select2-drop .select2-match\n   Click Element  css=#select2-drop .select2-match\n   Sleep  1.5\n-  Focus  css=body\n+  Set Focus To Element  css=body\n \n I set the criteria ${type} in row ${number} to the options \'${label}\'\n   ${criteria_row} =  Convert to String  .querystring-criteria-wrapper:nth-child(${number})\n@@ -130,5 +130,5 @@ I set the criteria ${type} in row ${number} to the text \'${label}\'\n   Input text  css=${criteria_row} .querystring-criteria-value input  ${label}\\t\n   [Documentation]  Shift the focus so the input sticks, and wait a bit\n   Sleep  1.5\n-  Focus  css=.querystring-sortreverse\n+  Set Focus To Element  css=.querystring-sortreverse\n   Sleep  1.5\ndiff --git a/plone/app/contenttypes/tests/robot/test_folderlisting.robot b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\nindex 4fa9075f..70081634 100644\n--- a/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n+++ b/plone/app/contenttypes/tests/robot/test_folderlisting.robot\n@@ -15,38 +15,64 @@ Test Teardown  Run keywords  Plone test teardown\n \n *** Test cases ***\n \n-Scenario: Test listing views\n+Scenario: Test folder listing view\n     Given I am logged in as site owner\n     I disable dropdown navigation\n \n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/listing_view\n     Then Listing should list contained content\n \n+Scenario: Test folder summary view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/summary_view\n     Then Listing should list contained content\n \n+Scenario: Test folder tabular view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/tabular_view\n     Then Listing should list contained content\n \n+Scenario: Test folder full view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/full_view\n     Then Listing should list contained content in detail\n \n+Scenario: Test folder album view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_album/album_view\n     Then Album should list contained images and albums\n \n-\n+Scenario: Test collection listing view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/listing_view\n     Then Listing should list all content\n \n+Scenario: Test collection summary view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/summary_view\n     Then Listing should list all content\n \n+Scenario: Test collection tabular view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/tabular_view\n     Then Listing should list all content\n \n+Scenario: Test collection full view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/full_view\n     Then Listing should list all content in detail\n \n+Scenario: Test collection album view\n+    Given I am logged in as site owner\n+    I disable dropdown navigation\n     When I Go to  ${PLONE_URL}/${TEST_FOLDER_ID}/test_collection/album_view\n     Then Album should list all images and albums\n \n@@ -54,131 +80,131 @@ Scenario: Test listing views\n *** Keywords ***\n \n Listing should list contained content\n-  Page Should Contain  Test Document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  Test Event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  Test File\n-  Page Should Contain  Test Image\n-  Page Should Contain  Test Album\n-  Page Should Not Contain  Test Album Image 1\n-  Page Should Not Contain  Test Album Image 2\n-  Page Should Not Contain  Test Album Image 3\n-  Page Should Not Contain  Test Sub Album\n-  Page Should Not Contain  Test Sub Album Image 1\n-  Page Should Not Contain  Test Sub Album Image 2\n-  Page Should Not Contain  Test Sub Album Image 3\n+  the content area should contain  Test Document\n+  the content area should contain  Test News Item\n+  the content area should contain  Test Event\n+  the content area should contain  Test Collection\n+  the content area should contain  Test Link\n+  the content area should contain  Test File\n+  the content area should contain  Test Image\n+  the content area should contain  Test Album\n+  the content area should not contain  Test Album Image 1\n+  the content area should not contain  Test Album Image 2\n+  the content area should not contain  Test Album Image 3\n+  the content area should not contain  Test Sub Album\n+  the content area should not contain  Test Sub Album Image 1\n+  the content area should not contain  Test Sub Album Image 2\n+  the content area should not contain  Test Sub Album Image 3\n \n Listing should list contained content in detail\n-  Page Should Contain  Test Document\n-  Page Should Contain  this is a test document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  this is a test news item\n-  Xpath Should Match X Times  //img[@title="Test News Item"]  2\n-  Page Should Contain  Test Event\n-  Page Should Contain  this is a test event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  this is a test collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  http://plone.org\n-  Page Should Contain  Test File\n-  Page Should Contain  file.pdf\n-  Page Should Contain  Test Image\n-  Xpath Should Match X Times  //img[@title="Test Image"]  3\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Album Image 1"]  2\n-  Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Album Image 2"]  2\n-  Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Album Image 3"]  2\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Sub Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 1"]  1\n-  Page Should Contain  Test Sub Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 2"]  1\n-  Page Should Contain  Test Sub Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 3"]  1\n+  the content area should contain  Test Document\n+  the content area should contain  this is a test document\n+  the content area should contain  Test News Item\n+  the content area should contain  this is a test news item\n+  Page Should Contain Element  //img[@title="Test News Item"]  2\n+  the content area should contain  Test Event\n+  the content area should contain  this is a test event\n+  the content area should contain  Test Collection\n+  the content area should contain  this is a test collection\n+  the content area should contain  Test Link\n+  the content area should contain  http://plone.org\n+  the content area should contain  Test File\n+  the content area should contain  file.pdf\n+  the content area should contain  Test Image\n+  Page Should Contain Element  //img[@title="Test Image"]  3\n+  the content area should contain  Test Album\n+  the content area should contain  Test Album Image 1\n+  Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n+  the content area should contain  Test Album Image 2\n+  Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n+  the content area should contain  Test Album Image 3\n+  Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Sub Album Image 1\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 1"]  1\n+  the content area should contain  Test Sub Album Image 2\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 2"]  1\n+  the content area should contain  Test Sub Album Image 3\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 3"]  1\n \n Album should list contained images and albums\n-  Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Album Image 1"]  2\n-  Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Album Image 2"]  2\n-  Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Album Image 3"]  2\n-  Page Should Contain  Test Sub Album\n+  the content area should contain  Test Album Image 1\n+  Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n+  the content area should contain  Test Album Image 2\n+  Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n+  the content area should contain  Test Album Image 3\n+  Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n+  the content area should contain  Test Sub Album\n \n \n Listing should list all content\n-  Page Should Contain  Test Document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  Test Event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  Test File\n-  Page Should Contain  Test Image\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Album Image 1\n-  Page Should Contain  Test Album Image 2\n-  Page Should Contain  Test Album Image 3\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Sub Album Image 1\n-  Page Should Contain  Test Sub Album Image 2\n-  Page Should Contain  Test Sub Album Image 3\n+  the content area should contain  Test Document\n+  the content area should contain  Test News Item\n+  the content area should contain  Test Event\n+  the content area should contain  Test Collection\n+  the content area should contain  Test Link\n+  the content area should contain  Test File\n+  the content area should contain  Test Image\n+  the content area should contain  Test Album\n+  the content area should contain  Test Album Image 1\n+  the content area should contain  Test Album Image 2\n+  the content area should contain  Test Album Image 3\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Sub Album Image 1\n+  the content area should contain  Test Sub Album Image 2\n+  the content area should contain  Test Sub Album Image 3\n \n Listing should list all content in detail\n-  Page Should Contain  Test Document\n-  Page Should Contain  this is a test document\n-  Page Should Contain  Test News Item\n-  Page Should Contain  this is a test news item\n-  Xpath Should Match X Times  //img[@title="Test News Item"]  2\n-  Page Should Contain  Test Event\n-  Page Should Contain  this is a test event\n-  Page Should Contain  Test Collection\n-  Page Should Contain  this is a test collection\n-  Page Should Contain  Test Link\n-  Page Should Contain  http://plone.org\n-  Page Should Contain  Test File\n-  Page Should Contain  file.pdf\n-  Page Should Contain  Test Image\n-  Xpath Should Match X Times  //img[@title="Test Image"]  3\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Album Image 1"]  2\n-  Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Album Image 2"]  2\n-  Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Album Image 3"]  2\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Sub Album Image 1\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 1"]  2\n-  Page Should Contain  Test Sub Album Image 2\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 2"]  2\n-  Page Should Contain  Test Sub Album Image 3\n-  Xpath Should Match X Times  //img[@title="Test Sub Album Image 3"]  2\n+  the content area should contain  Test Document\n+  the content area should contain  this is a test document\n+  the content area should contain  Test News Item\n+  the content area should contain  this is a test news item\n+  Page Should Contain Element  //img[@title="Test News Item"]  2\n+  the content area should contain  Test Event\n+  the content area should contain  this is a test event\n+  the content area should contain  Test Collection\n+  the content area should contain  this is a test collection\n+  the content area should contain  Test Link\n+  the content area should contain  http://plone.org\n+  the content area should contain  Test File\n+  the content area should contain  file.pdf\n+  the content area should contain  Test Image\n+  Page Should Contain Element  //img[@title="Test Image"]  3\n+  the content area should contain  Test Album\n+  the content area should contain  Test Album Image 1\n+  Page Should Contain Element  //img[@title="Test Album Image 1"]  2\n+  the content area should contain  Test Album Image 2\n+  Page Should Contain Element  //img[@title="Test Album Image 2"]  2\n+  the content area should contain  Test Album Image 3\n+  Page Should Contain Element  //img[@title="Test Album Image 3"]  2\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Sub Album Image 1\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 1"]  2\n+  the content area should contain  Test Sub Album Image 2\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 2"]  2\n+  the content area should contain  Test Sub Album Image 3\n+  Page Should Contain Element  //img[@title="Test Sub Album Image 3"]  2\n \n Album should list all images and albums\n-  Page Should Contain  Test Image\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Image"]  1\n-  Page Should Contain  Test News Item\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test News Item"]  1\n-  Page Should Contain  Test Album Image 1\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 1"]  1\n-  Page Should Contain  Test Album Image 2\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 2"]  1\n-  Page Should Contain  Test Album Image 3\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 3"]  1\n-  Page Should Contain  Test Sub Album Image 1\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 1"]  1\n-  Page Should Contain  Test Sub Album Image 2\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 2"]  1\n-  Page Should Contain  Test Sub Album Image 3\n-  Xpath Should Match X Times  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 3"]  1\n-  Page Should Contain  Test Album\n-  Page Should Contain  Test Sub Album\n-  Page Should Contain  Test Folder\n+  the content area should contain  Test Image\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Image"]  1\n+  the content area should contain  Test News Item\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test News Item"]  1\n+  the content area should contain  Test Album Image 1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 1"]  1\n+  the content area should contain  Test Album Image 2\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 2"]  1\n+  the content area should contain  Test Album Image 3\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Album Image 3"]  1\n+  the content area should contain  Test Sub Album Image 1\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 1"]  1\n+  the content area should contain  Test Sub Album Image 2\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 2"]  1\n+  the content area should contain  Test Sub Album Image 3\n+  Page Should Contain Element  //div[@class="photoAlbumEntry" and not(@class="photoAlbumFolder")]//img[@title="Test Sub Album Image 3"]  1\n+  the content area should contain  Test Album\n+  the content area should contain  Test Sub Album\n+  the content area should contain  Test Folder\n \n \n Setup Testcontent\n'

