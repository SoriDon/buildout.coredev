Repository: mockup


Branch: refs/heads/master
Date: 2016-05-04T13:06:35-05:00
Author: nathan.vangheem () <nathan.vangheem@wildcardcorp.com>
Commit: https://github.com/plone/mockup/commit/9bdd55a60fba4a76aaecc1e0f0c6ad7cd0786252

set status correctly

Files changed:
M mockup/patterns/structure/js/views/app.js

diff --git a/mockup/patterns/structure/js/views/app.js b/mockup/patterns/structure/js/views/app.js
index 693f81a..404b49f 100644
--- a/mockup/patterns/structure/js/views/app.js
+++ b/mockup/patterns/structure/js/views/app.js
@@ -328,7 +328,7 @@ define([
       }
       if (data.msg) {
         // give status message somewhere...
-        self.setStatus({text: data.msg, type: data.status || 'warning'});
+        self.setStatus(data.msg, data.status || 'warning');
       }
       if (callback !== null && callback !== undefined) {
         callback(data);
@@ -453,7 +453,7 @@ define([
         }
       });
     },
-    setStatus: function(msg) {
+    setStatus: function(msg, type) {
       if (!msg) {
         // clear it
         this.status.text = '';
@@ -462,7 +462,7 @@ define([
       } else if (typeof(msg) === 'string') {
         this.status.text = msg;
         this.status.label = '';
-        this.status.type = 'warning';
+        this.status.type = type || 'warning';
       } else {
         // support setting portal status messages here
         this.status.label = msg.label || '';


