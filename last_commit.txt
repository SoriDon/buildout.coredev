Repository: plone.app.intid


Branch: refs/heads/master
Date: 2016-03-06T15:11:42+01:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.intid/commit/5a4f022a2b71d0d0460d11a8432a352818643481

Fix code analysis errors

Files changed:
M CHANGES.rst
M plone/__init__.py
M plone/app/__init__.py
M plone/app/intid/setuphandlers.py
M plone/app/intid/testing.py
M plone/app/intid/tests/__init__.py
M plone/app/intid/tests/test_setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 7b1645b..0b7e307 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Fix code anayslis errors reported by http://jenkins.plone.org/view/Pkgs/job/package-plone.app.intid
+  [gforcada]
 
 
 1.1.0 (2015-09-07)
diff --git a/plone/__init__.py b/plone/__init__.py
index f48ad10..68c04af 100644
--- a/plone/__init__.py
+++ b/plone/__init__.py
@@ -1,6 +1,2 @@
-# See http://peak.telecommunity.com/DevCenter/setuptools#namespace-packages
-try:
-    __import__('pkg_resources').declare_namespace(__name__)
-except ImportError:
-    from pkgutil import extend_path
-    __path__ = extend_path(__path__, __name__)
+# -*- coding: utf-8 -*-
+__import__('pkg_resources').declare_namespace(__name__)
diff --git a/plone/app/__init__.py b/plone/app/__init__.py
index f48ad10..68c04af 100644
--- a/plone/app/__init__.py
+++ b/plone/app/__init__.py
@@ -1,6 +1,2 @@
-# See http://peak.telecommunity.com/DevCenter/setuptools#namespace-packages
-try:
-    __import__('pkg_resources').declare_namespace(__name__)
-except ImportError:
-    from pkgutil import extend_path
-    __path__ = extend_path(__path__, __name__)
+# -*- coding: utf-8 -*-
+__import__('pkg_resources').declare_namespace(__name__)
diff --git a/plone/app/intid/setuphandlers.py b/plone/app/intid/setuphandlers.py
index 3384e41..c15017c 100644
--- a/plone/app/intid/setuphandlers.py
+++ b/plone/app/intid/setuphandlers.py
@@ -1,16 +1,17 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.interfaces import IContentish
-from Products.CMFCore.utils import getToolByName
 from five.intid.intid import IntIds
 from five.intid.site import addUtility
+from Products.CMFCore.interfaces import IContentish
+from Products.CMFCore.utils import getToolByName
 from zope.component import getUtility
 from zope.intid.interfaces import IIntIds
 
+
 try:
     import Products.LinguaPlone
     Products.LinguaPlone
     HAS_LINGUAPLONE = True
-except:
+except ImportError:
     HAS_LINGUAPLONE = False
 
 
@@ -56,7 +57,7 @@ def installIntIds(context):
         return
     portal = context.getSite()
     add_intids(portal)
-    return "Added intid utility."
+    return 'Added intid utility.'
 
 
 def registerContent(context):
@@ -64,5 +65,5 @@ def registerContent(context):
         return
     portal = context.getSite()
     registered, existing = register_all_content_for_intids(portal)
-    return ("Assigned intids to %s content objects, %s objects "
-            "already had intids." % (registered, existing))
+    return ('Assigned intids to {0} content objects, {1} objects '
+            'already had intids.'.format(registered, existing))
diff --git a/plone/app/intid/testing.py b/plone/app/intid/testing.py
index b6cebf0..a92f96a 100644
--- a/plone/app/intid/testing.py
+++ b/plone/app/intid/testing.py
@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
-from plone.app.testing import PloneSandboxLayer
-from plone.app.testing import PLONE_FIXTURE
 from plone.app.testing import IntegrationTesting
+from plone.app.testing import PLONE_FIXTURE
+from plone.app.testing import PloneSandboxLayer
 
 
 class IntidSetupFixture(PloneSandboxLayer):
@@ -14,4 +14,6 @@ def setUpZope(self, app, configurationContext):
 
 
 SETUP_TESTING = IntegrationTesting(
-    bases=(IntidSetupFixture(),), name="IntidSetupFixture:Setup")
+    bases=(IntidSetupFixture(), ),
+    name='IntidSetupFixture:Setup'
+)
diff --git a/plone/app/intid/tests/__init__.py b/plone/app/intid/tests/__init__.py
index e966b61..e69de29 100644
--- a/plone/app/intid/tests/__init__.py
+++ b/plone/app/intid/tests/__init__.py
@@ -1 +0,0 @@
-# __init__
diff --git a/plone/app/intid/tests/test_setup.py b/plone/app/intid/tests/test_setup.py
index 592ac9f..f78bd50 100644
--- a/plone/app/intid/tests/test_setup.py
+++ b/plone/app/intid/tests/test_setup.py
@@ -1,11 +1,12 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.intid.testing import SETUP_TESTING
-from plone.app.testing import TEST_USER_ID
 from plone.app.testing import setRoles
+from plone.app.testing import TEST_USER_ID
 from plone.dexterity.fti import DexterityFTI
+from Products.CMFCore.utils import getToolByName
 from zope.component import getUtility
 from zope.intid.interfaces import IIntIds
+
 import unittest2 as unittest
 
 
@@ -15,8 +16,8 @@ class TestSetup(unittest.TestCase):
     def setUp(self):
         self.portal = self.layer['portal']
         # XXX below code is only needed if theres no Folder FTI already setup.
-        typetool = getToolByName(self.portal, "portal_types")
-        if "Folder" not in typetool.objectIds():
+        typetool = getToolByName(self.portal, 'portal_types')
+        if 'Folder' not in typetool.objectIds():
             # XXX Check if this is needed for Plone 5.0! In 4.3 the FTI is
             # already setup
             fti = DexterityFTI('Folder')


Repository: plone.app.intid


Branch: refs/heads/master
Date: 2016-03-07T00:41:03+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.forcada@freitag.de>
Commit: https://github.com/plone/plone.app.intid/commit/f5d7a4c3ab002bc369ebba5605f3cb63ac335895

Merge pull request #4 from plone/gforcada-cleanup

Fix code analysis errors

Files changed:
M CHANGES.rst
M plone/__init__.py
M plone/app/__init__.py
M plone/app/intid/setuphandlers.py
M plone/app/intid/testing.py
M plone/app/intid/tests/__init__.py
M plone/app/intid/tests/test_setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 7b1645b..0b7e307 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Fix code anayslis errors reported by http://jenkins.plone.org/view/Pkgs/job/package-plone.app.intid
+  [gforcada]
 
 
 1.1.0 (2015-09-07)
diff --git a/plone/__init__.py b/plone/__init__.py
index f48ad10..68c04af 100644
--- a/plone/__init__.py
+++ b/plone/__init__.py
@@ -1,6 +1,2 @@
-# See http://peak.telecommunity.com/DevCenter/setuptools#namespace-packages
-try:
-    __import__('pkg_resources').declare_namespace(__name__)
-except ImportError:
-    from pkgutil import extend_path
-    __path__ = extend_path(__path__, __name__)
+# -*- coding: utf-8 -*-
+__import__('pkg_resources').declare_namespace(__name__)
diff --git a/plone/app/__init__.py b/plone/app/__init__.py
index f48ad10..68c04af 100644
--- a/plone/app/__init__.py
+++ b/plone/app/__init__.py
@@ -1,6 +1,2 @@
-# See http://peak.telecommunity.com/DevCenter/setuptools#namespace-packages
-try:
-    __import__('pkg_resources').declare_namespace(__name__)
-except ImportError:
-    from pkgutil import extend_path
-    __path__ = extend_path(__path__, __name__)
+# -*- coding: utf-8 -*-
+__import__('pkg_resources').declare_namespace(__name__)
diff --git a/plone/app/intid/setuphandlers.py b/plone/app/intid/setuphandlers.py
index 3384e41..c15017c 100644
--- a/plone/app/intid/setuphandlers.py
+++ b/plone/app/intid/setuphandlers.py
@@ -1,16 +1,17 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.interfaces import IContentish
-from Products.CMFCore.utils import getToolByName
 from five.intid.intid import IntIds
 from five.intid.site import addUtility
+from Products.CMFCore.interfaces import IContentish
+from Products.CMFCore.utils import getToolByName
 from zope.component import getUtility
 from zope.intid.interfaces import IIntIds
 
+
 try:
     import Products.LinguaPlone
     Products.LinguaPlone
     HAS_LINGUAPLONE = True
-except:
+except ImportError:
     HAS_LINGUAPLONE = False
 
 
@@ -56,7 +57,7 @@ def installIntIds(context):
         return
     portal = context.getSite()
     add_intids(portal)
-    return "Added intid utility."
+    return 'Added intid utility.'
 
 
 def registerContent(context):
@@ -64,5 +65,5 @@ def registerContent(context):
         return
     portal = context.getSite()
     registered, existing = register_all_content_for_intids(portal)
-    return ("Assigned intids to %s content objects, %s objects "
-            "already had intids." % (registered, existing))
+    return ('Assigned intids to {0} content objects, {1} objects '
+            'already had intids.'.format(registered, existing))
diff --git a/plone/app/intid/testing.py b/plone/app/intid/testing.py
index b6cebf0..a92f96a 100644
--- a/plone/app/intid/testing.py
+++ b/plone/app/intid/testing.py
@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
-from plone.app.testing import PloneSandboxLayer
-from plone.app.testing import PLONE_FIXTURE
 from plone.app.testing import IntegrationTesting
+from plone.app.testing import PLONE_FIXTURE
+from plone.app.testing import PloneSandboxLayer
 
 
 class IntidSetupFixture(PloneSandboxLayer):
@@ -14,4 +14,6 @@ def setUpZope(self, app, configurationContext):
 
 
 SETUP_TESTING = IntegrationTesting(
-    bases=(IntidSetupFixture(),), name="IntidSetupFixture:Setup")
+    bases=(IntidSetupFixture(), ),
+    name='IntidSetupFixture:Setup'
+)
diff --git a/plone/app/intid/tests/__init__.py b/plone/app/intid/tests/__init__.py
index e966b61..e69de29 100644
--- a/plone/app/intid/tests/__init__.py
+++ b/plone/app/intid/tests/__init__.py
@@ -1 +0,0 @@
-# __init__
diff --git a/plone/app/intid/tests/test_setup.py b/plone/app/intid/tests/test_setup.py
index 592ac9f..f78bd50 100644
--- a/plone/app/intid/tests/test_setup.py
+++ b/plone/app/intid/tests/test_setup.py
@@ -1,11 +1,12 @@
 # -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
 from plone.app.intid.testing import SETUP_TESTING
-from plone.app.testing import TEST_USER_ID
 from plone.app.testing import setRoles
+from plone.app.testing import TEST_USER_ID
 from plone.dexterity.fti import DexterityFTI
+from Products.CMFCore.utils import getToolByName
 from zope.component import getUtility
 from zope.intid.interfaces import IIntIds
+
 import unittest2 as unittest
 
 
@@ -15,8 +16,8 @@ class TestSetup(unittest.TestCase):
     def setUp(self):
         self.portal = self.layer['portal']
         # XXX below code is only needed if theres no Folder FTI already setup.
-        typetool = getToolByName(self.portal, "portal_types")
-        if "Folder" not in typetool.objectIds():
+        typetool = getToolByName(self.portal, 'portal_types')
+        if 'Folder' not in typetool.objectIds():
             # XXX Check if this is needed for Plone 5.0! In 4.3 the FTI is
             # already setup
             fti = DexterityFTI('Folder')


