Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-05-31T22:05:25+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/020f7041011b06dd625c394c1d3f1c08e9541acd

Allow to define multiple ``tinymce-content-css`` in theme ``manifest.cfg`` files, seperated by a comma. Like above. (#1598)

Files changed:
M CHANGES.rst
M Products/CMFPlone/patterns/tinymce.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c485a37..7b9b6a4 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -23,6 +23,8 @@ New:
   
 - Add link to training.plone.org
   [svx]
+- Allow to define multiple ``tinymce-content-css`` in theme ``manifest.cfg`` files, seperated by a comma.
+  [thet]
 
 - Update npm package depencies.
   [thet]
diff --git a/Products/CMFPlone/patterns/tinymce.py b/Products/CMFPlone/patterns/tinymce.py
index 64e0d90..1a05ed3 100644
--- a/Products/CMFPlone/patterns/tinymce.py
+++ b/Products/CMFPlone/patterns/tinymce.py
@@ -42,7 +42,10 @@ def get_content_css(self, style_css=''):
         theme = self.get_theme()
         tinymce_content_css = getattr(theme, 'tinymce_content_css', None)
         if tinymce_content_css is not None:
-            files.append(self.nav_root_url + theme.tinymce_content_css)
+            files.extend([
+                self.nav_root_url + _
+                for _ in theme.tinymce_content_css.split(',')
+            ])
 
         return ','.join(files)
 


