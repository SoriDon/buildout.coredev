Repository: plone.app.layout


Branch: refs/heads/master
Date: 2017-04-07T13:31:16+02:00
Author: root (fgrcon) <franz@fgrcon.net>
Commit: https://github.com/plone/plone.app.layout/commit/3370c94570f88cdd3cc43b72c2bee3f7b6daaa23

Deprecating getIcon() in @@plone_layout
  see https://github.com/plone/Products.CMFPlone/issues/1734

Files changed:
M CHANGES.rst
M plone/app/layout/globals/layout.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d38c283..3af1464 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,9 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Deprecating getIcon() in @@plone_layout
+  see https://github.com/plone/Products.CMFPlone/issues/1734
+  [fgrcon]
 
 
 2.6.5 (2017-03-29)
diff --git a/plone/app/layout/globals/layout.py b/plone/app/layout/globals/layout.py
index 6387a8c..25e13c1 100644
--- a/plone/app/layout/globals/layout.py
+++ b/plone/app/layout/globals/layout.py
@@ -17,6 +17,7 @@
 from zope.component import getUtility
 from zope.component import queryMultiAdapter
 from zope.component import queryUtility
+from zope.deprecation import deprecate
 from zope.interface import alsoProvides
 from zope.interface import implementer
 from zope.publisher.browser import BrowserView
@@ -115,7 +116,9 @@ def thumb_visible(self):
             return True
         else:
             return False
-
+    @deprecate('deprecated since Plone 4, ContentIcons are rendered \
+    as Fonts now see \
+    https://docs.plone.org/develop/addons/index.html#upgrading-to-plone-5-1.')
     def getIcon(self, item):
         """Returns an object which implements the IContentIcon interface and
         provides the informations necessary to render an icon. The item


Repository: plone.app.layout


Branch: refs/heads/master
Date: 2017-04-10T00:27:01+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.layout/commit/23fc16037ce93f26266f6b894429216b069c1290

Merge pull request #97 from plone/plip1734thumbs

deprecated getIcon() ... (relicts from plone 3)

Files changed:
M CHANGES.rst
M plone/app/layout/globals/layout.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d38c283..3af1464 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,9 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Deprecating getIcon() in @@plone_layout
+  see https://github.com/plone/Products.CMFPlone/issues/1734
+  [fgrcon]
 
 
 2.6.5 (2017-03-29)
diff --git a/plone/app/layout/globals/layout.py b/plone/app/layout/globals/layout.py
index 6387a8c..25e13c1 100644
--- a/plone/app/layout/globals/layout.py
+++ b/plone/app/layout/globals/layout.py
@@ -17,6 +17,7 @@
 from zope.component import getUtility
 from zope.component import queryMultiAdapter
 from zope.component import queryUtility
+from zope.deprecation import deprecate
 from zope.interface import alsoProvides
 from zope.interface import implementer
 from zope.publisher.browser import BrowserView
@@ -115,7 +116,9 @@ def thumb_visible(self):
             return True
         else:
             return False
-
+    @deprecate('deprecated since Plone 4, ContentIcons are rendered \
+    as Fonts now see \
+    https://docs.plone.org/develop/addons/index.html#upgrading-to-plone-5-1.')
     def getIcon(self, item):
         """Returns an object which implements the IContentIcon interface and
         provides the informations necessary to render an icon. The item


