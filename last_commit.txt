Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-09T15:03:22+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/a2c6c644c03fed719b0cc2a589f18fa51d5ff11d

image handling: add cleanup note

Files changed:
M .gitignore
M docs/classic-ui/images.md

b'diff --git a/.gitignore b/.gitignore\nindex 3bdcd44e..82daf852 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -9,3 +9,4 @@ pyvenv.cfg\n \n # symlinked from submodule\n docs/volto\n+/lib64\ndiff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nindex 21c48145..b1c2b63e 100644\n--- a/docs/classic-ui/images.md\n+++ b/docs/classic-ui/images.md\n@@ -69,7 +69,7 @@ It can be resolved as follows:\n \n This is useful for caching URLs in Varnish or the browser.\n In case the uploaded image or scale definitions have changed, they will be saved again under a different UID.\n-This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n+This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again. When a scale has changed, the old stored entry in the annotation will be deleted after 24h.\n \n \n (classic-ui-images-image-tag-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-09T17:48:16+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/5b074cca853ab6d4639ecaed0efb7f3b0b8380f9

Update docs/classic-ui/images.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/images.md

b'diff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nindex b1c2b63e..f1cc5820 100644\n--- a/docs/classic-ui/images.md\n+++ b/docs/classic-ui/images.md\n@@ -69,7 +69,8 @@ It can be resolved as follows:\n \n This is useful for caching URLs in Varnish or the browser.\n In case the uploaded image or scale definitions have changed, they will be saved again under a different UID.\n-This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again. When a scale has changed, the old stored entry in the annotation will be deleted after 24h.\n+This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n+When a scale has changed, the old stored entry in the annotation will be deleted after 24 hours.\n \n \n (classic-ui-images-image-tag-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-09T17:48:42+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/de495c30d3eec893c559c005ded26f4511c240e4

Add info about invalidation of cached images scales

Files changed:
M docs/classic-ui/images.md

b'diff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nindex b1c2b63e..835d6d26 100644\n--- a/docs/classic-ui/images.md\n+++ b/docs/classic-ui/images.md\n@@ -68,8 +68,8 @@ It can be resolved as follows:\n `http://localhost:8080/Plone/news-item1/@@images/3d182f34-8773-4f20-a79d-8774c3151b7e.jpeg`\n \n This is useful for caching URLs in Varnish or the browser.\n-In case the uploaded image or scale definitions have changed, they will be saved again under a different UID.\n-This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again. When a scale has changed, the old stored entry in the annotation will be deleted after 24h.\n+In case the uploaded image or scale definitions have changed, they will be saved again under a different UID. This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n+When a scale has changed, the old stored entry in the annotation will be deleted after 24h. If one changes an image which is used in multiple pages, the updated versions will only be shown after a restart of the Plone instance, saving the pages again or after 24h.\n \n \n (classic-ui-images-image-tag-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-09T21:32:06+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/5dd283215b6aaed6aa0251b32013c79242ee9783

Merge branch 'mrtango-images-cleanup-note' of https://github.com/plone/documentation into mrtango-images-cleanup-note

Files changed:
M docs/classic-ui/images.md

b'diff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nindex 835d6d26..a7109da8 100644\n--- a/docs/classic-ui/images.md\n+++ b/docs/classic-ui/images.md\n@@ -68,8 +68,10 @@ It can be resolved as follows:\n `http://localhost:8080/Plone/news-item1/@@images/3d182f34-8773-4f20-a79d-8774c3151b7e.jpeg`\n \n This is useful for caching URLs in Varnish or the browser.\n-In case the uploaded image or scale definitions have changed, they will be saved again under a different UID. This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n-When a scale has changed, the old stored entry in the annotation will be deleted after 24h. If one changes an image which is used in multiple pages, the updated versions will only be shown after a restart of the Plone instance, saving the pages again or after 24h.\n+In case the uploaded image or scale definitions have changed, they will be saved again under a different UID.\n+This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n+When a scale has changed, the old stored entry in the annotation will be deleted after 24 hours.\n+If one changes an image which is used in multiple pages, the updated versions will only be shown after a restart of the Plone instance, saving the pages again or after 24h.\n \n \n (classic-ui-images-image-tag-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-15T00:14:27+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/37034688ea70b9cb2bbcbd7eb49460abb100d83e

Fix width/height parameter, has to be int

Files changed:
M .gitignore
M docs/classic-ui/images.md

b'diff --git a/.gitignore b/.gitignore\nindex 82daf852..d3c51405 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -2,6 +2,7 @@\n /bin\n /include\n /lib\n+/lib64\n \n # Generated files\n pyvenv.cfg\n@@ -9,4 +10,3 @@ pyvenv.cfg\n \n # symlinked from submodule\n docs/volto\n-/lib64\ndiff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nindex a7109da8..98cf119d 100644\n--- a/docs/classic-ui/images.md\n+++ b/docs/classic-ui/images.md\n@@ -93,7 +93,7 @@ To get a specific image size:\n from plone import api\n \n scale_util = api.content.get_view("images", context, request)\n-tag = scale_util.tag("image", width="600", height="200")\n+tag = scale_util.tag("image", width=600, height=200)\n ```\n \n The complete list of arguments with their default values is shown in the following example.\n@@ -167,7 +167,7 @@ Instead of using the configured named scales, you can get an HTML tag with any s\n from plone import api\n \n scale_util = api.content.get_view("images", context, request)\n-tag = scale_util.scale("image", width="600", height="200")\n+tag = scale_util.scale("image", width=600, height=200)\n ```\n \n (classic-ui-images-using-image_scale0-in-templates-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-15T00:15:16+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/documentation/commit/db93f346c2c3dac698869bbedfb7c3ddba0434e5

Update docs/classic-ui/images.md

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M docs/classic-ui/images.md

b'diff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nindex 98cf119d..ff2b1455 100644\n--- a/docs/classic-ui/images.md\n+++ b/docs/classic-ui/images.md\n@@ -71,7 +71,7 @@ This is useful for caching URLs in Varnish or the browser.\n In case the uploaded image or scale definitions have changed, they will be saved again under a different UID.\n This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n When a scale has changed, the old stored entry in the annotation will be deleted after 24 hours.\n-If one changes an image which is used in multiple pages, the updated versions will only be shown after a restart of the Plone instance, saving the pages again or after 24h.\n+If one changes an image which is used in multiple pages, the updated versions will only be shown after a restart of the Plone instance, saving the pages again, or after 24 hours.\n \n \n (classic-ui-images-image-tag-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-15T06:53:10-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/1688bc24612f5d151992508bfd0f2bae14dc5ca1

Merge pull request #1196 from plone/mrtango-images-cleanup-note

image handling: add cleanup note

Files changed:
M .gitignore
M docs/classic-ui/images.md

b'diff --git a/.gitignore b/.gitignore\nindex 3bdcd44e..d3c51405 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -2,6 +2,7 @@\n /bin\n /include\n /lib\n+/lib64\n \n # Generated files\n pyvenv.cfg\ndiff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nindex 21c48145..ff2b1455 100644\n--- a/docs/classic-ui/images.md\n+++ b/docs/classic-ui/images.md\n@@ -70,6 +70,8 @@ It can be resolved as follows:\n This is useful for caching URLs in Varnish or the browser.\n In case the uploaded image or scale definitions have changed, they will be saved again under a different UID.\n This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n+When a scale has changed, the old stored entry in the annotation will be deleted after 24 hours.\n+If one changes an image which is used in multiple pages, the updated versions will only be shown after a restart of the Plone instance, saving the pages again, or after 24 hours.\n \n \n (classic-ui-images-image-tag-label)=\n@@ -91,7 +93,7 @@ To get a specific image size:\n from plone import api\n \n scale_util = api.content.get_view("images", context, request)\n-tag = scale_util.tag("image", width="600", height="200")\n+tag = scale_util.tag("image", width=600, height=200)\n ```\n \n The complete list of arguments with their default values is shown in the following example.\n@@ -165,7 +167,7 @@ Instead of using the configured named scales, you can get an HTML tag with any s\n from plone import api\n \n scale_util = api.content.get_view("images", context, request)\n-tag = scale_util.scale("image", width="600", height="200")\n+tag = scale_util.scale("image", width=600, height=200)\n ```\n \n (classic-ui-images-using-image_scale0-in-templates-label)=\n'

