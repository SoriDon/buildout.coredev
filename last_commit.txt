Repository: plone.restapi


Branch: refs/heads/master
Date: 2022-10-06T17:44:07+02:00
Author: Wesley Barroso Lopes (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/plone.restapi/commit/706e3d2c355354dfe520c6050fb185a14b4cb093

Fix pinns (#1516)

* Uses Plone 6 in requirements.txt

* Use specific version of Plone in requirements.txt

As we are using specific version in versions.cfg, we need to use
specific versions in requirements.txt as well, to avoid problems in the
future.

* Remove Plone 3.7 specific pinns in Plone 6

Package is no longer tested in Plone 3.7 in Plone 6

* Remove pinn from cffi in Plone 6

Zope 5.6 already has a version of this package. See:

https://github.com/zopefoundation/Zope/blob/5.6/versions.cfg#L16

* Removes specific Python 3.6 pinns in Plone 5.2

Python 3.6 is no longer tested in Plone 5.2

* Remove pinn from cffi in Plone 5.2

Zope 4.8.2 already has a version of this package. See:

https://github.com/zopefoundation/Zope/blob/4.8.2/versions.cfg#L17

* Add changelog

Files changed:
A news/1516.internal
M plone-5.2.x.cfg
M plone-6.0.x.cfg
M requirements-5.2.txt
M requirements-6.0.txt
M requirements.txt

b'diff --git a/news/1516.internal b/news/1516.internal\nnew file mode 100644\nindex 000000000..f660566ab\n--- /dev/null\n+++ b/news/1516.internal\n@@ -0,0 +1 @@\n+Use specific version of Plone in requirements.txt. Remove unnecessary pins. [wesleybl]\n\\ No newline at end of file\ndiff --git a/plone-5.2.x.cfg b/plone-5.2.x.cfg\nindex 5ecb33ef1..760701d73 100644\n--- a/plone-5.2.x.cfg\n+++ b/plone-5.2.x.cfg\n@@ -6,17 +6,9 @@ extends =\n [versions]\n black = 21.7b0\n \n-# cffi 1.14.3 fails on apple m1\n-# cffi 1.14.4 fails with "ModuleNotFoundError: No module named \'_cffi_backend\'"\n-cffi = 1.14.6\n-\n # Use the new plone.rest alpha\n plone.rest = 2.0.0a3\n \n-[versions:python36]\n-# Error: The requirement (\'importlib-metadata<4.3,>=1.1.0\') is not allowed by your [versions] constraint (0.23)\n-importlib-metadata = 2.0.0\n-\n [versions:python37]\n # Error: The requirement (\'importlib-metadata<4.3,>=1.1.0\') is not allowed by your [versions] constraint (0.23)\n importlib-metadata = 2.0.0\ndiff --git a/plone-6.0.x.cfg b/plone-6.0.x.cfg\nindex cff432a7a..57ec7f8b5 100644\n--- a/plone-6.0.x.cfg\n+++ b/plone-6.0.x.cfg\n@@ -14,16 +14,3 @@ zodb-temporary-storage = off\n \n [versions]\n black = 21.7b0\n-\n-# cffi 1.14.3 fails on apple m1\n-# cffi 1.14.4 fails with "ModuleNotFoundError: No module named \'_cffi_backend\'"\n-cffi = 1.14.6\n-\n-[versions:python37]\n-# Requirement of flake8>=2.4.0: importlib-metadata<4.3\n-# Error: The requirement (\'importlib-metadata<4.3\') is not allowed by your [versions] constraint (4.11.2)\n-importlib-metadata = 4.2.0\n-\n-# Requirement of Markdown 3.4.1+: importlib-metadata>=4.4\n-# Error: The requirement (\'importlib-metadata>=4.4\') is not allowed by your [versions] constraint (4.2.0)\n-Markdown = 3.3.4\ndiff --git a/requirements-5.2.txt b/requirements-5.2.txt\nindex 9a297411a..44d07ef43 100644\n--- a/requirements-5.2.txt\n+++ b/requirements-5.2.txt\n@@ -1,2 +1,2 @@\n--r https://dist.plone.org/release/5.2-latest/requirements.txt\n+-r https://dist.plone.org/release/5.2.9/requirements.txt\n zpretty\ndiff --git a/requirements-6.0.txt b/requirements-6.0.txt\nindex 3ae6c36a6..7ef0bd558 100644\n--- a/requirements-6.0.txt\n+++ b/requirements-6.0.txt\n@@ -1 +1 @@\n--r https://dist.plone.org/release/6.0-latest/requirements.txt\n+-r https://dist.plone.org/release/6.0.0b3/requirements.txt\ndiff --git a/requirements.txt b/requirements.txt\nindex 2c583f217..4f76f3944 100644\n--- a/requirements.txt\n+++ b/requirements.txt\n@@ -1 +1 @@\n--r requirements-5.2.txt\n\\ No newline at end of file\n+-r requirements-6.0.txt\n\\ No newline at end of file\n'

