Repository: plone.app.users


Branch: refs/heads/master
Date: 2018-06-14T13:39:18+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.users/commit/cfd57a2a8a27469f5bb9022081294a864ee10243

Fix browser test to use name of user/password field instead of label.

Files changed:
M CHANGES.rst
M plone/app/users/tests/duplicate_email.rst
M plone/app/users/tests/email_login.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 8cd8168..b23efe2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New features:
 
 Bug fixes:
 
+- Fix browser test to use name of user/password field instead of label.
+  [jensens]
+
 - Import ``activatePluginInterfaces`` from canonical location in PlonePAS.
   [maurits]
 
diff --git a/plone/app/users/tests/duplicate_email.rst b/plone/app/users/tests/duplicate_email.rst
index 91b2ded..e4b5e2e 100644
--- a/plone/app/users/tests/duplicate_email.rst
+++ b/plone/app/users/tests/duplicate_email.rst
@@ -32,8 +32,8 @@ Login as user two:
     >>> browser.open('http://nohost/plone/')
     >>> browser.getLink('Log in').click()
 
-    >>> browser.getControl('E-mail').value = 'usertwo@example.com'
-    >>> browser.getControl('Password').value = 'secret'
+    >>> browser.getControl(name='__ac_name').value = 'usertwo@example.com'
+    >>> browser.getControl(name='__ac_password').value = 'secret'
     >>> browser.getControl('Log in').click()
     >>> 'Login failed' in browser.contents
     False
diff --git a/plone/app/users/tests/email_login.rst b/plone/app/users/tests/email_login.rst
index 4b7c649..c99985a 100644
--- a/plone/app/users/tests/email_login.rst
+++ b/plone/app/users/tests/email_login.rst
@@ -22,8 +22,8 @@ Configure security
 ------------------
 
     >>> browser.open('http://nohost/plone/login_form')
-    >>> browser.getControl('Login Name').value = SITE_OWNER_NAME
-    >>> browser.getControl('Password').value = SITE_OWNER_PASSWORD
+    >>> browser.getControl(name='__ac_name').value = SITE_OWNER_NAME
+    >>> browser.getControl(name='__ac_password').value = SITE_OWNER_PASSWORD
     >>> browser.getControl('Log in').click()
 
     >>> browser.open('http://nohost/plone/@@security-controlpanel')


Repository: plone.app.users


Branch: refs/heads/master
Date: 2018-06-14T15:18:39+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.users/commit/6d624c68cfd2fb186149f2b2218eb46a0ab9bd40

Merge pull request #74 from plone/merge-plone-login

Fix browser test to use name of user/password field instead of label.

Files changed:
M CHANGES.rst
M plone/app/users/tests/duplicate_email.rst
M plone/app/users/tests/email_login.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 8cd8168..b23efe2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New features:
 
 Bug fixes:
 
+- Fix browser test to use name of user/password field instead of label.
+  [jensens]
+
 - Import ``activatePluginInterfaces`` from canonical location in PlonePAS.
   [maurits]
 
diff --git a/plone/app/users/tests/duplicate_email.rst b/plone/app/users/tests/duplicate_email.rst
index 91b2ded..e4b5e2e 100644
--- a/plone/app/users/tests/duplicate_email.rst
+++ b/plone/app/users/tests/duplicate_email.rst
@@ -32,8 +32,8 @@ Login as user two:
     >>> browser.open('http://nohost/plone/')
     >>> browser.getLink('Log in').click()
 
-    >>> browser.getControl('E-mail').value = 'usertwo@example.com'
-    >>> browser.getControl('Password').value = 'secret'
+    >>> browser.getControl(name='__ac_name').value = 'usertwo@example.com'
+    >>> browser.getControl(name='__ac_password').value = 'secret'
     >>> browser.getControl('Log in').click()
     >>> 'Login failed' in browser.contents
     False
diff --git a/plone/app/users/tests/email_login.rst b/plone/app/users/tests/email_login.rst
index 4b7c649..c99985a 100644
--- a/plone/app/users/tests/email_login.rst
+++ b/plone/app/users/tests/email_login.rst
@@ -22,8 +22,8 @@ Configure security
 ------------------
 
     >>> browser.open('http://nohost/plone/login_form')
-    >>> browser.getControl('Login Name').value = SITE_OWNER_NAME
-    >>> browser.getControl('Password').value = SITE_OWNER_PASSWORD
+    >>> browser.getControl(name='__ac_name').value = SITE_OWNER_NAME
+    >>> browser.getControl(name='__ac_password').value = SITE_OWNER_PASSWORD
     >>> browser.getControl('Log in').click()
 
     >>> browser.open('http://nohost/plone/@@security-controlpanel')


