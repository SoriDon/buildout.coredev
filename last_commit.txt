Repository: plone.app.layout


Branch: refs/heads/master
Date: 2018-12-24T12:59:33+01:00
Author: nzambello (nzambello) <nicola.zambello@redturtle.it>
Commit: https://github.com/plone/plone.app.layout/commit/75a06501e254ace7a47110cf20328abd4c5e4ff8

[a11y] Added role attribute for portalMessage + formatted its template

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/globalstatusmessage.pt

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex c5ae11a..1874adb 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- a11y: Added role attribute for portalMessage\n+  [nzambello]\n \n \n 3.0.0 (2018-10-30)\ndiff --git a/plone/app/layout/viewlets/globalstatusmessage.pt b/plone/app/layout/viewlets/globalstatusmessage.pt\nindex cfdc6b9..850a51d 100644\n--- a/plone/app/layout/viewlets/globalstatusmessage.pt\n+++ b/plone/app/layout/viewlets/globalstatusmessage.pt\n@@ -1,12 +1,18 @@\n <tal:statusmsg tal:define="messages view/messages"\n-    tal:repeat="message messages">\n+               tal:repeat="message messages">\n \n-    <div tal:define="mtype message/type | nothing;"\n-        tal:attributes="class string:portalMessage ${mtype};">\n-        <strong\n-            i18n:translate="" tal:content="python:mtype.capitalize()">Info</strong>\n+    <div tal:define="mtype message/type | nothing;\n+                     mrole python: mtype === \'error\' and \'alert\' or \'status\';"\n+         tal:attributes="class string:portalMessage ${mtype};\n+                         role mrole;">\n+\n+        <strong i18n:translate=""\n+                tal:content="python:mtype.capitalize()">\n+            Info\n+        </strong>\n         <span class="content"\n-            tal:replace="message/message | nothing" i18n:translate="">\n+              tal:replace="message/message | nothing"\n+              i18n:translate="">\n             The status message.\n         </span>\n     </div>\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-01-05T22:24:46+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/4f2d440647968574781f27a694a236df52b7a6d9

Merge pull request #173 from nzambello/nzambello_a11y_portalMessage

[a11y] Added role attribute for portalMessage + formatted its template

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/globalstatusmessage.pt

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex c5ae11a..1874adb 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- a11y: Added role attribute for portalMessage\n+  [nzambello]\n \n \n 3.0.0 (2018-10-30)\ndiff --git a/plone/app/layout/viewlets/globalstatusmessage.pt b/plone/app/layout/viewlets/globalstatusmessage.pt\nindex cfdc6b9..850a51d 100644\n--- a/plone/app/layout/viewlets/globalstatusmessage.pt\n+++ b/plone/app/layout/viewlets/globalstatusmessage.pt\n@@ -1,12 +1,18 @@\n <tal:statusmsg tal:define="messages view/messages"\n-    tal:repeat="message messages">\n+               tal:repeat="message messages">\n \n-    <div tal:define="mtype message/type | nothing;"\n-        tal:attributes="class string:portalMessage ${mtype};">\n-        <strong\n-            i18n:translate="" tal:content="python:mtype.capitalize()">Info</strong>\n+    <div tal:define="mtype message/type | nothing;\n+                     mrole python: mtype === \'error\' and \'alert\' or \'status\';"\n+         tal:attributes="class string:portalMessage ${mtype};\n+                         role mrole;">\n+\n+        <strong i18n:translate=""\n+                tal:content="python:mtype.capitalize()">\n+            Info\n+        </strong>\n         <span class="content"\n-            tal:replace="message/message | nothing" i18n:translate="">\n+              tal:replace="message/message | nothing"\n+              i18n:translate="">\n             The status message.\n         </span>\n     </div>\n'

