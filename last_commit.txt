Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-05-19T12:08:24+02:00
Author: petschki (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/b438545ed37aeed3c1939d34bd56f118257ec475

fix rendering resources when the path is missing/wrong

Files changed:
M Products/CMFPlone/resources/utils.py

b'diff --git a/Products/CMFPlone/resources/utils.py b/Products/CMFPlone/resources/utils.py\nindex 8a856ae004..3409e53549 100644\n--- a/Products/CMFPlone/resources/utils.py\n+++ b/Products/CMFPlone/resources/utils.py\n@@ -52,7 +52,7 @@ def get_resource(context, path):\n         return\n     try:\n         resource = context.unrestrictedTraverse(path)\n-    except (NotFound, AttributeError):\n+    except (NotFound, AttributeError, KeyError):\n         logger.warning(\n             f"Could not find resource {path}. You may have to create it first."\n         )  # noqa\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-05-19T12:19:40+02:00
Author: petschki (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/3c4182cc2d92f36c86f1f2f0fa1530986fe91816

changelog

Files changed:
A news/3533.bugfix

b'diff --git a/news/3533.bugfix b/news/3533.bugfix\nnew file mode 100644\nindex 0000000000..635ea51c56\n--- /dev/null\n+++ b/news/3533.bugfix\n@@ -0,0 +1,2 @@\n+Fix rendering viewlet.resourceregistries.js when there are missing resources.\n+[petschki]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2022-05-20T11:48:19+02:00
Author: Alessandro Pisa (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/28f5294b5216905c723ef6a83e8838d73f711e2c

Merge pull request #3534 from plone/issue-3533

Fix rendering viewlet.resourceregistries.js when missing or wrong path is given

Files changed:
A news/3533.bugfix
M Products/CMFPlone/resources/utils.py

b'diff --git a/Products/CMFPlone/resources/utils.py b/Products/CMFPlone/resources/utils.py\nindex 8a856ae004..3409e53549 100644\n--- a/Products/CMFPlone/resources/utils.py\n+++ b/Products/CMFPlone/resources/utils.py\n@@ -52,7 +52,7 @@ def get_resource(context, path):\n         return\n     try:\n         resource = context.unrestrictedTraverse(path)\n-    except (NotFound, AttributeError):\n+    except (NotFound, AttributeError, KeyError):\n         logger.warning(\n             f"Could not find resource {path}. You may have to create it first."\n         )  # noqa\ndiff --git a/news/3533.bugfix b/news/3533.bugfix\nnew file mode 100644\nindex 0000000000..635ea51c56\n--- /dev/null\n+++ b/news/3533.bugfix\n@@ -0,0 +1,2 @@\n+Fix rendering viewlet.resourceregistries.js when there are missing resources.\n+[petschki]\n'

