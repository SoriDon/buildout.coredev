Repository: Products.CMFPlacefulWorkflow


Branch: refs/heads/master
Date: 2016-07-05T23:18:53+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/Products.CMFPlacefulWorkflow/commit/6340ce228238b10e5f5b656a6d44f4e1087f6f7e

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
M Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 28bfd3d..ffcfe46 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 1.7.0 (2016-05-26)
diff --git a/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py b/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
index e6f8b63..f875a44 100644
--- a/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
+++ b/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
@@ -32,16 +32,15 @@
 from Products.CMFPlacefulWorkflow.permissions import ManageWorkflowPolicies
 from Products.PageTemplates.PageTemplateFile import PageTemplateFile
 from os.path import join as path_join
-from zope.interface import implements
+from zope.interface import implementer
 
 DEFAULT_CHAIN = '(Default)'
 _MARKER = '_MARKER'
 
 
+@implementer(IWorkflowPolicyDefinition)
 class DefaultWorkflowPolicyDefinition(SimpleItemWithProperties):
 
-    implements(IWorkflowPolicyDefinition)
-
     meta_type = 'WorkflowPolicy'
     id = 'default_workflow_policy'
     _isAWorkflowPolicy = 1
diff --git a/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py b/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py
index d73064f..d126d55 100644
--- a/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py
+++ b/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py
@@ -35,7 +35,7 @@
 from Products.CMFPlacefulWorkflow.permissions import ManageWorkflowPolicies
 from Products.PageTemplates.PageTemplateFile import PageTemplateFile
 from os.path import join as path_join
-from zope.interface import implements
+from zope.interface import implementer
 from Products.CMFPlacefulWorkflow.interfaces import IPlacefulWorkflowTool
 
 WorkflowPolicyConfig_id = ".wf_policy_config"
@@ -62,6 +62,7 @@ def addPlacefulWorkflowTool(self, REQUEST={}):
         return REQUEST.RESPONSE.redirect(self.absolute_url() + '/manage_main')
 
 
+@implementer(IPlacefulWorkflowTool)
 class PlacefulWorkflowTool(ImmutableId, Folder, IFAwareObjectManager):
     """
     PlacefulWorkflow Tool
@@ -70,8 +71,6 @@ class PlacefulWorkflowTool(ImmutableId, Folder, IFAwareObjectManager):
     id = 'portal_placeful_workflow'
     meta_type = 'Placeful Workflow Tool'
 
-    implements(IPlacefulWorkflowTool)
-
     _actions = []
 
     security = ClassSecurityInfo()


Repository: Products.CMFPlacefulWorkflow


Branch: refs/heads/master
Date: 2016-07-10T19:02:16+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlacefulWorkflow/commit/72f2d818fb5d31c8d904bf1bb5208c96ab35e94c

Merge pull request #10 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
M Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 28bfd3d..ffcfe46 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 1.7.0 (2016-05-26)
diff --git a/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py b/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
index e6f8b63..f875a44 100644
--- a/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
+++ b/Products/CMFPlacefulWorkflow/DefaultWorkflowPolicy.py
@@ -32,16 +32,15 @@
 from Products.CMFPlacefulWorkflow.permissions import ManageWorkflowPolicies
 from Products.PageTemplates.PageTemplateFile import PageTemplateFile
 from os.path import join as path_join
-from zope.interface import implements
+from zope.interface import implementer
 
 DEFAULT_CHAIN = '(Default)'
 _MARKER = '_MARKER'
 
 
+@implementer(IWorkflowPolicyDefinition)
 class DefaultWorkflowPolicyDefinition(SimpleItemWithProperties):
 
-    implements(IWorkflowPolicyDefinition)
-
     meta_type = 'WorkflowPolicy'
     id = 'default_workflow_policy'
     _isAWorkflowPolicy = 1
diff --git a/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py b/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py
index d73064f..d126d55 100644
--- a/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py
+++ b/Products/CMFPlacefulWorkflow/PlacefulWorkflowTool.py
@@ -35,7 +35,7 @@
 from Products.CMFPlacefulWorkflow.permissions import ManageWorkflowPolicies
 from Products.PageTemplates.PageTemplateFile import PageTemplateFile
 from os.path import join as path_join
-from zope.interface import implements
+from zope.interface import implementer
 from Products.CMFPlacefulWorkflow.interfaces import IPlacefulWorkflowTool
 
 WorkflowPolicyConfig_id = ".wf_policy_config"
@@ -62,6 +62,7 @@ def addPlacefulWorkflowTool(self, REQUEST={}):
         return REQUEST.RESPONSE.redirect(self.absolute_url() + '/manage_main')
 
 
+@implementer(IPlacefulWorkflowTool)
 class PlacefulWorkflowTool(ImmutableId, Folder, IFAwareObjectManager):
     """
     PlacefulWorkflow Tool
@@ -70,8 +71,6 @@ class PlacefulWorkflowTool(ImmutableId, Folder, IFAwareObjectManager):
     id = 'portal_placeful_workflow'
     meta_type = 'Placeful Workflow Tool'
 
-    implements(IPlacefulWorkflowTool)
-
     _actions = []
 
     security = ClassSecurityInfo()


