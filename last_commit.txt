Repository: mockup


Branch: refs/heads/master
Date: 2016-02-12T08:44:18-06:00
Author: nathan.vangheem () <nathan.vangheem@wildcardcorp.com>
Commit: https://github.com/plone/mockup/commit/8b5f572b797735e408b54719227cc0639f692ee9

fix query string preview using date queries

Files changed:
M CHANGES.rst
M mockup/patterns/querystring/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index d7998a7..41e2462 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,6 +11,9 @@ New:
 
 Fixes:
 
+- fix query string preview using date queries
+  [vangheem]
+
 - fix saving values for query string
   [vangheem]
 
diff --git a/mockup/patterns/querystring/pattern.js b/mockup/patterns/querystring/pattern.js
index 833f913..35a9246 100644
--- a/mockup/patterns/querystring/pattern.js
+++ b/mockup/patterns/querystring/pattern.js
@@ -541,7 +541,7 @@ define([
       }
       else if ($.isArray(self.$value)) { // handles only datepickers from the 'between' operator right now
         $.each(self.$value, function(i, v) {
-          vstr.push(vstrlistbase + $(this).parent().find('.picker__input').val());
+          vstr.push(vstrlistbase + $(this).val());
         });
       }
       else if ($.isArray(self.$value.val())) { // handles multible values


Repository: mockup


Branch: refs/heads/master
Date: 2016-02-12T14:02:03-06:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/8cbabeae110cd56770f6797ee715957ff7946f25

Merge pull request #630 from plone/fix-qs-date-preview

fix query string preview using date queries

Files changed:
M CHANGES.rst
M mockup/patterns/querystring/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index d7998a7..41e2462 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,6 +11,9 @@ New:
 
 Fixes:
 
+- fix query string preview using date queries
+  [vangheem]
+
 - fix saving values for query string
   [vangheem]
 
diff --git a/mockup/patterns/querystring/pattern.js b/mockup/patterns/querystring/pattern.js
index 833f913..35a9246 100644
--- a/mockup/patterns/querystring/pattern.js
+++ b/mockup/patterns/querystring/pattern.js
@@ -541,7 +541,7 @@ define([
       }
       else if ($.isArray(self.$value)) { // handles only datepickers from the 'between' operator right now
         $.each(self.$value, function(i, v) {
-          vstr.push(vstrlistbase + $(this).parent().find('.picker__input').val());
+          vstr.push(vstrlistbase + $(this).val());
         });
       }
       else if ($.isArray(self.$value.val())) { // handles multible values


