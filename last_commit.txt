Repository: mockup


Branch: refs/heads/master
Date: 2019-02-09T16:44:22+01:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/mockup/commit/a97ccbe2fca77dc878bf7d26dac5e1d432e6b40e

Removed condition for mobile devices, solved via css and not needed anymore.

Files changed:
A news/885.bugfix
M mockup/patterns/navigationmarker/pattern.js

b'diff --git a/mockup/patterns/navigationmarker/pattern.js b/mockup/patterns/navigationmarker/pattern.js\nindex 794e54619..c0669036c 100644\n--- a/mockup/patterns/navigationmarker/pattern.js\n+++ b/mockup/patterns/navigationmarker/pattern.js\n@@ -21,16 +21,15 @@ define([\n \n         init: function() {\n             var href = document.querySelector(\'head link[rel="canonical"]\').href || window.location.href;\n+\n             $(\'a\', this.$el).each(function () {\n                 if (href.indexOf(this.href) !== -1) {\n                     var parent = $(this).parent();\n \n-                    if ($(\'button.plone-navbar-toggle\').is(\':visible\')) {  // only check checkboxes if it\'s a small device\n-                        // check the input-openers within the path\n-                        var check = parent.find(\'> input\');\n-                        if (check.length) {\n-                            check[0].checked = true;\n-                        }\n+                    // check the input-openers within the path\n+                    var check = parent.find(\'> input\');\n+                    if (check.length) {\n+                        check[0].checked = true;\n                     }\n \n                     // set "inPath" to all nav items which are within the current path\n@@ -42,8 +41,8 @@ define([\n                     }\n                 }\n             });\n-        }\n \n+        }\n     });\n \n     return Navigation;\ndiff --git a/news/885.bugfix b/news/885.bugfix\nnew file mode 100644\nindex 000000000..5a05a62cb\n--- /dev/null\n+++ b/news/885.bugfix\n@@ -0,0 +1,2 @@\n+Removed condition for mobile devices, solved via css and not needed anymore.\n+[agitator]\n\\ No newline at end of file\n'

Repository: mockup


Branch: refs/heads/master
Date: 2019-02-19T09:33:37+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/mockup/commit/65573d48120bbf06ec067612b00f34e788b09a4c

Merge pull request #888 from plone/navigationmarker-improvments

Removed condition for mobile devices, solved via css and not needed aâ€¦

Files changed:
A news/885.bugfix
M mockup/patterns/navigationmarker/pattern.js

b'diff --git a/mockup/patterns/navigationmarker/pattern.js b/mockup/patterns/navigationmarker/pattern.js\nindex 794e54619..c0669036c 100644\n--- a/mockup/patterns/navigationmarker/pattern.js\n+++ b/mockup/patterns/navigationmarker/pattern.js\n@@ -21,16 +21,15 @@ define([\n \n         init: function() {\n             var href = document.querySelector(\'head link[rel="canonical"]\').href || window.location.href;\n+\n             $(\'a\', this.$el).each(function () {\n                 if (href.indexOf(this.href) !== -1) {\n                     var parent = $(this).parent();\n \n-                    if ($(\'button.plone-navbar-toggle\').is(\':visible\')) {  // only check checkboxes if it\'s a small device\n-                        // check the input-openers within the path\n-                        var check = parent.find(\'> input\');\n-                        if (check.length) {\n-                            check[0].checked = true;\n-                        }\n+                    // check the input-openers within the path\n+                    var check = parent.find(\'> input\');\n+                    if (check.length) {\n+                        check[0].checked = true;\n                     }\n \n                     // set "inPath" to all nav items which are within the current path\n@@ -42,8 +41,8 @@ define([\n                     }\n                 }\n             });\n-        }\n \n+        }\n     });\n \n     return Navigation;\ndiff --git a/news/885.bugfix b/news/885.bugfix\nnew file mode 100644\nindex 000000000..5a05a62cb\n--- /dev/null\n+++ b/news/885.bugfix\n@@ -0,0 +1,2 @@\n+Removed condition for mobile devices, solved via css and not needed anymore.\n+[agitator]\n\\ No newline at end of file\n'

