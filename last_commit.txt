Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-23T16:31:55+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.rest/commit/29b918c4d8fa6287c037264dd60b5aade21bf13c

Use kitconcept buildout.

Files changed:
M Makefile
M plone-4.3.x.cfg
M plone-5.1.x.cfg
M requirements.txt
M travis.cfg
M versions.cfg

b'diff --git a/Makefile b/Makefile\nindex d178a09..d09ba80 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -1,9 +1,34 @@\n-# convenience makefile to boostrap & run buildout\n+# keep in sync with: https://github.com/kitconcept/buildout/edit/master/Makefile\n+# update by running \'make update\'\n+SHELL := /bin/bash\n+CURRENT_DIR:=$(shell dirname $(realpath $(lastword $(MAKEFILE_LIST))))\n \n version = 2.7\n \n+# We like colors\n+# From: https://coderwall.com/p/izxssa/colored-makefile-for-golang-projects\n+RED=`tput setaf 1`\n+GREEN=`tput setaf 2`\n+RESET=`tput sgr0`\n+YELLOW=`tput setaf 3`\n+\n all: .installed.cfg\n-\tbin/test\n+\n+# Add the following \'help\' target to your Makefile\n+# And add help text after each target name starting with \'\\#\\#\'\n+.PHONY: help\n+help: ## This help message\n+\t@grep -E \'^[a-zA-Z_-]+:.*?## .*$$\' $(MAKEFILE_LIST) | sort | awk \'BEGIN {FS = ":.*?## "}; {printf "\\033[36m%-30s\\033[0m %s\\n", $$1, $$2}\'\n+\n+.PHONY: Update Makefile and Buildout\n+update: ## Update Make and Buildout\n+\twget -O Makefile https://raw.githubusercontent.com/kitconcept/buildout/master/Makefile\n+\twget -O requirements.txt https://raw.githubusercontent.com/kitconcept/buildout/master/requirements.txt\n+\twget -O plone-4.3.x.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/plone-4.3.x.cfg\n+\twget -O plone-5.1.x.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/plone-5.1.x.cfg\n+\twget -O plone-5.2.x.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/plone-5.2.x.cfg\n+\twget -O travis.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/travis.cfg\n+\twget -O versions.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/versions.cfg\n \n .installed.cfg: bin/buildout *.cfg\n \tbin/buildout\n@@ -13,10 +38,67 @@ bin/buildout: bin/pip\n \tbin/pip install -r requirements.txt\n \t@touch -c $@\n \n+.PHONY: Build Plone 4.3\n+build-plone-4.3: .installed.cfg ## Build Plone 4.3\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-4.3.x.cfg\n+\n+.PHONY: Build Plone 5.0\n+build-plone-5.0: .installed.cfg ## Build Plone 5.0\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.0.x.cfg\n+\n+.PHONY: Build Plone 5.1\n+build-plone-5.1: .installed.cfg  ## Build Plone 5.1\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.1.x.cfg\n+\n+.PHONY: Build Plone 5.2\n+build-plone-5.2: .installed.cfg  ## Build Plone 5.2\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.2.x.cfg\n+\n+ ## Build Plone 5.2 with Python 3\n+build-py3:  ## Build Plone 5.2 with Python 3\n+\tvirtualenv --python=python3 .\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/pip install black\n+\tbin/buildout -c plone-5.2.x.cfg\n+\n bin/python bin/pip:\n \tvirtualenv --clear --python=python$(version) .\n \n-clean:\n+.PHONY: Test\n+test:  ## Test\n+\tbin/test\n+\n+.PHONY: Test Performance\n+test-performance:\n+\tjmeter -n -t performance.jmx -l jmeter.jtl\n+\n+.PHONY: Code Analysis\n+code-analysis:  ## Code Analysis\n+\tbin/code-analysis\n+\n+.PHONY: Build Docs\n+docs:  ## Build Docs\n+\tbin/sphinxbuilder\n+\n+.PHONY: Test Release\n+test-release:  ## Run Pyroma and Check Manifest\n+\tbin/pyroma -n 10 -d .\n+\n+.PHONY: Release\n+release:  ## Release\n+\tbin/fullrelease\n+\n+.PHONY: Clean\n+clean:  ## Clean\n \tgit clean -Xdf\n \n .PHONY: all clean\ndiff --git a/plone-4.3.x.cfg b/plone-4.3.x.cfg\nindex 8520d1f..ae54e84 100644\n--- a/plone-4.3.x.cfg\n+++ b/plone-4.3.x.cfg\n@@ -3,3 +3,10 @@ extends =\n     base.cfg\n     http://dist.plone.org/release/4.3.18/versions.cfg\n     versions.cfg\n+\n+[versions]\n+pytz = 2017.3\n+zope.interface = 4.1.0\n+# fixes zlib failure: https://stackoverflow.com/questions/34631806/fail-during-installation-of-pillow-python-module-in-linux\n+Pillow = 5.4.1\n+future = 0.17.1\ndiff --git a/plone-5.1.x.cfg b/plone-5.1.x.cfg\nindex e716cb7..2fde641 100644\n--- a/plone-5.1.x.cfg\n+++ b/plone-5.1.x.cfg\n@@ -1,5 +1,5 @@\n [buildout]\n extends =\n     base.cfg\n-    http://dist.plone.org/release/5.1.4/versions.cfg\n+    http://dist.plone.org/release/5.1.5/versions.cfg\n     versions.cfg\ndiff --git a/requirements.txt b/requirements.txt\nindex afc1b14..b3bbf78 100644\n--- a/requirements.txt\n+++ b/requirements.txt\n@@ -1,3 +1,3 @@\n-# https://github.com/plone/buildout.coredev/blob/5.2/requirements.txt\n-setuptools==40.4.3\n-zc.buildout==2.12.2\n+# Keep this file in sync with: https://github.com/kitconcept/buildout/edit/master/requirements.txt\n+zc.buildout==2.13.2\n+setuptools==41.0.1\ndiff --git a/travis.cfg b/travis.cfg\nindex 2b4b0b1..af1a4f2 100644\n--- a/travis.cfg\n+++ b/travis.cfg\n@@ -1,18 +1,7 @@\n [buildout]\n extends = plone-x.x.x.cfg\n-parts =\n-    test\n-    coverage\n-    test-coverage\n-    code-analysis\n-\n-# caches, see also .travis.yaml\n-# one should not depend on \'/home/travis\' but it seems stable in containers.\n-eggs-directory = /home/travis/buildout-cache/eggs\n-download-cache = /home/travis/buildout-cache/downloads\n \n [code-analysis]\n recipe = plone.recipe.codeanalysis\n-return-status-codes = True\n pre-commit-hook = False\n-\n+return-status-codes = True\ndiff --git a/versions.cfg b/versions.cfg\nindex ab68f4c..217cb37 100644\n--- a/versions.cfg\n+++ b/versions.cfg\n@@ -1,17 +1,19 @@\n [versions]\n-# setuptools / buildout\n+# Buildout\n setuptools =\n zc.buildout =\n zc.recipe.egg = 2.0.3\n \n-six = 1.10.0\n-httpie = 0.9.4\n-\n-# Fix https://github.com/plone/plone.recipe.zope2instance/issues/37\n+# Misc\n plone.recipe.zope2instance = 4.4.0\n \n+# plone.recipe.varnish\n+plone.recipe.varnish = 1.3\n+\n # Release\n-zest.releaser = 6.12.4\n-twine = 1.9.1\n+zest.releaser = 6.17.0\n+twine = 1.11.0\n requests = 2.18.4\n-\n+towncrier = 19.2.0\n+zestreleaser.towncrier = 1.1.0\n+docutils = 0.13.1\n\\ No newline at end of file\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-23T16:42:14+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.rest/commit/a97dc7582f9b18427cfabc93987a5d0964c9d29f

Remove zest.releaser pins.

Files changed:
M versions.cfg

b'diff --git a/versions.cfg b/versions.cfg\nindex 217cb37..4a8f7bb 100644\n--- a/versions.cfg\n+++ b/versions.cfg\n@@ -10,10 +10,3 @@ plone.recipe.zope2instance = 4.4.0\n # plone.recipe.varnish\n plone.recipe.varnish = 1.3\n \n-# Release\n-zest.releaser = 6.17.0\n-twine = 1.11.0\n-requests = 2.18.4\n-towncrier = 19.2.0\n-zestreleaser.towncrier = 1.1.0\n-docutils = 0.13.1\n\\ No newline at end of file\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-23T16:46:34+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.rest/commit/d2188326e33e9bcf39a9019c0c351ea4eb6f587a

Pin httpie.

Files changed:
M versions.cfg

b'diff --git a/versions.cfg b/versions.cfg\nindex 4a8f7bb..d8504c6 100644\n--- a/versions.cfg\n+++ b/versions.cfg\n@@ -4,6 +4,8 @@ setuptools =\n zc.buildout =\n zc.recipe.egg = 2.0.3\n \n+httpie = 0.9.4\n+\n # Misc\n plone.recipe.zope2instance = 4.4.0\n \n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-23T17:03:46+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.rest/commit/a30eb9319df820bd5cd6e5a642cc6a0dcae2dbbc

Add dependencies section to base.cfg with pyroma.

Files changed:
M base.cfg

b"diff --git a/base.cfg b/base.cfg\nindex 4a7eb9d..9ca9222 100644\n--- a/base.cfg\n+++ b/base.cfg\n@@ -4,10 +4,9 @@ extensions = mr.developer\n parts =\n     instance\n     test\n-    coverage\n     test-coverage\n     code-analysis\n-    releaser\n+    dependencies\n develop = .\n sources-dir = extras\n auto-checkout =\n@@ -27,10 +26,6 @@ recipe = zc.recipe.testrunner\n eggs = ${instance:eggs}\n defaults = ['-s', 'plone.rest', '--auto-color', '--auto-progress']\n \n-[coverage]\n-recipe = zc.recipe.egg\n-eggs = coverage\n-\n [test-coverage]\n recipe = collective.recipe.template\n input = inline:\n@@ -49,11 +44,19 @@ directory = ${buildout:directory}/src\n flake8-max-complexity = 15\n check-manifest = True\n \n-[releaser]\n+[dependencies]\n recipe = zc.recipe.egg\n eggs =\n-    zest.releaser\n     httpie\n+    i18ndude\n+    zest.pocompile\n+    zest.releaser[recommended]\n+    zestreleaser.towncrier\n+    towncrier\n+    readme\n+    docutils\n+    coverage\n+    pyroma\n \n [sources]\n plone.dexterity = git git://github.com/plone/plone.dexterity.git pushurl=git@github.com:plone/plone.dexterity.git branch=plip-680\n"

Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-23T17:12:09+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.rest/commit/75b05c2f724e69e9e2e5f0a6d991d999a9d21278

Revert "Add dependencies section to base.cfg with pyroma."

This reverts commit a30eb9319df820bd5cd6e5a642cc6a0dcae2dbbc.

Files changed:
M base.cfg

b"diff --git a/base.cfg b/base.cfg\nindex 9ca9222..4a7eb9d 100644\n--- a/base.cfg\n+++ b/base.cfg\n@@ -4,9 +4,10 @@ extensions = mr.developer\n parts =\n     instance\n     test\n+    coverage\n     test-coverage\n     code-analysis\n-    dependencies\n+    releaser\n develop = .\n sources-dir = extras\n auto-checkout =\n@@ -26,6 +27,10 @@ recipe = zc.recipe.testrunner\n eggs = ${instance:eggs}\n defaults = ['-s', 'plone.rest', '--auto-color', '--auto-progress']\n \n+[coverage]\n+recipe = zc.recipe.egg\n+eggs = coverage\n+\n [test-coverage]\n recipe = collective.recipe.template\n input = inline:\n@@ -44,19 +49,11 @@ directory = ${buildout:directory}/src\n flake8-max-complexity = 15\n check-manifest = True\n \n-[dependencies]\n+[releaser]\n recipe = zc.recipe.egg\n eggs =\n+    zest.releaser\n     httpie\n-    i18ndude\n-    zest.pocompile\n-    zest.releaser[recommended]\n-    zestreleaser.towncrier\n-    towncrier\n-    readme\n-    docutils\n-    coverage\n-    pyroma\n \n [sources]\n plone.dexterity = git git://github.com/plone/plone.dexterity.git pushurl=git@github.com:plone/plone.dexterity.git branch=plip-680\n"

Repository: plone.rest


Branch: refs/heads/master
Date: 2019-07-23T18:06:56+02:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.rest/commit/d986e90b7eac2c2a23d1324ad69156edebb3671e

Merge pull request #88 from plone/kitconcept-buildout

kitconcept buildout

Files changed:
M Makefile
M plone-4.3.x.cfg
M plone-5.1.x.cfg
M requirements.txt
M travis.cfg
M versions.cfg

b'diff --git a/Makefile b/Makefile\nindex d178a09..d09ba80 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -1,9 +1,34 @@\n-# convenience makefile to boostrap & run buildout\n+# keep in sync with: https://github.com/kitconcept/buildout/edit/master/Makefile\n+# update by running \'make update\'\n+SHELL := /bin/bash\n+CURRENT_DIR:=$(shell dirname $(realpath $(lastword $(MAKEFILE_LIST))))\n \n version = 2.7\n \n+# We like colors\n+# From: https://coderwall.com/p/izxssa/colored-makefile-for-golang-projects\n+RED=`tput setaf 1`\n+GREEN=`tput setaf 2`\n+RESET=`tput sgr0`\n+YELLOW=`tput setaf 3`\n+\n all: .installed.cfg\n-\tbin/test\n+\n+# Add the following \'help\' target to your Makefile\n+# And add help text after each target name starting with \'\\#\\#\'\n+.PHONY: help\n+help: ## This help message\n+\t@grep -E \'^[a-zA-Z_-]+:.*?## .*$$\' $(MAKEFILE_LIST) | sort | awk \'BEGIN {FS = ":.*?## "}; {printf "\\033[36m%-30s\\033[0m %s\\n", $$1, $$2}\'\n+\n+.PHONY: Update Makefile and Buildout\n+update: ## Update Make and Buildout\n+\twget -O Makefile https://raw.githubusercontent.com/kitconcept/buildout/master/Makefile\n+\twget -O requirements.txt https://raw.githubusercontent.com/kitconcept/buildout/master/requirements.txt\n+\twget -O plone-4.3.x.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/plone-4.3.x.cfg\n+\twget -O plone-5.1.x.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/plone-5.1.x.cfg\n+\twget -O plone-5.2.x.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/plone-5.2.x.cfg\n+\twget -O travis.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/travis.cfg\n+\twget -O versions.cfg https://raw.githubusercontent.com/kitconcept/buildout/master/versions.cfg\n \n .installed.cfg: bin/buildout *.cfg\n \tbin/buildout\n@@ -13,10 +38,67 @@ bin/buildout: bin/pip\n \tbin/pip install -r requirements.txt\n \t@touch -c $@\n \n+.PHONY: Build Plone 4.3\n+build-plone-4.3: .installed.cfg ## Build Plone 4.3\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-4.3.x.cfg\n+\n+.PHONY: Build Plone 5.0\n+build-plone-5.0: .installed.cfg ## Build Plone 5.0\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.0.x.cfg\n+\n+.PHONY: Build Plone 5.1\n+build-plone-5.1: .installed.cfg  ## Build Plone 5.1\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.1.x.cfg\n+\n+.PHONY: Build Plone 5.2\n+build-plone-5.2: .installed.cfg  ## Build Plone 5.2\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.2.x.cfg\n+\n+ ## Build Plone 5.2 with Python 3\n+build-py3:  ## Build Plone 5.2 with Python 3\n+\tvirtualenv --python=python3 .\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/pip install black\n+\tbin/buildout -c plone-5.2.x.cfg\n+\n bin/python bin/pip:\n \tvirtualenv --clear --python=python$(version) .\n \n-clean:\n+.PHONY: Test\n+test:  ## Test\n+\tbin/test\n+\n+.PHONY: Test Performance\n+test-performance:\n+\tjmeter -n -t performance.jmx -l jmeter.jtl\n+\n+.PHONY: Code Analysis\n+code-analysis:  ## Code Analysis\n+\tbin/code-analysis\n+\n+.PHONY: Build Docs\n+docs:  ## Build Docs\n+\tbin/sphinxbuilder\n+\n+.PHONY: Test Release\n+test-release:  ## Run Pyroma and Check Manifest\n+\tbin/pyroma -n 10 -d .\n+\n+.PHONY: Release\n+release:  ## Release\n+\tbin/fullrelease\n+\n+.PHONY: Clean\n+clean:  ## Clean\n \tgit clean -Xdf\n \n .PHONY: all clean\ndiff --git a/plone-4.3.x.cfg b/plone-4.3.x.cfg\nindex 8520d1f..ae54e84 100644\n--- a/plone-4.3.x.cfg\n+++ b/plone-4.3.x.cfg\n@@ -3,3 +3,10 @@ extends =\n     base.cfg\n     http://dist.plone.org/release/4.3.18/versions.cfg\n     versions.cfg\n+\n+[versions]\n+pytz = 2017.3\n+zope.interface = 4.1.0\n+# fixes zlib failure: https://stackoverflow.com/questions/34631806/fail-during-installation-of-pillow-python-module-in-linux\n+Pillow = 5.4.1\n+future = 0.17.1\ndiff --git a/plone-5.1.x.cfg b/plone-5.1.x.cfg\nindex e716cb7..2fde641 100644\n--- a/plone-5.1.x.cfg\n+++ b/plone-5.1.x.cfg\n@@ -1,5 +1,5 @@\n [buildout]\n extends =\n     base.cfg\n-    http://dist.plone.org/release/5.1.4/versions.cfg\n+    http://dist.plone.org/release/5.1.5/versions.cfg\n     versions.cfg\ndiff --git a/requirements.txt b/requirements.txt\nindex afc1b14..b3bbf78 100644\n--- a/requirements.txt\n+++ b/requirements.txt\n@@ -1,3 +1,3 @@\n-# https://github.com/plone/buildout.coredev/blob/5.2/requirements.txt\n-setuptools==40.4.3\n-zc.buildout==2.12.2\n+# Keep this file in sync with: https://github.com/kitconcept/buildout/edit/master/requirements.txt\n+zc.buildout==2.13.2\n+setuptools==41.0.1\ndiff --git a/travis.cfg b/travis.cfg\nindex 2b4b0b1..af1a4f2 100644\n--- a/travis.cfg\n+++ b/travis.cfg\n@@ -1,18 +1,7 @@\n [buildout]\n extends = plone-x.x.x.cfg\n-parts =\n-    test\n-    coverage\n-    test-coverage\n-    code-analysis\n-\n-# caches, see also .travis.yaml\n-# one should not depend on \'/home/travis\' but it seems stable in containers.\n-eggs-directory = /home/travis/buildout-cache/eggs\n-download-cache = /home/travis/buildout-cache/downloads\n \n [code-analysis]\n recipe = plone.recipe.codeanalysis\n-return-status-codes = True\n pre-commit-hook = False\n-\n+return-status-codes = True\ndiff --git a/versions.cfg b/versions.cfg\nindex ab68f4c..d8504c6 100644\n--- a/versions.cfg\n+++ b/versions.cfg\n@@ -1,17 +1,14 @@\n [versions]\n-# setuptools / buildout\n+# Buildout\n setuptools =\n zc.buildout =\n zc.recipe.egg = 2.0.3\n \n-six = 1.10.0\n httpie = 0.9.4\n \n-# Fix https://github.com/plone/plone.recipe.zope2instance/issues/37\n+# Misc\n plone.recipe.zope2instance = 4.4.0\n \n-# Release\n-zest.releaser = 6.12.4\n-twine = 1.9.1\n-requests = 2.18.4\n+# plone.recipe.varnish\n+plone.recipe.varnish = 1.3\n \n'

