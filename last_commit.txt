Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-03-27T19:23:44-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/b8ab9ceaaa43e52f64d79b0b1056e6db4d7b9dcb

Fix social media schema field types

twitter_username, facebook_app_id and facebook_username should be ASCIILine instead of TextLine.

Files changed:
M CHANGES.rst
M Products/CMFPlone/interfaces/controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 9633d32..b375ee1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -26,6 +26,9 @@ New features:
 
 Bug fixes:
 
+- Fix social media schema field types of ``twitter_username``, ``facebook_app_id`` and ``facebook_username`` to be ``ASCIILine`` instead of ``TextLine``.
+  [hvelarde]
+
 - Show version of products in Add-ons control panel configlet.
   This fixes https://github.com/plone/Products.CMFPlone/issues/1472.
   [hvelarde]
diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py
index eff3bf6..df458aa 100644
--- a/Products/CMFPlone/interfaces/controlpanel.py
+++ b/Products/CMFPlone/interfaces/controlpanel.py
@@ -1466,24 +1466,24 @@ class ISocialMediaSchema(Interface):
                       u'when shared'),
         default=True)
 
-    twitter_username = schema.TextLine(
+    twitter_username = schema.ASCIILine(
         title=_(u'Twitter Username'),
         description=_(u'To identify things like Twitter Cards. Do not include the \'@\' prefix character.'),
         required=False,
-        default=u'')
+        default='')
 
-    facebook_app_id = schema.TextLine(
+    facebook_app_id = schema.ASCIILine(
         title=_(u'Facebook App ID'),
         description=_(
             u'To be used with some integrations like Open Graph data'),
         required=False,
-        default=u'')
+        default='')
 
-    facebook_username = schema.TextLine(
+    facebook_username = schema.ASCIILine(
         title=_(u'Facebook username'),
         description=_(u'For linking Open Graph data to a Facebook account'),
         required=False,
-        default=u'')
+        default='')
 
 
 class IImagingSchema(Interface):


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-03-28T18:46:52+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/f638ae5f042910fa2808fcf57a3d3acda7a655a1

Merge pull request #1967 from plone/hvelarde-asciiline

Fix social media schema field types

Files changed:
M CHANGES.rst
M Products/CMFPlone/interfaces/controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 9633d32..b375ee1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -26,6 +26,9 @@ New features:
 
 Bug fixes:
 
+- Fix social media schema field types of ``twitter_username``, ``facebook_app_id`` and ``facebook_username`` to be ``ASCIILine`` instead of ``TextLine``.
+  [hvelarde]
+
 - Show version of products in Add-ons control panel configlet.
   This fixes https://github.com/plone/Products.CMFPlone/issues/1472.
   [hvelarde]
diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py
index eff3bf6..df458aa 100644
--- a/Products/CMFPlone/interfaces/controlpanel.py
+++ b/Products/CMFPlone/interfaces/controlpanel.py
@@ -1466,24 +1466,24 @@ class ISocialMediaSchema(Interface):
                       u'when shared'),
         default=True)
 
-    twitter_username = schema.TextLine(
+    twitter_username = schema.ASCIILine(
         title=_(u'Twitter Username'),
         description=_(u'To identify things like Twitter Cards. Do not include the \'@\' prefix character.'),
         required=False,
-        default=u'')
+        default='')
 
-    facebook_app_id = schema.TextLine(
+    facebook_app_id = schema.ASCIILine(
         title=_(u'Facebook App ID'),
         description=_(
             u'To be used with some integrations like Open Graph data'),
         required=False,
-        default=u'')
+        default='')
 
-    facebook_username = schema.TextLine(
+    facebook_username = schema.ASCIILine(
         title=_(u'Facebook username'),
         description=_(u'For linking Open Graph data to a Facebook account'),
         required=False,
-        default=u'')
+        default='')
 
 
 class IImagingSchema(Interface):


