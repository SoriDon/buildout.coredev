Repository: plone.protect


Branch: refs/heads/master
Date: 2015-12-04T13:04:06+01:00
Author: Vincent Fretin (vincentfretin) <vincent.fretin@gmail.com>
Commit: https://github.com/plone/plone.protect/commit/72aa91477e112929870ad3b2e94121b9ed097c61

one more fix for confirm.pt and use plone domain in zcml

Files changed:
M CHANGES.rst
M plone/protect/configure.zcml
M plone/protect/confirm.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 06a243f..daddef1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Internationalized button in confirm.pt
+  [vincentfretin]
 
 
 3.0.16 (2015-11-05)
diff --git a/plone/protect/configure.zcml b/plone/protect/configure.zcml
index c9524df..22934eb 100644
--- a/plone/protect/configure.zcml
+++ b/plone/protect/configure.zcml
@@ -4,7 +4,7 @@
     xmlns:browser="http://namespaces.zope.org/browser"
     xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
     xmlns:monkey="http://namespaces.plone.org/monkey"
-    i18n_domain="plone.protect">
+    i18n_domain="plone">
 
     <include package="AccessControl"
              zcml:condition="installed AccessControl.rolemanager" />
diff --git a/plone/protect/confirm.pt b/plone/protect/confirm.pt
index 46c6073..6a87b94 100644
--- a/plone/protect/confirm.pt
+++ b/plone/protect/confirm.pt
@@ -38,7 +38,8 @@
           <dd tal:content="request/original_url" />
         </dl>
         <div class="formControls">
-          <input type="submit" value="Confirm action" name="form.button.confirm" class="standalone" />
+          <input type="submit" value="Confirm action" i18n:attributes="value"
+                 name="form.button.confirm" class="standalone" />
         </div>
       </form>
     </metal:content-core>


