Repository: plone.app.portlets


Branch: refs/heads/master
Date: 2016-07-30T22:46:07+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.portlets/commit/8527891f8f106c7afd2cd25d0132b964e68453a5

Change plone-manage-portlets to use Patternslib base pattern pat-base. (#77)

* Change plone-manage-portlets to use Patternslib base pattern pat-base.

* rebase afterworks

Files changed:
M CHANGES.rst
M plone/app/portlets/browser/manage-portlets.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 12064ed..b4c6b37 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -24,6 +24,9 @@ Bug fixes:
 - Use zope.interface decorator.
   [gforcada]
 
+- Change ``plone-manage-portlets`` to use Patternslib base pattern ``pat-base``.
+  [thet]
+
 
 4.1.2 (2016-06-07)
 ------------------
diff --git a/plone/app/portlets/browser/manage-portlets.js b/plone/app/portlets/browser/manage-portlets.js
index c648927..972e834 100644
--- a/plone/app/portlets/browser/manage-portlets.js
+++ b/plone/app/portlets/browser/manage-portlets.js
@@ -1,13 +1,12 @@
 define([
   'jquery',
-  'mockup-patterns-base',
-  'pat-registry',
+  'pat-base',
   'mockup-utils',
   'mockup-patterns-modal',
   'translate',
   'pat-logger',
   'jquery.form'
-], function ($, Base, Registry, utils, Modal, _t, logger) {
+], function ($, Base, utils, Modal, _t, logger) {
   'use strict';
 
   var log = logger.getLogger('pat-manage-portlets');
@@ -15,6 +14,7 @@ define([
   var ManagePortlets = Base.extend({
     name: 'manage-portlets',
     trigger: '.pat-manage-portlets',
+    parser: 'mockup',
     messageTimeout: 0,
     submitTimeout: 0,
     switchTimeout: 0,
@@ -225,4 +225,4 @@ define([
   });
 
   return ManagePortlets;
-});
\ No newline at end of file
+});


