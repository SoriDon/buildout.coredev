Repository: plone.restapi


Branch: refs/heads/master
Date: 2019-09-27T19:17:54+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.restapi/commit/150c93c534df52af56d6a07779891191c93c7e92

Explicitly load zcml of dependencies, instead of using includeDependencies.

See https://github.com/plone/Products.CMFPlone/issues/2952

Files changed:
A news/2952.bugfix
M src/plone/restapi/configure.zcml

b'diff --git a/news/2952.bugfix b/news/2952.bugfix\nnew file mode 100644\nindex 00000000..413bcf9e\n--- /dev/null\n+++ b/news/2952.bugfix\n@@ -0,0 +1,2 @@\n+Explicitly load zcml of dependencies, instead of using ``includeDependencies``\n+[maurits]\ndiff --git a/src/plone/restapi/configure.zcml b/src/plone/restapi/configure.zcml\nindex 7d823d27..1ee80cef 100644\n--- a/src/plone/restapi/configure.zcml\n+++ b/src/plone/restapi/configure.zcml\n@@ -9,7 +9,9 @@\n \n   <i18n:registerTranslations directory="locales" />\n \n-  <includeDependencies package="." />\n+  <include package="plone.behavior" />\n+  <include package="plone.rest" />\n+  <include package="plone.schema" />\n \n   <five:registerPackage package="." initialize=".initialize" />\n \n'

Repository: plone.restapi


Branch: refs/heads/master
Date: 2019-09-27T21:35:47+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.restapi/commit/5dfa117000ad4404deece3f163fa714d1429cd5d

We need to include meta.zcml of two packages as well.

Files changed:
M src/plone/restapi/configure.zcml

b'diff --git a/src/plone/restapi/configure.zcml b/src/plone/restapi/configure.zcml\nindex 1ee80cef..1fc318a1 100644\n--- a/src/plone/restapi/configure.zcml\n+++ b/src/plone/restapi/configure.zcml\n@@ -9,6 +9,9 @@\n \n   <i18n:registerTranslations directory="locales" />\n \n+  <include package="plone.behavior" file="meta.zcml"/>\n+  <include package="plone.rest" file="meta.zcml"/>\n+\n   <include package="plone.behavior" />\n   <include package="plone.rest" />\n   <include package="plone.schema" />\n'

Repository: plone.restapi


Branch: refs/heads/master
Date: 2019-09-29T11:56:06+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.restapi/commit/90b6ed05fa9f8597ba24890f5ca9405aedf204b3

Merge pull request #807 from plone/maurits/dependencies-issue-2952

Explicitly load zcml of dependencies

Files changed:
A news/2952.bugfix
M src/plone/restapi/configure.zcml

b'diff --git a/news/2952.bugfix b/news/2952.bugfix\nnew file mode 100644\nindex 00000000..413bcf9e\n--- /dev/null\n+++ b/news/2952.bugfix\n@@ -0,0 +1,2 @@\n+Explicitly load zcml of dependencies, instead of using ``includeDependencies``\n+[maurits]\ndiff --git a/src/plone/restapi/configure.zcml b/src/plone/restapi/configure.zcml\nindex 7d823d27..1fc318a1 100644\n--- a/src/plone/restapi/configure.zcml\n+++ b/src/plone/restapi/configure.zcml\n@@ -9,7 +9,12 @@\n \n   <i18n:registerTranslations directory="locales" />\n \n-  <includeDependencies package="." />\n+  <include package="plone.behavior" file="meta.zcml"/>\n+  <include package="plone.rest" file="meta.zcml"/>\n+\n+  <include package="plone.behavior" />\n+  <include package="plone.rest" />\n+  <include package="plone.schema" />\n \n   <five:registerPackage package="." initialize=".initialize" />\n \n'

