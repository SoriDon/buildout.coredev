Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-06-21T09:53:47+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/c3c6eb7f8d4a804ebf09c271ef1db57549577971

Add support for Python 3.8 [pbauer]

Files changed:
A news/200.feature
M plone/app/layout/viewlets/common.py
M setup.py

b'diff --git a/news/200.feature b/news/200.feature\nnew file mode 100644\nindex 00000000..6035206a\n--- /dev/null\n+++ b/news/200.feature\n@@ -0,0 +1 @@\n+Add support for Python 3.8\n\\ No newline at end of file\ndiff --git a/plone/app/layout/viewlets/common.py b/plone/app/layout/viewlets/common.py\nindex 04737c06..a1fd7a56 100644\n--- a/plone/app/layout/viewlets/common.py\n+++ b/plone/app/layout/viewlets/common.py\n@@ -2,7 +2,6 @@\n from AccessControl import getSecurityManager\n from Acquisition import aq_base\n from Acquisition import aq_inner\n-from cgi import escape\n from collections import defaultdict\n from datetime import date\n from functools import total_ordering\n@@ -33,6 +32,11 @@\n from zope.interface import implementer\n from zope.viewlet.interfaces import IViewlet\n \n+try:\n+    from html import escape\n+except ImportError:\n+    from cgi import escape\n+\n \n @implementer(IViewlet)\n @total_ordering\ndiff --git a/setup.py b/setup.py\nindex d04d996d..ce51c076 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -24,6 +24,7 @@\n           "Programming Language :: Python :: 2.7",\n           "Programming Language :: Python :: 3.6",\n           "Programming Language :: Python :: 3.7",\n+          "Programming Language :: Python :: 3.8",\n       ],\n       keywords=\'plone layout viewlet\',\n       author=\'Plone Foundation\',\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-06-21T09:55:10+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/d28861436808764ff018935c9306ecfabe65bc41

Update 200.feature

Files changed:
M news/200.feature

b'diff --git a/news/200.feature b/news/200.feature\nindex 6035206a..014bddd4 100644\n--- a/news/200.feature\n+++ b/news/200.feature\n@@ -1 +1 @@\n-Add support for Python 3.8\n\\ No newline at end of file\n+Add support for Python 3.8 [pbauer]\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-06-22T08:32:38+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/003f002aa397043f8b71123419218fb3724020f5

Merge pull request #200 from plone/python38

Add support for Python 3.8

Files changed:
A news/200.feature
M plone/app/layout/viewlets/common.py
M setup.py

b'diff --git a/news/200.feature b/news/200.feature\nnew file mode 100644\nindex 00000000..014bddd4\n--- /dev/null\n+++ b/news/200.feature\n@@ -0,0 +1 @@\n+Add support for Python 3.8 [pbauer]\ndiff --git a/plone/app/layout/viewlets/common.py b/plone/app/layout/viewlets/common.py\nindex 04737c06..a1fd7a56 100644\n--- a/plone/app/layout/viewlets/common.py\n+++ b/plone/app/layout/viewlets/common.py\n@@ -2,7 +2,6 @@\n from AccessControl import getSecurityManager\n from Acquisition import aq_base\n from Acquisition import aq_inner\n-from cgi import escape\n from collections import defaultdict\n from datetime import date\n from functools import total_ordering\n@@ -33,6 +32,11 @@\n from zope.interface import implementer\n from zope.viewlet.interfaces import IViewlet\n \n+try:\n+    from html import escape\n+except ImportError:\n+    from cgi import escape\n+\n \n @implementer(IViewlet)\n @total_ordering\ndiff --git a/setup.py b/setup.py\nindex d04d996d..ce51c076 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -24,6 +24,7 @@\n           "Programming Language :: Python :: 2.7",\n           "Programming Language :: Python :: 3.6",\n           "Programming Language :: Python :: 3.7",\n+          "Programming Language :: Python :: 3.8",\n       ],\n       keywords=\'plone layout viewlet\',\n       author=\'Plone Foundation\',\n'

