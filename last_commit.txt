Repository: Products.CMFPlacefulWorkflow


Branch: refs/heads/master
Date: 2023-02-04T00:43:35+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlacefulWorkflow/commit/0fd8da668344dc629ecfa5059fb855fedff696f1

Configuring with plone/meta

Files changed:
M lint-requirements.txt
M setup.cfg
M tox.ini

b"diff --git a/lint-requirements.txt b/lint-requirements.txt\nindex 129db4d..d2b64ff 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -5,4 +5,6 @@ check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\n+pyroma==4.1\n pyupgrade==3.3.1\n+z3c.dependencychecker==2.10\ndiff --git a/setup.cfg b/setup.cfg\nindex 3551aed..31f90ee 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -23,5 +23,6 @@ ignore =\n     .editorconfig\n     .meta.toml\n     tox.ini\n+    lint-requirements.txt\n     *.txt\n     *.cfg\ndiff --git a/tox.ini b/tox.ini\nindex 5d1a605..c4810c9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -30,10 +30,21 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    tomli  # needed for codespell to read pyproject.toml\n     check-manifest\n+    pyroma\n     -c lint-requirements.txt\n commands =\n     sh -c '{[testenv]py_files} | xargs flake8'\n     sh -c '{[testenv]py_files} | xargs codespell'\n     sh -c '{[testenv]text_files} | xargs codespell'\n     check-manifest\n+    pyroma -n 10 .\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies\n+deps =\n+    z3c.dependencychecker\n+    -c lint-requirements.txt\n+commands =\n+    dependencychecker\n"

Repository: Products.CMFPlacefulWorkflow


Branch: refs/heads/master
Date: 2023-02-04T00:59:20+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlacefulWorkflow/commit/fc6318912a751d53d3e464fa068cdaae54bea5a6

chore: configure z3c.dependencychecker

Files changed:
M .meta.toml
M pyproject.toml

b'diff --git a/.meta.toml b/.meta.toml\nindex 82879b6..f05ca65 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,7 +2,7 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "14c035e5"\n+commit-id = "78307cdf"\n \n [check-manifest]\n additional-ignores = [\n@@ -10,5 +10,10 @@ additional-ignores = [\n     "*.cfg",\n     ]\n \n+[dependencies]\n+mappings = [\n+    "Zope = [\'Products.Five\', \'Products.PageTemplates\', \'OFS\']",\n+    ]\n+\n [setup.metadata]\n long_description = "file: README.rst, CHANGES.rst"\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0f96c85..377c5b1 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -41,3 +41,6 @@ profile = "plone"\n \n [tool.black]\n target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\'Products.Five\', \'Products.PageTemplates\', \'OFS\']\n'

Repository: Products.CMFPlacefulWorkflow


Branch: refs/heads/master
Date: 2023-02-04T00:59:30+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlacefulWorkflow/commit/c288ec808635a89936917a3dabc9b39cd27d9dce

feat: declare the dependencies

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex d01b7d4..c521ac0 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -34,11 +34,25 @@\n     zip_safe=False,\n     python_requires=">=3.8",\n     extras_require=dict(\n-        test=["plone.app.testing", "zope.testing"],\n+        test=[\n+            "plone.app.contenttypes",\n+            "plone.app.testing",\n+            "plone.testing",\n+            "transaction",\n+        ],\n     ),\n     install_requires=[\n+        "AccessControl",\n+        "Acquisition",\n         "plone.base",\n+        "Persistence",\n+        "Products.CMFCore",\n         "Products.CMFPlone",\n+        "Products.GenericSetup",\n         "setuptools",\n+        "Zope",\n+        "zope.component",\n+        "zope.i18nmessageid",\n+        "zope.interface",\n     ],\n )\n'

Repository: Products.CMFPlacefulWorkflow


Branch: refs/heads/master
Date: 2023-02-04T00:59:30+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlacefulWorkflow/commit/8d8dfe42db47c92ede911b475e496014e89c06f5

Add news entry

Files changed:
A news/1.bugfix

b'diff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 0000000..816f44e\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1,2 @@\n+Update package configuration.\n+[gforcada]\n'

Repository: Products.CMFPlacefulWorkflow


Branch: refs/heads/master
Date: 2023-02-05T09:59:08+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlacefulWorkflow/commit/8b89cc6a79b48815a1e25868049060bff53c7f79

Merge pull request #46 from plone/config-with-default-template-21ae1540

Config with default template (dependencies)

Files changed:
A news/1.bugfix
M .meta.toml
M lint-requirements.txt
M pyproject.toml
M setup.cfg
M setup.py
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 82879b6..f05ca65 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,7 +2,7 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "14c035e5"\n+commit-id = "78307cdf"\n \n [check-manifest]\n additional-ignores = [\n@@ -10,5 +10,10 @@ additional-ignores = [\n     "*.cfg",\n     ]\n \n+[dependencies]\n+mappings = [\n+    "Zope = [\'Products.Five\', \'Products.PageTemplates\', \'OFS\']",\n+    ]\n+\n [setup.metadata]\n long_description = "file: README.rst, CHANGES.rst"\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex 129db4d..d2b64ff 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -5,4 +5,6 @@ check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\n+pyroma==4.1\n pyupgrade==3.3.1\n+z3c.dependencychecker==2.10\ndiff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 0000000..816f44e\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1,2 @@\n+Update package configuration.\n+[gforcada]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 0f96c85..377c5b1 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -41,3 +41,6 @@ profile = "plone"\n \n [tool.black]\n target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\'Products.Five\', \'Products.PageTemplates\', \'OFS\']\ndiff --git a/setup.cfg b/setup.cfg\nindex 3551aed..31f90ee 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -23,5 +23,6 @@ ignore =\n     .editorconfig\n     .meta.toml\n     tox.ini\n+    lint-requirements.txt\n     *.txt\n     *.cfg\ndiff --git a/setup.py b/setup.py\nindex d01b7d4..c521ac0 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -34,11 +34,25 @@\n     zip_safe=False,\n     python_requires=">=3.8",\n     extras_require=dict(\n-        test=["plone.app.testing", "zope.testing"],\n+        test=[\n+            "plone.app.contenttypes",\n+            "plone.app.testing",\n+            "plone.testing",\n+            "transaction",\n+        ],\n     ),\n     install_requires=[\n+        "AccessControl",\n+        "Acquisition",\n         "plone.base",\n+        "Persistence",\n+        "Products.CMFCore",\n         "Products.CMFPlone",\n+        "Products.GenericSetup",\n         "setuptools",\n+        "Zope",\n+        "zope.component",\n+        "zope.i18nmessageid",\n+        "zope.interface",\n     ],\n )\ndiff --git a/tox.ini b/tox.ini\nindex 5d1a605..c4810c9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -30,10 +30,21 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    tomli  # needed for codespell to read pyproject.toml\n     check-manifest\n+    pyroma\n     -c lint-requirements.txt\n commands =\n     sh -c \'{[testenv]py_files} | xargs flake8\'\n     sh -c \'{[testenv]py_files} | xargs codespell\'\n     sh -c \'{[testenv]text_files} | xargs codespell\'\n     check-manifest\n+    pyroma -n 10 .\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies\n+deps =\n+    z3c.dependencychecker\n+    -c lint-requirements.txt\n+commands =\n+    dependencychecker\n'

