Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-06-07T16:41:30+02:00
Author: Fred van Dijk (fredvd) <fredvd@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/78b97c2d3cee04c8474f9a503c1b67e3ac9b6d89

Move save buttons into viewport

Files changed:
M plone/schemaeditor/tests/robot/test_fields.robot

b'diff --git a/plone/schemaeditor/tests/robot/test_fields.robot b/plone/schemaeditor/tests/robot/test_fields.robot\nindex 344aa9e..deb9f09 100644\n--- a/plone/schemaeditor/tests/robot/test_fields.robot\n+++ b/plone/schemaeditor/tests/robot/test_fields.robot\n@@ -20,6 +20,8 @@ Add a content type\n     Input text for sure  form-widgets-title  New style Article\n     Set Focus to Element  form-widgets-id\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-id  new_style_article\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait until page contains  New style Article\n \n@@ -39,6 +41,8 @@ Add a choice field with a named vocabulary\n \n     Open field settings  languages\n     Select from list by value  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n+    Set Focus To Element  css=.modal-footer #form-buttons-save\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-save\n     Click button  css=.modal-footer #form-buttons-save\n     Wait overlay is closed\n     Page should contain  Fran\xc3\xa7ais\n@@ -51,6 +55,8 @@ Add a choice field with vocabulary values\n     Add field  Hobbies  hobbies  Multiple Choice\n     Open field settings  hobbies\n     Input text  form-widgets-values  Chess\\nSoccer\\nBaseball\\nVideo games\n+    Set Focus To Element  css=.modal-footer #form-buttons-save\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-save\n     Click button  css=.modal-footer #form-buttons-save\n     Wait until page contains element  form-widgets-hobbies-3\n \n@@ -87,6 +93,8 @@ Add a fieldSet and move a field into this fieldset\n     Input text for sure  form-widgets-label  Personal information\n     Set Focus to Element  form-widgets-__name__\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-__name__  personal_information\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n     Wait until page contains  Personal information\n@@ -163,6 +171,8 @@ Add content type\n     Input text for sure  form-widgets-title  ${title}\n     Set Focus to Element  form-widgets-id\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-id  ${id}\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait until page contains  ${title}\n     Go to  ${PLONE_URL}/@@dexterity-types/${id}/@@fields\n@@ -177,6 +187,8 @@ Add field\n     Set Focus to Element  form-widgets-__name__\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-__name__  ${field_id}\n     Select from list by label  form-widgets-factory  ${field_type}\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n \n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-06-07T23:46:32+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.schemaeditor/commit/352c5f7de1f99948108d2fe5ba6dbf82c22cba32

Merge pull request #89 from plone/fix-robottests

Move save buttons into viewport

Files changed:
M plone/schemaeditor/tests/robot/test_fields.robot

b'diff --git a/plone/schemaeditor/tests/robot/test_fields.robot b/plone/schemaeditor/tests/robot/test_fields.robot\nindex 344aa9e..deb9f09 100644\n--- a/plone/schemaeditor/tests/robot/test_fields.robot\n+++ b/plone/schemaeditor/tests/robot/test_fields.robot\n@@ -20,6 +20,8 @@ Add a content type\n     Input text for sure  form-widgets-title  New style Article\n     Set Focus to Element  form-widgets-id\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-id  new_style_article\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait until page contains  New style Article\n \n@@ -39,6 +41,8 @@ Add a choice field with a named vocabulary\n \n     Open field settings  languages\n     Select from list by value  form-widgets-vocabularyName  plone.app.vocabularies.AvailableContentLanguages\n+    Set Focus To Element  css=.modal-footer #form-buttons-save\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-save\n     Click button  css=.modal-footer #form-buttons-save\n     Wait overlay is closed\n     Page should contain  Fran\xc3\xa7ais\n@@ -51,6 +55,8 @@ Add a choice field with vocabulary values\n     Add field  Hobbies  hobbies  Multiple Choice\n     Open field settings  hobbies\n     Input text  form-widgets-values  Chess\\nSoccer\\nBaseball\\nVideo games\n+    Set Focus To Element  css=.modal-footer #form-buttons-save\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-save\n     Click button  css=.modal-footer #form-buttons-save\n     Wait until page contains element  form-widgets-hobbies-3\n \n@@ -87,6 +93,8 @@ Add a fieldSet and move a field into this fieldset\n     Input text for sure  form-widgets-label  Personal information\n     Set Focus to Element  form-widgets-__name__\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-__name__  personal_information\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n     Wait until page contains  Personal information\n@@ -163,6 +171,8 @@ Add content type\n     Input text for sure  form-widgets-title  ${title}\n     Set Focus to Element  form-widgets-id\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-id  ${id}\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait until page contains  ${title}\n     Go to  ${PLONE_URL}/@@dexterity-types/${id}/@@fields\n@@ -177,6 +187,8 @@ Add field\n     Set Focus to Element  form-widgets-__name__\n     Wait until keyword succeeds  10  1  Textfield Value Should Be  form-widgets-__name__  ${field_id}\n     Select from list by label  form-widgets-factory  ${field_type}\n+    Set Focus To Element  css=.modal-footer #form-buttons-add\n+    Wait Until Element Is Visible  css=.modal-footer #form-buttons-add\n     Click button  css=.modal-footer #form-buttons-add\n     Wait overlay is closed\n \n'

