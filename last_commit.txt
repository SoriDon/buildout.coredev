Repository: mockup


Branch: refs/heads/master
Date: 2016-02-17T12:00:09+01:00
Author: Gagaro (Gagaro) <gagaro42@gmail.com>
Commit: https://github.com/plone/mockup/commit/fa51777c1a8a3fd1513cfd113836bf71886a9442

fix: trim links in tinymce before inserting them

Files changed:
M CHANGES.rst
M mockup/patterns/tinymce/js/links.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 41e2462..4db2471 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -32,6 +32,9 @@ Fixes:
 - Fix XSS vulnerability issues in structure and relateditem pattern.
   [metatoaster]
 
+- Trim links in tinymce before inserting them in the source.
+  [Gagaro]
+
 2.1.2 (2016-01-08)
 ------------------
 
diff --git a/mockup/patterns/tinymce/js/links.js b/mockup/patterns/tinymce/js/links.js
index 7b8ff1a..24485bd 100644
--- a/mockup/patterns/tinymce/js/links.js
+++ b/mockup/patterns/tinymce/js/links.js
@@ -29,7 +29,7 @@ define([
     },
 
     value: function() {
-      return this.getEl().val();
+      return $.trim(this.getEl().val());
     },
 
     toUrl: function() {


Repository: mockup


Branch: refs/heads/master
Date: 2016-02-17T08:18:09-06:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/2955ae800c6902417fe5ffa627b9ba7b4fbb49e4

Merge pull request #632 from plone/fix-tinymcelink

fix: trim links in tinymce before inserting them

Files changed:
M CHANGES.rst
M mockup/patterns/tinymce/js/links.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 41e2462..4db2471 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -32,6 +32,9 @@ Fixes:
 - Fix XSS vulnerability issues in structure and relateditem pattern.
   [metatoaster]
 
+- Trim links in tinymce before inserting them in the source.
+  [Gagaro]
+
 2.1.2 (2016-01-08)
 ------------------
 
diff --git a/mockup/patterns/tinymce/js/links.js b/mockup/patterns/tinymce/js/links.js
index 7b8ff1a..24485bd 100644
--- a/mockup/patterns/tinymce/js/links.js
+++ b/mockup/patterns/tinymce/js/links.js
@@ -29,7 +29,7 @@ define([
     },
 
     value: function() {
-      return this.getEl().val();
+      return $.trim(this.getEl().val());
     },
 
     toUrl: function() {


