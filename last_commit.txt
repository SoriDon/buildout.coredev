Repository: plone.i18n


Branch: refs/heads/master
Date: 2022-05-20T16:35:58+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.i18n/commit/a609037f99d9279123b6ab504c52d486274e9602

svg flag support

Files changed:
A news/42.breaking
M plone/i18n/locales/countries.py
M plone/i18n/tests/test_negotiation.py

b'diff --git a/news/42.breaking b/news/42.breaking\nnew file mode 100644\nindex 0000000..8816beb\n--- /dev/null\n+++ b/news/42.breaking\n@@ -0,0 +1,4 @@\n+Use SVG Flags in Language Selector\n+Update Name of Flags\n+Prepare of use the Icon Resolver in Plone 6\n+[1letter, jensens]\ndiff --git a/plone/i18n/locales/countries.py b/plone/i18n/locales/countries.py\nindex c1bf859..5f7e203 100644\n--- a/plone/i18n/locales/countries.py\n+++ b/plone/i18n/locales/countries.py\n@@ -25,695 +25,689 @@ def getCountryListing(self):\n #\n # \'country-code\' : {\n #     u\'name\' : \'English name\',\n-#     u\'flag\' : u\'/++resource++country-flags/*.gif\',\n+#     u\'flag\' : u\'countryflag/*.gif\',\n # }\n #\n # This list follows ISO 3166-1. In addition the following reservations are\n # part of the list for historical reasons: an\n \n _countrylist = {\n-    "ad": {"name": "Andorra", "flag": "/++resource++country-flags/ad.gif"},\n+    "ad": {"name": "Andorra", "flag": "countryflag/ad"},\n     "ae": {\n         "name": "United Arab Emirates",\n-        "flag": "/++resource++country-flags/ae.gif",\n+        "flag": "countryflag/ae",\n     },\n     "af": {\n         "name": "Afghanistan",\n-        "flag": "/++resource++country-flags/af.gif",\n+        "flag": "countryflag/af",\n     },\n     "ag": {\n         "name": "Antigua and Barbuda",\n-        "flag": "/++resource++country-flags/ag.gif",\n+        "flag": "countryflag/ag",\n     },\n     "ai": {\n         "name": "Anguilla",\n-        "flag": "/++resource++country-flags/ai.gif",\n+        "flag": "countryflag/ai",\n     },\n-    "al": {"name": "Albania", "flag": "/++resource++country-flags/al.gif"},\n-    "am": {"name": "Armenia", "flag": "/++resource++country-flags/am.gif"},\n+    "al": {"name": "Albania", "flag": "countryflag/al"},\n+    "am": {"name": "Armenia", "flag": "countryflag/am"},\n     "an": {\n         "name": "Netherlands Antilles",\n-        "flag": "/++resource++country-flags/an.gif",\n+        "flag": "countryflag/an",\n     },\n-    "ao": {"name": "Angola", "flag": "/++resource++country-flags/ao.gif"},\n+    "ao": {"name": "Angola", "flag": "countryflag/ao"},\n     "aq": {\n         "name": "Antarctica",\n-        "flag": "/++resource++country-flags/aq.gif",\n+        "flag": "countryflag/aq",\n     },\n     "ar": {\n         "name": "Argentina",\n-        "flag": "/++resource++country-flags/ar.gif",\n+        "flag": "countryflag/ar",\n     },\n     "as": {\n         "name": "American Samoa",\n-        "flag": "/++resource++country-flags/as.gif",\n+        "flag": "countryflag/as",\n     },\n-    "at": {"name": "Austria", "flag": "/++resource++country-flags/at.gif"},\n+    "at": {"name": "Austria", "flag": "countryflag/at"},\n     "au": {\n         "name": "Australia",\n-        "flag": "/++resource++country-flags/au.gif",\n+        "flag": "countryflag/au",\n     },\n-    "aw": {"name": "Aruba", "flag": "/++resource++country-flags/aw.gif"},\n+    "aw": {"name": "Aruba", "flag": "countryflag/aw"},\n     "ax": {\n         "name": "Oland Islands",\n-        "flag": "/++resource++country-flags/ax.gif",\n+        "flag": "countryflag/ax",\n     },\n     "az": {\n         "name": "Azerbaijan",\n-        "flag": "/++resource++country-flags/az.gif",\n+        "flag": "countryflag/az",\n     },\n     "ba": {\n         "name": "Bosnia and Herzegovina",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "bb": {\n         "name": "Barbados",\n-        "flag": "/++resource++country-flags/bb.gif",\n+        "flag": "countryflag/bb",\n     },\n     "bd": {\n         "name": "Bangladesh",\n-        "flag": "/++resource++country-flags/bd.gif",\n+        "flag": "countryflag/bd",\n     },\n-    "be": {"name": "Belgium", "flag": "/++resource++country-flags/be.gif"},\n+    "be": {"name": "Belgium", "flag": "countryflag/be"},\n     "bf": {\n         "name": "Burkina Faso",\n-        "flag": "/++resource++country-flags/bf.gif",\n+        "flag": "countryflag/bf",\n     },\n     "bg": {\n         "name": "Bulgaria",\n-        "flag": "/++resource++country-flags/bg.gif",\n+        "flag": "countryflag/bg",\n     },\n-    "bh": {"name": "Bahrain", "flag": "/++resource++country-flags/bh.gif"},\n-    "bi": {"name": "Burundi", "flag": "/++resource++country-flags/bi.gif"},\n-    "bj": {"name": "Benin", "flag": "/++resource++country-flags/bj.gif"},\n+    "bh": {"name": "Bahrain", "flag": "countryflag/bh"},\n+    "bi": {"name": "Burundi", "flag": "countryflag/bi"},\n+    "bj": {"name": "Benin", "flag": "countryflag/bj"},\n     "bl": {\n         "name": "Saint Barth\xc3\xa9lemy",\n-        "flag": "/++resource++country-flags/bl.gif",\n+        "flag": "countryflag/bl",\n     },\n-    "bm": {"name": "Bermuda", "flag": "/++resource++country-flags/bm.gif"},\n+    "bm": {"name": "Bermuda", "flag": "countryflag/bm"},\n     "bn": {\n         "name": "Brunei Darussalam",\n-        "flag": "/++resource++country-flags/bn.gif",\n+        "flag": "countryflag/bn",\n     },\n-    "bo": {"name": "Bolivia", "flag": "/++resource++country-flags/bo.gif"},\n+    "bo": {"name": "Bolivia", "flag": "countryflag/bo"},\n     "bq": {\n         "name": "Bonaire, Sint Eustatius and Saba",\n-        "flag": "/++resource++country-flags/bq.gif",\n+        "flag": "countryflag/bq",\n     },\n-    "br": {"name": "Brazil", "flag": "/++resource++country-flags/br.gif"},\n-    "bs": {"name": "Bahamas", "flag": "/++resource++country-flags/bs.gif"},\n-    "bt": {"name": "Bhutan", "flag": "/++resource++country-flags/bt.gif"},\n+    "br": {"name": "Brazil", "flag": "countryflag/br"},\n+    "bs": {"name": "Bahamas", "flag": "countryflag/bs"},\n+    "bt": {"name": "Bhutan", "flag": "countryflag/bt"},\n     "bv": {\n         "name": "Bouvet Island",\n-        "flag": "/++resource++country-flags/bv.gif",\n+        "flag": "countryflag/bv",\n     },\n     "bw": {\n         "name": "Botswana",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n-    "by": {"name": "Belarus", "flag": "/++resource++country-flags/by.gif"},\n-    "bz": {"name": "Belize", "flag": "/++resource++country-flags/bz.gif"},\n-    "ca": {"name": "Canada", "flag": "/++resource++country-flags/ca.gif"},\n+    "by": {"name": "Belarus", "flag": "countryflag/by"},\n+    "bz": {"name": "Belize", "flag": "countryflag/bz"},\n+    "ca": {"name": "Canada", "flag": "countryflag/ca"},\n     "cc": {\n         "name": "Cocos (Keeling) Islands",\n-        "flag": "/++resource++country-flags/cc.gif",\n+        "flag": "countryflag/cc",\n     },\n     "cd": {\n         "name": "Congo The Democratic Republic of",\n-        "flag": "/++resource++country-flags/cd.gif",\n+        "flag": "countryflag/cd",\n     },\n     "cf": {\n         "name": "Central African Republic",\n-        "flag": "/++resource++country-flags/cf.gif",\n+        "flag": "countryflag/cf",\n     },\n-    "cg": {"name": "Congo", "flag": "/++resource++country-flags/cg.gif"},\n+    "cg": {"name": "Congo", "flag": "countryflag/cg"},\n     "ch": {\n         "name": "Switzerland",\n-        "flag": "/++resource++country-flags/ch.gif",\n+        "flag": "countryflag/ch",\n     },\n     "ci": {\n         "name": "Cote d\'Ivoire",\n-        "flag": "/++resource++country-flags/ci.gif",\n+        "flag": "countryflag/ci",\n     },\n     "ck": {\n         "name": "Cook Islands",\n-        "flag": "/++resource++country-flags/ck.gif",\n+        "flag": "countryflag/ck",\n     },\n-    "cl": {"name": "Chile", "flag": "/++resource++country-flags/cl.gif"},\n+    "cl": {"name": "Chile", "flag": "countryflag/cl"},\n     "cm": {\n         "name": "Cameroon",\n-        "flag": "/++resource++country-flags/cm.gif",\n+        "flag": "countryflag/cm",\n     },\n-    "cn": {"name": "China", "flag": "/++resource++country-flags/cn.gif"},\n+    "cn": {"name": "China", "flag": "countryflag/cn"},\n     "co": {\n         "name": "Colombia",\n-        "flag": "/++resource++country-flags/co.gif",\n+        "flag": "countryflag/co",\n     },\n     "cr": {\n         "name": "Costa Rica",\n-        "flag": "/++resource++country-flags/cr.gif",\n+        "flag": "countryflag/cr",\n     },\n     "cs": {\n         "name": "Serbia and Montenegro",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     },\n-    "cu": {"name": "Cuba", "flag": "/++resource++country-flags/cu.gif"},\n+    "cu": {"name": "Cuba", "flag": "countryflag/cu"},\n     "cv": {\n         "name": "Cape Verde",\n-        "flag": "/++resource++country-flags/cv.gif",\n+        "flag": "countryflag/cv",\n     },\n-    "cw": {"name": "Cura\xc3\xa7ao", "flag": "/++resource++country-flags/cw.png"},\n+    "cw": {"name": "Cura\xc3\xa7ao", "flag": "countryflag/cw.png"},\n     "cx": {\n         "name": "Christmas Island",\n-        "flag": "/++resource++country-flags/cx.gif",\n+        "flag": "countryflag/cx",\n     },\n-    "cy": {"name": "Cyprus", "flag": "/++resource++country-flags/cy.gif"},\n+    "cy": {"name": "Cyprus", "flag": "countryflag/cy"},\n     "cz": {\n         "name": "Czech Republic",\n-        "flag": "/++resource++country-flags/cz.gif",\n+        "flag": "countryflag/cz",\n     },\n-    "de": {"name": "Germany", "flag": "/++resource++country-flags/de.gif"},\n+    "de": {"name": "Germany", "flag": "countryflag/de"},\n     "dj": {\n         "name": "Djibouti",\n-        "flag": "/++resource++country-flags/dj.gif",\n+        "flag": "countryflag/dj",\n     },\n-    "dk": {"name": "Denmark", "flag": "/++resource++country-flags/dk.gif"},\n+    "dk": {"name": "Denmark", "flag": "countryflag/dk"},\n     "dm": {\n         "name": "Dominica",\n-        "flag": "/++resource++country-flags/dm.gif",\n+        "flag": "countryflag/dm",\n     },\n     "do": {\n         "name": "Dominican Republic",\n-        "flag": "/++resource++country-flags/do.gif",\n+        "flag": "countryflag/do",\n     },\n-    "dz": {"name": "Algeria", "flag": "/++resource++country-flags/dz.gif"},\n-    "ec": {"name": "Ecuador", "flag": "/++resource++country-flags/ec.gif"},\n-    "ee": {"name": "Estonia", "flag": "/++resource++country-flags/ee.gif"},\n-    "eg": {"name": "Egypt", "flag": "/++resource++country-flags/eg.gif"},\n+    "dz": {"name": "Algeria", "flag": "countryflag/dz"},\n+    "ec": {"name": "Ecuador", "flag": "countryflag/ec"},\n+    "ee": {"name": "Estonia", "flag": "countryflag/ee"},\n+    "eg": {"name": "Egypt", "flag": "countryflag/eg"},\n     "eh": {\n         "name": "Western Sahara",\n-        "flag": "/++resource++country-flags/eh.gif",\n+        "flag": "countryflag/eh",\n     },\n-    "er": {"name": "Eritrea", "flag": "/++resource++country-flags/er.gif"},\n-    "es": {"name": "Spain", "flag": "/++resource++country-flags/es.gif"},\n+    "er": {"name": "Eritrea", "flag": "countryflag/er"},\n+    "es": {"name": "Spain", "flag": "countryflag/es"},\n     "et": {\n         "name": "Ethiopia",\n-        "flag": "/++resource++country-flags/et.gif",\n+        "flag": "countryflag/et",\n     },\n-    "fi": {"name": "Finland", "flag": "/++resource++country-flags/fi.gif"},\n-    "fj": {"name": "Fiji", "flag": "/++resource++country-flags/fj.gif"},\n+    "fi": {"name": "Finland", "flag": "countryflag/fi"},\n+    "fj": {"name": "Fiji", "flag": "countryflag/fj"},\n     "fk": {\n         "name": "Falkland Islands (Malvinas)",\n-        "flag": "/++resource++country-flags/fk.gif",\n+        "flag": "countryflag/fk",\n     },\n     "fm": {\n         "name": "Micronesia Federated States of",\n-        "flag": "/++resource++country-flags/fm.gif",\n+        "flag": "countryflag/fm",\n     },\n     "fo": {\n         "name": "Faroe Islands",\n-        "flag": "/++resource++country-flags/fo.gif",\n+        "flag": "countryflag/fo",\n     },\n-    "fr": {"name": "France", "flag": "/++resource++country-flags/fr.gif"},\n-    "ga": {"name": "Gabon", "flag": "/++resource++country-flags/ga.gif"},\n+    "fr": {"name": "France", "flag": "countryflag/fr"},\n+    "ga": {"name": "Gabon", "flag": "countryflag/ga"},\n     "gb": {\n         "name": "United Kingdom",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n-    "gd": {"name": "Grenada", "flag": "/++resource++country-flags/gd.gif"},\n-    "ge": {"name": "Georgia", "flag": "/++resource++country-flags/ge.gif"},\n+    "gd": {"name": "Grenada", "flag": "countryflag/gd"},\n+    "ge": {"name": "Georgia", "flag": "countryflag/ge"},\n     "gf": {\n         "name": "French Guiana",\n-        "flag": "/++resource++country-flags/gf.gif",\n+        "flag": "countryflag/gf",\n     },\n     "gg": {\n         "name": "Guernsey",\n-        "flag": "/++resource++country-flags/gg.gif",\n+        "flag": "countryflag/gg",\n     },\n-    "gh": {"name": "Ghana", "flag": "/++resource++country-flags/gh.gif"},\n+    "gh": {"name": "Ghana", "flag": "countryflag/gh"},\n     "gi": {\n         "name": "Gibraltar",\n-        "flag": "/++resource++country-flags/gi.gif",\n+        "flag": "countryflag/gi",\n     },\n     "gl": {\n         "name": "Greenland",\n-        "flag": "/++resource++country-flags/gl.gif",\n+        "flag": "countryflag/gl",\n     },\n-    "gm": {"name": "Gambia", "flag": "/++resource++country-flags/gm.gif"},\n-    "gn": {"name": "Guinea", "flag": "/++resource++country-flags/gn.gif"},\n+    "gm": {"name": "Gambia", "flag": "countryflag/gm"},\n+    "gn": {"name": "Guinea", "flag": "countryflag/gn"},\n     "gp": {\n         "name": "Guadeloupe",\n-        "flag": "/++resource++country-flags/gp.gif",\n+        "flag": "countryflag/gp",\n     },\n     "gq": {\n         "name": "Equatorial Guinea",\n-        "flag": "/++resource++country-flags/gq.gif",\n+        "flag": "countryflag/gq",\n     },\n-    "gr": {"name": "Greece", "flag": "/++resource++country-flags/gr.gif"},\n+    "gr": {"name": "Greece", "flag": "countryflag/gr"},\n     "gs": {\n         "name": "South Georgia and the South Sandwich Islands",\n-        "flag": "/++resource++country-flags/gs.gif",\n+        "flag": "countryflag/gs",\n     },\n     "gt": {\n         "name": "Guatemala",\n-        "flag": "/++resource++country-flags/gt.gif",\n+        "flag": "countryflag/gt",\n     },\n-    "gu": {"name": "Guam", "flag": "/++resource++country-flags/gu.gif"},\n+    "gu": {"name": "Guam", "flag": "countryflag/gu"},\n     "gw": {\n         "name": "Guinea-Bissau",\n-        "flag": "/++resource++country-flags/gw.gif",\n+        "flag": "countryflag/gw",\n     },\n-    "gy": {"name": "Guyana", "flag": "/++resource++country-flags/gy.gif"},\n+    "gy": {"name": "Guyana", "flag": "countryflag/gy"},\n     "hk": {\n         "name": "Hong Kong",\n-        "flag": "/++resource++country-flags/hk.gif",\n+        "flag": "countryflag/hk",\n     },\n     "hm": {\n         "name": "Heard Island and McDonald Islands",\n-        "flag": "/++resource++country-flags/hm.gif",\n+        "flag": "countryflag/hm",\n     },\n     "hn": {\n         "name": "Honduras",\n-        "flag": "/++resource++country-flags/hn.gif",\n+        "flag": "countryflag/hn",\n     },\n-    "hr": {"name": "Croatia", "flag": "/++resource++country-flags/hr.gif"},\n-    "ht": {"name": "Haiti", "flag": "/++resource++country-flags/ht.gif"},\n-    "hu": {"name": "Hungary", "flag": "/++resource++country-flags/hu.gif"},\n+    "hr": {"name": "Croatia", "flag": "countryflag/hr"},\n+    "ht": {"name": "Haiti", "flag": "countryflag/ht"},\n+    "hu": {"name": "Hungary", "flag": "countryflag/hu"},\n     "id": {\n         "name": "Indonesia",\n-        "flag": "/++resource++country-flags/id.gif",\n+        "flag": "countryflag/id",\n     },\n-    "ie": {"name": "Ireland", "flag": "/++resource++country-flags/ie.gif"},\n-    "il": {"name": "Israel", "flag": "/++resource++country-flags/il.gif"},\n+    "ie": {"name": "Ireland", "flag": "countryflag/ie"},\n+    "il": {"name": "Israel", "flag": "countryflag/il"},\n     "im": {\n         "name": "Isle of Man",\n-        "flag": "/++resource++country-flags/im.gif",\n+        "flag": "countryflag/im",\n     },\n-    "in": {"name": "India", "flag": "/++resource++country-flags/in.gif"},\n+    "in": {"name": "India", "flag": "countryflag/in"},\n     "io": {\n         "name": "British Indian Ocean Territory",\n-        "flag": "/++resource++country-flags/io.gif",\n+        "flag": "countryflag/io",\n     },\n-    "iq": {"name": "Iraq", "flag": "/++resource++country-flags/iq.gif"},\n+    "iq": {"name": "Iraq", "flag": "countryflag/iq"},\n     "ir": {\n         "name": "Iran Islamic Republic of",\n-        "flag": "/++resource++country-flags/ir.gif",\n-    },\n-    "is": {"name": "Iceland", "flag": "/++resource++country-flags/is.gif"},\n-    "it": {"name": "Italy", "flag": "/++resource++country-flags/it.gif"},\n-    "je": {"name": "Jersey", "flag": "/++resource++country-flags/je.gif"},\n-    "jm": {"name": "Jamaica", "flag": "/++resource++country-flags/jm.gif"},\n-    "jo": {"name": "Jordan", "flag": "/++resource++country-flags/jo.gif"},\n-    "jp": {"name": "Japan", "flag": "/++resource++country-flags/jp.gif"},\n-    "ke": {"name": "Kenya", "flag": "/++resource++country-flags/ke.gif"},\n+        "flag": "countryflag/ir",\n+    },\n+    "is": {"name": "Iceland", "flag": "countryflag/is"},\n+    "it": {"name": "Italy", "flag": "countryflag/it"},\n+    "je": {"name": "Jersey", "flag": "countryflag/je"},\n+    "jm": {"name": "Jamaica", "flag": "countryflag/jm"},\n+    "jo": {"name": "Jordan", "flag": "countryflag/jo"},\n+    "jp": {"name": "Japan", "flag": "countryflag/jp"},\n+    "ke": {"name": "Kenya", "flag": "countryflag/ke"},\n     "kg": {\n         "name": "Kyrgyzstan",\n-        "flag": "/++resource++country-flags/kg.gif",\n+        "flag": "countryflag/kg",\n     },\n     "kh": {\n         "name": "Cambodia",\n-        "flag": "/++resource++country-flags/kh.gif",\n+        "flag": "countryflag/kh",\n     },\n     "ki": {\n         "name": "Kiribati",\n-        "flag": "/++resource++country-flags/ki.gif",\n+        "flag": "countryflag/ki",\n     },\n-    "km": {"name": "Comoros", "flag": "/++resource++country-flags/km.gif"},\n+    "km": {"name": "Comoros", "flag": "countryflag/km"},\n     "kn": {\n         "name": "Saint Kitts and Nevis",\n-        "flag": "/++resource++country-flags/kn.gif",\n+        "flag": "countryflag/kn",\n     },\n     "kp": {\n         "name": "Korea Democratic People\'s Republic of",\n-        "flag": "/++resource++country-flags/kp.gif",\n+        "flag": "countryflag/kp",\n     },\n     "kr": {\n         "name": "Korea Republic of",\n-        "flag": "/++resource++country-flags/kr.gif",\n+        "flag": "countryflag/kr",\n     },\n-    "kw": {"name": "Kuwait", "flag": "/++resource++country-flags/kw.gif"},\n+    "kw": {"name": "Kuwait", "flag": "countryflag/kw"},\n     "ky": {\n         "name": "Cayman Islands",\n-        "flag": "/++resource++country-flags/ky.gif",\n+        "flag": "countryflag/ky",\n     },\n     "kz": {\n         "name": "Kazakhstan",\n-        "flag": "/++resource++country-flags/kz.gif",\n+        "flag": "countryflag/kz",\n     },\n     "la": {\n         "name": "Lao People\'s Democratic Republic",\n-        "flag": "/++resource++country-flags/la.gif",\n+        "flag": "countryflag/la",\n     },\n-    "lb": {"name": "Lebanon", "flag": "/++resource++country-flags/lb.gif"},\n+    "lb": {"name": "Lebanon", "flag": "countryflag/lb"},\n     "lc": {\n         "name": "Saint Lucia",\n-        "flag": "/++resource++country-flags/lc.gif",\n+        "flag": "countryflag/lc",\n     },\n     "li": {\n         "name": "Liechtenstein",\n-        "flag": "/++resource++country-flags/li.gif",\n+        "flag": "countryflag/li",\n     },\n     "lk": {\n         "name": "Sri Lanka",\n-        "flag": "/++resource++country-flags/lk.gif",\n+        "flag": "countryflag/lk",\n     },\n-    "lr": {"name": "Liberia", "flag": "/++resource++country-flags/lr.gif"},\n-    "ls": {"name": "Lesotho", "flag": "/++resource++country-flags/ls.gif"},\n+    "lr": {"name": "Liberia", "flag": "countryflag/lr"},\n+    "ls": {"name": "Lesotho", "flag": "countryflag/ls"},\n     "lt": {\n         "name": "Lithuania",\n-        "flag": "/++resource++country-flags/lt.gif",\n+        "flag": "countryflag/lt",\n     },\n     "lu": {\n         "name": "Luxembourg",\n-        "flag": "/++resource++country-flags/lu.gif",\n+        "flag": "countryflag/lu",\n     },\n-    "lv": {"name": "Latvia", "flag": "/++resource++country-flags/lv.gif"},\n+    "lv": {"name": "Latvia", "flag": "countryflag/lv"},\n     "ly": {\n         "name": "Libyan Arab Jamahiriya",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n-    "ma": {"name": "Morocco", "flag": "/++resource++country-flags/ma.gif"},\n-    "mc": {"name": "Monaco", "flag": "/++resource++country-flags/mc.gif"},\n+    "ma": {"name": "Morocco", "flag": "countryflag/ma"},\n+    "mc": {"name": "Monaco", "flag": "countryflag/mc"},\n     "md": {\n         "name": "Moldova Republic of",\n-        "flag": "/++resource++country-flags/md.gif",\n+        "flag": "countryflag/md",\n     },\n     "me": {\n         "name": "Montenegro",\n-        "flag": "/++resource++country-flags/me.gif",\n+        "flag": "countryflag/me",\n     },\n     "mf": {\n         "name": "Saint Martin (French part)",\n-        "flag": "/++resource++country-flags/mf.png",\n+        "flag": "countryflag/mf.png",\n     },\n     "mg": {\n         "name": "Madagascar",\n-        "flag": "/++resource++country-flags/mg.gif",\n+        "flag": "countryflag/mg",\n     },\n     "mh": {\n         "name": "Marshall Islands",\n-        "flag": "/++resource++country-flags/mh.gif",\n+        "flag": "countryflag/mh",\n     },\n     "mk": {\n         "name": "Macedonia the former Yugoslavian Republic of",\n-        "flag": "/++resource++country-flags/mk.gif",\n+        "flag": "countryflag/mk",\n     },\n-    "ml": {"name": "Mali", "flag": "/++resource++country-flags/ml.gif"},\n-    "mm": {"name": "Myanmar", "flag": "/++resource++country-flags/mm.gif"},\n+    "ml": {"name": "Mali", "flag": "countryflag/ml"},\n+    "mm": {"name": "Myanmar", "flag": "countryflag/mm"},\n     "mn": {\n         "name": "Mongolia",\n-        "flag": "/++resource++country-flags/mn.gif",\n+        "flag": "countryflag/mn",\n     },\n-    "mo": {"name": "Macao", "flag": "/++resource++country-flags/mo.gif"},\n+    "mo": {"name": "Macao", "flag": "countryflag/mo"},\n     "mp": {\n         "name": "Northern Mariana Islands",\n-        "flag": "/++resource++country-flags/mp.gif",\n+        "flag": "countryflag/mp",\n     },\n     "mq": {\n         "name": "Martinique",\n-        "flag": "/++resource++country-flags/mq.gif",\n+        "flag": "countryflag/mq",\n     },\n     "mr": {\n         "name": "Mauritania",\n-        "flag": "/++resource++country-flags/mr.gif",\n+        "flag": "countryflag/mr",\n     },\n     "ms": {\n         "name": "Montserrat",\n-        "flag": "/++resource++country-flags/ms.gif",\n+        "flag": "countryflag/ms",\n     },\n-    "mt": {"name": "Malta", "flag": "/++resource++country-flags/mt.gif"},\n+    "mt": {"name": "Malta", "flag": "countryflag/mt"},\n     "mu": {\n         "name": "Mauritius",\n-        "flag": "/++resource++country-flags/mu.gif",\n+        "flag": "countryflag/mu",\n     },\n     "mv": {\n         "name": "Maldives",\n-        "flag": "/++resource++country-flags/mv.gif",\n+        "flag": "countryflag/mv",\n     },\n-    "mw": {"name": "Malawi", "flag": "/++resource++country-flags/mw.gif"},\n-    "mx": {"name": "Mexico", "flag": "/++resource++country-flags/mx.gif"},\n+    "mw": {"name": "Malawi", "flag": "countryflag/mw"},\n+    "mx": {"name": "Mexico", "flag": "countryflag/mx"},\n     "my": {\n         "name": "Malaysia",\n-        "flag": "/++resource++country-flags/my.gif",\n+        "flag": "countryflag/my",\n     },\n     "mz": {\n         "name": "Mozambique",\n-        "flag": "/++resource++country-flags/mz.gif",\n+        "flag": "countryflag/mz",\n     },\n-    "na": {"name": "Namibia", "flag": "/++resource++country-flags/na.gif"},\n+    "na": {"name": "Namibia", "flag": "countryflag/na"},\n     "nc": {\n         "name": "New Caledonia",\n-        "flag": "/++resource++country-flags/nc.gif",\n+        "flag": "countryflag/nc",\n     },\n-    "ne": {"name": "Niger", "flag": "/++resource++country-flags/ne.gif"},\n+    "ne": {"name": "Niger", "flag": "countryflag/ne"},\n     "nf": {\n         "name": "Norfolk Island",\n-        "flag": "/++resource++country-flags/nf.gif",\n+        "flag": "countryflag/nf",\n     },\n-    "ng": {"name": "Nigeria", "flag": "/++resource++country-flags/ng.gif"},\n+    "ng": {"name": "Nigeria", "flag": "countryflag/ng"},\n     "ni": {\n         "name": "Nicaragua",\n-        "flag": "/++resource++country-flags/ni.gif",\n+        "flag": "countryflag/ni",\n     },\n     "nl": {\n         "name": "Netherlands",\n-        "flag": "/++resource++country-flags/nl.gif",\n+        "flag": "countryflag/nl",\n     },\n-    "no": {"name": "Norway", "flag": "/++resource++country-flags/no.gif"},\n-    "np": {"name": "Nepal", "flag": "/++resource++country-flags/np.gif"},\n-    "nr": {"name": "Nauru", "flag": "/++resource++country-flags/nr.gif"},\n-    "nu": {"name": "Niue", "flag": "/++resource++country-flags/nu.gif"},\n+    "no": {"name": "Norway", "flag": "countryflag/no"},\n+    "np": {"name": "Nepal", "flag": "countryflag/np"},\n+    "nr": {"name": "Nauru", "flag": "countryflag/nr"},\n+    "nu": {"name": "Niue", "flag": "countryflag/nu"},\n     "nz": {\n         "name": "New Zealand",\n-        "flag": "/++resource++country-flags/nz.gif",\n+        "flag": "countryflag/nz",\n     },\n-    "om": {"name": "Oman", "flag": "/++resource++country-flags/om.gif"},\n-    "pa": {"name": "Panama", "flag": "/++resource++country-flags/pa.gif"},\n-    "pe": {"name": "Peru", "flag": "/++resource++country-flags/pe.gif"},\n+    "om": {"name": "Oman", "flag": "countryflag/om"},\n+    "pa": {"name": "Panama", "flag": "countryflag/pa"},\n+    "pe": {"name": "Peru", "flag": "countryflag/pe"},\n     "pf": {\n         "name": "French Polynesia",\n-        "flag": "/++resource++country-flags/pf.gif",\n+        "flag": "countryflag/pf",\n     },\n     "pg": {\n         "name": "Papua New Guinea",\n-        "flag": "/++resource++country-flags/pg.gif",\n+        "flag": "countryflag/pg",\n     },\n     "ph": {\n         "name": "Philippines",\n-        "flag": "/++resource++country-flags/ph.gif",\n+        "flag": "countryflag/ph",\n     },\n     "pk": {\n         "name": "Pakistan",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n-    "pl": {"name": "Poland", "flag": "/++resource++country-flags/pl.gif"},\n+    "pl": {"name": "Poland", "flag": "countryflag/pl"},\n     "pm": {\n         "name": "Saint Pierre and Miquelon",\n-        "flag": "/++resource++country-flags/pm.gif",\n+        "flag": "countryflag/pm",\n     },\n     "pn": {\n         "name": "Pitcairn",\n-        "flag": "/++resource++country-flags/pn.gif",\n+        "flag": "countryflag/pn",\n     },\n     "pr": {\n         "name": "Puerto Rico",\n-        "flag": "/++resource++country-flags/pr.gif",\n+        "flag": "countryflag/pr",\n     },\n     "ps": {\n         "name": "Palestinian Territory occupied",\n-        "flag": "/++resource++country-flags/ps.gif",\n+        "flag": "countryflag/ps",\n     },\n     "pt": {\n         "name": "Portugal",\n-        "flag": "/++resource++country-flags/pt.gif",\n+        "flag": "countryflag/pt",\n     },\n-    "pw": {"name": "Palau", "flag": "/++resource++country-flags/pw.gif"},\n+    "pw": {"name": "Palau", "flag": "countryflag/pw"},\n     "py": {\n         "name": "Paraguay",\n-        "flag": "/++resource++country-flags/py.gif",\n+        "flag": "countryflag/py",\n     },\n-    "qa": {"name": "Qatar", "flag": "/++resource++country-flags/qa.gif"},\n-    "re": {"name": "Reunion", "flag": "/++resource++country-flags/re.gif"},\n-    "ro": {"name": "Romania", "flag": "/++resource++country-flags/ro.gif"},\n-    "rs": {"name": "Serbia", "flag": "/++resource++country-flags/rs.gif"},\n+    "qa": {"name": "Qatar", "flag": "countryflag/qa"},\n+    "re": {"name": "Reunion", "flag": "countryflag/re"},\n+    "ro": {"name": "Romania", "flag": "countryflag/ro"},\n+    "rs": {"name": "Serbia", "flag": "countryflag/rs"},\n     "ru": {\n         "name": "Russian Federation",\n-        "flag": "/++resource++country-flags/ru.gif",\n+        "flag": "countryflag/ru",\n     },\n-    "rw": {"name": "Rwanda", "flag": "/++resource++country-flags/rw.gif"},\n+    "rw": {"name": "Rwanda", "flag": "countryflag/rw"},\n     "sa": {\n         "name": "Saudi Arabia",\n-        "flag": "/++resource++country-flags/sa.gif",\n+        "flag": "countryflag/sa",\n     },\n     "sb": {\n         "name": "Solomon Islands",\n-        "flag": "/++resource++country-flags/sb.gif",\n+        "flag": "countryflag/sb",\n     },\n     "sc": {\n         "name": "Seychelles",\n-        "flag": "/++resource++country-flags/sc.gif",\n+        "flag": "countryflag/sc",\n     },\n-    "sd": {"name": "Sudan", "flag": "/++resource++country-flags/sd.gif"},\n-    "se": {"name": "Sweden", "flag": "/++resource++country-flags/se.gif"},\n+    "sd": {"name": "Sudan", "flag": "countryflag/sd"},\n+    "se": {"name": "Sweden", "flag": "countryflag/se"},\n     "sg": {\n         "name": "Singapore",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "sh": {\n         "name": "Saint Helena",\n-        "flag": "/++resource++country-flags/sh.gif",\n+        "flag": "countryflag/sh",\n     },\n     "si": {\n         "name": "Slovenia",\n-        "flag": "/++resource++country-flags/si.gif",\n+        "flag": "countryflag/si",\n     },\n     "sj": {\n         "name": "Svalbard and Jan Mayen",\n-        "flag": "/++resource++country-flags/sj.gif",\n+        "flag": "countryflag/sj",\n     },\n     "sk": {\n         "name": "Slovakia",\n-        "flag": "/++resource++country-flags/sk.gif",\n+        "flag": "countryflag/sk",\n     },\n     "sl": {\n         "name": "Sierra Leone",\n-        "flag": "/++resource++country-flags/sl.gif",\n+        "flag": "countryflag/sl",\n     },\n     "sm": {\n         "name": "San Marino",\n-        "flag": "/++resource++country-flags/sm.gif",\n+        "flag": "countryflag/sm",\n     },\n-    "sn": {"name": "Senegal", "flag": "/++resource++country-flags/sn.gif"},\n-    "so": {"name": "Somalia", "flag": "/++resource++country-flags/so.gif"},\n+    "sn": {"name": "Senegal", "flag": "countryflag/sn"},\n+    "so": {"name": "Somalia", "flag": "countryflag/so"},\n     "sr": {\n         "name": "Suriname",\n-        "flag": "/++resource++country-flags/sr.gif",\n+        "flag": "countryflag/sr",\n     },\n     "ss": {\n         "name": "South Sudan",\n-        "flag": "/++resource++country-flags/ss.png",\n+        "flag": "countryflag/ss.png",\n     },\n     "st": {\n         "name": "Sao Tome and Principe",\n-        "flag": "/++resource++country-flags/st.gif",\n+        "flag": "countryflag/st",\n     },\n     "sv": {\n         "name": "El Salvador",\n-        "flag": "/++resource++country-flags/sv.gif",\n+        "flag": "countryflag/sv",\n     },\n     "sx": {\n         "name": "Sint Maarten (Dutch part)",\n-        "flag": "/++resource++country-flags/sx.png",\n+        "flag": "countryflag/sx.png",\n     },\n     "sy": {\n         "name": "Syrian Arab Republic",\n-        "flag": "/++resource++country-flags/sy.gif",\n+        "flag": "countryflag/sy",\n     },\n     "sz": {\n         "name": "Swaziland",\n-        "flag": "/++resource++country-flags/sz.gif",\n+        "flag": "countryflag/sz",\n     },\n     "tc": {\n         "name": "Turks and Caicos Islands",\n-        "flag": "/++resource++country-flags/tc.gif",\n+        "flag": "countryflag/tc",\n     },\n-    "td": {"name": "Chad", "flag": "/++resource++country-flags/td.gif"},\n+    "td": {"name": "Chad", "flag": "countryflag/td"},\n     "tf": {\n         "name": "French Southern Territories",\n-        "flag": "/++resource++country-flags/tf.gif",\n+        "flag": "countryflag/tf",\n     },\n-    "tg": {"name": "Togo", "flag": "/++resource++country-flags/tg.gif"},\n+    "tg": {"name": "Togo", "flag": "countryflag/tg"},\n     "th": {\n         "name": "Thailand",\n-        "flag": "/++resource++country-flags/th.gif",\n+        "flag": "countryflag/th",\n     },\n     "tj": {\n         "name": "Tajikistan",\n-        "flag": "/++resource++country-flags/tj.gif",\n+        "flag": "countryflag/tj",\n     },\n-    "tk": {"name": "Tokelau", "flag": "/++resource++country-flags/tk.gif"},\n+    "tk": {"name": "Tokelau", "flag": "countryflag/tk"},\n     "tl": {\n         "name": "Timor-Leste",\n-        "flag": "/++resource++country-flags/tl.gif",\n+        "flag": "countryflag/tl",\n     },\n     "tm": {\n         "name": "Turkmenistan",\n-        "flag": "/++resource++country-flags/tm.gif",\n+        "flag": "countryflag/tm",\n     },\n-    "tn": {"name": "Tunisia", "flag": "/++resource++country-flags/tn.gif"},\n-    "to": {"name": "Tonga", "flag": "/++resource++country-flags/to.gif"},\n-    "tr": {"name": "Turkey", "flag": "/++resource++country-flags/tr.gif"},\n+    "tn": {"name": "Tunisia", "flag": "countryflag/tn"},\n+    "to": {"name": "Tonga", "flag": "countryflag/to"},\n+    "tr": {"name": "Turkey", "flag": "countryflag/tr"},\n     "tt": {\n         "name": "Trinidad and Tobago",\n-        "flag": "/++resource++country-flags/tt.gif",\n+        "flag": "countryflag/tt",\n     },\n-    "tv": {"name": "Tuvalu", "flag": "/++resource++country-flags/tv.gif"},\n-    "tw": {"name": "Taiwan", "flag": "/++resource++country-flags/tw.gif"},\n+    "tv": {"name": "Tuvalu", "flag": "countryflag/tv"},\n+    "tw": {"name": "Taiwan", "flag": "countryflag/tw"},\n     "tz": {\n         "name": "Tanzania United Republic of",\n-        "flag": "/++resource++country-flags/tz.gif",\n+        "flag": "countryflag/tz",\n     },\n-    "ua": {"name": "Ukraine", "flag": "/++resource++country-flags/ua.gif"},\n-    "ug": {"name": "Uganda", "flag": "/++resource++country-flags/ug.gif"},\n+    "ua": {"name": "Ukraine", "flag": "countryflag/ua"},\n+    "ug": {"name": "Uganda", "flag": "countryflag/ug"},\n     "um": {\n         "name": "United States Minor Outlying Islands",\n-        "flag": "/++resource++country-flags/um.gif",\n+        "flag": "countryflag/um",\n     },\n     "us": {\n         "name": "United States",\n-        "flag": "/++resource++country-flags/us.gif",\n+        "flag": "countryflag/us",\n     },\n-    "uy": {"name": "Uruguay", "flag": "/++resource++country-flags/uy.gif"},\n+    "uy": {"name": "Uruguay", "flag": "countryflag/uy"},\n     "uz": {\n         "name": "Uzbekistan",\n-        "flag": "/++resource++country-flags/uz.gif",\n+        "flag": "countryflag/uz",\n     },\n     "va": {\n         "name": "Holy See (Vatican City State)",\n-        "flag": "/++resource++country-flags/va.gif",\n+        "flag": "countryflag/va",\n     },\n     "vc": {\n         "name": "Saint Vincent and the Grenadines",\n-        "flag": "/++resource++country-flags/vc.gif",\n+        "flag": "countryflag/vc",\n     },\n     "ve": {\n         "name": "Venezuela",\n-        "flag": "/++resource++country-flags/ve.gif",\n+        "flag": "countryflag/ve",\n     },\n     "vg": {\n         "name": "Virgin Islands British",\n-        "flag": "/++resource++country-flags/vg.gif",\n+        "flag": "countryflag/vg",\n     },\n     "vi": {\n         "name": "Virgin Islands U.S.",\n-        "flag": "/++resource++country-flags/vi.gif",\n+        "flag": "countryflag/vi",\n     },\n     "vn": {\n         "name": "Viet Nam",\n-        "flag": "/++resource++country-flags/vn.gif",\n+        "flag": "countryflag/vn",\n     },\n-    "vu": {"name": "Vanuatu", "flag": "/++resource++country-flags/vu.gif"},\n+    "vu": {"name": "Vanuatu", "flag": "countryflag/vu"},\n     "wf": {\n         "name": "Wallis and Futuna",\n-        "flag": "/++resource++country-flags/wf.gif",\n+        "flag": "countryflag/wf",\n     },\n-    "ws": {"name": "Samoa", "flag": "/++resource++country-flags/ws.gif"},\n-    "ye": {"name": "Yemen", "flag": "/++resource++country-flags/ye.gif"},\n-    "yt": {"name": "Mayotte", "flag": "/++resource++country-flags/yt.gif"},\n+    "ws": {"name": "Samoa", "flag": "countryflag/ws"},\n+    "ye": {"name": "Yemen", "flag": "countryflag/ye"},\n+    "yt": {"name": "Mayotte", "flag": "countryflag/yt"},\n     "za": {\n         "name": "South Africa",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n-    "zm": {"name": "Zambia", "flag": "/++resource++country-flags/zm.gif"},\n+    "zm": {"name": "Zambia", "flag": "countryflag/zm"},\n     "zw": {\n         "name": "Zimbabwe",\n-        "flag": "/++resource++country-flags/zw.gif",\n+        "flag": "countryflag/zw",\n     },\n-    "xk": {"name": "Kosovo", "flag": "/++resource++country-flags/xk.gif"},\n+    "xk": {"name": "Kosovo", "flag": "countryflag/xk"},\n }\n-\n-# convert the utf-8 encoded values to unicode\n-for code in _countrylist:\n-    value = _countrylist[code]\n-    if "name" in value:\n-        value["name"] = value["name"]\ndiff --git a/plone/i18n/tests/test_negotiation.py b/plone/i18n/tests/test_negotiation.py\nindex bcaa9ff..4bf4b1e 100644\n--- a/plone/i18n/tests/test_negotiation.py\n+++ b/plone/i18n/tests/test_negotiation.py\n@@ -34,7 +34,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "en")\n \n@@ -56,7 +56,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt")\n \n@@ -64,7 +64,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "de"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "de")\n \n@@ -73,7 +73,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt-br"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt")\n \n@@ -96,7 +96,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt")\n \n@@ -104,7 +104,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "de"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "de")\n \n@@ -113,7 +113,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt-br"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt-br")\n \n@@ -122,7 +122,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "de-de"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "de")\n \n@@ -169,9 +169,7 @@ def testContentObjectVHMPortal(self):\n         self.assertEqual(doc.Language(), "nl")\n         docpath = "/".join(self.portal.portal_url.getRelativeContentPath(doc))\n         response = self.publish(\n-            vhmBasePath + docpath,\n-            self.basic_auth,\n-            handle_errors=False\n+            vhmBasePath + docpath, self.basic_auth, handle_errors=False\n         )\n         self.checkLanguage(response, "nl")\n \n'

Repository: plone.i18n


Branch: refs/heads/master
Date: 2022-05-20T17:06:30+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.i18n/commit/bbfc4673511cbef7d011dfba5e280206c654cda1

overhaul, optimize imports

Files changed:
M plone/i18n/configure.zcml
M plone/i18n/locales/cctld.py
M plone/i18n/locales/countries.py
M plone/i18n/locales/languages.py
M plone/i18n/negotiate/negotiate.py
M plone/i18n/normalizer/__init__.py
M plone/i18n/normalizer/adapters.py
M plone/i18n/normalizer/bg.py
M plone/i18n/normalizer/tests/test_normalizer.py
M plone/i18n/tests/base.py
M plone/i18n/utility.py
M setup.py

b'diff --git a/plone/i18n/configure.zcml b/plone/i18n/configure.zcml\nindex 5e67140..2c98c55 100644\n--- a/plone/i18n/configure.zcml\n+++ b/plone/i18n/configure.zcml\n@@ -5,7 +5,7 @@\n \n     <include package=".locales" />\n     <include package=".normalizer" />\n-    \n+\n     <utility factory=".utility.LanguageUtility"/>\n     <adapter for="* *" factory=".negotiate.negotiate.NegotiateLanguage"/>\n \ndiff --git a/plone/i18n/locales/cctld.py b/plone/i18n/locales/cctld.py\nindex 3b9e545..7a11868 100644\n--- a/plone/i18n/locales/cctld.py\n+++ b/plone/i18n/locales/cctld.py\n@@ -6,7 +6,7 @@\n # Descriptions for most TLDs a can be found at\n # http://en.wikipedia.org/wiki/List_of_Internet_top-level_domains\n \n-from plone.i18n.locales.interfaces import ICcTLDInformation\n+from .interfaces import ICcTLDInformation\n from zope.interface import implementer\n \n \ndiff --git a/plone/i18n/locales/countries.py b/plone/i18n/locales/countries.py\nindex 5f7e203..af2226f 100644\n--- a/plone/i18n/locales/countries.py\n+++ b/plone/i18n/locales/countries.py\n@@ -1,4 +1,4 @@\n-from plone.i18n.locales.interfaces import ICountryAvailability\n+from .interfaces import ICountryAvailability\n from zope.interface import implementer\n \n \ndiff --git a/plone/i18n/locales/languages.py b/plone/i18n/locales/languages.py\nindex eed7109..6a79152 100644\n--- a/plone/i18n/locales/languages.py\n+++ b/plone/i18n/locales/languages.py\n@@ -1,6 +1,6 @@\n-from plone.i18n.locales.interfaces import IContentLanguageAvailability\n-from plone.i18n.locales.interfaces import ILanguageAvailability\n-from plone.i18n.locales.interfaces import IMetadataLanguageAvailability\n+from .interfaces import IContentLanguageAvailability\n+from .interfaces import ILanguageAvailability\n+from .interfaces import IMetadataLanguageAvailability\n from zope.interface import implementer\n \n import os\ndiff --git a/plone/i18n/negotiate/negotiate.py b/plone/i18n/negotiate/negotiate.py\nindex 1d56fdb..fb20205 100644\n--- a/plone/i18n/negotiate/negotiate.py\n+++ b/plone/i18n/negotiate/negotiate.py\n@@ -1,5 +1,5 @@\n-from plone.i18n.interfaces import ILanguageUtility\n-from plone.i18n.interfaces import INegotiateLanguage\n+from ..interfaces import ILanguageUtility\n+from ..interfaces import INegotiateLanguage\n from zope.component import getUtility\n from zope.interface import implementer\n \ndiff --git a/plone/i18n/normalizer/__init__.py b/plone/i18n/normalizer/__init__.py\nindex ca90554..2566f58 100644\n--- a/plone/i18n/normalizer/__init__.py\n+++ b/plone/i18n/normalizer/__init__.py\n@@ -1,7 +1,7 @@\n-from plone.i18n.normalizer.base import baseNormalize\n-from plone.i18n.normalizer.interfaces import IFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IIDNormalizer\n-from plone.i18n.normalizer.interfaces import IURLNormalizer\n+from .base import baseNormalize\n+from .interfaces import IFileNameNormalizer\n+from .interfaces import IIDNormalizer\n+from .interfaces import IURLNormalizer\n from zope.component import queryUtility\n from zope.interface import implementer\n \ndiff --git a/plone/i18n/normalizer/adapters.py b/plone/i18n/normalizer/adapters.py\nindex 211881d..27bb176 100644\n--- a/plone/i18n/normalizer/adapters.py\n+++ b/plone/i18n/normalizer/adapters.py\n@@ -1,7 +1,7 @@\n-from plone.i18n.normalizer.interfaces import IFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IURLNormalizer\n-from plone.i18n.normalizer.interfaces import IUserPreferredFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IUserPreferredURLNormalizer\n+from .interfaces import IFileNameNormalizer\n+from .interfaces import IURLNormalizer\n+from .interfaces import IUserPreferredFileNameNormalizer\n+from .interfaces import IUserPreferredURLNormalizer\n from zope.component import queryUtility\n from zope.i18n.interfaces import IUserPreferredLanguages\n from zope.interface import implementer\ndiff --git a/plone/i18n/normalizer/bg.py b/plone/i18n/normalizer/bg.py\nindex 97bf74c..7a70423 100644\n--- a/plone/i18n/normalizer/bg.py\n+++ b/plone/i18n/normalizer/bg.py\n@@ -1,5 +1,5 @@\n-from plone.i18n.normalizer.base import mapUnicode\n-from plone.i18n.normalizer.interfaces import INormalizer\n+from .base import mapUnicode\n+from .interfaces import INormalizer\n from zope.interface import implementer\n \n \ndiff --git a/plone/i18n/normalizer/tests/test_normalizer.py b/plone/i18n/normalizer/tests/test_normalizer.py\nindex 802a1c9..2fdfa25 100644\n--- a/plone/i18n/normalizer/tests/test_normalizer.py\n+++ b/plone/i18n/normalizer/tests/test_normalizer.py\n@@ -1,9 +1,9 @@\n+from ..interfaces import IFileNameNormalizer\n+from ..interfaces import IIDNormalizer\n+from ..interfaces import IURLNormalizer\n from .base import setUp as configurationSetUp\n from .base import tearDown\n from doctest import DocTestSuite\n-from plone.i18n.normalizer.interfaces import IFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IIDNormalizer\n-from plone.i18n.normalizer.interfaces import IURLNormalizer\n from zope.component import queryUtility\n \n import doctest\ndiff --git a/plone/i18n/tests/base.py b/plone/i18n/tests/base.py\nindex 241ce11..b332467 100644\n--- a/plone/i18n/tests/base.py\n+++ b/plone/i18n/tests/base.py\n@@ -1,10 +1,12 @@\n-from plone.app import testing\n from plone.app.contenttypes.testing import PLONE_APP_CONTENTTYPES_FIXTURE\n from plone.app.testing import bbb\n+from plone.app.testing import FunctionalTesting\n from plone.app.testing import PloneSandboxLayer\n from plone.testing import z2\n \n \n+# XXX: testing with dependency indirection!\n+\n class PloneI18nLayer(PloneSandboxLayer):\n \n     defaultBases = (PLONE_APP_CONTENTTYPES_FIXTURE,)\n@@ -19,7 +21,7 @@ def setUpZope(self, app, configurationContext):\n \n \n PLT_FIXTURE = PloneI18nLayer()\n-PLT_FUNCTIONAL_TESTING = testing.FunctionalTesting(\n+PLT_FUNCTIONAL_TESTING = FunctionalTesting(\n     bases=(PLT_FIXTURE,), name="Plonei18nTestCase:Functional"\n )\n \ndiff --git a/plone/i18n/utility.py b/plone/i18n/utility.py\nindex d852041..3edb45b 100644\n--- a/plone/i18n/utility.py\n+++ b/plone/i18n/utility.py\n@@ -1,20 +1,19 @@\n+from .interfaces import ILanguageSchema\n+from .interfaces import ILanguageUtility\n+from .interfaces import INegotiateLanguage\n+from .locales.interfaces import ICcTLDInformation\n+from .locales.interfaces import IContentLanguageAvailability\n+from .locales.interfaces import ICountryAvailability\n+from .negotiate.ptsnegotiator import registerLangPrefsMethod\n from AccessControl import ClassSecurityInfo\n from AccessControl import getSecurityManager\n from operator import itemgetter\n-from plone.i18n.interfaces import ILanguageSchema\n-from plone.i18n.interfaces import ILanguageUtility\n-from plone.i18n.interfaces import INegotiateLanguage\n-from plone.i18n.locales.interfaces import ICcTLDInformation\n-from plone.i18n.locales.interfaces import IContentLanguageAvailability\n-from plone.i18n.locales.interfaces import ICountryAvailability\n-from plone.i18n.negotiate.ptsnegotiator import registerLangPrefsMethod\n from plone.registry.interfaces import IRegistry\n from Products.CMFCore.interfaces import IDublinCore\n from Products.SiteAccess.VirtualHostMonster import VirtualHostMonster\n from ZODB.POSException import ConflictError\n from zope.component import getMultiAdapter\n from zope.component import getUtility\n-from zope.component import queryUtility\n from zope.component.hooks import getSite\n from zope.globalrequest import getRequest\n from zope.interface import implementer\n@@ -113,20 +112,18 @@ def listSupportedLanguages(self):\n \n     def getAvailableLanguages(self):\n         """Returns the dictionary of available languages."""\n-        util = queryUtility(IContentLanguageAvailability)\n+        util = getUtility(IContentLanguageAvailability)\n         if self.settings.use_combined_language_codes:\n-            languages = util.getLanguages(combined=True)\n-        else:\n-            languages = util.getLanguages()\n-        return languages\n+            return util.getLanguages(combined=True)\n+        return util.getLanguages()\n \n     def getCcTLDInformation(self):\n-        util = queryUtility(ICcTLDInformation)\n+        util = getUtility(ICcTLDInformation)\n         return util.getTLDs()\n \n     def listAvailableLanguages(self):\n         """Returns sorted list of available languages (code, name)."""\n-        util = queryUtility(IContentLanguageAvailability)\n+        util = getUtility(IContentLanguageAvailability)\n         if self.use_combined_language_codes:\n             languages = util.getLanguageListing(combined=True)\n         else:\n@@ -152,7 +149,7 @@ def listAvailableLanguageInformation(self):\n \n     def getAvailableLanguageInformation(self):\n         """Returns the dictionary of available languages."""\n-        util = queryUtility(IContentLanguageAvailability)\n+        util = getUtility(IContentLanguageAvailability)\n         if self.use_combined_language_codes:\n             languages = util.getLanguages(combined=True)\n         else:\n@@ -160,10 +157,7 @@ def getAvailableLanguageInformation(self):\n \n         for lang in languages:\n             languages[lang]["code"] = lang\n-            if lang in self.supported_langs:\n-                languages[lang]["selected"] = True\n-            else:\n-                languages[lang]["selected"] = False\n+            languages[lang]["selected"] = lang in self.supported_langs\n         return languages\n \n     def getDefaultLanguage(self):\n@@ -177,16 +171,16 @@ def setDefaultLanguage(self, langCode):\n             if len(self.settings.available_languages) > 0:\n                 self.settings.default_language = self.settings.available_languages[\n                     0\n-                ]  # noqa\n+                ]\n             return\n         self.settings.default_language = langCode\n \n     def getNameForLanguageCode(self, langCode):\n         """Returns the name for a language code."""\n         info = self.getAvailableLanguageInformation().get(langCode, None)\n-        if info is not None:\n-            return info.get("name", None)\n-        return None\n+        if info is None:\n+            return None\n+        return info.get("name", None)\n \n     def getFlagForLanguageCode(self, langCode):\n         """Returns the name of the flag for a language code."""\n@@ -238,8 +232,6 @@ def getPreferredLanguage(self, request=None):\n         if lb[0]:\n             if not self.settings.use_combined_language_codes:\n                 return lb[0].split("-")[0]\n-            else:\n-                return lb[0]\n             return lb[0]\n         # this is the default language\n         return lb[1]\n@@ -298,8 +290,7 @@ def getContentLanguage(self, request):\n                         continue\n                     if lang in self.getSupportedLanguages():\n                         return lang\n-                    else:\n-                        return None\n+                    return None\n         except ConflictError:\n             raise\n         except:\n@@ -407,12 +398,12 @@ def getLanguageBindings(self, request):\n \n     def getAvailableCountries(self):\n         """Returns the dictionary of available countries."""\n-        util = queryUtility(ICountryAvailability)\n+        util = getUtility(ICountryAvailability)\n         return util.getCountries()\n \n     def listAvailableCountries(self):\n         """Returns the sorted list of available countries (code, name)."""\n-        util = queryUtility(ICountryAvailability)\n+        util = getUtility(ICountryAvailability)\n         countries = util.getCountryListing()\n         countries.sort(lambda x, y: cmp(x[1], y[1]))\n         return countries\ndiff --git a/setup.py b/setup.py\nindex f20c71b..a6bfab6 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -15,7 +15,7 @@\n         "Framework :: Plone",\n         "Framework :: Plone :: 6.0",\n         "Framework :: Plone :: Core",\n-        "Framework :: Zope :: 4",\n+        "Framework :: Zope :: 5",\n         "License :: OSI Approved :: GNU General Public License v2 (GPLv2)",\n         "Operating System :: OS Independent",\n         "Programming Language :: Python",\n@@ -25,37 +25,23 @@\n     ],\n     keywords="i18n l10n Plone",\n     author="Plone Foundation",\n-    author_email="plone-developers@lists.sourceforge.net",\n-    url="https://pypi.org/project/plone.i18n",\n+    author_email="releaseteam@plone.org",\n+    url="https://github.com/plone/plone.i18n",\n     license="GPL version 2",\n     packages=find_packages(),\n     namespace_packages=["plone"],\n     include_package_data=True,\n     zip_safe=False,\n     install_requires=[\n-        "AccessControl",\n-        "Products.CMFCore",\n-        "plone.supermodel",\n+        "plone.base",\n         "setuptools",\n         "Unidecode>=1.0.22",\n-        "ZODB",\n-        "zope.component",\n-        "zope.i18n",\n-        "zope.i18nmessageid",\n-        "zope.interface",\n-        "zope.publisher",\n-        "zope.schema",\n         "zope.globalrequest",\n-        "Zope",\n     ],\n     extras_require=dict(\n         test=[\n-            "plone.app.contenttypes",\n+            "plone.app.contenttypes[testing]",\n             "plone.app.testing",\n-            "plone.registry",\n-            "zope.browserresource",\n-            "zope.component [zcml]",\n-            "zope.configuration",\n             "zope.testing",\n         ],\n     ),\n'

Repository: plone.i18n


Branch: refs/heads/master
Date: 2022-05-20T17:19:53+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.i18n/commit/d8914e178a51f59076ea4bf972b7c338de135652

more flags

Files changed:
M plone/i18n/locales/languages.py
M plone/i18n/locales/tests/test_countries.py
M plone/i18n/locales/tests/test_languages.py

b'diff --git a/plone/i18n/locales/languages.py b/plone/i18n/locales/languages.py\nindex 6a79152..e86fa0d 100644\n--- a/plone/i18n/locales/languages.py\n+++ b/plone/i18n/locales/languages.py\n@@ -52,7 +52,7 @@ class MetadataLanguageAvailability(LanguageAvailability):\n # \'langcode-variation\' : {\n #     u\'native\' : \'Native name\',\n #     u\'name\' : \'English name\',\n-#     u\'flag\' : u\'/++resource++country-flags/*.gif\'\n+#     u\'flag\' : u\'countryflag/*.gif\'\n # }\n #\n # This list follows ISO-639-1. The list retains entries for mo and sh,\n@@ -62,12 +62,12 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "aa": {\n         "native": "\xd0\xbc\xd0\xb0\xd0\xb3I\xd0\xb0\xd1\x80\xd1\x83\xd0\xbb \xd0\xbc\xd0\xb0\xd1\x86I",\n         "name": "Afar",\n-        "flag": "/++resource++country-flags/dj.gif",\n+        "flag": "countryflag/dj",\n     },\n     "ab": {\n         "native": "\xd0\xb1\xd1\x8b\xd0\xb7\xd1\x88\xd3\x99\xd0\xb0",\n         "name": "Abkhazian",\n-        "flag": "/++resource++country-flags/ge.gif",\n+        "flag": "countryflag/ge",\n     },\n     "ae": {"native": "avesta", "name": "Avestan"},\n     "af": {"native": "Afrikaans", "name": "Afrikaans"},\n@@ -77,25 +77,25 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "ar": {\n         "native": "\xd8\xa7\xd9\x84\xd8\xb9\xd8\xb1\xd8\xa8\xd9\x8a\xd8\xa9",\n         "name": "Arabic",\n-        "flag": "/++resource++language-flags/ar.gif",\n+        "flag": "/++resource++language-flags/ar",\n     },\n     "as": {"native": "\xe0\xa6\x85\xe0\xa6\xb8\xe0\xa6\xae\xe0\xa6\xbf\xe0\xa7\x9f\xe0\xa6\xbe", "name": "Assamese"},\n     "ay": {"native": "Aymara", "name": "Aymara"},\n     "az": {\n         "native": "Az\xc9\x99ri T\xc3\xbcrk\xc3\xa7\xc9\x99si",\n         "name": "Azerbaijani",\n-        "flag": "/++resource++country-flags/az.gif",\n+        "flag": "countryflag/az",\n     },\n     "ba": {"native": "Bashkir", "name": "Bashkir"},\n     "be": {\n         "native": "\xd0\x91\xd0\xb5\xd0\xbb\xd0\xb0\xd1\x80\xd1\x83\xd1\x81\xd0\xba\xd1\x96",\n         "name": "Belarussian",\n-        "flag": "/++resource++country-flags/by.gif",\n+        "flag": "countryflag/by",\n     },\n     "bg": {\n         "native": "\xd0\x91\xd1\x8a\xd0\xbb\xd0\xb3\xd0\xb0\xd1\x80\xd1\x81\xd0\xba\xd0\xb8",\n         "name": "Bulgarian",\n-        "flag": "/++resource++country-flags/bg.gif",\n+        "flag": "countryflag/bg",\n     },\n     "bh": {"native": "Bihari", "name": "Bihari"},\n     "bi": {"native": "Bislama", "name": "Bislama"},\n@@ -103,19 +103,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "bn": {\n         "native": "\xe0\xa6\xac\xe0\xa6\xbe\xe0\xa6\x82\xe0\xa6\xb2\xe0\xa6\xbe",\n         "name": "Bengali",\n-        "flag": "/++resource++country-flags/bd.gif",\n+        "flag": "countryflag/bd",\n     },\n     "bo": {"native": "\xe0\xbd\x96\xe0\xbd\xbc\xe0\xbd\x91\xe0\xbc\x8b\xe0\xbd\xa6\xe0\xbe\x90\xe0\xbd\x91\xe0\xbc\x8b", "name": "Tibetan"},\n     "br": {"native": "brezhoneg", "name": "Breton"},\n     "bs": {\n         "native": "Bosanski",\n         "name": "Bosnian",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "ca": {\n         "native": "Catal\xc3\xa0",\n         "name": "Catalan",\n-        "flag": "/++resource++language-flags/ca.gif",\n+        "flag": "/++resource++language-flags/ca",\n     },\n     "ce": {"native": "\xd0\xbd\xd0\xbe\xd1\x85\xd1\x87\xd0\xb8\xd0\xb9\xd0\xbd \xd0\xbc\xd0\xbe\xd1\x82\xd1\x82", "name": "Chechen"},\n     "ch": {"native": "Chamoru", "name": "Chamorro"},\n@@ -124,24 +124,24 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "cs": {\n         "native": "\xc4\x8ce\xc5\xa1tina",\n         "name": "Czech",\n-        "flag": "/++resource++country-flags/cz.gif",\n+        "flag": "countryflag/cz",\n     },\n     "cu": {"native": "\xd1\xa9\xd0\xb7\xd1\x8b\xd0\xba\xd1\x8a \xd1\x81\xd0\xbb\xd0\xbe\xd0\xb2\xd1\xa3\xd0\xbd\xd1\x8c\xd1\x81\xd0\xba\xd1\x8a", "name": "Old Church Slavonic"},\n     "cv": {"native": "\xd1\x87\xd3\x91\xd0\xb2\xd0\xb0\xd1\x88 \xd1\x87\xd3\x97\xd0\xbb\xd1\x85\xd0\xb8", "name": "Chuvash"},\n     "cy": {\n         "native": "Cymraeg",\n         "name": "Welsh",\n-        "flag": "/++resource++language-flags/cy.gif",\n+        "flag": "/++resource++language-flags/cy",\n     },\n     "da": {\n         "native": "Dansk",\n         "name": "Danish",\n-        "flag": "/++resource++country-flags/dk.gif",\n+        "flag": "countryflag/dk",\n     },\n     "de": {\n         "native": "Deutsch",\n         "name": "German",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "dv": {"native": "Divehi", "name": "Maldivian"},\n     "dz": {"native": "Bhutani", "name": "Indian Bhutani"},\n@@ -149,54 +149,54 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "el": {\n         "native": "\xce\x95\xce\xbb\xce\xbb\xce\xb7\xce\xbd\xce\xb9\xce\xba\xce\xac",\n         "name": "Greek",\n-        "flag": "/++resource++country-flags/gr.gif",\n+        "flag": "countryflag/gr",\n     },\n     "en": {\n         "native": "English",\n         "name": "English",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "eo": {\n         "native": "Esperanto",\n         "name": "Esperanto",\n-        "flag": "/++resource++language-flags/eo.gif",\n+        "flag": "/++resource++language-flags/eo",\n     },\n     "es": {\n         "native": "Espa\xc3\xb1ol",\n         "name": "Spanish",\n-        "flag": "/++resource++country-flags/es.gif",\n+        "flag": "countryflag/es",\n     },\n     "et": {\n         "native": "Eesti",\n         "name": "Estonian",\n-        "flag": "/++resource++country-flags/ee.gif",\n+        "flag": "countryflag/ee",\n     },\n     "eu": {\n         "native": "Euskara",\n         "name": "Basque",\n-        "flag": "/++resource++language-flags/eu.gif",\n+        "flag": "/++resource++language-flags/eu",\n     },\n     "fa": {"native": "\xd9\x81\xd8\xa7\xd8\xb1\xd8\xb3\xdb\x8c", "name": "Persian"},\n     "ff": {"native": "Fulfulde", "name": "Fula"},\n     "fi": {\n         "native": "Suomi",\n         "name": "Finnish",\n-        "flag": "/++resource++country-flags/fi.gif",\n+        "flag": "countryflag/fi",\n     },\n     "fj": {\n         "native": "Fiji",\n         "name": "Fiji",\n-        "flag": "/++resource++country-flags/fj.gif",\n+        "flag": "countryflag/fj",\n     },\n     "fo": {\n         "native": "F\xc3\xb8royska",\n         "name": "Faroese",\n-        "flag": "/++resource++country-flags/fo.gif",\n+        "flag": "countryflag/fo",\n     },\n     "fr": {\n         "native": "Fran\xc3\xa7ais",\n         "name": "French",\n-        "flag": "/++resource++country-flags/fr.gif",\n+        "flag": "countryflag/fr",\n     },\n     "fy": {"native": "Frysk", "name": "Frisian"},\n     "ga": {"native": "Gaeilge", "name": "Irish Gaelic"},\n@@ -209,36 +209,36 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "he": {\n         "native": "\xd7\xa2\xd7\x91\xd7\xa8\xd7\x99\xd7\xaa",\n         "name": "Hebrew",\n-        "flag": "/++resource++country-flags/il.gif",\n+        "flag": "countryflag/il",\n     },\n     "hi": {\n         "native": "\xe0\xa4\xb9\xe0\xa4\xbf\xe0\xa4\x82\xe0\xa4\xa6\xe0\xa5\x80",\n         "name": "Hindi",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ho": {"native": "Hiri Motu", "name": "Hiri Motu"},\n     "hr": {\n         "native": "Hrvatski",\n         "name": "Croatian",\n-        "flag": "/++resource++country-flags/hr.gif",\n+        "flag": "countryflag/hr",\n     },\n     "ht": {"native": "Krey\xc3\xb2l ayisyen", "name": "Haitian"},\n     "hu": {\n         "native": "Magyar",\n         "name": "Hungarian",\n-        "flag": "/++resource++country-flags/hu.gif",\n+        "flag": "countryflag/hu",\n     },\n     "hy": {\n         "native": "\xd5\x80\xd5\xa1\xd5\xb5\xd5\xa5\xd6\x80\xd5\xa7\xd5\xb6",\n         "name": "Armenian",\n-        "flag": "/++resource++country-flags/am.gif",\n+        "flag": "countryflag/am",\n     },\n     "hz": {"native": "Otjiherero", "name": "Herero"},\n     "ia": {"native": "Interlingua", "name": "Interlingua"},\n     "id": {\n         "native": "Bahasa Indonesia",\n         "name": "Indonesian",\n-        "flag": "/++resource++country-flags/id.gif",\n+        "flag": "countryflag/id",\n     },\n     "ie": {"native": "Interlingue", "name": "Interlingue"},\n     "ig": {"native": "As\xe1\xbb\xa5s\xe1\xbb\xa5 Igbo", "name": "Igbo"},\n@@ -248,24 +248,24 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "is": {\n         "native": "\xc3\x8dslenska",\n         "name": "Icelandic",\n-        "flag": "/++resource++country-flags/is.gif",\n+        "flag": "countryflag/is",\n     },\n     "it": {\n         "native": "Italiano",\n         "name": "Italian",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "iu": {"native": "\xe1\x90\x83\xe1\x93\x84\xe1\x92\x83\xe1\x91\x8e\xe1\x91\x90\xe1\x91\xa6", "name": "Inuktitut"},\n     "ja": {\n         "native": "\xe6\x97\xa5\xe6\x9c\xac\xe8\xaa\x9e",\n         "name": "Japanese",\n-        "flag": "/++resource++country-flags/jp.gif",\n+        "flag": "countryflag/jp",\n     },\n     "jv": {"native": "Javanese", "name": "basa Jawa"},\n     "ka": {\n         "native": "\xe1\x83\xa5\xe1\x83\x90\xe1\x83\xa0\xe1\x83\x97\xe1\x83\xa3\xe1\x83\x9a\xe1\x83\x98",\n         "name": "Georgian",\n-        "flag": "/++resource++country-flags/ge.gif",\n+        "flag": "countryflag/ge",\n     },\n     "kg": {"native": "KiKongo", "name": "Kongo"},\n     "ki": {"native": "G\xc4\xa9k\xc5\xa9y\xc5\xa9", "name": "Kikuyu"},\n@@ -273,33 +273,33 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "kk": {\n         "native": "\xef\xbb\x97\xef\xba\x8e\xef\xba\xaf\xef\xba\x8d\xef\xbb\x97\xef\xba\xb8\xef\xba\x8e",\n         "name": "Kazakh",\n-        "flag": "/++resource++country-flags/kz.gif",\n+        "flag": "countryflag/kz",\n     },\n     "kl": {\n         "native": "Greenlandic",\n         "name": "Greenlandic",\n-        "flag": "/++resource++country-flags/gl.gif",\n+        "flag": "countryflag/gl",\n     },\n     "km": {\n         "native": "\xe1\x9e\x81\xe1\x9f\x92\xe1\x9e\x98\xe1\x9f\x82\xe1\x9e\x9a",\n         "name": "Cambodian/Khmer",\n-        "flag": "/++resource++country-flags/kh.gif",\n+        "flag": "countryflag/kh",\n     },\n     "kn": {\n         "native": "\xe0\xb2\x95\xe0\xb2\xa8\xe0\xb3\x8d\xe0\xb2\xa8\xe0\xb2\xa1",\n         "name": "Kannada",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ko": {\n         "native": "\xed\x95\x9c\xea\xb5\xad\xec\x96\xb4",\n         "name": "Korean",\n-        "flag": "/++resource++country-flags/kr.gif",\n+        "flag": "countryflag/kr",\n     },\n     "kr": {"native": "Kanuri", "name": "Kanuri"},\n     "ks": {\n         "native": "\xe0\xa4\x95\xe0\xa4\xbe\xe0\xa4\xbd\xe0\xa4\xb6\xe0\xa5\x81\xe0\xa4\xb0",\n         "name": "Kashmiri",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ku": {"native": "Kurd\xc3\xad", "name": "Kurdish"},\n     "kv": {"native": "\xd0\xba\xd0\xbe\xd0\xbc\xd0\xb8 \xd0\xba\xd1\x8b\xd0\xb2", "name": "Komi"},\n@@ -308,12 +308,12 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "la": {\n         "native": "Latin",\n         "name": "Latin",\n-        "flag": "/++resource++country-flags/va.gif",\n+        "flag": "countryflag/va",\n     },\n     "lb": {\n         "native": "L\xc3\xabtzebuergesch",\n         "name": "Luxemburgish",\n-        "flag": "/++resource++country-flags/lu.gif",\n+        "flag": "countryflag/lu",\n     },\n     "lg": {"native": "Luganda", "name": "Ganda"},\n     "li": {"native": "Limburgs", "name": "Limburgish"},\n@@ -321,54 +321,54 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "lo": {\n         "native": "\xe0\xba\x9e\xe0\xba\xb2\xe0\xba\xaa\xe0\xba\xb2\xe0\xba\xa5\xe0\xba\xb2\xe0\xba\xa7",\n         "name": "Laotian",\n-        "flag": "/++resource++country-flags/la.gif",\n+        "flag": "countryflag/la",\n     },\n     "lt": {\n         "native": "Lietuvi\xc5\xb3",\n         "name": "Lithuanian",\n-        "flag": "/++resource++country-flags/lt.gif",\n+        "flag": "countryflag/lt",\n     },\n     "lu": {"native": "Tshiluba", "name": "Luba-Katanga"},\n     "lv": {\n         "native": "Latvie\xc5\xa1u",\n         "name": "Latvian",\n-        "flag": "/++resource++country-flags/lv.gif",\n+        "flag": "countryflag/lv",\n     },\n     "mg": {\n         "native": "Malagasy",\n         "name": "Madagascarian",\n-        "flag": "/++resource++country-flags/mg.gif",\n+        "flag": "countryflag/mg",\n     },\n     "mh": {"native": "Kajin M\xcc\xa7aje\xc4\xbc", "name": "Marshallese"},\n     "mi": {"native": "Maori", "name": "Maori"},\n     "mk": {\n         "native": "\xd0\x9c\xd0\xb0\xd0\xba\xd0\xb5\xd0\xb4\xd0\xbe\xd0\xbd\xd1\x81\xd0\xba\xd0\xb8",\n         "name": "Macedonian",\n-        "flag": "/++resource++country-flags/mk.gif",\n+        "flag": "countryflag/mk",\n     },\n     "ml": {"native": "\xe0\xb4\xae\xe0\xb4\xb2\xe0\xb4\xaf\xe0\xb4\xbe\xe0\xb4\xb3\xe0\xb4\x82", "name": "Malayalam"},\n     "mn": {\n         "native": "\xd0\x9c\xd0\xbe\xd0\xbd\xd0\xb3\xd0\xbe\xd0\xbb",\n         "name": "Mongolian",\n-        "flag": "/++resource++country-flags/mn.gif",\n+        "flag": "countryflag/mn",\n     },\n     "mo": {\n         "native": "Moldavian",\n         "name": "Moldavian",\n-        "flag": "/++resource++country-flags/md.gif",\n+        "flag": "countryflag/md",\n     },\n     "mr": {"native": "\xe0\xa4\xae\xe0\xa4\xb0\xe0\xa4\xbe\xe0\xa4\xa0\xe0\xa5\x80", "name": "Marathi"},\n     "ms": {"native": "Bahasa Melayu", "name": "Malay"},\n     "mt": {\n         "native": "Malti",\n         "name": "Maltese",\n-        "flag": "/++resource++country-flags/mt.gif",\n+        "flag": "countryflag/mt",\n     },\n     "my": {"native": "Burmese", "name": "Burmese"},\n     "na": {\n         "native": "Nauru",\n         "name": "Nauruan",\n-        "flag": "/++resource++country-flags/nr.gif",\n+        "flag": "countryflag/nr",\n     },\n     "nb": {"native": "Norsk bokm\xc3\xa5l", "name": "Norwegian Bokm\xc3\xa5l"},\n     "nd": {"native": "Ndebele (North)", "name": "Ndebele (North)"},\n@@ -377,17 +377,17 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "nl": {\n         "native": "Nederlands",\n         "name": "Dutch",\n-        "flag": "/++resource++country-flags/nl.gif",\n+        "flag": "countryflag/nl",\n     },\n     "nn": {\n         "native": "Nynorsk",\n         "name": "Nynorsk",\n-        "flag": "/++resource++country-flags/no.gif",\n+        "flag": "countryflag/no",\n     },\n     "no": {\n         "native": "Norsk",\n         "name": "Norwegian",\n-        "flag": "/++resource++country-flags/no.gif",\n+        "flag": "countryflag/no",\n     },\n     "nr": {"native": "IsiNdebele", "name": "Ndebele (South)"},\n     "nv": {"native": "Din\xc3\xa9 bizaad", "name": "Navajo"},\n@@ -402,13 +402,13 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "pl": {\n         "native": "Polski",\n         "name": "Polish",\n-        "flag": "/++resource++country-flags/pl.gif",\n+        "flag": "countryflag/pl",\n     },\n     "ps": {"native": "\xd9\xbe\xda\x9a\xd8\xaa\xd9\x88", "name": "Pashto"},\n     "pt": {\n         "native": "Portugu\xc3\xaas",\n         "name": "Portuguese",\n-        "flag": "/++resource++country-flags/pt.gif",\n+        "flag": "countryflag/pt",\n     },\n     "qu": {"native": "Quechua", "name": "Quechua"},\n     "rm": {"native": "Rhaeto-Romance", "name": "Rhaeto-Romance"},\n@@ -416,12 +416,12 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "ro": {\n         "native": "Rom\xc3\xa2n\xc4\x83",\n         "name": "Romanian",\n-        "flag": "/++resource++country-flags/ro.gif",\n+        "flag": "countryflag/ro",\n     },\n     "ru": {\n         "native": "\xd0\xa0\xd1\x83\xd1\x81\xd1\x81\xd0\xba\xd0\xb8\xd0\xb9",\n         "name": "Russian",\n-        "flag": "/++resource++country-flags/ru.gif",\n+        "flag": "countryflag/ru",\n     },\n     "rw": {"native": "Kinyarwanda", "name": "Kinyarwanda"},\n     "sa": {"native": "\xe0\xa4\xb8\xe0\xa4\x82\xe0\xa4\xb8\xe0\xa5\x8d\xe0\xa4\x95\xe0\xa5\x83\xe0\xa4\xa4", "name": "Sanskrit"},\n@@ -429,37 +429,37 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "sd": {\n         "native": "Sindhi",\n         "name": "Sindhi",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "se": {"native": "Northern S\xc3\xa1mi", "name": "Northern S\xc3\xa1mi"},\n     "sg": {\n         "native": "Sangho",\n         "name": "Sangho",\n-        "flag": "/++resource++country-flags/cf.gif",\n+        "flag": "countryflag/cf",\n     },\n     "sh": {"native": "Serbo-Croatian", "name": "Serbo-Croatian"},\n     "si": {"native": "Singhalese", "name": "Singhalese"},\n     "sk": {\n         "native": "Sloven\xc4\x8dina",\n         "name": "Slovak",\n-        "flag": "/++resource++country-flags/sk.gif",\n+        "flag": "countryflag/sk",\n     },\n     "sl": {\n         "native": "Sloven\xc5\xa1\xc4\x8dina",\n         "name": "Slovenian",\n-        "flag": "/++resource++country-flags/si.gif",\n+        "flag": "countryflag/si",\n     },\n     "sm": {"native": "Samoan", "name": "Samoan"},\n     "sn": {"native": "Shona", "name": "Shona"},\n     "so": {\n         "native": "Somali",\n         "name": "Somali",\n-        "flag": "/++resource++country-flags/so.gif",\n+        "flag": "countryflag/so",\n     },\n     "sq": {\n         "native": "Shqip",\n         "name": "Albanian",\n-        "flag": "/++resource++country-flags/al.gif",\n+        "flag": "countryflag/al",\n     },\n     "sr": {\n         # Note: we support two character sets for this language.\n@@ -468,19 +468,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n         # In Plone 6.0 native became Latin: Srpski.\n         "native": "Srpski",\n         "name": "Serbian",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     },\n     "ss": {"native": "SiSwati", "name": "Swati"},\n     "st": {"native": "Sesotho", "name": "Southern Sotho"},\n     "su": {\n         "native": "Sudanese",\n         "name": "Sudanese",\n-        "flag": "/++resource++country-flags/sd.gif",\n+        "flag": "countryflag/sd",\n     },\n     "sv": {\n         "native": "Svenska",\n         "name": "Swedish",\n-        "flag": "/++resource++country-flags/se.gif",\n+        "flag": "countryflag/se",\n     },\n     "sw": {"native": "Kiswahili", "name": "Swahili"},\n     "ta": {"native": "\xe0\xae\xa4\xe0\xae\xae\xe0\xae\xbf\xe0\xae\xb4", "name": "Tamil"},\n@@ -488,30 +488,30 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "tg": {\n         "native": "\xd0\xa2\xd0\xbe\xd2\xb7\xd0\xb8\xd0\xba\xd0\xb8",\n         "name": "Tadjik",\n-        "flag": "/++resource++country-flags/tj.gif",\n+        "flag": "countryflag/tj",\n     },\n     "th": {\n         "native": "\xe0\xb9\x84\xe0\xb8\x97\xe0\xb8\xa2",\n         "name": "Thai",\n-        "flag": "/++resource++country-flags/th.gif",\n+        "flag": "countryflag/th",\n     },\n     "ti": {"native": "\xe1\x89\xb5\xe1\x8c\x8d\xe1\x88\xad\xe1\x8a\x9b", "name": "Tigrinya"},\n     "tk": {\n         "native": "\xd1\x82\xd2\xaf\xd1\x80\xd0\xbam\xd0\xb5\xd0\xbd\xd1\x87\xd0\xb5",\n         "name": "Turkmen",\n-        "flag": "/++resource++country-flags/tm.gif",\n+        "flag": "countryflag/tm",\n     },\n     "tl": {"native": "Tagalog", "name": "Tagalog"},\n     "tn": {\n         "native": "Setswana",\n         "name": "Tswana",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n     "to": {"native": "Tonga", "name": "Tonga"},\n     "tr": {\n         "native": "T\xc3\xbcrk\xc3\xa7e",\n         "name": "Turkish",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "ts": {"native": "Xitsonga", "name": "Tsonga"},\n     "tt": {"native": "\xd1\x82\xd0\xb0\xd1\x82\xd0\xb0\xd1\x80\xd1\x87\xd0\xb0", "name": "Tatar"},\n@@ -521,19 +521,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "uk": {\n         "native": "\xd0\xa3\xd0\xba\xd1\x80\xd0\xb0\xd1\x97\xd0\xbd\xd1\x81\xd1\x8c\xd0\xba\xd0\xb0",\n         "name": "Ukrainian",\n-        "flag": "/++resource++country-flags/ua.gif",\n+        "flag": "countryflag/ua",\n     },\n     "ur": {"native": "\xd8\xa7\xd8\xb1\xd8\xaf\xd9\x88", "name": "Urdu"},\n     "uz": {\n         "native": "\xd0\x8e\xd0\xb7\xd0\xb1\xd0\xb5\xd0\xba\xd1\x87\xd0\xb0",\n         "name": "Uzbek",\n-        "flag": "/++resource++country-flags/uz.gif",\n+        "flag": "countryflag/uz",\n     },\n     "ve": {"native": "Tshiven\xe1\xb8\x93a", "name": "Venda"},\n     "vi": {\n         "native": "Ti\xe1\xba\xbfng Vi\xe1\xbb\x87t",\n         "name": "Vietnamese",\n-        "flag": "/++resource++country-flags/vn.gif",\n+        "flag": "countryflag/vn",\n     },\n     "vk": {"native": "Ovalingo", "name": "Viking"},\n     "vo": {"native": "Volap\xc3\xbck", "name": "Volap\xc3\xbck"},\n@@ -543,19 +543,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "yi": {\n         "native": "\xd7\xb2\xd6\xb4\xd7\x93\xd7\x99\xd7\xa9",\n         "name": "Yiddish",\n-        "flag": "/++resource++country-flags/il.gif",\n+        "flag": "countryflag/il",\n     },\n     "yo": {"native": "Yor\xc3\xb9b\xc3\xa1", "name": "Yorouba"},\n     "za": {"native": "Zhuang", "name": "Zhuang"},\n     "zh": {\n         "native": "\xe4\xb8\xad\xe6\x96\x87",\n         "name": "Chinese",\n-        "flag": "/++resource++country-flags/cn.gif",\n+        "flag": "countryflag/cn",\n     },\n     "zu": {\n         "native": "IsiZulu",\n         "name": "Zulu",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n }\n \n@@ -567,13 +567,13 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     _languagelist["sr"] = {\n         "native": "Srpski",\n         "name": "Serbian (Latin)",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     }\n elif "sr@Cyrl" in _zope_i18n_allowed_languages:\n     _languagelist["sr"] = {\n         "native": "\xd1\x81\xd1\x80\xd0\xbf\xd1\x81\xd0\xba\xd0\xb8",\n         "name": "Serbian (Cyrillic)",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     }\n \n # convert the utf-8 encoded values to unicode\n@@ -587,920 +587,920 @@ class MetadataLanguageAvailability(LanguageAvailability):\n _combinedlanguagelist = {\n     "ar-ae": {\n         "name": "Arabic (United Arab Emirates)",\n-        "flag": "/++resource++country-flags/ae.gif",\n+        "flag": "countryflag/ae",\n     },\n     "ar-bh": {\n         "name": "Arabic (Bahrain)",\n-        "flag": "/++resource++country-flags/bh.gif",\n+        "flag": "countryflag/bh",\n     },\n     "ar-dz": {\n         "name": "Arabic (Algeria)",\n-        "flag": "/++resource++country-flags/dz.gif",\n+        "flag": "countryflag/dz",\n     },\n     "ar-eg": {\n         "name": "Arabic (Egypt)",\n-        "flag": "/++resource++country-flags/eg.gif",\n+        "flag": "countryflag/eg",\n     },\n     "ar-il": {\n         "name": "Arabic (Israel)",\n-        "flag": "/++resource++country-flags/il.gif",\n+        "flag": "countryflag/il",\n     },\n     "ar-iq": {\n         "name": "Arabic (Iraq)",\n-        "flag": "/++resource++country-flags/iq.gif",\n+        "flag": "countryflag/iq",\n     },\n     "ar-jo": {\n         "name": "Arabic (Jordan)",\n-        "flag": "/++resource++country-flags/jo.gif",\n+        "flag": "countryflag/jo",\n     },\n     "ar-kw": {\n         "name": "Arabic (Kuwait)",\n-        "flag": "/++resource++country-flags/kw.gif",\n+        "flag": "countryflag/kw",\n     },\n     "ar-lb": {\n         "name": "Arabic (Lebanon)",\n-        "flag": "/++resource++country-flags/lb.gif",\n+        "flag": "countryflag/lb",\n     },\n     "ar-ly": {\n         "name": "Arabic (Libya)",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n     "ar-ma": {\n         "name": "Arabic (Morocco)",\n-        "flag": "/++resource++country-flags/ma.gif",\n+        "flag": "countryflag/ma",\n     },\n     "ar-mr": {\n         "name": "Arabic (Mauritania)",\n-        "flag": "/++resource++country-flags/mr.gif",\n+        "flag": "countryflag/mr",\n     },\n     "ar-om": {\n         "name": "Arabic (Oman)",\n-        "flag": "/++resource++country-flags/om.gif",\n+        "flag": "countryflag/om",\n     },\n     "ar-ps": {\n         "name": "Arabic (Palestinian West Bank and Gaza)",\n-        "flag": "/++resource++country-flags/ps.gif",\n+        "flag": "countryflag/ps",\n     },\n     "ar-qa": {\n         "name": "Arabic (Qatar)",\n-        "flag": "/++resource++country-flags/qa.gif",\n+        "flag": "countryflag/qa",\n     },\n     "ar-sa": {\n         "name": "Arabic (Saudi Arabia)",\n-        "flag": "/++resource++country-flags/sa.gif",\n+        "flag": "countryflag/sa",\n     },\n     "ar-sd": {\n         "name": "Arabic (Sudan)",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n     "ar-so": {\n         "name": "Arabic (Somalia)",\n-        "flag": "/++resource++country-flags/so.gif",\n+        "flag": "countryflag/so",\n     },\n     "ar-sy": {\n         "name": "Arabic (Syria)",\n-        "flag": "/++resource++country-flags/sy.gif",\n+        "flag": "countryflag/sy",\n     },\n     "ar-td": {\n         "name": "Arabic (Chad)",\n-        "flag": "/++resource++country-flags/td.gif",\n+        "flag": "countryflag/td",\n     },\n     "ar-tn": {\n         "name": "Arabic (Tunisia)",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n     "ar-ye": {\n         "name": "Arabic (Yemen)",\n-        "flag": "/++resource++country-flags/ye.gif",\n+        "flag": "countryflag/ye",\n     },\n     "bn-bd": {\n         "name": "Bengali (Bangladesh)",\n-        "flag": "/++resource++country-flags/bd.gif",\n+        "flag": "countryflag/bd",\n     },\n     "bn-in": {\n         "name": "Bengali (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "bn-sg": {\n         "name": "Bengali (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "ch-gu": {\n         "name": "Chamorro (Guam)",\n-        "flag": "/++resource++country-flags/gu.gif",\n+        "flag": "countryflag/gu",\n     },\n     "ch-mp": {\n         "name": "Chamorro (Northern Mariana Islands)",\n-        "flag": "/++resource++country-flags/mp.gif",\n+        "flag": "countryflag/mp",\n     },\n     "cs-cz": {\n         "name": "Czech (Czech republic)",\n         "native": "\xc4\x8ce\xc5\xa1tina (\xc4\x8cesk\xc3\xa1 republika)",\n-        "flag": "/++resource++country-flags/cz.gif",\n+        "flag": "countryflag/cz",\n     },\n     "da-dk": {\n         "name": "Danish (Denmark)",\n-        "flag": "/++resource++country-flags/dk.gif",\n+        "flag": "countryflag/dk",\n     },\n     "da-gl": {\n         "name": "Danish (Greenland)",\n-        "flag": "/++resource++country-flags/gl.gif",\n+        "flag": "countryflag/gl",\n     },\n     "de-at": {\n         "name": "German (Austria)",\n         "native": "Deutsch (\xc3\x96sterreich)",\n-        "flag": "/++resource++country-flags/at.gif",\n+        "flag": "countryflag/at",\n     },\n     "de-be": {\n         "name": "German (Belgium)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "de-ch": {\n         "name": "German (Switzerland)",\n-        "flag": "/++resource++country-flags/ch.gif",\n+        "flag": "countryflag/ch",\n     },\n     "de-de": {\n         "name": "German (Germany)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "de-dk": {\n         "name": "German (Denmark)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "de-li": {\n         "name": "German (Liechtenstein)",\n-        "flag": "/++resource++country-flags/li.gif",\n+        "flag": "countryflag/li",\n     },\n     "de-lu": {\n         "name": "German (Luxembourg)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "el-cy": {\n         "name": "Greek (Cyprus)",\n-        "flag": "/++resource++country-flags/cy.gif",\n+        "flag": "countryflag/cy",\n     },\n     "el-gr": {\n         "name": "Greek (Greece)",\n-        "flag": "/++resource++country-flags/gr.gif",\n+        "flag": "countryflag/gr",\n     },\n     "en-ag": {\n         "name": "English (Antigua and Barbuda)",\n-        "flag": "/++resource++country-flags/ag.gif",\n+        "flag": "countryflag/ag",\n     },\n     "en-ai": {\n         "name": "English (Anguilla)",\n-        "flag": "/++resource++country-flags/ai.gif",\n+        "flag": "countryflag/ai",\n     },\n     "en-as": {\n         "name": "English (American Samoa)",\n-        "flag": "/++resource++country-flags/as.gif",\n+        "flag": "countryflag/as",\n     },\n     "en-au": {\n         "name": "English (Australia)",\n-        "flag": "/++resource++country-flags/au.gif",\n+        "flag": "countryflag/au",\n     },\n     "en-bb": {\n         "name": "English (Barbados)",\n-        "flag": "/++resource++country-flags/bb.gif",\n+        "flag": "countryflag/bb",\n     },\n     "en-bm": {\n         "name": "English (Bermuda)",\n-        "flag": "/++resource++country-flags/bm.gif",\n+        "flag": "countryflag/bm",\n     },\n     "en-bn": {\n         "name": "English (Brunei)",\n-        "flag": "/++resource++country-flags/bn.gif",\n+        "flag": "countryflag/bn",\n     },\n     "en-bs": {\n         "name": "English (Bahamas)",\n-        "flag": "/++resource++country-flags/bs.gif",\n+        "flag": "countryflag/bs",\n     },\n     "en-bw": {\n         "name": "English (Botswana)",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n     "en-bz": {\n         "name": "English (Belize)",\n-        "flag": "/++resource++country-flags/bz.gif",\n+        "flag": "countryflag/bz",\n     },\n     "en-ca": {\n         "name": "English (Canada)",\n-        "flag": "/++resource++country-flags/ca.gif",\n+        "flag": "countryflag/ca",\n     },\n     "en-ck": {\n         "name": "English (Cook Islands)",\n-        "flag": "/++resource++country-flags/ck.gif",\n+        "flag": "countryflag/ck",\n     },\n     "en-cm": {\n         "name": "English (Cameroon)",\n-        "flag": "/++resource++country-flags/cm.gif",\n+        "flag": "countryflag/cm",\n     },\n     "en-dm": {\n         "name": "English (Dominica)",\n-        "flag": "/++resource++country-flags/dm.gif",\n+        "flag": "countryflag/dm",\n     },\n     "en-er": {\n         "name": "English (Eritrea)",\n-        "flag": "/++resource++country-flags/er.gif",\n+        "flag": "countryflag/er",\n     },\n     "en-et": {\n         "name": "English (Ethiopia)",\n-        "flag": "/++resource++country-flags/et.gif",\n+        "flag": "countryflag/et",\n     },\n     "en-fj": {\n         "name": "English (Fiji)",\n-        "flag": "/++resource++country-flags/fj.gif",\n+        "flag": "countryflag/fj",\n     },\n     "en-fk": {\n         "name": "English (Falkland Islands)",\n-        "flag": "/++resource++country-flags/fk.gif",\n+        "flag": "countryflag/fk",\n     },\n     "en-fm": {\n         "name": "English (Micronesia)",\n-        "flag": "/++resource++country-flags/fm.gif",\n+        "flag": "countryflag/fm",\n     },\n     "en-gb": {\n         "name": "English (United Kingdom)",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "en-gd": {\n         "name": "English (Grenada)",\n-        "flag": "/++resource++country-flags/gd.gif",\n+        "flag": "countryflag/gd",\n     },\n     "en-gh": {\n         "name": "English (Ghana)",\n-        "flag": "/++resource++country-flags/gh.gif",\n+        "flag": "countryflag/gh",\n     },\n     "en-gi": {\n         "name": "English (Gibraltar)",\n-        "flag": "/++resource++country-flags/gi.gif",\n+        "flag": "countryflag/gi",\n     },\n     "en-gm": {\n         "name": "English (Gambia)",\n-        "flag": "/++resource++country-flags/gm.gif",\n+        "flag": "countryflag/gm",\n     },\n     "en-gu": {\n         "name": "English (Guam)",\n-        "flag": "/++resource++country-flags/gu.gif",\n+        "flag": "countryflag/gu",\n     },\n     "en-gy": {\n         "name": "English (Guyana)",\n-        "flag": "/++resource++country-flags/gy.gif",\n+        "flag": "countryflag/gy",\n     },\n     "en-ie": {\n         "name": "English (Ireland)",\n-        "flag": "/++resource++country-flags/ie.gif",\n+        "flag": "countryflag/ie",\n     },\n     "en-il": {\n         "name": "English (Israel)",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "en-io": {\n         "name": "English (British Indian Ocean Territory)",\n-        "flag": "/++resource++country-flags/io.gif",\n+        "flag": "countryflag/io",\n     },\n     "en-jm": {\n         "name": "English (Jamaica)",\n-        "flag": "/++resource++country-flags/jm.gif",\n+        "flag": "countryflag/jm",\n     },\n     "en-ke": {\n         "name": "English (Kenya)",\n-        "flag": "/++resource++country-flags/ke.gif",\n+        "flag": "countryflag/ke",\n     },\n     "en-ki": {\n         "name": "English (Kiribati)",\n-        "flag": "/++resource++country-flags/ki.gif",\n+        "flag": "countryflag/ki",\n     },\n     "en-kn": {\n         "name": "English (St. Kitts-Nevis)",\n-        "flag": "/++resource++country-flags/kn.gif",\n+        "flag": "countryflag/kn",\n     },\n     "en-ky": {\n         "name": "English (Cayman Islands)",\n-        "flag": "/++resource++country-flags/ky.gif",\n+        "flag": "countryflag/ky",\n     },\n     "en-lc": {\n         "name": "English (St. Lucia)",\n-        "flag": "/++resource++country-flags/lc.gif",\n+        "flag": "countryflag/lc",\n     },\n     "en-lr": {\n         "name": "English (Liberia)",\n-        "flag": "/++resource++country-flags/lr.gif",\n+        "flag": "countryflag/lr",\n     },\n     "en-ls": {\n         "name": "English (Lesotho)",\n-        "flag": "/++resource++country-flags/ls.gif",\n+        "flag": "countryflag/ls",\n     },\n     "en-mp": {\n         "name": "English (Northern Mariana Islands)",\n-        "flag": "/++resource++country-flags/mp.gif",\n+        "flag": "countryflag/mp",\n     },\n     "en-ms": {\n         "name": "English (Montserrat)",\n-        "flag": "/++resource++country-flags/ms.gif",\n+        "flag": "countryflag/ms",\n     },\n     "en-mt": {\n         "name": "English (Malta)",\n-        "flag": "/++resource++country-flags/mt.gif",\n+        "flag": "countryflag/mt",\n     },\n     "en-mu": {\n         "name": "English (Mauritius)",\n-        "flag": "/++resource++country-flags/mu.gif",\n+        "flag": "countryflag/mu",\n     },\n     "en-mw": {\n         "name": "English (Malawi)",\n-        "flag": "/++resource++country-flags/mw.gif",\n+        "flag": "countryflag/mw",\n     },\n     "en-na": {\n         "name": "English (Namibia)",\n-        "flag": "/++resource++country-flags/na.gif",\n+        "flag": "countryflag/na",\n     },\n     "en-nf": {\n         "name": "English (Norfolk Island)",\n-        "flag": "/++resource++country-flags/nf.gif",\n+        "flag": "countryflag/nf",\n     },\n     "en-ng": {\n         "name": "English (Nigeria)",\n-        "flag": "/++resource++country-flags/ng.gif",\n+        "flag": "countryflag/ng",\n     },\n     "en-nr": {\n         "name": "English (Nauru)",\n-        "flag": "/++resource++country-flags/nr.gif",\n+        "flag": "countryflag/nr",\n     },\n     "en-nu": {\n         "name": "English (Niue)",\n-        "flag": "/++resource++country-flags/nu.gif",\n+        "flag": "countryflag/nu",\n     },\n     "en-nz": {\n         "name": "English (New Zealand)",\n-        "flag": "/++resource++country-flags/nz.gif",\n+        "flag": "countryflag/nz",\n     },\n     "en-pg": {\n         "name": "English (Papua New Guinea)",\n-        "flag": "/++resource++country-flags/pg.gif",\n+        "flag": "countryflag/pg",\n     },\n     "en-ph": {\n         "name": "English (Philippines)",\n-        "flag": "/++resource++country-flags/ph.gif",\n+        "flag": "countryflag/ph",\n     },\n     "en-pk": {\n         "name": "English (Pakistan)",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "en-pn": {\n         "name": "English (Pitcairn)",\n-        "flag": "/++resource++country-flags/pn.gif",\n+        "flag": "countryflag/pn",\n     },\n     "en-pr": {\n         "name": "English (Puerto Rico)",\n-        "flag": "/++resource++country-flags/pr.gif",\n+        "flag": "countryflag/pr",\n     },\n     "en-pw": {\n         "name": "English (Palau)",\n-        "flag": "/++resource++country-flags/pw.gif",\n+        "flag": "countryflag/pw",\n     },\n     "en-rw": {\n         "name": "English (Rwanda)",\n-        "flag": "/++resource++country-flags/rw.gif",\n+        "flag": "countryflag/rw",\n     },\n     "en-sb": {\n         "name": "English (Solomon Islands)",\n-        "flag": "/++resource++country-flags/sb.gif",\n+        "flag": "countryflag/sb",\n     },\n     "en-sc": {\n         "name": "English (Seychelles)",\n-        "flag": "/++resource++country-flags/sc.gif",\n+        "flag": "countryflag/sc",\n     },\n     "en-sg": {\n         "name": "English (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "en-sh": {\n         "name": "English (St. Helena)",\n-        "flag": "/++resource++country-flags/sh.gif",\n+        "flag": "countryflag/sh",\n     },\n     "en-sl": {\n         "name": "English (Sierra Leone)",\n-        "flag": "/++resource++country-flags/sl.gif",\n+        "flag": "countryflag/sl",\n     },\n     "en-so": {\n         "name": "English (Somalia)",\n-        "flag": "/++resource++country-flags/so.gif",\n+        "flag": "countryflag/so",\n     },\n     "en-sz": {\n         "name": "English (Swaziland)",\n-        "flag": "/++resource++country-flags/sz.gif",\n+        "flag": "countryflag/sz",\n     },\n     "en-tc": {\n         "name": "English (Turks and Caicos Islands)",\n-        "flag": "/++resource++country-flags/tc.gif",\n+        "flag": "countryflag/tc",\n     },\n     "en-tk": {\n         "name": "English (Tokelau)",\n-        "flag": "/++resource++country-flags/tk.gif",\n+        "flag": "countryflag/tk",\n     },\n     "en-to": {\n         "name": "English (Tonga)",\n-        "flag": "/++resource++country-flags/to.gif",\n+        "flag": "countryflag/to",\n     },\n     "en-tt": {\n         "name": "English (Trinidad and Tobago)",\n-        "flag": "/++resource++country-flags/tt.gif",\n+        "flag": "countryflag/tt",\n     },\n     "en-ug": {\n         "name": "English (Uganda)",\n-        "flag": "/++resource++country-flags/ug.gif",\n+        "flag": "countryflag/ug",\n     },\n     "en-us": {\n         "name": "English (USA)",\n-        "flag": "/++resource++country-flags/us.gif",\n+        "flag": "countryflag/us",\n     },\n     "en-vc": {\n         "name": "English (St. Vincent and the Grenadi)",\n-        "flag": "/++resource++country-flags/vc.gif",\n+        "flag": "countryflag/vc",\n     },\n     "en-vg": {\n         "name": "English (British Virgin Islands)",\n-        "flag": "/++resource++country-flags/vg.gif",\n+        "flag": "countryflag/vg",\n     },\n     "en-vi": {\n         "name": "English (U.S. Virgin Islands)",\n-        "flag": "/++resource++country-flags/vi.gif",\n+        "flag": "countryflag/vi",\n     },\n     "en-vu": {\n         "name": "English (Vanuatu)",\n-        "flag": "/++resource++country-flags/vu.gif",\n+        "flag": "countryflag/vu",\n     },\n     "en-ws": {\n         "name": "English (Western Samoa)",\n-        "flag": "/++resource++country-flags/ws.gif",\n+        "flag": "countryflag/ws",\n     },\n     "en-za": {\n         "name": "English (South Africa)",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n     "en-zm": {\n         "name": "English (Zambia)",\n-        "flag": "/++resource++country-flags/zm.gif",\n+        "flag": "countryflag/zm",\n     },\n     "en-zw": {\n         "name": "English (Zimbabwe)",\n-        "flag": "/++resource++country-flags/zw.gif",\n+        "flag": "countryflag/zw",\n     },\n     "es-ar": {\n         "name": "Spanish (Argentina)",\n-        "flag": "/++resource++country-flags/ar.gif",\n+        "flag": "countryflag/ar",\n     },\n     "es-bo": {\n         "name": "Spanish (Bolivia)",\n-        "flag": "/++resource++country-flags/bo.gif",\n+        "flag": "countryflag/bo",\n     },\n     "es-cl": {\n         "name": "Spanish (Chile)",\n-        "flag": "/++resource++country-flags/cl.gif",\n+        "flag": "countryflag/cl",\n     },\n     "es-co": {\n         "name": "Spanish (Colombia)",\n-        "flag": "/++resource++country-flags/co.gif",\n+        "flag": "countryflag/co",\n     },\n     "es-cr": {\n         "name": "Spanish (Costa Rica)",\n-        "flag": "/++resource++country-flags/cr.gif",\n+        "flag": "countryflag/cr",\n     },\n     "es-cu": {\n         "name": "Spanish (Cuba)",\n-        "flag": "/++resource++country-flags/cu.gif",\n+        "flag": "countryflag/cu",\n     },\n     "es-do": {\n         "name": "Spanish (Dominican Republic)",\n-        "flag": "/++resource++country-flags/do.gif",\n+        "flag": "countryflag/do",\n     },\n     "es-ec": {\n         "name": "Spanish (Ecuador)",\n-        "flag": "/++resource++country-flags/ec.gif",\n+        "flag": "countryflag/ec",\n     },\n     "es-es": {\n         "name": "Spanish (Spain)",\n-        "flag": "/++resource++country-flags/es.gif",\n+        "flag": "countryflag/es",\n     },\n     "es-gq": {\n         "name": "Spanish (Equatorial Guinea)",\n-        "flag": "/++resource++country-flags/gq.gif",\n+        "flag": "countryflag/gq",\n     },\n     "es-gt": {\n         "name": "Spanish (Guatemala)",\n-        "flag": "/++resource++country-flags/gt.gif",\n+        "flag": "countryflag/gt",\n     },\n     "es-hn": {\n         "name": "Spanish (Honduras)",\n-        "flag": "/++resource++country-flags/hn.gif",\n+        "flag": "countryflag/hn",\n     },\n     "es-mx": {\n         "name": "Spanish (Mexico)",\n-        "flag": "/++resource++country-flags/mx.gif",\n+        "flag": "countryflag/mx",\n     },\n     "es-ni": {\n         "name": "Spanish (Nicaragua)",\n-        "flag": "/++resource++country-flags/ni.gif",\n+        "flag": "countryflag/ni",\n     },\n     "es-pa": {\n         "name": "Spanish (Panama)",\n-        "flag": "/++resource++country-flags/pa.gif",\n+        "flag": "countryflag/pa",\n     },\n     "es-pe": {\n         "name": "Spanish (Peru)",\n-        "flag": "/++resource++country-flags/pe.gif",\n+        "flag": "countryflag/pe",\n     },\n     "es-pr": {\n         "name": "Spanish (Puerto Rico)",\n-        "flag": "/++resource++country-flags/pr.gif",\n+        "flag": "countryflag/pr",\n     },\n     "es-py": {\n         "name": "Spanish (Paraguay)",\n-        "flag": "/++resource++country-flags/py.gif",\n+        "flag": "countryflag/py",\n     },\n     "es-sv": {\n         "name": "Spanish (El Salvador)",\n-        "flag": "/++resource++country-flags/sv.gif",\n+        "flag": "countryflag/sv",\n     },\n     "es-us": {\n         "name": "Spanish (USA)",\n-        "flag": "/++resource++country-flags/us.gif",\n+        "flag": "countryflag/us",\n     },\n     "es-uy": {\n         "name": "Spanish (Uruguay)",\n-        "flag": "/++resource++country-flags/uy.gif",\n+        "flag": "countryflag/uy",\n     },\n     "es-ve": {\n         "name": "Spanish (Venezuela)",\n-        "flag": "/++resource++country-flags/ve.gif",\n+        "flag": "countryflag/ve",\n     },\n     "fr-ad": {\n         "name": "French (Andorra)",\n-        "flag": "/++resource++country-flags/ad.gif",\n+        "flag": "countryflag/ad",\n     },\n     "fr-be": {\n         "name": "French (Belgium)",\n-        "flag": "/++resource++country-flags/be.gif",\n+        "flag": "countryflag/be",\n     },\n     "fr-bf": {\n         "name": "French (Burkina Faso)",\n-        "flag": "/++resource++country-flags/bf.gif",\n+        "flag": "countryflag/bf",\n     },\n     "fr-bi": {\n         "name": "French (Burundi)",\n-        "flag": "/++resource++country-flags/bi.gif",\n+        "flag": "countryflag/bi",\n     },\n     "fr-bj": {\n         "name": "French (Benin)",\n-        "flag": "/++resource++country-flags/bj.gif",\n+        "flag": "countryflag/bj",\n     },\n     "fr-ca": {\n         "name": "French (Canada)",\n-        "flag": "/++resource++country-flags/ca.gif",\n+        "flag": "countryflag/ca",\n     },\n     "fr-cd": {\n         "name": "French (Democratic Republic of Congo)",\n-        "flag": "/++resource++country-flags/cd.gif",\n+        "flag": "countryflag/cd",\n     },\n     "fr-cf": {\n         "name": "French (Central African Republic)",\n-        "flag": "/++resource++country-flags/cf.gif",\n+        "flag": "countryflag/cf",\n     },\n     "fr-cg": {\n         "name": "French (Congo)",\n-        "flag": "/++resource++country-flags/cg.gif",\n+        "flag": "countryflag/cg",\n     },\n     "fr-ch": {\n         "name": "French (Switzerland)",\n-        "flag": "/++resource++country-flags/ch.gif",\n+        "flag": "countryflag/ch",\n     },\n     "fr-ci": {\n         "name": "French (Cote d\'Ivoire)",\n-        "flag": "/++resource++country-flags/ci.gif",\n+        "flag": "countryflag/ci",\n     },\n     "fr-cm": {\n         "name": "French (Cameroon)",\n-        "flag": "/++resource++country-flags/cm.gif",\n+        "flag": "countryflag/cm",\n     },\n     "fr-dj": {\n         "name": "French (Djibouti)",\n-        "flag": "/++resource++country-flags/dj.gif",\n+        "flag": "countryflag/dj",\n     },\n     "fr-fr": {\n         "name": "French (France)",\n-        "flag": "/++resource++country-flags/fr.gif",\n+        "flag": "countryflag/fr",\n     },\n     "fr-ga": {\n         "name": "French (Gabon)",\n-        "flag": "/++resource++country-flags/ga.gif",\n+        "flag": "countryflag/ga",\n     },\n     "fr-gb": {\n         "name": "French (United Kingdom)",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "fr-gf": {\n         "name": "French (French Guiana)",\n-        "flag": "/++resource++country-flags/gf.gif",\n+        "flag": "countryflag/gf",\n     },\n     "fr-gn": {\n         "name": "French (Guinea)",\n-        "flag": "/++resource++country-flags/gn.gif",\n+        "flag": "countryflag/gn",\n     },\n     "fr-gp": {\n         "name": "French (Guadeloupe)",\n-        "flag": "/++resource++country-flags/gp.gif",\n+        "flag": "countryflag/gp",\n     },\n     "fr-ht": {\n         "name": "French (Haiti)",\n-        "flag": "/++resource++country-flags/ht.gif",\n+        "flag": "countryflag/ht",\n     },\n     "fr-it": {\n         "name": "French (Italy)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "fr-km": {\n         "name": "French (Comoros Islands)",\n-        "flag": "/++resource++country-flags/km.gif",\n+        "flag": "countryflag/km",\n     },\n     "fr-lb": {\n         "name": "French (Lebanon)",\n-        "flag": "/++resource++country-flags/lb.gif",\n+        "flag": "countryflag/lb",\n     },\n     "fr-lu": {\n         "name": "French (Luxembourg)",\n-        "flag": "/++resource++country-flags/lu.gif",\n+        "flag": "countryflag/lu",\n     },\n     "fr-mc": {\n         "name": "French (Monaco)",\n-        "flag": "/++resource++country-flags/mc.gif",\n+        "flag": "countryflag/mc",\n     },\n     "fr-mg": {\n         "name": "French (Madagascar)",\n-        "flag": "/++resource++country-flags/mg.gif",\n+        "flag": "countryflag/mg",\n     },\n     "fr-ml": {\n         "name": "French (Mali)",\n-        "flag": "/++resource++country-flags/ml.gif",\n+        "flag": "countryflag/ml",\n     },\n     "fr-mq": {\n         "name": "French (Martinique)",\n-        "flag": "/++resource++country-flags/mq.gif",\n+        "flag": "countryflag/mq",\n     },\n     "fr-nc": {\n         "name": "French (New Caledonia)",\n-        "flag": "/++resource++country-flags/nc.gif",\n+        "flag": "countryflag/nc",\n     },\n     "fr-pf": {\n         "name": "French (French Polynesia)",\n-        "flag": "/++resource++country-flags/pf.gif",\n+        "flag": "countryflag/pf",\n     },\n     "fr-pm": {\n         "name": "French (St. Pierre and Miquelon)",\n-        "flag": "/++resource++country-flags/pm.gif",\n+        "flag": "countryflag/pm",\n     },\n     "fr-re": {\n         "name": "French (Reunion)",\n-        "flag": "/++resource++country-flags/re.gif",\n+        "flag": "countryflag/re",\n     },\n     "fr-rw": {\n         "name": "French (Rwanda)",\n-        "flag": "/++resource++country-flags/rw.gif",\n+        "flag": "countryflag/rw",\n     },\n     "fr-sc": {\n         "name": "French (Seychelles)",\n-        "flag": "/++resource++country-flags/sc.gif",\n+        "flag": "countryflag/sc",\n     },\n     "fr-td": {\n         "name": "French (Chad)",\n-        "flag": "/++resource++country-flags/td.gif",\n+        "flag": "countryflag/td",\n     },\n     "fr-tg": {\n         "name": "French (Togo)",\n-        "flag": "/++resource++country-flags/tg.gif",\n+        "flag": "countryflag/tg",\n     },\n     "fr-vu": {\n         "name": "French (Vanuatu)",\n-        "flag": "/++resource++country-flags/vu.gif",\n+        "flag": "countryflag/vu",\n     },\n     "fr-wf": {\n         "name": "French (Wallis and Futuna)",\n-        "flag": "/++resource++country-flags/wf.gif",\n+        "flag": "countryflag/wf",\n     },\n     "fr-yt": {\n         "name": "French (Mayotte)",\n-        "flag": "/++resource++country-flags/yt.gif",\n+        "flag": "countryflag/yt",\n     },\n     "hr-ba": {\n         "name": "Croatian (Bosnia-Herzegovina)",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "hr-hr": {\n         "name": "Croatian (Croatia)",\n-        "flag": "/++resource++country-flags/hr.gif",\n+        "flag": "countryflag/hr",\n     },\n     "hu-hu": {\n         "name": "Hungarian (Hungary)",\n-        "flag": "/++resource++country-flags/hu.gif",\n+        "flag": "countryflag/hu",\n     },\n     "hu-si": {\n         "name": "Hungarian (Slovenia)",\n-        "flag": "/++resource++country-flags/hu.gif",\n+        "flag": "countryflag/hu",\n     },\n     "it-ch": {\n         "name": "Italian (Switzerland)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-hr": {\n         "name": "Italian (Croatia)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-it": {\n         "name": "Italian (Italy)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-si": {\n         "name": "Italian (Slovenia)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-sm": {\n         "name": "Italian (San Marino)",\n-        "flag": "/++resource++country-flags/sm.gif",\n+        "flag": "countryflag/sm",\n     },\n     "ko-kp": {\n         "name": "Korean (Korea, North)",\n-        "flag": "/++resource++country-flags/kp.gif",\n+        "flag": "countryflag/kp",\n     },\n     "ko-kr": {\n         "name": "Korean (Korea, South)",\n-        "flag": "/++resource++country-flags/kr.gif",\n+        "flag": "countryflag/kr",\n     },\n     "ln-cd": {\n         "name": "Lingala (Democratic Republic of Congo)",\n-        "flag": "/++resource++country-flags/cd.gif",\n+        "flag": "countryflag/cd",\n     },\n     "ln-cg": {\n         "name": "Lingala (Congo)",\n-        "flag": "/++resource++country-flags/cg.gif",\n+        "flag": "countryflag/cg",\n     },\n     "ms-bn": {\n         "name": "Malay (Brunei)",\n-        "flag": "/++resource++country-flags/bn.gif",\n+        "flag": "countryflag/bn",\n     },\n     "ms-my": {\n         "name": "Malay (Malaysia)",\n-        "flag": "/++resource++country-flags/my.gif",\n+        "flag": "countryflag/my",\n     },\n     "ms-sg": {\n         "name": "Malay (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "nl-an": {\n         "name": "Dutch (Netherlands Antilles)",\n-        "flag": "/++resource++country-flags/an.gif",\n+        "flag": "countryflag/an",\n     },\n     "nl-aw": {\n         "name": "Dutch (Aruba)",\n-        "flag": "/++resource++country-flags/aw.gif",\n+        "flag": "countryflag/aw",\n     },\n     "nl-be": {\n         "name": "Dutch (Belgium)",\n-        "flag": "/++resource++country-flags/be.gif",\n+        "flag": "countryflag/be",\n     },\n     "nl-nl": {\n         "name": "Dutch (Netherlands)",\n-        "flag": "/++resource++country-flags/nl.gif",\n+        "flag": "countryflag/nl",\n     },\n     "nl-sr": {\n         "name": "Dutch (Suriname)",\n-        "flag": "/++resource++country-flags/sr.gif",\n+        "flag": "countryflag/sr",\n     },\n     "pt-ao": {\n         "name": "Portuguese (Angola)",\n         "native": "Portugu\xc3\xaas (Angola)",\n-        "flag": "/++resource++country-flags/ao.gif",\n+        "flag": "countryflag/ao",\n     },\n     "pt-br": {\n         "name": "Portuguese (Brazil)",\n         "native": "Portugu\xc3\xaas (Brasil)",\n-        "flag": "/++resource++country-flags/br.gif",\n+        "flag": "countryflag/br",\n     },\n     "pt-cv": {\n         "name": "Portuguese (Ilhas Cabo Verde)",\n         "native": "Portugu\xc3\xaas (Cabo Verde)",\n-        "flag": "/++resource++country-flags/cv.gif",\n+        "flag": "countryflag/cv",\n     },\n     "pt-gw": {\n         "name": "Portuguese (Guin\xc3\xa9-Bissau)",\n         "native": "Portugu\xc3\xaas (Guin\xc3\xa9-Bissau)",\n-        "flag": "/++resource++country-flags/gw.gif",\n+        "flag": "countryflag/gw",\n     },\n     "pt-mz": {\n         "name": "Portuguese (Mo\xc3\xa7ambique)",\n         "native": "Portugu\xc3\xaas (Mo\xc3\xa7ambique)",\n-        "flag": "/++resource++country-flags/mz.gif",\n+        "flag": "countryflag/mz",\n     },\n     "pt-pt": {\n         "name": "Portuguese (Portugal)",\n         "native": "Portugu\xc3\xaas (Portugal)",\n-        "flag": "/++resource++country-flags/pt.gif",\n+        "flag": "countryflag/pt",\n     },\n     "pt-st": {\n         "name": "Portuguese (S\xc3\xa3o Tom\xc3\xa9 e Pr\xc3\xadncipe)",\n         "native": "Portugu\xc3\xaas (S\xc3\xa3o Tom\xc3\xa9 e Pr\xc3\xadncipe)",\n-        "flag": "/++resource++country-flags/st.gif",\n+        "flag": "countryflag/st",\n     },\n     "sd-in": {\n         "name": "Sindhi (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "sd-pk": {\n         "name": "Sindhi (Pakistan)",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "sr-ba": {\n         "name": "Serbian (Bosnia-Herzegovina)",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "ss-sz": {\n         "name": "Swati (Swaziland)",\n-        "flag": "/++resource++country-flags/sz.gif",\n+        "flag": "countryflag/sz",\n     },\n     "ss-za": {\n         "name": "Swati (South Africa)",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n     "sv-fi": {\n         "name": "Swedish (Finland)",\n-        "flag": "/++resource++country-flags/se.gif",\n+        "flag": "countryflag/se",\n     },\n     "sv-se": {\n         "name": "Swedish (Sweden)",\n-        "flag": "/++resource++country-flags/se.gif",\n+        "flag": "countryflag/se",\n     },\n     "sw-ke": {\n         "name": "Swahili (Kenya)",\n-        "flag": "/++resource++country-flags/ke.gif",\n+        "flag": "countryflag/ke",\n     },\n     "sw-tz": {\n         "name": "Swahili (Tanzania)",\n-        "flag": "/++resource++country-flags/tz.gif",\n+        "flag": "countryflag/tz",\n     },\n     "ta-in": {\n         "name": "Tamil (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ta-sg": {\n         "name": "Tamil (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "tn-bw": {\n         "name": "Tswana (Botswana)",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n     "tn-za": {\n         "name": "Tswana (South Africa)",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n     "tr-bg": {\n         "name": "Turkish (Bulgaria)",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "tr-cy": {\n         "name": "Turkish (Cyprus)",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "tr-tr": {\n         "name": "Turkish (Turkey)",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "ur-in": {\n         "name": "Urdu (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ur-pk": {\n         "name": "Urdu (Pakistan)",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "zh-cn": {\n         "name": "Chinese (China)",\n         "native": "\xe7\xae\x80\xe4\xbd\x93\xe4\xb8\xad\xe6\x96\x87(\xe4\xb8\xad\xe5\x9b\xbd)",\n-        "flag": "/++resource++country-flags/cn.gif",\n+        "flag": "countryflag/cn",\n     },\n     "zh-hk": {\n         "name": "Chinese (Hongkong)",\n         "native": "\xe7\xb9\x81\xe9\xab\x94\xe4\xb8\xad\xe6\x96\x87(\xe9\xa6\x99\xe6\xb8\xaf)",\n-        "flag": "/++resource++country-flags/hk.gif",\n+        "flag": "countryflag/hk",\n     },\n     "zh-sg": {\n         "name": "Chinese (Singapore)",\n         "native": "\xe7\xae\x80\xe4\xbd\x93\xe4\xb8\xad\xe6\x96\x87(\xe6\x96\xb0\xe5\x8a\xa0\xe5\x9d\xa1)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "zh-tw": {\n         "name": "Chinese (Taiwan)",\n         "native": "\xe7\xb9\x81\xe9\xab\x94\xe4\xb8\xad\xe6\x96\x87(\xe8\x87\xba\xe7\x81\xa3)",\n-        "flag": "/++resource++country-flags/tw.gif",\n+        "flag": "countryflag/tw",\n     },\n }\n \ndiff --git a/plone/i18n/locales/tests/test_countries.py b/plone/i18n/locales/tests/test_countries.py\nindex 37b046f..9e6133d 100644\n--- a/plone/i18n/locales/tests/test_countries.py\n+++ b/plone/i18n/locales/tests/test_countries.py\n@@ -38,7 +38,7 @@ def test_get_countries(self):\n         self.assertIn("de", countries)\n         de = countries["de"]\n         self.assertEqual(de["name"], "Germany")\n-        self.assertEqual(de["flag"], "/++resource++country-flags/de.gif")\n+        self.assertEqual(de["flag"], "countryflag/de")\n \n     def test_get_country_listing(self):\n         util = self._makeOne()\ndiff --git a/plone/i18n/locales/tests/test_languages.py b/plone/i18n/locales/tests/test_languages.py\nindex cadf9e5..4ee1098 100644\n--- a/plone/i18n/locales/tests/test_languages.py\n+++ b/plone/i18n/locales/tests/test_languages.py\n@@ -62,7 +62,7 @@ def test_get_languages(self):\n         de = languages["de"]\n         self.assertEqual(de["name"], "German")\n         self.assertEqual(de["native"], "Deutsch")\n-        self.assertEqual(de["flag"], "/++resource++country-flags/de.gif")\n+        self.assertEqual(de["flag"], "countryflag/de")\n \n     def test_get_languages_combined(self):\n         util = self._makeOne()\n'

Repository: plone.i18n


Branch: refs/heads/master
Date: 2022-05-30T18:07:10+02:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.i18n/commit/7c5269708e16a30f2e96da92264df8a7fb4c341b

fix some more language icons

Files changed:
M plone/i18n/locales/languages.py

b'diff --git a/plone/i18n/locales/languages.py b/plone/i18n/locales/languages.py\nindex e86fa0d..e2516a1 100644\n--- a/plone/i18n/locales/languages.py\n+++ b/plone/i18n/locales/languages.py\n@@ -77,7 +77,7 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "ar": {\n         "native": "\xd8\xa7\xd9\x84\xd8\xb9\xd8\xb1\xd8\xa8\xd9\x8a\xd8\xa9",\n         "name": "Arabic",\n-        "flag": "/++resource++language-flags/ar",\n+        "flag": "languageflag/ar",\n     },\n     "as": {"native": "\xe0\xa6\x85\xe0\xa6\xb8\xe0\xa6\xae\xe0\xa6\xbf\xe0\xa7\x9f\xe0\xa6\xbe", "name": "Assamese"},\n     "ay": {"native": "Aymara", "name": "Aymara"},\n@@ -115,7 +115,7 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "ca": {\n         "native": "Catal\xc3\xa0",\n         "name": "Catalan",\n-        "flag": "/++resource++language-flags/ca",\n+        "flag": "languageflag/ca",\n     },\n     "ce": {"native": "\xd0\xbd\xd0\xbe\xd1\x85\xd1\x87\xd0\xb8\xd0\xb9\xd0\xbd \xd0\xbc\xd0\xbe\xd1\x82\xd1\x82", "name": "Chechen"},\n     "ch": {"native": "Chamoru", "name": "Chamorro"},\n@@ -131,7 +131,7 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "cy": {\n         "native": "Cymraeg",\n         "name": "Welsh",\n-        "flag": "/++resource++language-flags/cy",\n+        "flag": "languageflag/cy",\n     },\n     "da": {\n         "native": "Dansk",\n@@ -159,7 +159,7 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "eo": {\n         "native": "Esperanto",\n         "name": "Esperanto",\n-        "flag": "/++resource++language-flags/eo",\n+        "flag": "languageflag/eo",\n     },\n     "es": {\n         "native": "Espa\xc3\xb1ol",\n@@ -174,7 +174,7 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "eu": {\n         "native": "Euskara",\n         "name": "Basque",\n-        "flag": "/++resource++language-flags/eu",\n+        "flag": "languageflag/eu",\n     },\n     "fa": {"native": "\xd9\x81\xd8\xa7\xd8\xb1\xd8\xb3\xdb\x8c", "name": "Persian"},\n     "ff": {"native": "Fulfulde", "name": "Fula"},\n'

Repository: plone.i18n


Branch: refs/heads/master
Date: 2022-05-31T11:19:25+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.i18n/commit/ecfd9f6e8627d3f33cce61cc2d7bb9fb34c55951

Merge pull request #42 from plone/country-flags

SVG flag support

Files changed:
A news/42.breaking
M plone/i18n/configure.zcml
M plone/i18n/locales/cctld.py
M plone/i18n/locales/countries.py
M plone/i18n/locales/languages.py
M plone/i18n/locales/tests/test_countries.py
M plone/i18n/locales/tests/test_languages.py
M plone/i18n/negotiate/negotiate.py
M plone/i18n/normalizer/__init__.py
M plone/i18n/normalizer/adapters.py
M plone/i18n/normalizer/bg.py
M plone/i18n/normalizer/tests/test_normalizer.py
M plone/i18n/tests/base.py
M plone/i18n/tests/test_negotiation.py
M plone/i18n/utility.py
M setup.py

b'diff --git a/news/42.breaking b/news/42.breaking\nnew file mode 100644\nindex 0000000..8816beb\n--- /dev/null\n+++ b/news/42.breaking\n@@ -0,0 +1,4 @@\n+Use SVG Flags in Language Selector\n+Update Name of Flags\n+Prepare of use the Icon Resolver in Plone 6\n+[1letter, jensens]\ndiff --git a/plone/i18n/configure.zcml b/plone/i18n/configure.zcml\nindex 5e67140..2c98c55 100644\n--- a/plone/i18n/configure.zcml\n+++ b/plone/i18n/configure.zcml\n@@ -5,7 +5,7 @@\n \n     <include package=".locales" />\n     <include package=".normalizer" />\n-    \n+\n     <utility factory=".utility.LanguageUtility"/>\n     <adapter for="* *" factory=".negotiate.negotiate.NegotiateLanguage"/>\n \ndiff --git a/plone/i18n/locales/cctld.py b/plone/i18n/locales/cctld.py\nindex 3b9e545..7a11868 100644\n--- a/plone/i18n/locales/cctld.py\n+++ b/plone/i18n/locales/cctld.py\n@@ -6,7 +6,7 @@\n # Descriptions for most TLDs a can be found at\n # http://en.wikipedia.org/wiki/List_of_Internet_top-level_domains\n \n-from plone.i18n.locales.interfaces import ICcTLDInformation\n+from .interfaces import ICcTLDInformation\n from zope.interface import implementer\n \n \ndiff --git a/plone/i18n/locales/countries.py b/plone/i18n/locales/countries.py\nindex c1bf859..af2226f 100644\n--- a/plone/i18n/locales/countries.py\n+++ b/plone/i18n/locales/countries.py\n@@ -1,4 +1,4 @@\n-from plone.i18n.locales.interfaces import ICountryAvailability\n+from .interfaces import ICountryAvailability\n from zope.interface import implementer\n \n \n@@ -25,695 +25,689 @@ def getCountryListing(self):\n #\n # \'country-code\' : {\n #     u\'name\' : \'English name\',\n-#     u\'flag\' : u\'/++resource++country-flags/*.gif\',\n+#     u\'flag\' : u\'countryflag/*.gif\',\n # }\n #\n # This list follows ISO 3166-1. In addition the following reservations are\n # part of the list for historical reasons: an\n \n _countrylist = {\n-    "ad": {"name": "Andorra", "flag": "/++resource++country-flags/ad.gif"},\n+    "ad": {"name": "Andorra", "flag": "countryflag/ad"},\n     "ae": {\n         "name": "United Arab Emirates",\n-        "flag": "/++resource++country-flags/ae.gif",\n+        "flag": "countryflag/ae",\n     },\n     "af": {\n         "name": "Afghanistan",\n-        "flag": "/++resource++country-flags/af.gif",\n+        "flag": "countryflag/af",\n     },\n     "ag": {\n         "name": "Antigua and Barbuda",\n-        "flag": "/++resource++country-flags/ag.gif",\n+        "flag": "countryflag/ag",\n     },\n     "ai": {\n         "name": "Anguilla",\n-        "flag": "/++resource++country-flags/ai.gif",\n+        "flag": "countryflag/ai",\n     },\n-    "al": {"name": "Albania", "flag": "/++resource++country-flags/al.gif"},\n-    "am": {"name": "Armenia", "flag": "/++resource++country-flags/am.gif"},\n+    "al": {"name": "Albania", "flag": "countryflag/al"},\n+    "am": {"name": "Armenia", "flag": "countryflag/am"},\n     "an": {\n         "name": "Netherlands Antilles",\n-        "flag": "/++resource++country-flags/an.gif",\n+        "flag": "countryflag/an",\n     },\n-    "ao": {"name": "Angola", "flag": "/++resource++country-flags/ao.gif"},\n+    "ao": {"name": "Angola", "flag": "countryflag/ao"},\n     "aq": {\n         "name": "Antarctica",\n-        "flag": "/++resource++country-flags/aq.gif",\n+        "flag": "countryflag/aq",\n     },\n     "ar": {\n         "name": "Argentina",\n-        "flag": "/++resource++country-flags/ar.gif",\n+        "flag": "countryflag/ar",\n     },\n     "as": {\n         "name": "American Samoa",\n-        "flag": "/++resource++country-flags/as.gif",\n+        "flag": "countryflag/as",\n     },\n-    "at": {"name": "Austria", "flag": "/++resource++country-flags/at.gif"},\n+    "at": {"name": "Austria", "flag": "countryflag/at"},\n     "au": {\n         "name": "Australia",\n-        "flag": "/++resource++country-flags/au.gif",\n+        "flag": "countryflag/au",\n     },\n-    "aw": {"name": "Aruba", "flag": "/++resource++country-flags/aw.gif"},\n+    "aw": {"name": "Aruba", "flag": "countryflag/aw"},\n     "ax": {\n         "name": "Oland Islands",\n-        "flag": "/++resource++country-flags/ax.gif",\n+        "flag": "countryflag/ax",\n     },\n     "az": {\n         "name": "Azerbaijan",\n-        "flag": "/++resource++country-flags/az.gif",\n+        "flag": "countryflag/az",\n     },\n     "ba": {\n         "name": "Bosnia and Herzegovina",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "bb": {\n         "name": "Barbados",\n-        "flag": "/++resource++country-flags/bb.gif",\n+        "flag": "countryflag/bb",\n     },\n     "bd": {\n         "name": "Bangladesh",\n-        "flag": "/++resource++country-flags/bd.gif",\n+        "flag": "countryflag/bd",\n     },\n-    "be": {"name": "Belgium", "flag": "/++resource++country-flags/be.gif"},\n+    "be": {"name": "Belgium", "flag": "countryflag/be"},\n     "bf": {\n         "name": "Burkina Faso",\n-        "flag": "/++resource++country-flags/bf.gif",\n+        "flag": "countryflag/bf",\n     },\n     "bg": {\n         "name": "Bulgaria",\n-        "flag": "/++resource++country-flags/bg.gif",\n+        "flag": "countryflag/bg",\n     },\n-    "bh": {"name": "Bahrain", "flag": "/++resource++country-flags/bh.gif"},\n-    "bi": {"name": "Burundi", "flag": "/++resource++country-flags/bi.gif"},\n-    "bj": {"name": "Benin", "flag": "/++resource++country-flags/bj.gif"},\n+    "bh": {"name": "Bahrain", "flag": "countryflag/bh"},\n+    "bi": {"name": "Burundi", "flag": "countryflag/bi"},\n+    "bj": {"name": "Benin", "flag": "countryflag/bj"},\n     "bl": {\n         "name": "Saint Barth\xc3\xa9lemy",\n-        "flag": "/++resource++country-flags/bl.gif",\n+        "flag": "countryflag/bl",\n     },\n-    "bm": {"name": "Bermuda", "flag": "/++resource++country-flags/bm.gif"},\n+    "bm": {"name": "Bermuda", "flag": "countryflag/bm"},\n     "bn": {\n         "name": "Brunei Darussalam",\n-        "flag": "/++resource++country-flags/bn.gif",\n+        "flag": "countryflag/bn",\n     },\n-    "bo": {"name": "Bolivia", "flag": "/++resource++country-flags/bo.gif"},\n+    "bo": {"name": "Bolivia", "flag": "countryflag/bo"},\n     "bq": {\n         "name": "Bonaire, Sint Eustatius and Saba",\n-        "flag": "/++resource++country-flags/bq.gif",\n+        "flag": "countryflag/bq",\n     },\n-    "br": {"name": "Brazil", "flag": "/++resource++country-flags/br.gif"},\n-    "bs": {"name": "Bahamas", "flag": "/++resource++country-flags/bs.gif"},\n-    "bt": {"name": "Bhutan", "flag": "/++resource++country-flags/bt.gif"},\n+    "br": {"name": "Brazil", "flag": "countryflag/br"},\n+    "bs": {"name": "Bahamas", "flag": "countryflag/bs"},\n+    "bt": {"name": "Bhutan", "flag": "countryflag/bt"},\n     "bv": {\n         "name": "Bouvet Island",\n-        "flag": "/++resource++country-flags/bv.gif",\n+        "flag": "countryflag/bv",\n     },\n     "bw": {\n         "name": "Botswana",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n-    "by": {"name": "Belarus", "flag": "/++resource++country-flags/by.gif"},\n-    "bz": {"name": "Belize", "flag": "/++resource++country-flags/bz.gif"},\n-    "ca": {"name": "Canada", "flag": "/++resource++country-flags/ca.gif"},\n+    "by": {"name": "Belarus", "flag": "countryflag/by"},\n+    "bz": {"name": "Belize", "flag": "countryflag/bz"},\n+    "ca": {"name": "Canada", "flag": "countryflag/ca"},\n     "cc": {\n         "name": "Cocos (Keeling) Islands",\n-        "flag": "/++resource++country-flags/cc.gif",\n+        "flag": "countryflag/cc",\n     },\n     "cd": {\n         "name": "Congo The Democratic Republic of",\n-        "flag": "/++resource++country-flags/cd.gif",\n+        "flag": "countryflag/cd",\n     },\n     "cf": {\n         "name": "Central African Republic",\n-        "flag": "/++resource++country-flags/cf.gif",\n+        "flag": "countryflag/cf",\n     },\n-    "cg": {"name": "Congo", "flag": "/++resource++country-flags/cg.gif"},\n+    "cg": {"name": "Congo", "flag": "countryflag/cg"},\n     "ch": {\n         "name": "Switzerland",\n-        "flag": "/++resource++country-flags/ch.gif",\n+        "flag": "countryflag/ch",\n     },\n     "ci": {\n         "name": "Cote d\'Ivoire",\n-        "flag": "/++resource++country-flags/ci.gif",\n+        "flag": "countryflag/ci",\n     },\n     "ck": {\n         "name": "Cook Islands",\n-        "flag": "/++resource++country-flags/ck.gif",\n+        "flag": "countryflag/ck",\n     },\n-    "cl": {"name": "Chile", "flag": "/++resource++country-flags/cl.gif"},\n+    "cl": {"name": "Chile", "flag": "countryflag/cl"},\n     "cm": {\n         "name": "Cameroon",\n-        "flag": "/++resource++country-flags/cm.gif",\n+        "flag": "countryflag/cm",\n     },\n-    "cn": {"name": "China", "flag": "/++resource++country-flags/cn.gif"},\n+    "cn": {"name": "China", "flag": "countryflag/cn"},\n     "co": {\n         "name": "Colombia",\n-        "flag": "/++resource++country-flags/co.gif",\n+        "flag": "countryflag/co",\n     },\n     "cr": {\n         "name": "Costa Rica",\n-        "flag": "/++resource++country-flags/cr.gif",\n+        "flag": "countryflag/cr",\n     },\n     "cs": {\n         "name": "Serbia and Montenegro",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     },\n-    "cu": {"name": "Cuba", "flag": "/++resource++country-flags/cu.gif"},\n+    "cu": {"name": "Cuba", "flag": "countryflag/cu"},\n     "cv": {\n         "name": "Cape Verde",\n-        "flag": "/++resource++country-flags/cv.gif",\n+        "flag": "countryflag/cv",\n     },\n-    "cw": {"name": "Cura\xc3\xa7ao", "flag": "/++resource++country-flags/cw.png"},\n+    "cw": {"name": "Cura\xc3\xa7ao", "flag": "countryflag/cw.png"},\n     "cx": {\n         "name": "Christmas Island",\n-        "flag": "/++resource++country-flags/cx.gif",\n+        "flag": "countryflag/cx",\n     },\n-    "cy": {"name": "Cyprus", "flag": "/++resource++country-flags/cy.gif"},\n+    "cy": {"name": "Cyprus", "flag": "countryflag/cy"},\n     "cz": {\n         "name": "Czech Republic",\n-        "flag": "/++resource++country-flags/cz.gif",\n+        "flag": "countryflag/cz",\n     },\n-    "de": {"name": "Germany", "flag": "/++resource++country-flags/de.gif"},\n+    "de": {"name": "Germany", "flag": "countryflag/de"},\n     "dj": {\n         "name": "Djibouti",\n-        "flag": "/++resource++country-flags/dj.gif",\n+        "flag": "countryflag/dj",\n     },\n-    "dk": {"name": "Denmark", "flag": "/++resource++country-flags/dk.gif"},\n+    "dk": {"name": "Denmark", "flag": "countryflag/dk"},\n     "dm": {\n         "name": "Dominica",\n-        "flag": "/++resource++country-flags/dm.gif",\n+        "flag": "countryflag/dm",\n     },\n     "do": {\n         "name": "Dominican Republic",\n-        "flag": "/++resource++country-flags/do.gif",\n+        "flag": "countryflag/do",\n     },\n-    "dz": {"name": "Algeria", "flag": "/++resource++country-flags/dz.gif"},\n-    "ec": {"name": "Ecuador", "flag": "/++resource++country-flags/ec.gif"},\n-    "ee": {"name": "Estonia", "flag": "/++resource++country-flags/ee.gif"},\n-    "eg": {"name": "Egypt", "flag": "/++resource++country-flags/eg.gif"},\n+    "dz": {"name": "Algeria", "flag": "countryflag/dz"},\n+    "ec": {"name": "Ecuador", "flag": "countryflag/ec"},\n+    "ee": {"name": "Estonia", "flag": "countryflag/ee"},\n+    "eg": {"name": "Egypt", "flag": "countryflag/eg"},\n     "eh": {\n         "name": "Western Sahara",\n-        "flag": "/++resource++country-flags/eh.gif",\n+        "flag": "countryflag/eh",\n     },\n-    "er": {"name": "Eritrea", "flag": "/++resource++country-flags/er.gif"},\n-    "es": {"name": "Spain", "flag": "/++resource++country-flags/es.gif"},\n+    "er": {"name": "Eritrea", "flag": "countryflag/er"},\n+    "es": {"name": "Spain", "flag": "countryflag/es"},\n     "et": {\n         "name": "Ethiopia",\n-        "flag": "/++resource++country-flags/et.gif",\n+        "flag": "countryflag/et",\n     },\n-    "fi": {"name": "Finland", "flag": "/++resource++country-flags/fi.gif"},\n-    "fj": {"name": "Fiji", "flag": "/++resource++country-flags/fj.gif"},\n+    "fi": {"name": "Finland", "flag": "countryflag/fi"},\n+    "fj": {"name": "Fiji", "flag": "countryflag/fj"},\n     "fk": {\n         "name": "Falkland Islands (Malvinas)",\n-        "flag": "/++resource++country-flags/fk.gif",\n+        "flag": "countryflag/fk",\n     },\n     "fm": {\n         "name": "Micronesia Federated States of",\n-        "flag": "/++resource++country-flags/fm.gif",\n+        "flag": "countryflag/fm",\n     },\n     "fo": {\n         "name": "Faroe Islands",\n-        "flag": "/++resource++country-flags/fo.gif",\n+        "flag": "countryflag/fo",\n     },\n-    "fr": {"name": "France", "flag": "/++resource++country-flags/fr.gif"},\n-    "ga": {"name": "Gabon", "flag": "/++resource++country-flags/ga.gif"},\n+    "fr": {"name": "France", "flag": "countryflag/fr"},\n+    "ga": {"name": "Gabon", "flag": "countryflag/ga"},\n     "gb": {\n         "name": "United Kingdom",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n-    "gd": {"name": "Grenada", "flag": "/++resource++country-flags/gd.gif"},\n-    "ge": {"name": "Georgia", "flag": "/++resource++country-flags/ge.gif"},\n+    "gd": {"name": "Grenada", "flag": "countryflag/gd"},\n+    "ge": {"name": "Georgia", "flag": "countryflag/ge"},\n     "gf": {\n         "name": "French Guiana",\n-        "flag": "/++resource++country-flags/gf.gif",\n+        "flag": "countryflag/gf",\n     },\n     "gg": {\n         "name": "Guernsey",\n-        "flag": "/++resource++country-flags/gg.gif",\n+        "flag": "countryflag/gg",\n     },\n-    "gh": {"name": "Ghana", "flag": "/++resource++country-flags/gh.gif"},\n+    "gh": {"name": "Ghana", "flag": "countryflag/gh"},\n     "gi": {\n         "name": "Gibraltar",\n-        "flag": "/++resource++country-flags/gi.gif",\n+        "flag": "countryflag/gi",\n     },\n     "gl": {\n         "name": "Greenland",\n-        "flag": "/++resource++country-flags/gl.gif",\n+        "flag": "countryflag/gl",\n     },\n-    "gm": {"name": "Gambia", "flag": "/++resource++country-flags/gm.gif"},\n-    "gn": {"name": "Guinea", "flag": "/++resource++country-flags/gn.gif"},\n+    "gm": {"name": "Gambia", "flag": "countryflag/gm"},\n+    "gn": {"name": "Guinea", "flag": "countryflag/gn"},\n     "gp": {\n         "name": "Guadeloupe",\n-        "flag": "/++resource++country-flags/gp.gif",\n+        "flag": "countryflag/gp",\n     },\n     "gq": {\n         "name": "Equatorial Guinea",\n-        "flag": "/++resource++country-flags/gq.gif",\n+        "flag": "countryflag/gq",\n     },\n-    "gr": {"name": "Greece", "flag": "/++resource++country-flags/gr.gif"},\n+    "gr": {"name": "Greece", "flag": "countryflag/gr"},\n     "gs": {\n         "name": "South Georgia and the South Sandwich Islands",\n-        "flag": "/++resource++country-flags/gs.gif",\n+        "flag": "countryflag/gs",\n     },\n     "gt": {\n         "name": "Guatemala",\n-        "flag": "/++resource++country-flags/gt.gif",\n+        "flag": "countryflag/gt",\n     },\n-    "gu": {"name": "Guam", "flag": "/++resource++country-flags/gu.gif"},\n+    "gu": {"name": "Guam", "flag": "countryflag/gu"},\n     "gw": {\n         "name": "Guinea-Bissau",\n-        "flag": "/++resource++country-flags/gw.gif",\n+        "flag": "countryflag/gw",\n     },\n-    "gy": {"name": "Guyana", "flag": "/++resource++country-flags/gy.gif"},\n+    "gy": {"name": "Guyana", "flag": "countryflag/gy"},\n     "hk": {\n         "name": "Hong Kong",\n-        "flag": "/++resource++country-flags/hk.gif",\n+        "flag": "countryflag/hk",\n     },\n     "hm": {\n         "name": "Heard Island and McDonald Islands",\n-        "flag": "/++resource++country-flags/hm.gif",\n+        "flag": "countryflag/hm",\n     },\n     "hn": {\n         "name": "Honduras",\n-        "flag": "/++resource++country-flags/hn.gif",\n+        "flag": "countryflag/hn",\n     },\n-    "hr": {"name": "Croatia", "flag": "/++resource++country-flags/hr.gif"},\n-    "ht": {"name": "Haiti", "flag": "/++resource++country-flags/ht.gif"},\n-    "hu": {"name": "Hungary", "flag": "/++resource++country-flags/hu.gif"},\n+    "hr": {"name": "Croatia", "flag": "countryflag/hr"},\n+    "ht": {"name": "Haiti", "flag": "countryflag/ht"},\n+    "hu": {"name": "Hungary", "flag": "countryflag/hu"},\n     "id": {\n         "name": "Indonesia",\n-        "flag": "/++resource++country-flags/id.gif",\n+        "flag": "countryflag/id",\n     },\n-    "ie": {"name": "Ireland", "flag": "/++resource++country-flags/ie.gif"},\n-    "il": {"name": "Israel", "flag": "/++resource++country-flags/il.gif"},\n+    "ie": {"name": "Ireland", "flag": "countryflag/ie"},\n+    "il": {"name": "Israel", "flag": "countryflag/il"},\n     "im": {\n         "name": "Isle of Man",\n-        "flag": "/++resource++country-flags/im.gif",\n+        "flag": "countryflag/im",\n     },\n-    "in": {"name": "India", "flag": "/++resource++country-flags/in.gif"},\n+    "in": {"name": "India", "flag": "countryflag/in"},\n     "io": {\n         "name": "British Indian Ocean Territory",\n-        "flag": "/++resource++country-flags/io.gif",\n+        "flag": "countryflag/io",\n     },\n-    "iq": {"name": "Iraq", "flag": "/++resource++country-flags/iq.gif"},\n+    "iq": {"name": "Iraq", "flag": "countryflag/iq"},\n     "ir": {\n         "name": "Iran Islamic Republic of",\n-        "flag": "/++resource++country-flags/ir.gif",\n-    },\n-    "is": {"name": "Iceland", "flag": "/++resource++country-flags/is.gif"},\n-    "it": {"name": "Italy", "flag": "/++resource++country-flags/it.gif"},\n-    "je": {"name": "Jersey", "flag": "/++resource++country-flags/je.gif"},\n-    "jm": {"name": "Jamaica", "flag": "/++resource++country-flags/jm.gif"},\n-    "jo": {"name": "Jordan", "flag": "/++resource++country-flags/jo.gif"},\n-    "jp": {"name": "Japan", "flag": "/++resource++country-flags/jp.gif"},\n-    "ke": {"name": "Kenya", "flag": "/++resource++country-flags/ke.gif"},\n+        "flag": "countryflag/ir",\n+    },\n+    "is": {"name": "Iceland", "flag": "countryflag/is"},\n+    "it": {"name": "Italy", "flag": "countryflag/it"},\n+    "je": {"name": "Jersey", "flag": "countryflag/je"},\n+    "jm": {"name": "Jamaica", "flag": "countryflag/jm"},\n+    "jo": {"name": "Jordan", "flag": "countryflag/jo"},\n+    "jp": {"name": "Japan", "flag": "countryflag/jp"},\n+    "ke": {"name": "Kenya", "flag": "countryflag/ke"},\n     "kg": {\n         "name": "Kyrgyzstan",\n-        "flag": "/++resource++country-flags/kg.gif",\n+        "flag": "countryflag/kg",\n     },\n     "kh": {\n         "name": "Cambodia",\n-        "flag": "/++resource++country-flags/kh.gif",\n+        "flag": "countryflag/kh",\n     },\n     "ki": {\n         "name": "Kiribati",\n-        "flag": "/++resource++country-flags/ki.gif",\n+        "flag": "countryflag/ki",\n     },\n-    "km": {"name": "Comoros", "flag": "/++resource++country-flags/km.gif"},\n+    "km": {"name": "Comoros", "flag": "countryflag/km"},\n     "kn": {\n         "name": "Saint Kitts and Nevis",\n-        "flag": "/++resource++country-flags/kn.gif",\n+        "flag": "countryflag/kn",\n     },\n     "kp": {\n         "name": "Korea Democratic People\'s Republic of",\n-        "flag": "/++resource++country-flags/kp.gif",\n+        "flag": "countryflag/kp",\n     },\n     "kr": {\n         "name": "Korea Republic of",\n-        "flag": "/++resource++country-flags/kr.gif",\n+        "flag": "countryflag/kr",\n     },\n-    "kw": {"name": "Kuwait", "flag": "/++resource++country-flags/kw.gif"},\n+    "kw": {"name": "Kuwait", "flag": "countryflag/kw"},\n     "ky": {\n         "name": "Cayman Islands",\n-        "flag": "/++resource++country-flags/ky.gif",\n+        "flag": "countryflag/ky",\n     },\n     "kz": {\n         "name": "Kazakhstan",\n-        "flag": "/++resource++country-flags/kz.gif",\n+        "flag": "countryflag/kz",\n     },\n     "la": {\n         "name": "Lao People\'s Democratic Republic",\n-        "flag": "/++resource++country-flags/la.gif",\n+        "flag": "countryflag/la",\n     },\n-    "lb": {"name": "Lebanon", "flag": "/++resource++country-flags/lb.gif"},\n+    "lb": {"name": "Lebanon", "flag": "countryflag/lb"},\n     "lc": {\n         "name": "Saint Lucia",\n-        "flag": "/++resource++country-flags/lc.gif",\n+        "flag": "countryflag/lc",\n     },\n     "li": {\n         "name": "Liechtenstein",\n-        "flag": "/++resource++country-flags/li.gif",\n+        "flag": "countryflag/li",\n     },\n     "lk": {\n         "name": "Sri Lanka",\n-        "flag": "/++resource++country-flags/lk.gif",\n+        "flag": "countryflag/lk",\n     },\n-    "lr": {"name": "Liberia", "flag": "/++resource++country-flags/lr.gif"},\n-    "ls": {"name": "Lesotho", "flag": "/++resource++country-flags/ls.gif"},\n+    "lr": {"name": "Liberia", "flag": "countryflag/lr"},\n+    "ls": {"name": "Lesotho", "flag": "countryflag/ls"},\n     "lt": {\n         "name": "Lithuania",\n-        "flag": "/++resource++country-flags/lt.gif",\n+        "flag": "countryflag/lt",\n     },\n     "lu": {\n         "name": "Luxembourg",\n-        "flag": "/++resource++country-flags/lu.gif",\n+        "flag": "countryflag/lu",\n     },\n-    "lv": {"name": "Latvia", "flag": "/++resource++country-flags/lv.gif"},\n+    "lv": {"name": "Latvia", "flag": "countryflag/lv"},\n     "ly": {\n         "name": "Libyan Arab Jamahiriya",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n-    "ma": {"name": "Morocco", "flag": "/++resource++country-flags/ma.gif"},\n-    "mc": {"name": "Monaco", "flag": "/++resource++country-flags/mc.gif"},\n+    "ma": {"name": "Morocco", "flag": "countryflag/ma"},\n+    "mc": {"name": "Monaco", "flag": "countryflag/mc"},\n     "md": {\n         "name": "Moldova Republic of",\n-        "flag": "/++resource++country-flags/md.gif",\n+        "flag": "countryflag/md",\n     },\n     "me": {\n         "name": "Montenegro",\n-        "flag": "/++resource++country-flags/me.gif",\n+        "flag": "countryflag/me",\n     },\n     "mf": {\n         "name": "Saint Martin (French part)",\n-        "flag": "/++resource++country-flags/mf.png",\n+        "flag": "countryflag/mf.png",\n     },\n     "mg": {\n         "name": "Madagascar",\n-        "flag": "/++resource++country-flags/mg.gif",\n+        "flag": "countryflag/mg",\n     },\n     "mh": {\n         "name": "Marshall Islands",\n-        "flag": "/++resource++country-flags/mh.gif",\n+        "flag": "countryflag/mh",\n     },\n     "mk": {\n         "name": "Macedonia the former Yugoslavian Republic of",\n-        "flag": "/++resource++country-flags/mk.gif",\n+        "flag": "countryflag/mk",\n     },\n-    "ml": {"name": "Mali", "flag": "/++resource++country-flags/ml.gif"},\n-    "mm": {"name": "Myanmar", "flag": "/++resource++country-flags/mm.gif"},\n+    "ml": {"name": "Mali", "flag": "countryflag/ml"},\n+    "mm": {"name": "Myanmar", "flag": "countryflag/mm"},\n     "mn": {\n         "name": "Mongolia",\n-        "flag": "/++resource++country-flags/mn.gif",\n+        "flag": "countryflag/mn",\n     },\n-    "mo": {"name": "Macao", "flag": "/++resource++country-flags/mo.gif"},\n+    "mo": {"name": "Macao", "flag": "countryflag/mo"},\n     "mp": {\n         "name": "Northern Mariana Islands",\n-        "flag": "/++resource++country-flags/mp.gif",\n+        "flag": "countryflag/mp",\n     },\n     "mq": {\n         "name": "Martinique",\n-        "flag": "/++resource++country-flags/mq.gif",\n+        "flag": "countryflag/mq",\n     },\n     "mr": {\n         "name": "Mauritania",\n-        "flag": "/++resource++country-flags/mr.gif",\n+        "flag": "countryflag/mr",\n     },\n     "ms": {\n         "name": "Montserrat",\n-        "flag": "/++resource++country-flags/ms.gif",\n+        "flag": "countryflag/ms",\n     },\n-    "mt": {"name": "Malta", "flag": "/++resource++country-flags/mt.gif"},\n+    "mt": {"name": "Malta", "flag": "countryflag/mt"},\n     "mu": {\n         "name": "Mauritius",\n-        "flag": "/++resource++country-flags/mu.gif",\n+        "flag": "countryflag/mu",\n     },\n     "mv": {\n         "name": "Maldives",\n-        "flag": "/++resource++country-flags/mv.gif",\n+        "flag": "countryflag/mv",\n     },\n-    "mw": {"name": "Malawi", "flag": "/++resource++country-flags/mw.gif"},\n-    "mx": {"name": "Mexico", "flag": "/++resource++country-flags/mx.gif"},\n+    "mw": {"name": "Malawi", "flag": "countryflag/mw"},\n+    "mx": {"name": "Mexico", "flag": "countryflag/mx"},\n     "my": {\n         "name": "Malaysia",\n-        "flag": "/++resource++country-flags/my.gif",\n+        "flag": "countryflag/my",\n     },\n     "mz": {\n         "name": "Mozambique",\n-        "flag": "/++resource++country-flags/mz.gif",\n+        "flag": "countryflag/mz",\n     },\n-    "na": {"name": "Namibia", "flag": "/++resource++country-flags/na.gif"},\n+    "na": {"name": "Namibia", "flag": "countryflag/na"},\n     "nc": {\n         "name": "New Caledonia",\n-        "flag": "/++resource++country-flags/nc.gif",\n+        "flag": "countryflag/nc",\n     },\n-    "ne": {"name": "Niger", "flag": "/++resource++country-flags/ne.gif"},\n+    "ne": {"name": "Niger", "flag": "countryflag/ne"},\n     "nf": {\n         "name": "Norfolk Island",\n-        "flag": "/++resource++country-flags/nf.gif",\n+        "flag": "countryflag/nf",\n     },\n-    "ng": {"name": "Nigeria", "flag": "/++resource++country-flags/ng.gif"},\n+    "ng": {"name": "Nigeria", "flag": "countryflag/ng"},\n     "ni": {\n         "name": "Nicaragua",\n-        "flag": "/++resource++country-flags/ni.gif",\n+        "flag": "countryflag/ni",\n     },\n     "nl": {\n         "name": "Netherlands",\n-        "flag": "/++resource++country-flags/nl.gif",\n+        "flag": "countryflag/nl",\n     },\n-    "no": {"name": "Norway", "flag": "/++resource++country-flags/no.gif"},\n-    "np": {"name": "Nepal", "flag": "/++resource++country-flags/np.gif"},\n-    "nr": {"name": "Nauru", "flag": "/++resource++country-flags/nr.gif"},\n-    "nu": {"name": "Niue", "flag": "/++resource++country-flags/nu.gif"},\n+    "no": {"name": "Norway", "flag": "countryflag/no"},\n+    "np": {"name": "Nepal", "flag": "countryflag/np"},\n+    "nr": {"name": "Nauru", "flag": "countryflag/nr"},\n+    "nu": {"name": "Niue", "flag": "countryflag/nu"},\n     "nz": {\n         "name": "New Zealand",\n-        "flag": "/++resource++country-flags/nz.gif",\n+        "flag": "countryflag/nz",\n     },\n-    "om": {"name": "Oman", "flag": "/++resource++country-flags/om.gif"},\n-    "pa": {"name": "Panama", "flag": "/++resource++country-flags/pa.gif"},\n-    "pe": {"name": "Peru", "flag": "/++resource++country-flags/pe.gif"},\n+    "om": {"name": "Oman", "flag": "countryflag/om"},\n+    "pa": {"name": "Panama", "flag": "countryflag/pa"},\n+    "pe": {"name": "Peru", "flag": "countryflag/pe"},\n     "pf": {\n         "name": "French Polynesia",\n-        "flag": "/++resource++country-flags/pf.gif",\n+        "flag": "countryflag/pf",\n     },\n     "pg": {\n         "name": "Papua New Guinea",\n-        "flag": "/++resource++country-flags/pg.gif",\n+        "flag": "countryflag/pg",\n     },\n     "ph": {\n         "name": "Philippines",\n-        "flag": "/++resource++country-flags/ph.gif",\n+        "flag": "countryflag/ph",\n     },\n     "pk": {\n         "name": "Pakistan",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n-    "pl": {"name": "Poland", "flag": "/++resource++country-flags/pl.gif"},\n+    "pl": {"name": "Poland", "flag": "countryflag/pl"},\n     "pm": {\n         "name": "Saint Pierre and Miquelon",\n-        "flag": "/++resource++country-flags/pm.gif",\n+        "flag": "countryflag/pm",\n     },\n     "pn": {\n         "name": "Pitcairn",\n-        "flag": "/++resource++country-flags/pn.gif",\n+        "flag": "countryflag/pn",\n     },\n     "pr": {\n         "name": "Puerto Rico",\n-        "flag": "/++resource++country-flags/pr.gif",\n+        "flag": "countryflag/pr",\n     },\n     "ps": {\n         "name": "Palestinian Territory occupied",\n-        "flag": "/++resource++country-flags/ps.gif",\n+        "flag": "countryflag/ps",\n     },\n     "pt": {\n         "name": "Portugal",\n-        "flag": "/++resource++country-flags/pt.gif",\n+        "flag": "countryflag/pt",\n     },\n-    "pw": {"name": "Palau", "flag": "/++resource++country-flags/pw.gif"},\n+    "pw": {"name": "Palau", "flag": "countryflag/pw"},\n     "py": {\n         "name": "Paraguay",\n-        "flag": "/++resource++country-flags/py.gif",\n+        "flag": "countryflag/py",\n     },\n-    "qa": {"name": "Qatar", "flag": "/++resource++country-flags/qa.gif"},\n-    "re": {"name": "Reunion", "flag": "/++resource++country-flags/re.gif"},\n-    "ro": {"name": "Romania", "flag": "/++resource++country-flags/ro.gif"},\n-    "rs": {"name": "Serbia", "flag": "/++resource++country-flags/rs.gif"},\n+    "qa": {"name": "Qatar", "flag": "countryflag/qa"},\n+    "re": {"name": "Reunion", "flag": "countryflag/re"},\n+    "ro": {"name": "Romania", "flag": "countryflag/ro"},\n+    "rs": {"name": "Serbia", "flag": "countryflag/rs"},\n     "ru": {\n         "name": "Russian Federation",\n-        "flag": "/++resource++country-flags/ru.gif",\n+        "flag": "countryflag/ru",\n     },\n-    "rw": {"name": "Rwanda", "flag": "/++resource++country-flags/rw.gif"},\n+    "rw": {"name": "Rwanda", "flag": "countryflag/rw"},\n     "sa": {\n         "name": "Saudi Arabia",\n-        "flag": "/++resource++country-flags/sa.gif",\n+        "flag": "countryflag/sa",\n     },\n     "sb": {\n         "name": "Solomon Islands",\n-        "flag": "/++resource++country-flags/sb.gif",\n+        "flag": "countryflag/sb",\n     },\n     "sc": {\n         "name": "Seychelles",\n-        "flag": "/++resource++country-flags/sc.gif",\n+        "flag": "countryflag/sc",\n     },\n-    "sd": {"name": "Sudan", "flag": "/++resource++country-flags/sd.gif"},\n-    "se": {"name": "Sweden", "flag": "/++resource++country-flags/se.gif"},\n+    "sd": {"name": "Sudan", "flag": "countryflag/sd"},\n+    "se": {"name": "Sweden", "flag": "countryflag/se"},\n     "sg": {\n         "name": "Singapore",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "sh": {\n         "name": "Saint Helena",\n-        "flag": "/++resource++country-flags/sh.gif",\n+        "flag": "countryflag/sh",\n     },\n     "si": {\n         "name": "Slovenia",\n-        "flag": "/++resource++country-flags/si.gif",\n+        "flag": "countryflag/si",\n     },\n     "sj": {\n         "name": "Svalbard and Jan Mayen",\n-        "flag": "/++resource++country-flags/sj.gif",\n+        "flag": "countryflag/sj",\n     },\n     "sk": {\n         "name": "Slovakia",\n-        "flag": "/++resource++country-flags/sk.gif",\n+        "flag": "countryflag/sk",\n     },\n     "sl": {\n         "name": "Sierra Leone",\n-        "flag": "/++resource++country-flags/sl.gif",\n+        "flag": "countryflag/sl",\n     },\n     "sm": {\n         "name": "San Marino",\n-        "flag": "/++resource++country-flags/sm.gif",\n+        "flag": "countryflag/sm",\n     },\n-    "sn": {"name": "Senegal", "flag": "/++resource++country-flags/sn.gif"},\n-    "so": {"name": "Somalia", "flag": "/++resource++country-flags/so.gif"},\n+    "sn": {"name": "Senegal", "flag": "countryflag/sn"},\n+    "so": {"name": "Somalia", "flag": "countryflag/so"},\n     "sr": {\n         "name": "Suriname",\n-        "flag": "/++resource++country-flags/sr.gif",\n+        "flag": "countryflag/sr",\n     },\n     "ss": {\n         "name": "South Sudan",\n-        "flag": "/++resource++country-flags/ss.png",\n+        "flag": "countryflag/ss.png",\n     },\n     "st": {\n         "name": "Sao Tome and Principe",\n-        "flag": "/++resource++country-flags/st.gif",\n+        "flag": "countryflag/st",\n     },\n     "sv": {\n         "name": "El Salvador",\n-        "flag": "/++resource++country-flags/sv.gif",\n+        "flag": "countryflag/sv",\n     },\n     "sx": {\n         "name": "Sint Maarten (Dutch part)",\n-        "flag": "/++resource++country-flags/sx.png",\n+        "flag": "countryflag/sx.png",\n     },\n     "sy": {\n         "name": "Syrian Arab Republic",\n-        "flag": "/++resource++country-flags/sy.gif",\n+        "flag": "countryflag/sy",\n     },\n     "sz": {\n         "name": "Swaziland",\n-        "flag": "/++resource++country-flags/sz.gif",\n+        "flag": "countryflag/sz",\n     },\n     "tc": {\n         "name": "Turks and Caicos Islands",\n-        "flag": "/++resource++country-flags/tc.gif",\n+        "flag": "countryflag/tc",\n     },\n-    "td": {"name": "Chad", "flag": "/++resource++country-flags/td.gif"},\n+    "td": {"name": "Chad", "flag": "countryflag/td"},\n     "tf": {\n         "name": "French Southern Territories",\n-        "flag": "/++resource++country-flags/tf.gif",\n+        "flag": "countryflag/tf",\n     },\n-    "tg": {"name": "Togo", "flag": "/++resource++country-flags/tg.gif"},\n+    "tg": {"name": "Togo", "flag": "countryflag/tg"},\n     "th": {\n         "name": "Thailand",\n-        "flag": "/++resource++country-flags/th.gif",\n+        "flag": "countryflag/th",\n     },\n     "tj": {\n         "name": "Tajikistan",\n-        "flag": "/++resource++country-flags/tj.gif",\n+        "flag": "countryflag/tj",\n     },\n-    "tk": {"name": "Tokelau", "flag": "/++resource++country-flags/tk.gif"},\n+    "tk": {"name": "Tokelau", "flag": "countryflag/tk"},\n     "tl": {\n         "name": "Timor-Leste",\n-        "flag": "/++resource++country-flags/tl.gif",\n+        "flag": "countryflag/tl",\n     },\n     "tm": {\n         "name": "Turkmenistan",\n-        "flag": "/++resource++country-flags/tm.gif",\n+        "flag": "countryflag/tm",\n     },\n-    "tn": {"name": "Tunisia", "flag": "/++resource++country-flags/tn.gif"},\n-    "to": {"name": "Tonga", "flag": "/++resource++country-flags/to.gif"},\n-    "tr": {"name": "Turkey", "flag": "/++resource++country-flags/tr.gif"},\n+    "tn": {"name": "Tunisia", "flag": "countryflag/tn"},\n+    "to": {"name": "Tonga", "flag": "countryflag/to"},\n+    "tr": {"name": "Turkey", "flag": "countryflag/tr"},\n     "tt": {\n         "name": "Trinidad and Tobago",\n-        "flag": "/++resource++country-flags/tt.gif",\n+        "flag": "countryflag/tt",\n     },\n-    "tv": {"name": "Tuvalu", "flag": "/++resource++country-flags/tv.gif"},\n-    "tw": {"name": "Taiwan", "flag": "/++resource++country-flags/tw.gif"},\n+    "tv": {"name": "Tuvalu", "flag": "countryflag/tv"},\n+    "tw": {"name": "Taiwan", "flag": "countryflag/tw"},\n     "tz": {\n         "name": "Tanzania United Republic of",\n-        "flag": "/++resource++country-flags/tz.gif",\n+        "flag": "countryflag/tz",\n     },\n-    "ua": {"name": "Ukraine", "flag": "/++resource++country-flags/ua.gif"},\n-    "ug": {"name": "Uganda", "flag": "/++resource++country-flags/ug.gif"},\n+    "ua": {"name": "Ukraine", "flag": "countryflag/ua"},\n+    "ug": {"name": "Uganda", "flag": "countryflag/ug"},\n     "um": {\n         "name": "United States Minor Outlying Islands",\n-        "flag": "/++resource++country-flags/um.gif",\n+        "flag": "countryflag/um",\n     },\n     "us": {\n         "name": "United States",\n-        "flag": "/++resource++country-flags/us.gif",\n+        "flag": "countryflag/us",\n     },\n-    "uy": {"name": "Uruguay", "flag": "/++resource++country-flags/uy.gif"},\n+    "uy": {"name": "Uruguay", "flag": "countryflag/uy"},\n     "uz": {\n         "name": "Uzbekistan",\n-        "flag": "/++resource++country-flags/uz.gif",\n+        "flag": "countryflag/uz",\n     },\n     "va": {\n         "name": "Holy See (Vatican City State)",\n-        "flag": "/++resource++country-flags/va.gif",\n+        "flag": "countryflag/va",\n     },\n     "vc": {\n         "name": "Saint Vincent and the Grenadines",\n-        "flag": "/++resource++country-flags/vc.gif",\n+        "flag": "countryflag/vc",\n     },\n     "ve": {\n         "name": "Venezuela",\n-        "flag": "/++resource++country-flags/ve.gif",\n+        "flag": "countryflag/ve",\n     },\n     "vg": {\n         "name": "Virgin Islands British",\n-        "flag": "/++resource++country-flags/vg.gif",\n+        "flag": "countryflag/vg",\n     },\n     "vi": {\n         "name": "Virgin Islands U.S.",\n-        "flag": "/++resource++country-flags/vi.gif",\n+        "flag": "countryflag/vi",\n     },\n     "vn": {\n         "name": "Viet Nam",\n-        "flag": "/++resource++country-flags/vn.gif",\n+        "flag": "countryflag/vn",\n     },\n-    "vu": {"name": "Vanuatu", "flag": "/++resource++country-flags/vu.gif"},\n+    "vu": {"name": "Vanuatu", "flag": "countryflag/vu"},\n     "wf": {\n         "name": "Wallis and Futuna",\n-        "flag": "/++resource++country-flags/wf.gif",\n+        "flag": "countryflag/wf",\n     },\n-    "ws": {"name": "Samoa", "flag": "/++resource++country-flags/ws.gif"},\n-    "ye": {"name": "Yemen", "flag": "/++resource++country-flags/ye.gif"},\n-    "yt": {"name": "Mayotte", "flag": "/++resource++country-flags/yt.gif"},\n+    "ws": {"name": "Samoa", "flag": "countryflag/ws"},\n+    "ye": {"name": "Yemen", "flag": "countryflag/ye"},\n+    "yt": {"name": "Mayotte", "flag": "countryflag/yt"},\n     "za": {\n         "name": "South Africa",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n-    "zm": {"name": "Zambia", "flag": "/++resource++country-flags/zm.gif"},\n+    "zm": {"name": "Zambia", "flag": "countryflag/zm"},\n     "zw": {\n         "name": "Zimbabwe",\n-        "flag": "/++resource++country-flags/zw.gif",\n+        "flag": "countryflag/zw",\n     },\n-    "xk": {"name": "Kosovo", "flag": "/++resource++country-flags/xk.gif"},\n+    "xk": {"name": "Kosovo", "flag": "countryflag/xk"},\n }\n-\n-# convert the utf-8 encoded values to unicode\n-for code in _countrylist:\n-    value = _countrylist[code]\n-    if "name" in value:\n-        value["name"] = value["name"]\ndiff --git a/plone/i18n/locales/languages.py b/plone/i18n/locales/languages.py\nindex eed7109..e2516a1 100644\n--- a/plone/i18n/locales/languages.py\n+++ b/plone/i18n/locales/languages.py\n@@ -1,6 +1,6 @@\n-from plone.i18n.locales.interfaces import IContentLanguageAvailability\n-from plone.i18n.locales.interfaces import ILanguageAvailability\n-from plone.i18n.locales.interfaces import IMetadataLanguageAvailability\n+from .interfaces import IContentLanguageAvailability\n+from .interfaces import ILanguageAvailability\n+from .interfaces import IMetadataLanguageAvailability\n from zope.interface import implementer\n \n import os\n@@ -52,7 +52,7 @@ class MetadataLanguageAvailability(LanguageAvailability):\n # \'langcode-variation\' : {\n #     u\'native\' : \'Native name\',\n #     u\'name\' : \'English name\',\n-#     u\'flag\' : u\'/++resource++country-flags/*.gif\'\n+#     u\'flag\' : u\'countryflag/*.gif\'\n # }\n #\n # This list follows ISO-639-1. The list retains entries for mo and sh,\n@@ -62,12 +62,12 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "aa": {\n         "native": "\xd0\xbc\xd0\xb0\xd0\xb3I\xd0\xb0\xd1\x80\xd1\x83\xd0\xbb \xd0\xbc\xd0\xb0\xd1\x86I",\n         "name": "Afar",\n-        "flag": "/++resource++country-flags/dj.gif",\n+        "flag": "countryflag/dj",\n     },\n     "ab": {\n         "native": "\xd0\xb1\xd1\x8b\xd0\xb7\xd1\x88\xd3\x99\xd0\xb0",\n         "name": "Abkhazian",\n-        "flag": "/++resource++country-flags/ge.gif",\n+        "flag": "countryflag/ge",\n     },\n     "ae": {"native": "avesta", "name": "Avestan"},\n     "af": {"native": "Afrikaans", "name": "Afrikaans"},\n@@ -77,25 +77,25 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "ar": {\n         "native": "\xd8\xa7\xd9\x84\xd8\xb9\xd8\xb1\xd8\xa8\xd9\x8a\xd8\xa9",\n         "name": "Arabic",\n-        "flag": "/++resource++language-flags/ar.gif",\n+        "flag": "languageflag/ar",\n     },\n     "as": {"native": "\xe0\xa6\x85\xe0\xa6\xb8\xe0\xa6\xae\xe0\xa6\xbf\xe0\xa7\x9f\xe0\xa6\xbe", "name": "Assamese"},\n     "ay": {"native": "Aymara", "name": "Aymara"},\n     "az": {\n         "native": "Az\xc9\x99ri T\xc3\xbcrk\xc3\xa7\xc9\x99si",\n         "name": "Azerbaijani",\n-        "flag": "/++resource++country-flags/az.gif",\n+        "flag": "countryflag/az",\n     },\n     "ba": {"native": "Bashkir", "name": "Bashkir"},\n     "be": {\n         "native": "\xd0\x91\xd0\xb5\xd0\xbb\xd0\xb0\xd1\x80\xd1\x83\xd1\x81\xd0\xba\xd1\x96",\n         "name": "Belarussian",\n-        "flag": "/++resource++country-flags/by.gif",\n+        "flag": "countryflag/by",\n     },\n     "bg": {\n         "native": "\xd0\x91\xd1\x8a\xd0\xbb\xd0\xb3\xd0\xb0\xd1\x80\xd1\x81\xd0\xba\xd0\xb8",\n         "name": "Bulgarian",\n-        "flag": "/++resource++country-flags/bg.gif",\n+        "flag": "countryflag/bg",\n     },\n     "bh": {"native": "Bihari", "name": "Bihari"},\n     "bi": {"native": "Bislama", "name": "Bislama"},\n@@ -103,19 +103,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "bn": {\n         "native": "\xe0\xa6\xac\xe0\xa6\xbe\xe0\xa6\x82\xe0\xa6\xb2\xe0\xa6\xbe",\n         "name": "Bengali",\n-        "flag": "/++resource++country-flags/bd.gif",\n+        "flag": "countryflag/bd",\n     },\n     "bo": {"native": "\xe0\xbd\x96\xe0\xbd\xbc\xe0\xbd\x91\xe0\xbc\x8b\xe0\xbd\xa6\xe0\xbe\x90\xe0\xbd\x91\xe0\xbc\x8b", "name": "Tibetan"},\n     "br": {"native": "brezhoneg", "name": "Breton"},\n     "bs": {\n         "native": "Bosanski",\n         "name": "Bosnian",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "ca": {\n         "native": "Catal\xc3\xa0",\n         "name": "Catalan",\n-        "flag": "/++resource++language-flags/ca.gif",\n+        "flag": "languageflag/ca",\n     },\n     "ce": {"native": "\xd0\xbd\xd0\xbe\xd1\x85\xd1\x87\xd0\xb8\xd0\xb9\xd0\xbd \xd0\xbc\xd0\xbe\xd1\x82\xd1\x82", "name": "Chechen"},\n     "ch": {"native": "Chamoru", "name": "Chamorro"},\n@@ -124,24 +124,24 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "cs": {\n         "native": "\xc4\x8ce\xc5\xa1tina",\n         "name": "Czech",\n-        "flag": "/++resource++country-flags/cz.gif",\n+        "flag": "countryflag/cz",\n     },\n     "cu": {"native": "\xd1\xa9\xd0\xb7\xd1\x8b\xd0\xba\xd1\x8a \xd1\x81\xd0\xbb\xd0\xbe\xd0\xb2\xd1\xa3\xd0\xbd\xd1\x8c\xd1\x81\xd0\xba\xd1\x8a", "name": "Old Church Slavonic"},\n     "cv": {"native": "\xd1\x87\xd3\x91\xd0\xb2\xd0\xb0\xd1\x88 \xd1\x87\xd3\x97\xd0\xbb\xd1\x85\xd0\xb8", "name": "Chuvash"},\n     "cy": {\n         "native": "Cymraeg",\n         "name": "Welsh",\n-        "flag": "/++resource++language-flags/cy.gif",\n+        "flag": "languageflag/cy",\n     },\n     "da": {\n         "native": "Dansk",\n         "name": "Danish",\n-        "flag": "/++resource++country-flags/dk.gif",\n+        "flag": "countryflag/dk",\n     },\n     "de": {\n         "native": "Deutsch",\n         "name": "German",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "dv": {"native": "Divehi", "name": "Maldivian"},\n     "dz": {"native": "Bhutani", "name": "Indian Bhutani"},\n@@ -149,54 +149,54 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "el": {\n         "native": "\xce\x95\xce\xbb\xce\xbb\xce\xb7\xce\xbd\xce\xb9\xce\xba\xce\xac",\n         "name": "Greek",\n-        "flag": "/++resource++country-flags/gr.gif",\n+        "flag": "countryflag/gr",\n     },\n     "en": {\n         "native": "English",\n         "name": "English",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "eo": {\n         "native": "Esperanto",\n         "name": "Esperanto",\n-        "flag": "/++resource++language-flags/eo.gif",\n+        "flag": "languageflag/eo",\n     },\n     "es": {\n         "native": "Espa\xc3\xb1ol",\n         "name": "Spanish",\n-        "flag": "/++resource++country-flags/es.gif",\n+        "flag": "countryflag/es",\n     },\n     "et": {\n         "native": "Eesti",\n         "name": "Estonian",\n-        "flag": "/++resource++country-flags/ee.gif",\n+        "flag": "countryflag/ee",\n     },\n     "eu": {\n         "native": "Euskara",\n         "name": "Basque",\n-        "flag": "/++resource++language-flags/eu.gif",\n+        "flag": "languageflag/eu",\n     },\n     "fa": {"native": "\xd9\x81\xd8\xa7\xd8\xb1\xd8\xb3\xdb\x8c", "name": "Persian"},\n     "ff": {"native": "Fulfulde", "name": "Fula"},\n     "fi": {\n         "native": "Suomi",\n         "name": "Finnish",\n-        "flag": "/++resource++country-flags/fi.gif",\n+        "flag": "countryflag/fi",\n     },\n     "fj": {\n         "native": "Fiji",\n         "name": "Fiji",\n-        "flag": "/++resource++country-flags/fj.gif",\n+        "flag": "countryflag/fj",\n     },\n     "fo": {\n         "native": "F\xc3\xb8royska",\n         "name": "Faroese",\n-        "flag": "/++resource++country-flags/fo.gif",\n+        "flag": "countryflag/fo",\n     },\n     "fr": {\n         "native": "Fran\xc3\xa7ais",\n         "name": "French",\n-        "flag": "/++resource++country-flags/fr.gif",\n+        "flag": "countryflag/fr",\n     },\n     "fy": {"native": "Frysk", "name": "Frisian"},\n     "ga": {"native": "Gaeilge", "name": "Irish Gaelic"},\n@@ -209,36 +209,36 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "he": {\n         "native": "\xd7\xa2\xd7\x91\xd7\xa8\xd7\x99\xd7\xaa",\n         "name": "Hebrew",\n-        "flag": "/++resource++country-flags/il.gif",\n+        "flag": "countryflag/il",\n     },\n     "hi": {\n         "native": "\xe0\xa4\xb9\xe0\xa4\xbf\xe0\xa4\x82\xe0\xa4\xa6\xe0\xa5\x80",\n         "name": "Hindi",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ho": {"native": "Hiri Motu", "name": "Hiri Motu"},\n     "hr": {\n         "native": "Hrvatski",\n         "name": "Croatian",\n-        "flag": "/++resource++country-flags/hr.gif",\n+        "flag": "countryflag/hr",\n     },\n     "ht": {"native": "Krey\xc3\xb2l ayisyen", "name": "Haitian"},\n     "hu": {\n         "native": "Magyar",\n         "name": "Hungarian",\n-        "flag": "/++resource++country-flags/hu.gif",\n+        "flag": "countryflag/hu",\n     },\n     "hy": {\n         "native": "\xd5\x80\xd5\xa1\xd5\xb5\xd5\xa5\xd6\x80\xd5\xa7\xd5\xb6",\n         "name": "Armenian",\n-        "flag": "/++resource++country-flags/am.gif",\n+        "flag": "countryflag/am",\n     },\n     "hz": {"native": "Otjiherero", "name": "Herero"},\n     "ia": {"native": "Interlingua", "name": "Interlingua"},\n     "id": {\n         "native": "Bahasa Indonesia",\n         "name": "Indonesian",\n-        "flag": "/++resource++country-flags/id.gif",\n+        "flag": "countryflag/id",\n     },\n     "ie": {"native": "Interlingue", "name": "Interlingue"},\n     "ig": {"native": "As\xe1\xbb\xa5s\xe1\xbb\xa5 Igbo", "name": "Igbo"},\n@@ -248,24 +248,24 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "is": {\n         "native": "\xc3\x8dslenska",\n         "name": "Icelandic",\n-        "flag": "/++resource++country-flags/is.gif",\n+        "flag": "countryflag/is",\n     },\n     "it": {\n         "native": "Italiano",\n         "name": "Italian",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "iu": {"native": "\xe1\x90\x83\xe1\x93\x84\xe1\x92\x83\xe1\x91\x8e\xe1\x91\x90\xe1\x91\xa6", "name": "Inuktitut"},\n     "ja": {\n         "native": "\xe6\x97\xa5\xe6\x9c\xac\xe8\xaa\x9e",\n         "name": "Japanese",\n-        "flag": "/++resource++country-flags/jp.gif",\n+        "flag": "countryflag/jp",\n     },\n     "jv": {"native": "Javanese", "name": "basa Jawa"},\n     "ka": {\n         "native": "\xe1\x83\xa5\xe1\x83\x90\xe1\x83\xa0\xe1\x83\x97\xe1\x83\xa3\xe1\x83\x9a\xe1\x83\x98",\n         "name": "Georgian",\n-        "flag": "/++resource++country-flags/ge.gif",\n+        "flag": "countryflag/ge",\n     },\n     "kg": {"native": "KiKongo", "name": "Kongo"},\n     "ki": {"native": "G\xc4\xa9k\xc5\xa9y\xc5\xa9", "name": "Kikuyu"},\n@@ -273,33 +273,33 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "kk": {\n         "native": "\xef\xbb\x97\xef\xba\x8e\xef\xba\xaf\xef\xba\x8d\xef\xbb\x97\xef\xba\xb8\xef\xba\x8e",\n         "name": "Kazakh",\n-        "flag": "/++resource++country-flags/kz.gif",\n+        "flag": "countryflag/kz",\n     },\n     "kl": {\n         "native": "Greenlandic",\n         "name": "Greenlandic",\n-        "flag": "/++resource++country-flags/gl.gif",\n+        "flag": "countryflag/gl",\n     },\n     "km": {\n         "native": "\xe1\x9e\x81\xe1\x9f\x92\xe1\x9e\x98\xe1\x9f\x82\xe1\x9e\x9a",\n         "name": "Cambodian/Khmer",\n-        "flag": "/++resource++country-flags/kh.gif",\n+        "flag": "countryflag/kh",\n     },\n     "kn": {\n         "native": "\xe0\xb2\x95\xe0\xb2\xa8\xe0\xb3\x8d\xe0\xb2\xa8\xe0\xb2\xa1",\n         "name": "Kannada",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ko": {\n         "native": "\xed\x95\x9c\xea\xb5\xad\xec\x96\xb4",\n         "name": "Korean",\n-        "flag": "/++resource++country-flags/kr.gif",\n+        "flag": "countryflag/kr",\n     },\n     "kr": {"native": "Kanuri", "name": "Kanuri"},\n     "ks": {\n         "native": "\xe0\xa4\x95\xe0\xa4\xbe\xe0\xa4\xbd\xe0\xa4\xb6\xe0\xa5\x81\xe0\xa4\xb0",\n         "name": "Kashmiri",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ku": {"native": "Kurd\xc3\xad", "name": "Kurdish"},\n     "kv": {"native": "\xd0\xba\xd0\xbe\xd0\xbc\xd0\xb8 \xd0\xba\xd1\x8b\xd0\xb2", "name": "Komi"},\n@@ -308,12 +308,12 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "la": {\n         "native": "Latin",\n         "name": "Latin",\n-        "flag": "/++resource++country-flags/va.gif",\n+        "flag": "countryflag/va",\n     },\n     "lb": {\n         "native": "L\xc3\xabtzebuergesch",\n         "name": "Luxemburgish",\n-        "flag": "/++resource++country-flags/lu.gif",\n+        "flag": "countryflag/lu",\n     },\n     "lg": {"native": "Luganda", "name": "Ganda"},\n     "li": {"native": "Limburgs", "name": "Limburgish"},\n@@ -321,54 +321,54 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "lo": {\n         "native": "\xe0\xba\x9e\xe0\xba\xb2\xe0\xba\xaa\xe0\xba\xb2\xe0\xba\xa5\xe0\xba\xb2\xe0\xba\xa7",\n         "name": "Laotian",\n-        "flag": "/++resource++country-flags/la.gif",\n+        "flag": "countryflag/la",\n     },\n     "lt": {\n         "native": "Lietuvi\xc5\xb3",\n         "name": "Lithuanian",\n-        "flag": "/++resource++country-flags/lt.gif",\n+        "flag": "countryflag/lt",\n     },\n     "lu": {"native": "Tshiluba", "name": "Luba-Katanga"},\n     "lv": {\n         "native": "Latvie\xc5\xa1u",\n         "name": "Latvian",\n-        "flag": "/++resource++country-flags/lv.gif",\n+        "flag": "countryflag/lv",\n     },\n     "mg": {\n         "native": "Malagasy",\n         "name": "Madagascarian",\n-        "flag": "/++resource++country-flags/mg.gif",\n+        "flag": "countryflag/mg",\n     },\n     "mh": {"native": "Kajin M\xcc\xa7aje\xc4\xbc", "name": "Marshallese"},\n     "mi": {"native": "Maori", "name": "Maori"},\n     "mk": {\n         "native": "\xd0\x9c\xd0\xb0\xd0\xba\xd0\xb5\xd0\xb4\xd0\xbe\xd0\xbd\xd1\x81\xd0\xba\xd0\xb8",\n         "name": "Macedonian",\n-        "flag": "/++resource++country-flags/mk.gif",\n+        "flag": "countryflag/mk",\n     },\n     "ml": {"native": "\xe0\xb4\xae\xe0\xb4\xb2\xe0\xb4\xaf\xe0\xb4\xbe\xe0\xb4\xb3\xe0\xb4\x82", "name": "Malayalam"},\n     "mn": {\n         "native": "\xd0\x9c\xd0\xbe\xd0\xbd\xd0\xb3\xd0\xbe\xd0\xbb",\n         "name": "Mongolian",\n-        "flag": "/++resource++country-flags/mn.gif",\n+        "flag": "countryflag/mn",\n     },\n     "mo": {\n         "native": "Moldavian",\n         "name": "Moldavian",\n-        "flag": "/++resource++country-flags/md.gif",\n+        "flag": "countryflag/md",\n     },\n     "mr": {"native": "\xe0\xa4\xae\xe0\xa4\xb0\xe0\xa4\xbe\xe0\xa4\xa0\xe0\xa5\x80", "name": "Marathi"},\n     "ms": {"native": "Bahasa Melayu", "name": "Malay"},\n     "mt": {\n         "native": "Malti",\n         "name": "Maltese",\n-        "flag": "/++resource++country-flags/mt.gif",\n+        "flag": "countryflag/mt",\n     },\n     "my": {"native": "Burmese", "name": "Burmese"},\n     "na": {\n         "native": "Nauru",\n         "name": "Nauruan",\n-        "flag": "/++resource++country-flags/nr.gif",\n+        "flag": "countryflag/nr",\n     },\n     "nb": {"native": "Norsk bokm\xc3\xa5l", "name": "Norwegian Bokm\xc3\xa5l"},\n     "nd": {"native": "Ndebele (North)", "name": "Ndebele (North)"},\n@@ -377,17 +377,17 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "nl": {\n         "native": "Nederlands",\n         "name": "Dutch",\n-        "flag": "/++resource++country-flags/nl.gif",\n+        "flag": "countryflag/nl",\n     },\n     "nn": {\n         "native": "Nynorsk",\n         "name": "Nynorsk",\n-        "flag": "/++resource++country-flags/no.gif",\n+        "flag": "countryflag/no",\n     },\n     "no": {\n         "native": "Norsk",\n         "name": "Norwegian",\n-        "flag": "/++resource++country-flags/no.gif",\n+        "flag": "countryflag/no",\n     },\n     "nr": {"native": "IsiNdebele", "name": "Ndebele (South)"},\n     "nv": {"native": "Din\xc3\xa9 bizaad", "name": "Navajo"},\n@@ -402,13 +402,13 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "pl": {\n         "native": "Polski",\n         "name": "Polish",\n-        "flag": "/++resource++country-flags/pl.gif",\n+        "flag": "countryflag/pl",\n     },\n     "ps": {"native": "\xd9\xbe\xda\x9a\xd8\xaa\xd9\x88", "name": "Pashto"},\n     "pt": {\n         "native": "Portugu\xc3\xaas",\n         "name": "Portuguese",\n-        "flag": "/++resource++country-flags/pt.gif",\n+        "flag": "countryflag/pt",\n     },\n     "qu": {"native": "Quechua", "name": "Quechua"},\n     "rm": {"native": "Rhaeto-Romance", "name": "Rhaeto-Romance"},\n@@ -416,12 +416,12 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "ro": {\n         "native": "Rom\xc3\xa2n\xc4\x83",\n         "name": "Romanian",\n-        "flag": "/++resource++country-flags/ro.gif",\n+        "flag": "countryflag/ro",\n     },\n     "ru": {\n         "native": "\xd0\xa0\xd1\x83\xd1\x81\xd1\x81\xd0\xba\xd0\xb8\xd0\xb9",\n         "name": "Russian",\n-        "flag": "/++resource++country-flags/ru.gif",\n+        "flag": "countryflag/ru",\n     },\n     "rw": {"native": "Kinyarwanda", "name": "Kinyarwanda"},\n     "sa": {"native": "\xe0\xa4\xb8\xe0\xa4\x82\xe0\xa4\xb8\xe0\xa5\x8d\xe0\xa4\x95\xe0\xa5\x83\xe0\xa4\xa4", "name": "Sanskrit"},\n@@ -429,37 +429,37 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "sd": {\n         "native": "Sindhi",\n         "name": "Sindhi",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "se": {"native": "Northern S\xc3\xa1mi", "name": "Northern S\xc3\xa1mi"},\n     "sg": {\n         "native": "Sangho",\n         "name": "Sangho",\n-        "flag": "/++resource++country-flags/cf.gif",\n+        "flag": "countryflag/cf",\n     },\n     "sh": {"native": "Serbo-Croatian", "name": "Serbo-Croatian"},\n     "si": {"native": "Singhalese", "name": "Singhalese"},\n     "sk": {\n         "native": "Sloven\xc4\x8dina",\n         "name": "Slovak",\n-        "flag": "/++resource++country-flags/sk.gif",\n+        "flag": "countryflag/sk",\n     },\n     "sl": {\n         "native": "Sloven\xc5\xa1\xc4\x8dina",\n         "name": "Slovenian",\n-        "flag": "/++resource++country-flags/si.gif",\n+        "flag": "countryflag/si",\n     },\n     "sm": {"native": "Samoan", "name": "Samoan"},\n     "sn": {"native": "Shona", "name": "Shona"},\n     "so": {\n         "native": "Somali",\n         "name": "Somali",\n-        "flag": "/++resource++country-flags/so.gif",\n+        "flag": "countryflag/so",\n     },\n     "sq": {\n         "native": "Shqip",\n         "name": "Albanian",\n-        "flag": "/++resource++country-flags/al.gif",\n+        "flag": "countryflag/al",\n     },\n     "sr": {\n         # Note: we support two character sets for this language.\n@@ -468,19 +468,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n         # In Plone 6.0 native became Latin: Srpski.\n         "native": "Srpski",\n         "name": "Serbian",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     },\n     "ss": {"native": "SiSwati", "name": "Swati"},\n     "st": {"native": "Sesotho", "name": "Southern Sotho"},\n     "su": {\n         "native": "Sudanese",\n         "name": "Sudanese",\n-        "flag": "/++resource++country-flags/sd.gif",\n+        "flag": "countryflag/sd",\n     },\n     "sv": {\n         "native": "Svenska",\n         "name": "Swedish",\n-        "flag": "/++resource++country-flags/se.gif",\n+        "flag": "countryflag/se",\n     },\n     "sw": {"native": "Kiswahili", "name": "Swahili"},\n     "ta": {"native": "\xe0\xae\xa4\xe0\xae\xae\xe0\xae\xbf\xe0\xae\xb4", "name": "Tamil"},\n@@ -488,30 +488,30 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "tg": {\n         "native": "\xd0\xa2\xd0\xbe\xd2\xb7\xd0\xb8\xd0\xba\xd0\xb8",\n         "name": "Tadjik",\n-        "flag": "/++resource++country-flags/tj.gif",\n+        "flag": "countryflag/tj",\n     },\n     "th": {\n         "native": "\xe0\xb9\x84\xe0\xb8\x97\xe0\xb8\xa2",\n         "name": "Thai",\n-        "flag": "/++resource++country-flags/th.gif",\n+        "flag": "countryflag/th",\n     },\n     "ti": {"native": "\xe1\x89\xb5\xe1\x8c\x8d\xe1\x88\xad\xe1\x8a\x9b", "name": "Tigrinya"},\n     "tk": {\n         "native": "\xd1\x82\xd2\xaf\xd1\x80\xd0\xbam\xd0\xb5\xd0\xbd\xd1\x87\xd0\xb5",\n         "name": "Turkmen",\n-        "flag": "/++resource++country-flags/tm.gif",\n+        "flag": "countryflag/tm",\n     },\n     "tl": {"native": "Tagalog", "name": "Tagalog"},\n     "tn": {\n         "native": "Setswana",\n         "name": "Tswana",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n     "to": {"native": "Tonga", "name": "Tonga"},\n     "tr": {\n         "native": "T\xc3\xbcrk\xc3\xa7e",\n         "name": "Turkish",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "ts": {"native": "Xitsonga", "name": "Tsonga"},\n     "tt": {"native": "\xd1\x82\xd0\xb0\xd1\x82\xd0\xb0\xd1\x80\xd1\x87\xd0\xb0", "name": "Tatar"},\n@@ -521,19 +521,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "uk": {\n         "native": "\xd0\xa3\xd0\xba\xd1\x80\xd0\xb0\xd1\x97\xd0\xbd\xd1\x81\xd1\x8c\xd0\xba\xd0\xb0",\n         "name": "Ukrainian",\n-        "flag": "/++resource++country-flags/ua.gif",\n+        "flag": "countryflag/ua",\n     },\n     "ur": {"native": "\xd8\xa7\xd8\xb1\xd8\xaf\xd9\x88", "name": "Urdu"},\n     "uz": {\n         "native": "\xd0\x8e\xd0\xb7\xd0\xb1\xd0\xb5\xd0\xba\xd1\x87\xd0\xb0",\n         "name": "Uzbek",\n-        "flag": "/++resource++country-flags/uz.gif",\n+        "flag": "countryflag/uz",\n     },\n     "ve": {"native": "Tshiven\xe1\xb8\x93a", "name": "Venda"},\n     "vi": {\n         "native": "Ti\xe1\xba\xbfng Vi\xe1\xbb\x87t",\n         "name": "Vietnamese",\n-        "flag": "/++resource++country-flags/vn.gif",\n+        "flag": "countryflag/vn",\n     },\n     "vk": {"native": "Ovalingo", "name": "Viking"},\n     "vo": {"native": "Volap\xc3\xbck", "name": "Volap\xc3\xbck"},\n@@ -543,19 +543,19 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     "yi": {\n         "native": "\xd7\xb2\xd6\xb4\xd7\x93\xd7\x99\xd7\xa9",\n         "name": "Yiddish",\n-        "flag": "/++resource++country-flags/il.gif",\n+        "flag": "countryflag/il",\n     },\n     "yo": {"native": "Yor\xc3\xb9b\xc3\xa1", "name": "Yorouba"},\n     "za": {"native": "Zhuang", "name": "Zhuang"},\n     "zh": {\n         "native": "\xe4\xb8\xad\xe6\x96\x87",\n         "name": "Chinese",\n-        "flag": "/++resource++country-flags/cn.gif",\n+        "flag": "countryflag/cn",\n     },\n     "zu": {\n         "native": "IsiZulu",\n         "name": "Zulu",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n }\n \n@@ -567,13 +567,13 @@ class MetadataLanguageAvailability(LanguageAvailability):\n     _languagelist["sr"] = {\n         "native": "Srpski",\n         "name": "Serbian (Latin)",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     }\n elif "sr@Cyrl" in _zope_i18n_allowed_languages:\n     _languagelist["sr"] = {\n         "native": "\xd1\x81\xd1\x80\xd0\xbf\xd1\x81\xd0\xba\xd0\xb8",\n         "name": "Serbian (Cyrillic)",\n-        "flag": "/++resource++country-flags/cs.gif",\n+        "flag": "countryflag/cs",\n     }\n \n # convert the utf-8 encoded values to unicode\n@@ -587,920 +587,920 @@ class MetadataLanguageAvailability(LanguageAvailability):\n _combinedlanguagelist = {\n     "ar-ae": {\n         "name": "Arabic (United Arab Emirates)",\n-        "flag": "/++resource++country-flags/ae.gif",\n+        "flag": "countryflag/ae",\n     },\n     "ar-bh": {\n         "name": "Arabic (Bahrain)",\n-        "flag": "/++resource++country-flags/bh.gif",\n+        "flag": "countryflag/bh",\n     },\n     "ar-dz": {\n         "name": "Arabic (Algeria)",\n-        "flag": "/++resource++country-flags/dz.gif",\n+        "flag": "countryflag/dz",\n     },\n     "ar-eg": {\n         "name": "Arabic (Egypt)",\n-        "flag": "/++resource++country-flags/eg.gif",\n+        "flag": "countryflag/eg",\n     },\n     "ar-il": {\n         "name": "Arabic (Israel)",\n-        "flag": "/++resource++country-flags/il.gif",\n+        "flag": "countryflag/il",\n     },\n     "ar-iq": {\n         "name": "Arabic (Iraq)",\n-        "flag": "/++resource++country-flags/iq.gif",\n+        "flag": "countryflag/iq",\n     },\n     "ar-jo": {\n         "name": "Arabic (Jordan)",\n-        "flag": "/++resource++country-flags/jo.gif",\n+        "flag": "countryflag/jo",\n     },\n     "ar-kw": {\n         "name": "Arabic (Kuwait)",\n-        "flag": "/++resource++country-flags/kw.gif",\n+        "flag": "countryflag/kw",\n     },\n     "ar-lb": {\n         "name": "Arabic (Lebanon)",\n-        "flag": "/++resource++country-flags/lb.gif",\n+        "flag": "countryflag/lb",\n     },\n     "ar-ly": {\n         "name": "Arabic (Libya)",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n     "ar-ma": {\n         "name": "Arabic (Morocco)",\n-        "flag": "/++resource++country-flags/ma.gif",\n+        "flag": "countryflag/ma",\n     },\n     "ar-mr": {\n         "name": "Arabic (Mauritania)",\n-        "flag": "/++resource++country-flags/mr.gif",\n+        "flag": "countryflag/mr",\n     },\n     "ar-om": {\n         "name": "Arabic (Oman)",\n-        "flag": "/++resource++country-flags/om.gif",\n+        "flag": "countryflag/om",\n     },\n     "ar-ps": {\n         "name": "Arabic (Palestinian West Bank and Gaza)",\n-        "flag": "/++resource++country-flags/ps.gif",\n+        "flag": "countryflag/ps",\n     },\n     "ar-qa": {\n         "name": "Arabic (Qatar)",\n-        "flag": "/++resource++country-flags/qa.gif",\n+        "flag": "countryflag/qa",\n     },\n     "ar-sa": {\n         "name": "Arabic (Saudi Arabia)",\n-        "flag": "/++resource++country-flags/sa.gif",\n+        "flag": "countryflag/sa",\n     },\n     "ar-sd": {\n         "name": "Arabic (Sudan)",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n     "ar-so": {\n         "name": "Arabic (Somalia)",\n-        "flag": "/++resource++country-flags/so.gif",\n+        "flag": "countryflag/so",\n     },\n     "ar-sy": {\n         "name": "Arabic (Syria)",\n-        "flag": "/++resource++country-flags/sy.gif",\n+        "flag": "countryflag/sy",\n     },\n     "ar-td": {\n         "name": "Arabic (Chad)",\n-        "flag": "/++resource++country-flags/td.gif",\n+        "flag": "countryflag/td",\n     },\n     "ar-tn": {\n         "name": "Arabic (Tunisia)",\n-        "flag": "/++resource++country-flags/ly.gif",\n+        "flag": "countryflag/ly",\n     },\n     "ar-ye": {\n         "name": "Arabic (Yemen)",\n-        "flag": "/++resource++country-flags/ye.gif",\n+        "flag": "countryflag/ye",\n     },\n     "bn-bd": {\n         "name": "Bengali (Bangladesh)",\n-        "flag": "/++resource++country-flags/bd.gif",\n+        "flag": "countryflag/bd",\n     },\n     "bn-in": {\n         "name": "Bengali (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "bn-sg": {\n         "name": "Bengali (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "ch-gu": {\n         "name": "Chamorro (Guam)",\n-        "flag": "/++resource++country-flags/gu.gif",\n+        "flag": "countryflag/gu",\n     },\n     "ch-mp": {\n         "name": "Chamorro (Northern Mariana Islands)",\n-        "flag": "/++resource++country-flags/mp.gif",\n+        "flag": "countryflag/mp",\n     },\n     "cs-cz": {\n         "name": "Czech (Czech republic)",\n         "native": "\xc4\x8ce\xc5\xa1tina (\xc4\x8cesk\xc3\xa1 republika)",\n-        "flag": "/++resource++country-flags/cz.gif",\n+        "flag": "countryflag/cz",\n     },\n     "da-dk": {\n         "name": "Danish (Denmark)",\n-        "flag": "/++resource++country-flags/dk.gif",\n+        "flag": "countryflag/dk",\n     },\n     "da-gl": {\n         "name": "Danish (Greenland)",\n-        "flag": "/++resource++country-flags/gl.gif",\n+        "flag": "countryflag/gl",\n     },\n     "de-at": {\n         "name": "German (Austria)",\n         "native": "Deutsch (\xc3\x96sterreich)",\n-        "flag": "/++resource++country-flags/at.gif",\n+        "flag": "countryflag/at",\n     },\n     "de-be": {\n         "name": "German (Belgium)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "de-ch": {\n         "name": "German (Switzerland)",\n-        "flag": "/++resource++country-flags/ch.gif",\n+        "flag": "countryflag/ch",\n     },\n     "de-de": {\n         "name": "German (Germany)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "de-dk": {\n         "name": "German (Denmark)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "de-li": {\n         "name": "German (Liechtenstein)",\n-        "flag": "/++resource++country-flags/li.gif",\n+        "flag": "countryflag/li",\n     },\n     "de-lu": {\n         "name": "German (Luxembourg)",\n-        "flag": "/++resource++country-flags/de.gif",\n+        "flag": "countryflag/de",\n     },\n     "el-cy": {\n         "name": "Greek (Cyprus)",\n-        "flag": "/++resource++country-flags/cy.gif",\n+        "flag": "countryflag/cy",\n     },\n     "el-gr": {\n         "name": "Greek (Greece)",\n-        "flag": "/++resource++country-flags/gr.gif",\n+        "flag": "countryflag/gr",\n     },\n     "en-ag": {\n         "name": "English (Antigua and Barbuda)",\n-        "flag": "/++resource++country-flags/ag.gif",\n+        "flag": "countryflag/ag",\n     },\n     "en-ai": {\n         "name": "English (Anguilla)",\n-        "flag": "/++resource++country-flags/ai.gif",\n+        "flag": "countryflag/ai",\n     },\n     "en-as": {\n         "name": "English (American Samoa)",\n-        "flag": "/++resource++country-flags/as.gif",\n+        "flag": "countryflag/as",\n     },\n     "en-au": {\n         "name": "English (Australia)",\n-        "flag": "/++resource++country-flags/au.gif",\n+        "flag": "countryflag/au",\n     },\n     "en-bb": {\n         "name": "English (Barbados)",\n-        "flag": "/++resource++country-flags/bb.gif",\n+        "flag": "countryflag/bb",\n     },\n     "en-bm": {\n         "name": "English (Bermuda)",\n-        "flag": "/++resource++country-flags/bm.gif",\n+        "flag": "countryflag/bm",\n     },\n     "en-bn": {\n         "name": "English (Brunei)",\n-        "flag": "/++resource++country-flags/bn.gif",\n+        "flag": "countryflag/bn",\n     },\n     "en-bs": {\n         "name": "English (Bahamas)",\n-        "flag": "/++resource++country-flags/bs.gif",\n+        "flag": "countryflag/bs",\n     },\n     "en-bw": {\n         "name": "English (Botswana)",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n     "en-bz": {\n         "name": "English (Belize)",\n-        "flag": "/++resource++country-flags/bz.gif",\n+        "flag": "countryflag/bz",\n     },\n     "en-ca": {\n         "name": "English (Canada)",\n-        "flag": "/++resource++country-flags/ca.gif",\n+        "flag": "countryflag/ca",\n     },\n     "en-ck": {\n         "name": "English (Cook Islands)",\n-        "flag": "/++resource++country-flags/ck.gif",\n+        "flag": "countryflag/ck",\n     },\n     "en-cm": {\n         "name": "English (Cameroon)",\n-        "flag": "/++resource++country-flags/cm.gif",\n+        "flag": "countryflag/cm",\n     },\n     "en-dm": {\n         "name": "English (Dominica)",\n-        "flag": "/++resource++country-flags/dm.gif",\n+        "flag": "countryflag/dm",\n     },\n     "en-er": {\n         "name": "English (Eritrea)",\n-        "flag": "/++resource++country-flags/er.gif",\n+        "flag": "countryflag/er",\n     },\n     "en-et": {\n         "name": "English (Ethiopia)",\n-        "flag": "/++resource++country-flags/et.gif",\n+        "flag": "countryflag/et",\n     },\n     "en-fj": {\n         "name": "English (Fiji)",\n-        "flag": "/++resource++country-flags/fj.gif",\n+        "flag": "countryflag/fj",\n     },\n     "en-fk": {\n         "name": "English (Falkland Islands)",\n-        "flag": "/++resource++country-flags/fk.gif",\n+        "flag": "countryflag/fk",\n     },\n     "en-fm": {\n         "name": "English (Micronesia)",\n-        "flag": "/++resource++country-flags/fm.gif",\n+        "flag": "countryflag/fm",\n     },\n     "en-gb": {\n         "name": "English (United Kingdom)",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "en-gd": {\n         "name": "English (Grenada)",\n-        "flag": "/++resource++country-flags/gd.gif",\n+        "flag": "countryflag/gd",\n     },\n     "en-gh": {\n         "name": "English (Ghana)",\n-        "flag": "/++resource++country-flags/gh.gif",\n+        "flag": "countryflag/gh",\n     },\n     "en-gi": {\n         "name": "English (Gibraltar)",\n-        "flag": "/++resource++country-flags/gi.gif",\n+        "flag": "countryflag/gi",\n     },\n     "en-gm": {\n         "name": "English (Gambia)",\n-        "flag": "/++resource++country-flags/gm.gif",\n+        "flag": "countryflag/gm",\n     },\n     "en-gu": {\n         "name": "English (Guam)",\n-        "flag": "/++resource++country-flags/gu.gif",\n+        "flag": "countryflag/gu",\n     },\n     "en-gy": {\n         "name": "English (Guyana)",\n-        "flag": "/++resource++country-flags/gy.gif",\n+        "flag": "countryflag/gy",\n     },\n     "en-ie": {\n         "name": "English (Ireland)",\n-        "flag": "/++resource++country-flags/ie.gif",\n+        "flag": "countryflag/ie",\n     },\n     "en-il": {\n         "name": "English (Israel)",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "en-io": {\n         "name": "English (British Indian Ocean Territory)",\n-        "flag": "/++resource++country-flags/io.gif",\n+        "flag": "countryflag/io",\n     },\n     "en-jm": {\n         "name": "English (Jamaica)",\n-        "flag": "/++resource++country-flags/jm.gif",\n+        "flag": "countryflag/jm",\n     },\n     "en-ke": {\n         "name": "English (Kenya)",\n-        "flag": "/++resource++country-flags/ke.gif",\n+        "flag": "countryflag/ke",\n     },\n     "en-ki": {\n         "name": "English (Kiribati)",\n-        "flag": "/++resource++country-flags/ki.gif",\n+        "flag": "countryflag/ki",\n     },\n     "en-kn": {\n         "name": "English (St. Kitts-Nevis)",\n-        "flag": "/++resource++country-flags/kn.gif",\n+        "flag": "countryflag/kn",\n     },\n     "en-ky": {\n         "name": "English (Cayman Islands)",\n-        "flag": "/++resource++country-flags/ky.gif",\n+        "flag": "countryflag/ky",\n     },\n     "en-lc": {\n         "name": "English (St. Lucia)",\n-        "flag": "/++resource++country-flags/lc.gif",\n+        "flag": "countryflag/lc",\n     },\n     "en-lr": {\n         "name": "English (Liberia)",\n-        "flag": "/++resource++country-flags/lr.gif",\n+        "flag": "countryflag/lr",\n     },\n     "en-ls": {\n         "name": "English (Lesotho)",\n-        "flag": "/++resource++country-flags/ls.gif",\n+        "flag": "countryflag/ls",\n     },\n     "en-mp": {\n         "name": "English (Northern Mariana Islands)",\n-        "flag": "/++resource++country-flags/mp.gif",\n+        "flag": "countryflag/mp",\n     },\n     "en-ms": {\n         "name": "English (Montserrat)",\n-        "flag": "/++resource++country-flags/ms.gif",\n+        "flag": "countryflag/ms",\n     },\n     "en-mt": {\n         "name": "English (Malta)",\n-        "flag": "/++resource++country-flags/mt.gif",\n+        "flag": "countryflag/mt",\n     },\n     "en-mu": {\n         "name": "English (Mauritius)",\n-        "flag": "/++resource++country-flags/mu.gif",\n+        "flag": "countryflag/mu",\n     },\n     "en-mw": {\n         "name": "English (Malawi)",\n-        "flag": "/++resource++country-flags/mw.gif",\n+        "flag": "countryflag/mw",\n     },\n     "en-na": {\n         "name": "English (Namibia)",\n-        "flag": "/++resource++country-flags/na.gif",\n+        "flag": "countryflag/na",\n     },\n     "en-nf": {\n         "name": "English (Norfolk Island)",\n-        "flag": "/++resource++country-flags/nf.gif",\n+        "flag": "countryflag/nf",\n     },\n     "en-ng": {\n         "name": "English (Nigeria)",\n-        "flag": "/++resource++country-flags/ng.gif",\n+        "flag": "countryflag/ng",\n     },\n     "en-nr": {\n         "name": "English (Nauru)",\n-        "flag": "/++resource++country-flags/nr.gif",\n+        "flag": "countryflag/nr",\n     },\n     "en-nu": {\n         "name": "English (Niue)",\n-        "flag": "/++resource++country-flags/nu.gif",\n+        "flag": "countryflag/nu",\n     },\n     "en-nz": {\n         "name": "English (New Zealand)",\n-        "flag": "/++resource++country-flags/nz.gif",\n+        "flag": "countryflag/nz",\n     },\n     "en-pg": {\n         "name": "English (Papua New Guinea)",\n-        "flag": "/++resource++country-flags/pg.gif",\n+        "flag": "countryflag/pg",\n     },\n     "en-ph": {\n         "name": "English (Philippines)",\n-        "flag": "/++resource++country-flags/ph.gif",\n+        "flag": "countryflag/ph",\n     },\n     "en-pk": {\n         "name": "English (Pakistan)",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "en-pn": {\n         "name": "English (Pitcairn)",\n-        "flag": "/++resource++country-flags/pn.gif",\n+        "flag": "countryflag/pn",\n     },\n     "en-pr": {\n         "name": "English (Puerto Rico)",\n-        "flag": "/++resource++country-flags/pr.gif",\n+        "flag": "countryflag/pr",\n     },\n     "en-pw": {\n         "name": "English (Palau)",\n-        "flag": "/++resource++country-flags/pw.gif",\n+        "flag": "countryflag/pw",\n     },\n     "en-rw": {\n         "name": "English (Rwanda)",\n-        "flag": "/++resource++country-flags/rw.gif",\n+        "flag": "countryflag/rw",\n     },\n     "en-sb": {\n         "name": "English (Solomon Islands)",\n-        "flag": "/++resource++country-flags/sb.gif",\n+        "flag": "countryflag/sb",\n     },\n     "en-sc": {\n         "name": "English (Seychelles)",\n-        "flag": "/++resource++country-flags/sc.gif",\n+        "flag": "countryflag/sc",\n     },\n     "en-sg": {\n         "name": "English (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "en-sh": {\n         "name": "English (St. Helena)",\n-        "flag": "/++resource++country-flags/sh.gif",\n+        "flag": "countryflag/sh",\n     },\n     "en-sl": {\n         "name": "English (Sierra Leone)",\n-        "flag": "/++resource++country-flags/sl.gif",\n+        "flag": "countryflag/sl",\n     },\n     "en-so": {\n         "name": "English (Somalia)",\n-        "flag": "/++resource++country-flags/so.gif",\n+        "flag": "countryflag/so",\n     },\n     "en-sz": {\n         "name": "English (Swaziland)",\n-        "flag": "/++resource++country-flags/sz.gif",\n+        "flag": "countryflag/sz",\n     },\n     "en-tc": {\n         "name": "English (Turks and Caicos Islands)",\n-        "flag": "/++resource++country-flags/tc.gif",\n+        "flag": "countryflag/tc",\n     },\n     "en-tk": {\n         "name": "English (Tokelau)",\n-        "flag": "/++resource++country-flags/tk.gif",\n+        "flag": "countryflag/tk",\n     },\n     "en-to": {\n         "name": "English (Tonga)",\n-        "flag": "/++resource++country-flags/to.gif",\n+        "flag": "countryflag/to",\n     },\n     "en-tt": {\n         "name": "English (Trinidad and Tobago)",\n-        "flag": "/++resource++country-flags/tt.gif",\n+        "flag": "countryflag/tt",\n     },\n     "en-ug": {\n         "name": "English (Uganda)",\n-        "flag": "/++resource++country-flags/ug.gif",\n+        "flag": "countryflag/ug",\n     },\n     "en-us": {\n         "name": "English (USA)",\n-        "flag": "/++resource++country-flags/us.gif",\n+        "flag": "countryflag/us",\n     },\n     "en-vc": {\n         "name": "English (St. Vincent and the Grenadi)",\n-        "flag": "/++resource++country-flags/vc.gif",\n+        "flag": "countryflag/vc",\n     },\n     "en-vg": {\n         "name": "English (British Virgin Islands)",\n-        "flag": "/++resource++country-flags/vg.gif",\n+        "flag": "countryflag/vg",\n     },\n     "en-vi": {\n         "name": "English (U.S. Virgin Islands)",\n-        "flag": "/++resource++country-flags/vi.gif",\n+        "flag": "countryflag/vi",\n     },\n     "en-vu": {\n         "name": "English (Vanuatu)",\n-        "flag": "/++resource++country-flags/vu.gif",\n+        "flag": "countryflag/vu",\n     },\n     "en-ws": {\n         "name": "English (Western Samoa)",\n-        "flag": "/++resource++country-flags/ws.gif",\n+        "flag": "countryflag/ws",\n     },\n     "en-za": {\n         "name": "English (South Africa)",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n     "en-zm": {\n         "name": "English (Zambia)",\n-        "flag": "/++resource++country-flags/zm.gif",\n+        "flag": "countryflag/zm",\n     },\n     "en-zw": {\n         "name": "English (Zimbabwe)",\n-        "flag": "/++resource++country-flags/zw.gif",\n+        "flag": "countryflag/zw",\n     },\n     "es-ar": {\n         "name": "Spanish (Argentina)",\n-        "flag": "/++resource++country-flags/ar.gif",\n+        "flag": "countryflag/ar",\n     },\n     "es-bo": {\n         "name": "Spanish (Bolivia)",\n-        "flag": "/++resource++country-flags/bo.gif",\n+        "flag": "countryflag/bo",\n     },\n     "es-cl": {\n         "name": "Spanish (Chile)",\n-        "flag": "/++resource++country-flags/cl.gif",\n+        "flag": "countryflag/cl",\n     },\n     "es-co": {\n         "name": "Spanish (Colombia)",\n-        "flag": "/++resource++country-flags/co.gif",\n+        "flag": "countryflag/co",\n     },\n     "es-cr": {\n         "name": "Spanish (Costa Rica)",\n-        "flag": "/++resource++country-flags/cr.gif",\n+        "flag": "countryflag/cr",\n     },\n     "es-cu": {\n         "name": "Spanish (Cuba)",\n-        "flag": "/++resource++country-flags/cu.gif",\n+        "flag": "countryflag/cu",\n     },\n     "es-do": {\n         "name": "Spanish (Dominican Republic)",\n-        "flag": "/++resource++country-flags/do.gif",\n+        "flag": "countryflag/do",\n     },\n     "es-ec": {\n         "name": "Spanish (Ecuador)",\n-        "flag": "/++resource++country-flags/ec.gif",\n+        "flag": "countryflag/ec",\n     },\n     "es-es": {\n         "name": "Spanish (Spain)",\n-        "flag": "/++resource++country-flags/es.gif",\n+        "flag": "countryflag/es",\n     },\n     "es-gq": {\n         "name": "Spanish (Equatorial Guinea)",\n-        "flag": "/++resource++country-flags/gq.gif",\n+        "flag": "countryflag/gq",\n     },\n     "es-gt": {\n         "name": "Spanish (Guatemala)",\n-        "flag": "/++resource++country-flags/gt.gif",\n+        "flag": "countryflag/gt",\n     },\n     "es-hn": {\n         "name": "Spanish (Honduras)",\n-        "flag": "/++resource++country-flags/hn.gif",\n+        "flag": "countryflag/hn",\n     },\n     "es-mx": {\n         "name": "Spanish (Mexico)",\n-        "flag": "/++resource++country-flags/mx.gif",\n+        "flag": "countryflag/mx",\n     },\n     "es-ni": {\n         "name": "Spanish (Nicaragua)",\n-        "flag": "/++resource++country-flags/ni.gif",\n+        "flag": "countryflag/ni",\n     },\n     "es-pa": {\n         "name": "Spanish (Panama)",\n-        "flag": "/++resource++country-flags/pa.gif",\n+        "flag": "countryflag/pa",\n     },\n     "es-pe": {\n         "name": "Spanish (Peru)",\n-        "flag": "/++resource++country-flags/pe.gif",\n+        "flag": "countryflag/pe",\n     },\n     "es-pr": {\n         "name": "Spanish (Puerto Rico)",\n-        "flag": "/++resource++country-flags/pr.gif",\n+        "flag": "countryflag/pr",\n     },\n     "es-py": {\n         "name": "Spanish (Paraguay)",\n-        "flag": "/++resource++country-flags/py.gif",\n+        "flag": "countryflag/py",\n     },\n     "es-sv": {\n         "name": "Spanish (El Salvador)",\n-        "flag": "/++resource++country-flags/sv.gif",\n+        "flag": "countryflag/sv",\n     },\n     "es-us": {\n         "name": "Spanish (USA)",\n-        "flag": "/++resource++country-flags/us.gif",\n+        "flag": "countryflag/us",\n     },\n     "es-uy": {\n         "name": "Spanish (Uruguay)",\n-        "flag": "/++resource++country-flags/uy.gif",\n+        "flag": "countryflag/uy",\n     },\n     "es-ve": {\n         "name": "Spanish (Venezuela)",\n-        "flag": "/++resource++country-flags/ve.gif",\n+        "flag": "countryflag/ve",\n     },\n     "fr-ad": {\n         "name": "French (Andorra)",\n-        "flag": "/++resource++country-flags/ad.gif",\n+        "flag": "countryflag/ad",\n     },\n     "fr-be": {\n         "name": "French (Belgium)",\n-        "flag": "/++resource++country-flags/be.gif",\n+        "flag": "countryflag/be",\n     },\n     "fr-bf": {\n         "name": "French (Burkina Faso)",\n-        "flag": "/++resource++country-flags/bf.gif",\n+        "flag": "countryflag/bf",\n     },\n     "fr-bi": {\n         "name": "French (Burundi)",\n-        "flag": "/++resource++country-flags/bi.gif",\n+        "flag": "countryflag/bi",\n     },\n     "fr-bj": {\n         "name": "French (Benin)",\n-        "flag": "/++resource++country-flags/bj.gif",\n+        "flag": "countryflag/bj",\n     },\n     "fr-ca": {\n         "name": "French (Canada)",\n-        "flag": "/++resource++country-flags/ca.gif",\n+        "flag": "countryflag/ca",\n     },\n     "fr-cd": {\n         "name": "French (Democratic Republic of Congo)",\n-        "flag": "/++resource++country-flags/cd.gif",\n+        "flag": "countryflag/cd",\n     },\n     "fr-cf": {\n         "name": "French (Central African Republic)",\n-        "flag": "/++resource++country-flags/cf.gif",\n+        "flag": "countryflag/cf",\n     },\n     "fr-cg": {\n         "name": "French (Congo)",\n-        "flag": "/++resource++country-flags/cg.gif",\n+        "flag": "countryflag/cg",\n     },\n     "fr-ch": {\n         "name": "French (Switzerland)",\n-        "flag": "/++resource++country-flags/ch.gif",\n+        "flag": "countryflag/ch",\n     },\n     "fr-ci": {\n         "name": "French (Cote d\'Ivoire)",\n-        "flag": "/++resource++country-flags/ci.gif",\n+        "flag": "countryflag/ci",\n     },\n     "fr-cm": {\n         "name": "French (Cameroon)",\n-        "flag": "/++resource++country-flags/cm.gif",\n+        "flag": "countryflag/cm",\n     },\n     "fr-dj": {\n         "name": "French (Djibouti)",\n-        "flag": "/++resource++country-flags/dj.gif",\n+        "flag": "countryflag/dj",\n     },\n     "fr-fr": {\n         "name": "French (France)",\n-        "flag": "/++resource++country-flags/fr.gif",\n+        "flag": "countryflag/fr",\n     },\n     "fr-ga": {\n         "name": "French (Gabon)",\n-        "flag": "/++resource++country-flags/ga.gif",\n+        "flag": "countryflag/ga",\n     },\n     "fr-gb": {\n         "name": "French (United Kingdom)",\n-        "flag": "/++resource++country-flags/gb.gif",\n+        "flag": "countryflag/gb",\n     },\n     "fr-gf": {\n         "name": "French (French Guiana)",\n-        "flag": "/++resource++country-flags/gf.gif",\n+        "flag": "countryflag/gf",\n     },\n     "fr-gn": {\n         "name": "French (Guinea)",\n-        "flag": "/++resource++country-flags/gn.gif",\n+        "flag": "countryflag/gn",\n     },\n     "fr-gp": {\n         "name": "French (Guadeloupe)",\n-        "flag": "/++resource++country-flags/gp.gif",\n+        "flag": "countryflag/gp",\n     },\n     "fr-ht": {\n         "name": "French (Haiti)",\n-        "flag": "/++resource++country-flags/ht.gif",\n+        "flag": "countryflag/ht",\n     },\n     "fr-it": {\n         "name": "French (Italy)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "fr-km": {\n         "name": "French (Comoros Islands)",\n-        "flag": "/++resource++country-flags/km.gif",\n+        "flag": "countryflag/km",\n     },\n     "fr-lb": {\n         "name": "French (Lebanon)",\n-        "flag": "/++resource++country-flags/lb.gif",\n+        "flag": "countryflag/lb",\n     },\n     "fr-lu": {\n         "name": "French (Luxembourg)",\n-        "flag": "/++resource++country-flags/lu.gif",\n+        "flag": "countryflag/lu",\n     },\n     "fr-mc": {\n         "name": "French (Monaco)",\n-        "flag": "/++resource++country-flags/mc.gif",\n+        "flag": "countryflag/mc",\n     },\n     "fr-mg": {\n         "name": "French (Madagascar)",\n-        "flag": "/++resource++country-flags/mg.gif",\n+        "flag": "countryflag/mg",\n     },\n     "fr-ml": {\n         "name": "French (Mali)",\n-        "flag": "/++resource++country-flags/ml.gif",\n+        "flag": "countryflag/ml",\n     },\n     "fr-mq": {\n         "name": "French (Martinique)",\n-        "flag": "/++resource++country-flags/mq.gif",\n+        "flag": "countryflag/mq",\n     },\n     "fr-nc": {\n         "name": "French (New Caledonia)",\n-        "flag": "/++resource++country-flags/nc.gif",\n+        "flag": "countryflag/nc",\n     },\n     "fr-pf": {\n         "name": "French (French Polynesia)",\n-        "flag": "/++resource++country-flags/pf.gif",\n+        "flag": "countryflag/pf",\n     },\n     "fr-pm": {\n         "name": "French (St. Pierre and Miquelon)",\n-        "flag": "/++resource++country-flags/pm.gif",\n+        "flag": "countryflag/pm",\n     },\n     "fr-re": {\n         "name": "French (Reunion)",\n-        "flag": "/++resource++country-flags/re.gif",\n+        "flag": "countryflag/re",\n     },\n     "fr-rw": {\n         "name": "French (Rwanda)",\n-        "flag": "/++resource++country-flags/rw.gif",\n+        "flag": "countryflag/rw",\n     },\n     "fr-sc": {\n         "name": "French (Seychelles)",\n-        "flag": "/++resource++country-flags/sc.gif",\n+        "flag": "countryflag/sc",\n     },\n     "fr-td": {\n         "name": "French (Chad)",\n-        "flag": "/++resource++country-flags/td.gif",\n+        "flag": "countryflag/td",\n     },\n     "fr-tg": {\n         "name": "French (Togo)",\n-        "flag": "/++resource++country-flags/tg.gif",\n+        "flag": "countryflag/tg",\n     },\n     "fr-vu": {\n         "name": "French (Vanuatu)",\n-        "flag": "/++resource++country-flags/vu.gif",\n+        "flag": "countryflag/vu",\n     },\n     "fr-wf": {\n         "name": "French (Wallis and Futuna)",\n-        "flag": "/++resource++country-flags/wf.gif",\n+        "flag": "countryflag/wf",\n     },\n     "fr-yt": {\n         "name": "French (Mayotte)",\n-        "flag": "/++resource++country-flags/yt.gif",\n+        "flag": "countryflag/yt",\n     },\n     "hr-ba": {\n         "name": "Croatian (Bosnia-Herzegovina)",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "hr-hr": {\n         "name": "Croatian (Croatia)",\n-        "flag": "/++resource++country-flags/hr.gif",\n+        "flag": "countryflag/hr",\n     },\n     "hu-hu": {\n         "name": "Hungarian (Hungary)",\n-        "flag": "/++resource++country-flags/hu.gif",\n+        "flag": "countryflag/hu",\n     },\n     "hu-si": {\n         "name": "Hungarian (Slovenia)",\n-        "flag": "/++resource++country-flags/hu.gif",\n+        "flag": "countryflag/hu",\n     },\n     "it-ch": {\n         "name": "Italian (Switzerland)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-hr": {\n         "name": "Italian (Croatia)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-it": {\n         "name": "Italian (Italy)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-si": {\n         "name": "Italian (Slovenia)",\n-        "flag": "/++resource++country-flags/it.gif",\n+        "flag": "countryflag/it",\n     },\n     "it-sm": {\n         "name": "Italian (San Marino)",\n-        "flag": "/++resource++country-flags/sm.gif",\n+        "flag": "countryflag/sm",\n     },\n     "ko-kp": {\n         "name": "Korean (Korea, North)",\n-        "flag": "/++resource++country-flags/kp.gif",\n+        "flag": "countryflag/kp",\n     },\n     "ko-kr": {\n         "name": "Korean (Korea, South)",\n-        "flag": "/++resource++country-flags/kr.gif",\n+        "flag": "countryflag/kr",\n     },\n     "ln-cd": {\n         "name": "Lingala (Democratic Republic of Congo)",\n-        "flag": "/++resource++country-flags/cd.gif",\n+        "flag": "countryflag/cd",\n     },\n     "ln-cg": {\n         "name": "Lingala (Congo)",\n-        "flag": "/++resource++country-flags/cg.gif",\n+        "flag": "countryflag/cg",\n     },\n     "ms-bn": {\n         "name": "Malay (Brunei)",\n-        "flag": "/++resource++country-flags/bn.gif",\n+        "flag": "countryflag/bn",\n     },\n     "ms-my": {\n         "name": "Malay (Malaysia)",\n-        "flag": "/++resource++country-flags/my.gif",\n+        "flag": "countryflag/my",\n     },\n     "ms-sg": {\n         "name": "Malay (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "nl-an": {\n         "name": "Dutch (Netherlands Antilles)",\n-        "flag": "/++resource++country-flags/an.gif",\n+        "flag": "countryflag/an",\n     },\n     "nl-aw": {\n         "name": "Dutch (Aruba)",\n-        "flag": "/++resource++country-flags/aw.gif",\n+        "flag": "countryflag/aw",\n     },\n     "nl-be": {\n         "name": "Dutch (Belgium)",\n-        "flag": "/++resource++country-flags/be.gif",\n+        "flag": "countryflag/be",\n     },\n     "nl-nl": {\n         "name": "Dutch (Netherlands)",\n-        "flag": "/++resource++country-flags/nl.gif",\n+        "flag": "countryflag/nl",\n     },\n     "nl-sr": {\n         "name": "Dutch (Suriname)",\n-        "flag": "/++resource++country-flags/sr.gif",\n+        "flag": "countryflag/sr",\n     },\n     "pt-ao": {\n         "name": "Portuguese (Angola)",\n         "native": "Portugu\xc3\xaas (Angola)",\n-        "flag": "/++resource++country-flags/ao.gif",\n+        "flag": "countryflag/ao",\n     },\n     "pt-br": {\n         "name": "Portuguese (Brazil)",\n         "native": "Portugu\xc3\xaas (Brasil)",\n-        "flag": "/++resource++country-flags/br.gif",\n+        "flag": "countryflag/br",\n     },\n     "pt-cv": {\n         "name": "Portuguese (Ilhas Cabo Verde)",\n         "native": "Portugu\xc3\xaas (Cabo Verde)",\n-        "flag": "/++resource++country-flags/cv.gif",\n+        "flag": "countryflag/cv",\n     },\n     "pt-gw": {\n         "name": "Portuguese (Guin\xc3\xa9-Bissau)",\n         "native": "Portugu\xc3\xaas (Guin\xc3\xa9-Bissau)",\n-        "flag": "/++resource++country-flags/gw.gif",\n+        "flag": "countryflag/gw",\n     },\n     "pt-mz": {\n         "name": "Portuguese (Mo\xc3\xa7ambique)",\n         "native": "Portugu\xc3\xaas (Mo\xc3\xa7ambique)",\n-        "flag": "/++resource++country-flags/mz.gif",\n+        "flag": "countryflag/mz",\n     },\n     "pt-pt": {\n         "name": "Portuguese (Portugal)",\n         "native": "Portugu\xc3\xaas (Portugal)",\n-        "flag": "/++resource++country-flags/pt.gif",\n+        "flag": "countryflag/pt",\n     },\n     "pt-st": {\n         "name": "Portuguese (S\xc3\xa3o Tom\xc3\xa9 e Pr\xc3\xadncipe)",\n         "native": "Portugu\xc3\xaas (S\xc3\xa3o Tom\xc3\xa9 e Pr\xc3\xadncipe)",\n-        "flag": "/++resource++country-flags/st.gif",\n+        "flag": "countryflag/st",\n     },\n     "sd-in": {\n         "name": "Sindhi (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "sd-pk": {\n         "name": "Sindhi (Pakistan)",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "sr-ba": {\n         "name": "Serbian (Bosnia-Herzegovina)",\n-        "flag": "/++resource++country-flags/ba.gif",\n+        "flag": "countryflag/ba",\n     },\n     "ss-sz": {\n         "name": "Swati (Swaziland)",\n-        "flag": "/++resource++country-flags/sz.gif",\n+        "flag": "countryflag/sz",\n     },\n     "ss-za": {\n         "name": "Swati (South Africa)",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n     "sv-fi": {\n         "name": "Swedish (Finland)",\n-        "flag": "/++resource++country-flags/se.gif",\n+        "flag": "countryflag/se",\n     },\n     "sv-se": {\n         "name": "Swedish (Sweden)",\n-        "flag": "/++resource++country-flags/se.gif",\n+        "flag": "countryflag/se",\n     },\n     "sw-ke": {\n         "name": "Swahili (Kenya)",\n-        "flag": "/++resource++country-flags/ke.gif",\n+        "flag": "countryflag/ke",\n     },\n     "sw-tz": {\n         "name": "Swahili (Tanzania)",\n-        "flag": "/++resource++country-flags/tz.gif",\n+        "flag": "countryflag/tz",\n     },\n     "ta-in": {\n         "name": "Tamil (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ta-sg": {\n         "name": "Tamil (Singapore)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "tn-bw": {\n         "name": "Tswana (Botswana)",\n-        "flag": "/++resource++country-flags/bw.gif",\n+        "flag": "countryflag/bw",\n     },\n     "tn-za": {\n         "name": "Tswana (South Africa)",\n-        "flag": "/++resource++country-flags/za.gif",\n+        "flag": "countryflag/za",\n     },\n     "tr-bg": {\n         "name": "Turkish (Bulgaria)",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "tr-cy": {\n         "name": "Turkish (Cyprus)",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "tr-tr": {\n         "name": "Turkish (Turkey)",\n-        "flag": "/++resource++country-flags/tr.gif",\n+        "flag": "countryflag/tr",\n     },\n     "ur-in": {\n         "name": "Urdu (India)",\n-        "flag": "/++resource++country-flags/in.gif",\n+        "flag": "countryflag/in",\n     },\n     "ur-pk": {\n         "name": "Urdu (Pakistan)",\n-        "flag": "/++resource++country-flags/pk.gif",\n+        "flag": "countryflag/pk",\n     },\n     "zh-cn": {\n         "name": "Chinese (China)",\n         "native": "\xe7\xae\x80\xe4\xbd\x93\xe4\xb8\xad\xe6\x96\x87(\xe4\xb8\xad\xe5\x9b\xbd)",\n-        "flag": "/++resource++country-flags/cn.gif",\n+        "flag": "countryflag/cn",\n     },\n     "zh-hk": {\n         "name": "Chinese (Hongkong)",\n         "native": "\xe7\xb9\x81\xe9\xab\x94\xe4\xb8\xad\xe6\x96\x87(\xe9\xa6\x99\xe6\xb8\xaf)",\n-        "flag": "/++resource++country-flags/hk.gif",\n+        "flag": "countryflag/hk",\n     },\n     "zh-sg": {\n         "name": "Chinese (Singapore)",\n         "native": "\xe7\xae\x80\xe4\xbd\x93\xe4\xb8\xad\xe6\x96\x87(\xe6\x96\xb0\xe5\x8a\xa0\xe5\x9d\xa1)",\n-        "flag": "/++resource++country-flags/sg.gif",\n+        "flag": "countryflag/sg",\n     },\n     "zh-tw": {\n         "name": "Chinese (Taiwan)",\n         "native": "\xe7\xb9\x81\xe9\xab\x94\xe4\xb8\xad\xe6\x96\x87(\xe8\x87\xba\xe7\x81\xa3)",\n-        "flag": "/++resource++country-flags/tw.gif",\n+        "flag": "countryflag/tw",\n     },\n }\n \ndiff --git a/plone/i18n/locales/tests/test_countries.py b/plone/i18n/locales/tests/test_countries.py\nindex 37b046f..9e6133d 100644\n--- a/plone/i18n/locales/tests/test_countries.py\n+++ b/plone/i18n/locales/tests/test_countries.py\n@@ -38,7 +38,7 @@ def test_get_countries(self):\n         self.assertIn("de", countries)\n         de = countries["de"]\n         self.assertEqual(de["name"], "Germany")\n-        self.assertEqual(de["flag"], "/++resource++country-flags/de.gif")\n+        self.assertEqual(de["flag"], "countryflag/de")\n \n     def test_get_country_listing(self):\n         util = self._makeOne()\ndiff --git a/plone/i18n/locales/tests/test_languages.py b/plone/i18n/locales/tests/test_languages.py\nindex cadf9e5..4ee1098 100644\n--- a/plone/i18n/locales/tests/test_languages.py\n+++ b/plone/i18n/locales/tests/test_languages.py\n@@ -62,7 +62,7 @@ def test_get_languages(self):\n         de = languages["de"]\n         self.assertEqual(de["name"], "German")\n         self.assertEqual(de["native"], "Deutsch")\n-        self.assertEqual(de["flag"], "/++resource++country-flags/de.gif")\n+        self.assertEqual(de["flag"], "countryflag/de")\n \n     def test_get_languages_combined(self):\n         util = self._makeOne()\ndiff --git a/plone/i18n/negotiate/negotiate.py b/plone/i18n/negotiate/negotiate.py\nindex 1d56fdb..fb20205 100644\n--- a/plone/i18n/negotiate/negotiate.py\n+++ b/plone/i18n/negotiate/negotiate.py\n@@ -1,5 +1,5 @@\n-from plone.i18n.interfaces import ILanguageUtility\n-from plone.i18n.interfaces import INegotiateLanguage\n+from ..interfaces import ILanguageUtility\n+from ..interfaces import INegotiateLanguage\n from zope.component import getUtility\n from zope.interface import implementer\n \ndiff --git a/plone/i18n/normalizer/__init__.py b/plone/i18n/normalizer/__init__.py\nindex ca90554..2566f58 100644\n--- a/plone/i18n/normalizer/__init__.py\n+++ b/plone/i18n/normalizer/__init__.py\n@@ -1,7 +1,7 @@\n-from plone.i18n.normalizer.base import baseNormalize\n-from plone.i18n.normalizer.interfaces import IFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IIDNormalizer\n-from plone.i18n.normalizer.interfaces import IURLNormalizer\n+from .base import baseNormalize\n+from .interfaces import IFileNameNormalizer\n+from .interfaces import IIDNormalizer\n+from .interfaces import IURLNormalizer\n from zope.component import queryUtility\n from zope.interface import implementer\n \ndiff --git a/plone/i18n/normalizer/adapters.py b/plone/i18n/normalizer/adapters.py\nindex 211881d..27bb176 100644\n--- a/plone/i18n/normalizer/adapters.py\n+++ b/plone/i18n/normalizer/adapters.py\n@@ -1,7 +1,7 @@\n-from plone.i18n.normalizer.interfaces import IFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IURLNormalizer\n-from plone.i18n.normalizer.interfaces import IUserPreferredFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IUserPreferredURLNormalizer\n+from .interfaces import IFileNameNormalizer\n+from .interfaces import IURLNormalizer\n+from .interfaces import IUserPreferredFileNameNormalizer\n+from .interfaces import IUserPreferredURLNormalizer\n from zope.component import queryUtility\n from zope.i18n.interfaces import IUserPreferredLanguages\n from zope.interface import implementer\ndiff --git a/plone/i18n/normalizer/bg.py b/plone/i18n/normalizer/bg.py\nindex 97bf74c..7a70423 100644\n--- a/plone/i18n/normalizer/bg.py\n+++ b/plone/i18n/normalizer/bg.py\n@@ -1,5 +1,5 @@\n-from plone.i18n.normalizer.base import mapUnicode\n-from plone.i18n.normalizer.interfaces import INormalizer\n+from .base import mapUnicode\n+from .interfaces import INormalizer\n from zope.interface import implementer\n \n \ndiff --git a/plone/i18n/normalizer/tests/test_normalizer.py b/plone/i18n/normalizer/tests/test_normalizer.py\nindex 802a1c9..2fdfa25 100644\n--- a/plone/i18n/normalizer/tests/test_normalizer.py\n+++ b/plone/i18n/normalizer/tests/test_normalizer.py\n@@ -1,9 +1,9 @@\n+from ..interfaces import IFileNameNormalizer\n+from ..interfaces import IIDNormalizer\n+from ..interfaces import IURLNormalizer\n from .base import setUp as configurationSetUp\n from .base import tearDown\n from doctest import DocTestSuite\n-from plone.i18n.normalizer.interfaces import IFileNameNormalizer\n-from plone.i18n.normalizer.interfaces import IIDNormalizer\n-from plone.i18n.normalizer.interfaces import IURLNormalizer\n from zope.component import queryUtility\n \n import doctest\ndiff --git a/plone/i18n/tests/base.py b/plone/i18n/tests/base.py\nindex 241ce11..b332467 100644\n--- a/plone/i18n/tests/base.py\n+++ b/plone/i18n/tests/base.py\n@@ -1,10 +1,12 @@\n-from plone.app import testing\n from plone.app.contenttypes.testing import PLONE_APP_CONTENTTYPES_FIXTURE\n from plone.app.testing import bbb\n+from plone.app.testing import FunctionalTesting\n from plone.app.testing import PloneSandboxLayer\n from plone.testing import z2\n \n \n+# XXX: testing with dependency indirection!\n+\n class PloneI18nLayer(PloneSandboxLayer):\n \n     defaultBases = (PLONE_APP_CONTENTTYPES_FIXTURE,)\n@@ -19,7 +21,7 @@ def setUpZope(self, app, configurationContext):\n \n \n PLT_FIXTURE = PloneI18nLayer()\n-PLT_FUNCTIONAL_TESTING = testing.FunctionalTesting(\n+PLT_FUNCTIONAL_TESTING = FunctionalTesting(\n     bases=(PLT_FIXTURE,), name="Plonei18nTestCase:Functional"\n )\n \ndiff --git a/plone/i18n/tests/test_negotiation.py b/plone/i18n/tests/test_negotiation.py\nindex bcaa9ff..4bf4b1e 100644\n--- a/plone/i18n/tests/test_negotiation.py\n+++ b/plone/i18n/tests/test_negotiation.py\n@@ -34,7 +34,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "en")\n \n@@ -56,7 +56,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt")\n \n@@ -64,7 +64,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "de"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "de")\n \n@@ -73,7 +73,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt-br"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt")\n \n@@ -96,7 +96,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt")\n \n@@ -104,7 +104,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "de"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "de")\n \n@@ -113,7 +113,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "pt-br"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "pt-br")\n \n@@ -122,7 +122,7 @@ def testLanguageNegotiation(self):\n             self.portal_path,\n             self.basic_auth,\n             env={"HTTP_ACCEPT_LANGUAGE": "de-de"},\n-            handle_errors=False\n+            handle_errors=False,\n         )\n         self.checkLanguage(response, "de")\n \n@@ -169,9 +169,7 @@ def testContentObjectVHMPortal(self):\n         self.assertEqual(doc.Language(), "nl")\n         docpath = "/".join(self.portal.portal_url.getRelativeContentPath(doc))\n         response = self.publish(\n-            vhmBasePath + docpath,\n-            self.basic_auth,\n-            handle_errors=False\n+            vhmBasePath + docpath, self.basic_auth, handle_errors=False\n         )\n         self.checkLanguage(response, "nl")\n \ndiff --git a/plone/i18n/utility.py b/plone/i18n/utility.py\nindex d852041..3edb45b 100644\n--- a/plone/i18n/utility.py\n+++ b/plone/i18n/utility.py\n@@ -1,20 +1,19 @@\n+from .interfaces import ILanguageSchema\n+from .interfaces import ILanguageUtility\n+from .interfaces import INegotiateLanguage\n+from .locales.interfaces import ICcTLDInformation\n+from .locales.interfaces import IContentLanguageAvailability\n+from .locales.interfaces import ICountryAvailability\n+from .negotiate.ptsnegotiator import registerLangPrefsMethod\n from AccessControl import ClassSecurityInfo\n from AccessControl import getSecurityManager\n from operator import itemgetter\n-from plone.i18n.interfaces import ILanguageSchema\n-from plone.i18n.interfaces import ILanguageUtility\n-from plone.i18n.interfaces import INegotiateLanguage\n-from plone.i18n.locales.interfaces import ICcTLDInformation\n-from plone.i18n.locales.interfaces import IContentLanguageAvailability\n-from plone.i18n.locales.interfaces import ICountryAvailability\n-from plone.i18n.negotiate.ptsnegotiator import registerLangPrefsMethod\n from plone.registry.interfaces import IRegistry\n from Products.CMFCore.interfaces import IDublinCore\n from Products.SiteAccess.VirtualHostMonster import VirtualHostMonster\n from ZODB.POSException import ConflictError\n from zope.component import getMultiAdapter\n from zope.component import getUtility\n-from zope.component import queryUtility\n from zope.component.hooks import getSite\n from zope.globalrequest import getRequest\n from zope.interface import implementer\n@@ -113,20 +112,18 @@ def listSupportedLanguages(self):\n \n     def getAvailableLanguages(self):\n         """Returns the dictionary of available languages."""\n-        util = queryUtility(IContentLanguageAvailability)\n+        util = getUtility(IContentLanguageAvailability)\n         if self.settings.use_combined_language_codes:\n-            languages = util.getLanguages(combined=True)\n-        else:\n-            languages = util.getLanguages()\n-        return languages\n+            return util.getLanguages(combined=True)\n+        return util.getLanguages()\n \n     def getCcTLDInformation(self):\n-        util = queryUtility(ICcTLDInformation)\n+        util = getUtility(ICcTLDInformation)\n         return util.getTLDs()\n \n     def listAvailableLanguages(self):\n         """Returns sorted list of available languages (code, name)."""\n-        util = queryUtility(IContentLanguageAvailability)\n+        util = getUtility(IContentLanguageAvailability)\n         if self.use_combined_language_codes:\n             languages = util.getLanguageListing(combined=True)\n         else:\n@@ -152,7 +149,7 @@ def listAvailableLanguageInformation(self):\n \n     def getAvailableLanguageInformation(self):\n         """Returns the dictionary of available languages."""\n-        util = queryUtility(IContentLanguageAvailability)\n+        util = getUtility(IContentLanguageAvailability)\n         if self.use_combined_language_codes:\n             languages = util.getLanguages(combined=True)\n         else:\n@@ -160,10 +157,7 @@ def getAvailableLanguageInformation(self):\n \n         for lang in languages:\n             languages[lang]["code"] = lang\n-            if lang in self.supported_langs:\n-                languages[lang]["selected"] = True\n-            else:\n-                languages[lang]["selected"] = False\n+            languages[lang]["selected"] = lang in self.supported_langs\n         return languages\n \n     def getDefaultLanguage(self):\n@@ -177,16 +171,16 @@ def setDefaultLanguage(self, langCode):\n             if len(self.settings.available_languages) > 0:\n                 self.settings.default_language = self.settings.available_languages[\n                     0\n-                ]  # noqa\n+                ]\n             return\n         self.settings.default_language = langCode\n \n     def getNameForLanguageCode(self, langCode):\n         """Returns the name for a language code."""\n         info = self.getAvailableLanguageInformation().get(langCode, None)\n-        if info is not None:\n-            return info.get("name", None)\n-        return None\n+        if info is None:\n+            return None\n+        return info.get("name", None)\n \n     def getFlagForLanguageCode(self, langCode):\n         """Returns the name of the flag for a language code."""\n@@ -238,8 +232,6 @@ def getPreferredLanguage(self, request=None):\n         if lb[0]:\n             if not self.settings.use_combined_language_codes:\n                 return lb[0].split("-")[0]\n-            else:\n-                return lb[0]\n             return lb[0]\n         # this is the default language\n         return lb[1]\n@@ -298,8 +290,7 @@ def getContentLanguage(self, request):\n                         continue\n                     if lang in self.getSupportedLanguages():\n                         return lang\n-                    else:\n-                        return None\n+                    return None\n         except ConflictError:\n             raise\n         except:\n@@ -407,12 +398,12 @@ def getLanguageBindings(self, request):\n \n     def getAvailableCountries(self):\n         """Returns the dictionary of available countries."""\n-        util = queryUtility(ICountryAvailability)\n+        util = getUtility(ICountryAvailability)\n         return util.getCountries()\n \n     def listAvailableCountries(self):\n         """Returns the sorted list of available countries (code, name)."""\n-        util = queryUtility(ICountryAvailability)\n+        util = getUtility(ICountryAvailability)\n         countries = util.getCountryListing()\n         countries.sort(lambda x, y: cmp(x[1], y[1]))\n         return countries\ndiff --git a/setup.py b/setup.py\nindex f20c71b..a6bfab6 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -15,7 +15,7 @@\n         "Framework :: Plone",\n         "Framework :: Plone :: 6.0",\n         "Framework :: Plone :: Core",\n-        "Framework :: Zope :: 4",\n+        "Framework :: Zope :: 5",\n         "License :: OSI Approved :: GNU General Public License v2 (GPLv2)",\n         "Operating System :: OS Independent",\n         "Programming Language :: Python",\n@@ -25,37 +25,23 @@\n     ],\n     keywords="i18n l10n Plone",\n     author="Plone Foundation",\n-    author_email="plone-developers@lists.sourceforge.net",\n-    url="https://pypi.org/project/plone.i18n",\n+    author_email="releaseteam@plone.org",\n+    url="https://github.com/plone/plone.i18n",\n     license="GPL version 2",\n     packages=find_packages(),\n     namespace_packages=["plone"],\n     include_package_data=True,\n     zip_safe=False,\n     install_requires=[\n-        "AccessControl",\n-        "Products.CMFCore",\n-        "plone.supermodel",\n+        "plone.base",\n         "setuptools",\n         "Unidecode>=1.0.22",\n-        "ZODB",\n-        "zope.component",\n-        "zope.i18n",\n-        "zope.i18nmessageid",\n-        "zope.interface",\n-        "zope.publisher",\n-        "zope.schema",\n         "zope.globalrequest",\n-        "Zope",\n     ],\n     extras_require=dict(\n         test=[\n-            "plone.app.contenttypes",\n+            "plone.app.contenttypes[testing]",\n             "plone.app.testing",\n-            "plone.registry",\n-            "zope.browserresource",\n-            "zope.component [zcml]",\n-            "zope.configuration",\n             "zope.testing",\n         ],\n     ),\n'

