Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T15:37:29+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/9f121d62f004e0ffc88e1a4bdf0d4955b49bbac3

Configuring with plone/meta

Files changed:
A .editorconfig
A .meta.toml
A .pre-commit-config.yaml
A news/93ecbf56.internal
A tox.ini
M pyproject.toml
M setup.cfg

b'diff --git a/.editorconfig b/.editorconfig\nnew file mode 100644\nindex 0000000..b4158b8\n--- /dev/null\n+++ b/.editorconfig\n@@ -0,0 +1,39 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+#\n+# EditorConfig Configuration file, for more details see:\n+# http://EditorConfig.org\n+# EditorConfig is a convention description, that could be interpreted\n+# by multiple editors to enforce common coding conventions for specific\n+# file types\n+\n+# top-most EditorConfig file:\n+# Will ignore other EditorConfig files in Home directory or upper tree level.\n+root = true\n+\n+\n+[*]  # For All Files\n+# Unix-style newlines with a newline ending every file\n+end_of_line = lf\n+insert_final_newline = true\n+trim_trailing_whitespace = true\n+# Set default charset\n+charset = utf-8\n+# Indent style default\n+indent_style = space\n+# Max Line Length - a hard line wrap, should be disabled\n+max_line_length = off\n+\n+[*.{py,cfg,ini}]\n+# 4 space indentation\n+indent_size = 4\n+\n+[*.{yml,zpt,pt,dtml,zcml}]\n+# 2 space indentation\n+indent_size = 2\n+\n+[{Makefile,.gitmodules}]\n+# Tab indentation (no size specified, but view as 4 spaces)\n+indent_style = tab\n+indent_size = unset\n+tab_width = unset\ndiff --git a/.meta.toml b/.meta.toml\nnew file mode 100644\nindex 0000000..5306145\n--- /dev/null\n+++ b/.meta.toml\n@@ -0,0 +1,5 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+[meta]\n+template = "default"\n+commit-id = "93ecbf56"\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nnew file mode 100644\nindex 0000000..582f8ac\n--- /dev/null\n+++ b/.pre-commit-config.yaml\n@@ -0,0 +1,42 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+ci:\n+    autofix_prs: false\n+    autoupdate_schedule: monthly\n+\n+repos:\n+-   repo: https://github.com/asottile/pyupgrade\n+    rev: v3.3.1\n+    hooks:\n+    -   id: pyupgrade\n+        args: [--py38-plus]\n+-   repo: https://github.com/pycqa/isort\n+    rev: 5.12.0\n+    hooks:\n+    -   id: isort\n+-   repo: https://github.com/psf/black\n+    rev: 23.1.0\n+    hooks:\n+    -   id: black\n+-   repo: https://github.com/collective/zpretty\n+    rev: 3.0.2\n+    hooks:\n+    -   id: zpretty\n+-   repo: https://github.com/PyCQA/flake8\n+    rev: 6.0.0\n+    hooks:\n+    -   id: flake8\n+-   repo: https://github.com/codespell-project/codespell\n+    rev: v2.2.2\n+    hooks:\n+    -   id: codespell\n+        additional_dependencies:\n+          - tomli\n+-   repo: https://github.com/mgedmin/check-manifest\n+    rev: "0.49"\n+    hooks:\n+    -   id: check-manifest\n+-   repo: https://github.com/regebro/pyroma\n+    rev: "4.2"\n+    hooks:\n+    -   id: pyroma\ndiff --git a/news/93ecbf56.internal b/news/93ecbf56.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/93ecbf56.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 05b615d..9eb73f3 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -1,3 +1,5 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n [tool.towncrier]\n filename = "CHANGES.rst"\n directory = "news/"\n@@ -18,3 +20,43 @@ showcontent = true\n directory = "bugfix"\n name = "Bug fixes:"\n showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "internal"\n+name = "Internal:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "documentation"\n+name = "Documentation:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "tests"\n+name = "Tests"\n+showcontent = true\n+\n+[tool.isort]\n+profile = "plone"\n+\n+[tool.black]\n+target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\n+  # Zope own provided namespaces\n+  \'App\', \'OFS\', \'Products.Five\', \'Products.OFSP\', \'Products.PageTemplates\',\n+  \'Products.SiteAccess\', \'Shared\', \'Testing\', \'ZPublisher\', \'ZTUtils\',\n+  \'Zope2\', \'webdav\', \'zmi\',\n+  # Zope dependencies\n+  \'Acquisition\', \'DateTime\', \'transaction\', \'zExceptions\', \'ZODB\', \'zope.component\',\n+  \'zope.configuration\', \'zope.container\', \'zope.deferredimport\', \'zope.event\',\n+  \'zope.exceptions\', \'zope.globalrequest\', \'zope.i18n\', \'zope.i18nmessageid\',\n+  \'zope.interface\', \'zope.lifecycleevent\', \'zope.location\', \'zope.publisher\',\n+  \'zope.schema\', \'zope.security\', \'zope.site\', \'zope.traversing\', \'AccessControl\',\n+]\n+\'plone.base\' = [\n+  \'AccessControl\', \'Products.BTreeFolder2\', \'Products.CMFCore\',\n+  \'Products.CMFDynamicViewFTI\', \'zope.deprecation\',\n+]\n+python-dateutil = [\'dateutil\']\ndiff --git a/setup.cfg b/setup.cfg\nindex 3972628..0da8f8f 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -1,11 +1,23 @@\n-[check-manifest]\n-ignore =\n-    *.cfg\n-\n-\n-\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n [bdist_wheel]\n universal = 0\n \n-[isort]\n-profile = plone\n+[flake8]\n+doctests = 1\n+ignore =\n+    # black takes care of line length\n+    E501,\n+    # black takes care of where to break lines\n+    W503,\n+    # black takes care of spaces within slicing (list[:])\n+    E203,\n+    # black takes care of spaces after commas\n+    E231,\n+\n+[check-manifest]\n+ignore =\n+    .editorconfig\n+    .meta.toml\n+    .pre-commit-config.yaml\n+    tox.ini\ndiff --git a/tox.ini b/tox.ini\nnew file mode 100644\nindex 0000000..8eb7ef9\n--- /dev/null\n+++ b/tox.ini\n@@ -0,0 +1,53 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+[tox]\n+# We need 4.4.0 for constrain_package_deps.\n+min_version = 4.4.0\n+envlist =\n+    format\n+    lint\n+    test\n+\n+[testenv]\n+allowlist_externals =\n+    sh\n+\n+[testenv:format]\n+description = automatically reformat code\n+skip_install = true\n+deps =\n+    pre-commit\n+commands =\n+    pre-commit run -a pyupgrade\n+    pre-commit run -a isort\n+    pre-commit run -a black\n+    pre-commit run -a zpretty\n+\n+[testenv:lint]\n+description = run linters that will help improve the code style\n+skip_install = true\n+deps =\n+    pre-commit\n+commands =\n+    pre-commit run -a\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies and generate a graph out of them\n+deps =\n+    z3c.dependencychecker==2.11\n+    pipdeptree==2.5.1\n+    graphviz  # optional dependency of pipdeptree\n+commands =\n+    dependencychecker\n+    sh -c \'pipdeptree --exclude setuptools,wheel,pipdeptree,z3c.dependencychecker,zope.interface,zope.component --graph-output svg > dependencies.svg\'\n+\n+[testenv:test]\n+usedevelop = true\n+constrain_package_deps = true\n+deps =\n+    zope.testrunner\n+    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+commands =\n+    zope-testrunner --test-path={toxinidir} -s plone.schema\n+extras =\n+    test\n'

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T15:38:30+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/4a53c14106cf1ad34a62616b6b6dac584a688d85

cleanup: remove old files

Files changed:
D buildout.cfg
D versions.cfg

b'diff --git a/buildout.cfg b/buildout.cfg\ndeleted file mode 100644\nindex b9343df..0000000\n--- a/buildout.cfg\n+++ /dev/null\n@@ -1,26 +0,0 @@\n-[buildout]\n-extends =\n-    https://raw.github.com/collective/buildout.plonetest/master/test-4.x.cfg\n-    versions.cfg\n-\n-package-name = plone.schema\n-package-extras = [test]\n-\n-parts +=\n-    createzopecoverage\n-    omelette\n-    flake8\n-\n-[createzopecoverage]\n-recipe = createzopecoverage\n-\n-[instance]\n-eggs += Pillow\n-\n-[omelette]\n-recipe = collective.recipe.omelette\n-eggs = ${instance:eggs}\n-\n-[flake8]\n-recipe = zc.recipe.egg\n-eggs = flake8\ndiff --git a/versions.cfg b/versions.cfg\ndeleted file mode 100644\nindex 87d8241..0000000\n--- a/versions.cfg\n+++ /dev/null\n@@ -1,2 +0,0 @@\n-[versions]\n-docutils = 0.9.1\n'

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T15:39:11+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/315b88f9458f2476a8e43c2093c1b42b7a0afaf1

chore: zpretty

Files changed:
M plone/schema/browser/templates/email_display.pt
M plone/schema/browser/templates/uri_display.pt
M plone/schema/configure.zcml

b'diff --git a/plone/schema/browser/templates/email_display.pt b/plone/schema/browser/templates/email_display.pt\nindex b793f21..c65daf5 100644\n--- a/plone/schema/browser/templates/email_display.pt\n+++ b/plone/schema/browser/templates/email_display.pt\n@@ -1,24 +1,32 @@\n <html xmlns="http://www.w3.org/1999/xhtml"\n       xmlns:tal="http://xml.zope.org/namespaces/tal"\n-      tal:omit-tag="">\n-    <span id="" class=""\n-          tal:attributes="id view/id;\n-                          class view/klass;\n-                          style view/style;\n-                          title view/title;\n-                          lang view/lang;\n-                          onclick view/onclick;\n-                          ondblclick view/ondblclick;\n-                          onmousedown view/onmousedown;\n-                          onmouseup view/onmouseup;\n-                          onmouseover view/onmouseover;\n-                          onmousemove view/onmousemove;\n-                          onmouseout view/onmouseout;\n-                          onkeypress view/onkeypress;\n-                          onkeydown view/onkeydown;\n-                          onkeyup view/onkeyup">\n-    <a tal:condition="view/value" \n+      tal:omit-tag=""\n+>\n+  <span class=""\n+        id=""\n+        tal:attributes="\n+          id view/id;\n+          class view/klass;\n+          style view/style;\n+          title view/title;\n+          lang view/lang;\n+          onclick view/onclick;\n+          ondblclick view/ondblclick;\n+          onmousedown view/onmousedown;\n+          onmouseup view/onmouseup;\n+          onmouseover view/onmouseover;\n+          onmousemove view/onmousemove;\n+          onmouseout view/onmouseout;\n+          onkeypress view/onkeypress;\n+          onkeydown view/onkeydown;\n+          onkeyup view/onkeyup;\n+        "\n+  >\n+    <a tal:condition="view/value"\n        tal:content="view/value"\n-       tal:attributes="href string:mailto:${view/value}"/>\n+       tal:attributes="\n+         href string:mailto:${view/value};\n+       "\n+    ></a>\n   </span>\n </html>\ndiff --git a/plone/schema/browser/templates/uri_display.pt b/plone/schema/browser/templates/uri_display.pt\nindex a688f89..164b6a5 100644\n--- a/plone/schema/browser/templates/uri_display.pt\n+++ b/plone/schema/browser/templates/uri_display.pt\n@@ -1,24 +1,32 @@\n <html xmlns="http://www.w3.org/1999/xhtml"\n       xmlns:tal="http://xml.zope.org/namespaces/tal"\n-      tal:omit-tag="">\n-    <span id="" class=""\n-          tal:attributes="id view/id;\n-                          class view/klass;\n-                          style view/style;\n-                          title view/title;\n-                          lang view/lang;\n-                          onclick view/onclick;\n-                          ondblclick view/ondblclick;\n-                          onmousedown view/onmousedown;\n-                          onmouseup view/onmouseup;\n-                          onmouseover view/onmouseover;\n-                          onmousemove view/onmousemove;\n-                          onmouseout view/onmouseout;\n-                          onkeypress view/onkeypress;\n-                          onkeydown view/onkeydown;\n-                          onkeyup view/onkeyup">\n-    <a tal:condition="view/value" \n+      tal:omit-tag=""\n+>\n+  <span class=""\n+        id=""\n+        tal:attributes="\n+          id view/id;\n+          class view/klass;\n+          style view/style;\n+          title view/title;\n+          lang view/lang;\n+          onclick view/onclick;\n+          ondblclick view/ondblclick;\n+          onmousedown view/onmousedown;\n+          onmouseup view/onmouseup;\n+          onmouseover view/onmouseover;\n+          onmousemove view/onmousemove;\n+          onmouseout view/onmouseout;\n+          onkeypress view/onkeypress;\n+          onkeydown view/onkeydown;\n+          onkeyup view/onkeyup;\n+        "\n+  >\n+    <a tal:condition="view/value"\n        tal:content="view/value"\n-       tal:attributes="href view/value"/>\n+       tal:attributes="\n+         href view/value;\n+       "\n+    ></a>\n   </span>\n </html>\ndiff --git a/plone/schema/configure.zcml b/plone/schema/configure.zcml\nindex d84a8c4..f19b2d8 100644\n--- a/plone/schema/configure.zcml\n+++ b/plone/schema/configure.zcml\n@@ -7,9 +7,7 @@\n     >\n \n   <!-- Configure widgets -->\n-  <include\n-      package=".browser"\n-      />\n+  <include package=".browser" />\n \n   <!-- Configure plone.supermodel support if available -->\n   <configure zcml:condition="installed plone.supermodel">\n'

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T16:22:44+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/f0de586aa2f61d237259fa68a5040732c10b94df

feat: codespell

Files changed:
M plone/schema/jsonfield.py

b'diff --git a/plone/schema/jsonfield.py b/plone/schema/jsonfield.py\nindex 636f60b..c488b1f 100644\n--- a/plone/schema/jsonfield.py\n+++ b/plone/schema/jsonfield.py\n@@ -57,7 +57,7 @@ def fromUnicode(self, value):\n             >>> JSONField().fromUnicode(\'{"items": []}\')\n             {\'items\': []}\n \n-        or it can be a Pyhon dict stored as string:\n+        or it can be a Python dict stored as string:\n \n             >>> JSONField().fromUnicode("{\'items\': []}")\n             {\'items\': []}\n'

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T16:22:44+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/1bf25f5829f2eb6d69ab24e073f0540ab0147b94

feat: pyroma

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex 81a67a8..1e69901 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -34,6 +34,7 @@\n     namespace_packages=["plone"],\n     include_package_data=True,\n     zip_safe=False,\n+    python_requires=">=3.8",\n     install_requires=[\n         "jsonschema",\n         "setuptools",\n'

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T16:22:44+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/e16454342b3a6160ee61a78ec5012e0a701d22f8

feat: add extra flake8 configuration

Files changed:
M setup.cfg

b'diff --git a/setup.cfg b/setup.cfg\nindex 0da8f8f..8904a13 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -14,6 +14,8 @@ ignore =\n     E203,\n     # black takes care of spaces after commas\n     E231,\n+per-file-ignores =\n+    plone/schema/__init__.py:F401\n \n [check-manifest]\n ignore =\n'

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T16:22:44+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/1199afe85c20491b2f5c77471a13c6c71340fe2b

feat: configure z3c.dependencychecker

Files changed:
M pyproject.toml

b"diff --git a/pyproject.toml b/pyproject.toml\nindex 9eb73f3..6c400ed 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -60,3 +60,4 @@ Zope = [\n   'Products.CMFDynamicViewFTI', 'zope.deprecation',\n ]\n python-dateutil = ['dateutil']\n+ignore-packages = ['plone.supermodel', 'plone.schemaeditor']\n"

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T16:22:44+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schema/commit/4cd5aff86f6c22fc047684f9725479601ff97dd8

feat: declare dependencies

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex 1e69901..5c444c8 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -39,11 +39,10 @@\n         "jsonschema",\n         "setuptools",\n         "z3c.form",\n-        "zope.deprecation",\n         "zope.i18nmessageid",\n     ],\n     extras_require={\n-        "test": ["plone.app.testing"],\n+        "test": [],\n         "schemaeditor": ["plone.schemaeditor"],\n         "supermodel": ["plone.supermodel"],\n     },\n'

Repository: plone.schema


Branch: refs/heads/master
Date: 2023-03-25T23:29:35+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.schema/commit/43a4dabb2bd31f3fe3e5fe52f06ac6610a91f348

Merge pull request #18 from plone/config-with-default-template-5c63531a

Config with default template

Files changed:
A .editorconfig
A .meta.toml
A .pre-commit-config.yaml
A news/93ecbf56.internal
A tox.ini
M plone/schema/browser/templates/email_display.pt
M plone/schema/browser/templates/uri_display.pt
M plone/schema/configure.zcml
M plone/schema/jsonfield.py
M pyproject.toml
M setup.cfg
M setup.py
D buildout.cfg
D versions.cfg

b'diff --git a/.editorconfig b/.editorconfig\nnew file mode 100644\nindex 0000000..b4158b8\n--- /dev/null\n+++ b/.editorconfig\n@@ -0,0 +1,39 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+#\n+# EditorConfig Configuration file, for more details see:\n+# http://EditorConfig.org\n+# EditorConfig is a convention description, that could be interpreted\n+# by multiple editors to enforce common coding conventions for specific\n+# file types\n+\n+# top-most EditorConfig file:\n+# Will ignore other EditorConfig files in Home directory or upper tree level.\n+root = true\n+\n+\n+[*]  # For All Files\n+# Unix-style newlines with a newline ending every file\n+end_of_line = lf\n+insert_final_newline = true\n+trim_trailing_whitespace = true\n+# Set default charset\n+charset = utf-8\n+# Indent style default\n+indent_style = space\n+# Max Line Length - a hard line wrap, should be disabled\n+max_line_length = off\n+\n+[*.{py,cfg,ini}]\n+# 4 space indentation\n+indent_size = 4\n+\n+[*.{yml,zpt,pt,dtml,zcml}]\n+# 2 space indentation\n+indent_size = 2\n+\n+[{Makefile,.gitmodules}]\n+# Tab indentation (no size specified, but view as 4 spaces)\n+indent_style = tab\n+indent_size = unset\n+tab_width = unset\ndiff --git a/.meta.toml b/.meta.toml\nnew file mode 100644\nindex 0000000..5306145\n--- /dev/null\n+++ b/.meta.toml\n@@ -0,0 +1,5 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+[meta]\n+template = "default"\n+commit-id = "93ecbf56"\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nnew file mode 100644\nindex 0000000..582f8ac\n--- /dev/null\n+++ b/.pre-commit-config.yaml\n@@ -0,0 +1,42 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+ci:\n+    autofix_prs: false\n+    autoupdate_schedule: monthly\n+\n+repos:\n+-   repo: https://github.com/asottile/pyupgrade\n+    rev: v3.3.1\n+    hooks:\n+    -   id: pyupgrade\n+        args: [--py38-plus]\n+-   repo: https://github.com/pycqa/isort\n+    rev: 5.12.0\n+    hooks:\n+    -   id: isort\n+-   repo: https://github.com/psf/black\n+    rev: 23.1.0\n+    hooks:\n+    -   id: black\n+-   repo: https://github.com/collective/zpretty\n+    rev: 3.0.2\n+    hooks:\n+    -   id: zpretty\n+-   repo: https://github.com/PyCQA/flake8\n+    rev: 6.0.0\n+    hooks:\n+    -   id: flake8\n+-   repo: https://github.com/codespell-project/codespell\n+    rev: v2.2.2\n+    hooks:\n+    -   id: codespell\n+        additional_dependencies:\n+          - tomli\n+-   repo: https://github.com/mgedmin/check-manifest\n+    rev: "0.49"\n+    hooks:\n+    -   id: check-manifest\n+-   repo: https://github.com/regebro/pyroma\n+    rev: "4.2"\n+    hooks:\n+    -   id: pyroma\ndiff --git a/buildout.cfg b/buildout.cfg\ndeleted file mode 100644\nindex b9343df..0000000\n--- a/buildout.cfg\n+++ /dev/null\n@@ -1,26 +0,0 @@\n-[buildout]\n-extends =\n-    https://raw.github.com/collective/buildout.plonetest/master/test-4.x.cfg\n-    versions.cfg\n-\n-package-name = plone.schema\n-package-extras = [test]\n-\n-parts +=\n-    createzopecoverage\n-    omelette\n-    flake8\n-\n-[createzopecoverage]\n-recipe = createzopecoverage\n-\n-[instance]\n-eggs += Pillow\n-\n-[omelette]\n-recipe = collective.recipe.omelette\n-eggs = ${instance:eggs}\n-\n-[flake8]\n-recipe = zc.recipe.egg\n-eggs = flake8\ndiff --git a/news/93ecbf56.internal b/news/93ecbf56.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/93ecbf56.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/plone/schema/browser/templates/email_display.pt b/plone/schema/browser/templates/email_display.pt\nindex b793f21..c65daf5 100644\n--- a/plone/schema/browser/templates/email_display.pt\n+++ b/plone/schema/browser/templates/email_display.pt\n@@ -1,24 +1,32 @@\n <html xmlns="http://www.w3.org/1999/xhtml"\n       xmlns:tal="http://xml.zope.org/namespaces/tal"\n-      tal:omit-tag="">\n-    <span id="" class=""\n-          tal:attributes="id view/id;\n-                          class view/klass;\n-                          style view/style;\n-                          title view/title;\n-                          lang view/lang;\n-                          onclick view/onclick;\n-                          ondblclick view/ondblclick;\n-                          onmousedown view/onmousedown;\n-                          onmouseup view/onmouseup;\n-                          onmouseover view/onmouseover;\n-                          onmousemove view/onmousemove;\n-                          onmouseout view/onmouseout;\n-                          onkeypress view/onkeypress;\n-                          onkeydown view/onkeydown;\n-                          onkeyup view/onkeyup">\n-    <a tal:condition="view/value" \n+      tal:omit-tag=""\n+>\n+  <span class=""\n+        id=""\n+        tal:attributes="\n+          id view/id;\n+          class view/klass;\n+          style view/style;\n+          title view/title;\n+          lang view/lang;\n+          onclick view/onclick;\n+          ondblclick view/ondblclick;\n+          onmousedown view/onmousedown;\n+          onmouseup view/onmouseup;\n+          onmouseover view/onmouseover;\n+          onmousemove view/onmousemove;\n+          onmouseout view/onmouseout;\n+          onkeypress view/onkeypress;\n+          onkeydown view/onkeydown;\n+          onkeyup view/onkeyup;\n+        "\n+  >\n+    <a tal:condition="view/value"\n        tal:content="view/value"\n-       tal:attributes="href string:mailto:${view/value}"/>\n+       tal:attributes="\n+         href string:mailto:${view/value};\n+       "\n+    ></a>\n   </span>\n </html>\ndiff --git a/plone/schema/browser/templates/uri_display.pt b/plone/schema/browser/templates/uri_display.pt\nindex a688f89..164b6a5 100644\n--- a/plone/schema/browser/templates/uri_display.pt\n+++ b/plone/schema/browser/templates/uri_display.pt\n@@ -1,24 +1,32 @@\n <html xmlns="http://www.w3.org/1999/xhtml"\n       xmlns:tal="http://xml.zope.org/namespaces/tal"\n-      tal:omit-tag="">\n-    <span id="" class=""\n-          tal:attributes="id view/id;\n-                          class view/klass;\n-                          style view/style;\n-                          title view/title;\n-                          lang view/lang;\n-                          onclick view/onclick;\n-                          ondblclick view/ondblclick;\n-                          onmousedown view/onmousedown;\n-                          onmouseup view/onmouseup;\n-                          onmouseover view/onmouseover;\n-                          onmousemove view/onmousemove;\n-                          onmouseout view/onmouseout;\n-                          onkeypress view/onkeypress;\n-                          onkeydown view/onkeydown;\n-                          onkeyup view/onkeyup">\n-    <a tal:condition="view/value" \n+      tal:omit-tag=""\n+>\n+  <span class=""\n+        id=""\n+        tal:attributes="\n+          id view/id;\n+          class view/klass;\n+          style view/style;\n+          title view/title;\n+          lang view/lang;\n+          onclick view/onclick;\n+          ondblclick view/ondblclick;\n+          onmousedown view/onmousedown;\n+          onmouseup view/onmouseup;\n+          onmouseover view/onmouseover;\n+          onmousemove view/onmousemove;\n+          onmouseout view/onmouseout;\n+          onkeypress view/onkeypress;\n+          onkeydown view/onkeydown;\n+          onkeyup view/onkeyup;\n+        "\n+  >\n+    <a tal:condition="view/value"\n        tal:content="view/value"\n-       tal:attributes="href view/value"/>\n+       tal:attributes="\n+         href view/value;\n+       "\n+    ></a>\n   </span>\n </html>\ndiff --git a/plone/schema/configure.zcml b/plone/schema/configure.zcml\nindex d84a8c4..f19b2d8 100644\n--- a/plone/schema/configure.zcml\n+++ b/plone/schema/configure.zcml\n@@ -7,9 +7,7 @@\n     >\n \n   <!-- Configure widgets -->\n-  <include\n-      package=".browser"\n-      />\n+  <include package=".browser" />\n \n   <!-- Configure plone.supermodel support if available -->\n   <configure zcml:condition="installed plone.supermodel">\ndiff --git a/plone/schema/jsonfield.py b/plone/schema/jsonfield.py\nindex 636f60b..c488b1f 100644\n--- a/plone/schema/jsonfield.py\n+++ b/plone/schema/jsonfield.py\n@@ -57,7 +57,7 @@ def fromUnicode(self, value):\n             >>> JSONField().fromUnicode(\'{"items": []}\')\n             {\'items\': []}\n \n-        or it can be a Pyhon dict stored as string:\n+        or it can be a Python dict stored as string:\n \n             >>> JSONField().fromUnicode("{\'items\': []}")\n             {\'items\': []}\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 05b615d..6c400ed 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -1,3 +1,5 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n [tool.towncrier]\n filename = "CHANGES.rst"\n directory = "news/"\n@@ -18,3 +20,44 @@ showcontent = true\n directory = "bugfix"\n name = "Bug fixes:"\n showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "internal"\n+name = "Internal:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "documentation"\n+name = "Documentation:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "tests"\n+name = "Tests"\n+showcontent = true\n+\n+[tool.isort]\n+profile = "plone"\n+\n+[tool.black]\n+target-version = ["py38"]\n+\n+[tool.dependencychecker]\n+Zope = [\n+  # Zope own provided namespaces\n+  \'App\', \'OFS\', \'Products.Five\', \'Products.OFSP\', \'Products.PageTemplates\',\n+  \'Products.SiteAccess\', \'Shared\', \'Testing\', \'ZPublisher\', \'ZTUtils\',\n+  \'Zope2\', \'webdav\', \'zmi\',\n+  # Zope dependencies\n+  \'Acquisition\', \'DateTime\', \'transaction\', \'zExceptions\', \'ZODB\', \'zope.component\',\n+  \'zope.configuration\', \'zope.container\', \'zope.deferredimport\', \'zope.event\',\n+  \'zope.exceptions\', \'zope.globalrequest\', \'zope.i18n\', \'zope.i18nmessageid\',\n+  \'zope.interface\', \'zope.lifecycleevent\', \'zope.location\', \'zope.publisher\',\n+  \'zope.schema\', \'zope.security\', \'zope.site\', \'zope.traversing\', \'AccessControl\',\n+]\n+\'plone.base\' = [\n+  \'AccessControl\', \'Products.BTreeFolder2\', \'Products.CMFCore\',\n+  \'Products.CMFDynamicViewFTI\', \'zope.deprecation\',\n+]\n+python-dateutil = [\'dateutil\']\n+ignore-packages = [\'plone.supermodel\', \'plone.schemaeditor\']\ndiff --git a/setup.cfg b/setup.cfg\nindex 3972628..8904a13 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -1,11 +1,25 @@\n-[check-manifest]\n-ignore =\n-    *.cfg\n-\n-\n-\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n [bdist_wheel]\n universal = 0\n \n-[isort]\n-profile = plone\n+[flake8]\n+doctests = 1\n+ignore =\n+    # black takes care of line length\n+    E501,\n+    # black takes care of where to break lines\n+    W503,\n+    # black takes care of spaces within slicing (list[:])\n+    E203,\n+    # black takes care of spaces after commas\n+    E231,\n+per-file-ignores =\n+    plone/schema/__init__.py:F401\n+\n+[check-manifest]\n+ignore =\n+    .editorconfig\n+    .meta.toml\n+    .pre-commit-config.yaml\n+    tox.ini\ndiff --git a/setup.py b/setup.py\nindex 81a67a8..5c444c8 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -34,15 +34,15 @@\n     namespace_packages=["plone"],\n     include_package_data=True,\n     zip_safe=False,\n+    python_requires=">=3.8",\n     install_requires=[\n         "jsonschema",\n         "setuptools",\n         "z3c.form",\n-        "zope.deprecation",\n         "zope.i18nmessageid",\n     ],\n     extras_require={\n-        "test": ["plone.app.testing"],\n+        "test": [],\n         "schemaeditor": ["plone.schemaeditor"],\n         "supermodel": ["plone.supermodel"],\n     },\ndiff --git a/tox.ini b/tox.ini\nnew file mode 100644\nindex 0000000..8eb7ef9\n--- /dev/null\n+++ b/tox.ini\n@@ -0,0 +1,53 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/master/config/default\n+[tox]\n+# We need 4.4.0 for constrain_package_deps.\n+min_version = 4.4.0\n+envlist =\n+    format\n+    lint\n+    test\n+\n+[testenv]\n+allowlist_externals =\n+    sh\n+\n+[testenv:format]\n+description = automatically reformat code\n+skip_install = true\n+deps =\n+    pre-commit\n+commands =\n+    pre-commit run -a pyupgrade\n+    pre-commit run -a isort\n+    pre-commit run -a black\n+    pre-commit run -a zpretty\n+\n+[testenv:lint]\n+description = run linters that will help improve the code style\n+skip_install = true\n+deps =\n+    pre-commit\n+commands =\n+    pre-commit run -a\n+\n+[testenv:dependencies]\n+description = check if the package defines all its dependencies and generate a graph out of them\n+deps =\n+    z3c.dependencychecker==2.11\n+    pipdeptree==2.5.1\n+    graphviz  # optional dependency of pipdeptree\n+commands =\n+    dependencychecker\n+    sh -c \'pipdeptree --exclude setuptools,wheel,pipdeptree,z3c.dependencychecker,zope.interface,zope.component --graph-output svg > dependencies.svg\'\n+\n+[testenv:test]\n+usedevelop = true\n+constrain_package_deps = true\n+deps =\n+    zope.testrunner\n+    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+commands =\n+    zope-testrunner --test-path={toxinidir} -s plone.schema\n+extras =\n+    test\ndiff --git a/versions.cfg b/versions.cfg\ndeleted file mode 100644\nindex 87d8241..0000000\n--- a/versions.cfg\n+++ /dev/null\n@@ -1,2 +0,0 @@\n-[versions]\n-docutils = 0.9.1\n'

