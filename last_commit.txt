Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-05-30T11:07:48+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/044c77d852a22a560ec5830e511a774d70747458

Remove TinyMCE options from the body.
Remove TinyMCE pattern options from the body, as these are always set on the richtext fields mimetype selector or - if not there - on the textfield itself.

Files changed:
M CHANGES.rst
M Products/CMFPlone/patterns/settings.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 28c1784e2..89552ffc1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -29,6 +29,10 @@ New features:
 
 Bug fixes:
 
+- Remove TinyMCE pattern options from the body, as these are always set on the richtext fields mimetype selector or - if not there - on the textfield itself.
+  Refs: https://github.com/plone/Products.CMFPlone/pull/2059
+  [thet]
+
 - Let TinyMCE options for the related items widget be generated by ``plone.app.widgets.utils.get_relateditems_options``.
   This aligns the options to how the related items widget is used elsewhere.
   Fixes https://github.com/plone/Products.CMFPlone/issues/1974
diff --git a/Products/CMFPlone/patterns/settings.py b/Products/CMFPlone/patterns/settings.py
index 4d4d69bd5..24d3ee66d 100644
--- a/Products/CMFPlone/patterns/settings.py
+++ b/Products/CMFPlone/patterns/settings.py
@@ -33,7 +33,7 @@ def __init__(self, context, request, field):
         self.field = field
 
     def __call__(self):
-        data = self.tinymce()
+        data = {}
         data.update(self.mark_special_links())
         data.update(self.structure_updater())
         return data


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-05-30T12:01:01+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/5ee4655a7750a456ec476f984db821bcd23bd5a2

Merge pull request #2059 from plone/thet-remove-body-tinymceopts

Remove TinyMCE options from the body.

Files changed:
M CHANGES.rst
M Products/CMFPlone/patterns/settings.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 28c1784e2..89552ffc1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -29,6 +29,10 @@ New features:
 
 Bug fixes:
 
+- Remove TinyMCE pattern options from the body, as these are always set on the richtext fields mimetype selector or - if not there - on the textfield itself.
+  Refs: https://github.com/plone/Products.CMFPlone/pull/2059
+  [thet]
+
 - Let TinyMCE options for the related items widget be generated by ``plone.app.widgets.utils.get_relateditems_options``.
   This aligns the options to how the related items widget is used elsewhere.
   Fixes https://github.com/plone/Products.CMFPlone/issues/1974
diff --git a/Products/CMFPlone/patterns/settings.py b/Products/CMFPlone/patterns/settings.py
index 4d4d69bd5..24d3ee66d 100644
--- a/Products/CMFPlone/patterns/settings.py
+++ b/Products/CMFPlone/patterns/settings.py
@@ -33,7 +33,7 @@ def __init__(self, context, request, field):
         self.field = field
 
     def __call__(self):
-        data = self.tinymce()
+        data = {}
         data.update(self.mark_special_links())
         data.update(self.structure_updater())
         return data


