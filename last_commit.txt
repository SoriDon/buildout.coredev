Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2022-05-19T23:03:25+02:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.contentmenu/commit/b0055f348cff59fd56d4dc4631adf79bc519bf0c

Remove alt tags from icons within links.

Files changed:
M plone/app/contentmenu/contentmenu.pt

b'diff --git a/plone/app/contentmenu/contentmenu.pt b/plone/app/contentmenu/contentmenu.pt\nindex aba5184..19beb3c 100644\n--- a/plone/app/contentmenu/contentmenu.pt\n+++ b/plone/app/contentmenu/contentmenu.pt\n@@ -21,7 +21,7 @@\n           data-bs-offset="0,0"\n           aria-expanded="${python:\'false\' if submenu else \'\'}">\n \n-        <tal:icon tal:replace="structure python:icons.tag(menuItem.get(\'icon\',\'\') and menuItem[\'icon\'] or \'toolbar-action\', tag_alt=menuItem.get(\'id\',\'toolbarIcon\'), tag_class=\'me-1\')" />\n+        <tal:icon tal:replace="structure python:icons.tag(menuItem.get(\'icon\',\'\') and menuItem[\'icon\'] or \'toolbar-action\', tag_class=\'me-1\')" />\n \n         <span class="toolbar-label">\n           <span\n@@ -54,7 +54,7 @@\n                               data-pat-plone-modal subMenuItem/extra/modal | nothing;"\n               tal:condition="subMenuItem/action">\n \n-              <tal:icon tal:replace="structure python:icons.tag(\'check\' if \'active\' in extra_class else (subMenuItem.get(\'icon\') or \'dot\'), tag_alt=subMenuItem[\'title\'])" />\n+              <tal:icon tal:replace="structure python:icons.tag(\'check\' if \'active\' in extra_class else (subMenuItem.get(\'icon\') or \'dot\'))" />\n \n             <tal:title\n                 content="structure subMenuItem/title"\n'

Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2022-05-19T23:07:13+02:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.contentmenu/commit/e2b5378dd5c4a62e4033042babbe2f244d1392e9

add news

Files changed:
A news/38.bugfix

b'diff --git a/news/38.bugfix b/news/38.bugfix\nnew file mode 100644\nindex 0000000..098bf1c\n--- /dev/null\n+++ b/news/38.bugfix\n@@ -0,0 +1,2 @@\n+Remove alt tags from icons within links.\n+[agitator]\n\\ No newline at end of file\n'

Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2022-05-20T14:27:57+02:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.contentmenu/commit/93e6ce82469d483eb916edf3442348d53fa9bf56

Merge pull request #38 from plone/toolbar-icon-alt-tag

Remove alt tags from icons within links.

Files changed:
A news/38.bugfix
M plone/app/contentmenu/contentmenu.pt

b'diff --git a/news/38.bugfix b/news/38.bugfix\nnew file mode 100644\nindex 0000000..098bf1c\n--- /dev/null\n+++ b/news/38.bugfix\n@@ -0,0 +1,2 @@\n+Remove alt tags from icons within links.\n+[agitator]\n\\ No newline at end of file\ndiff --git a/plone/app/contentmenu/contentmenu.pt b/plone/app/contentmenu/contentmenu.pt\nindex aba5184..19beb3c 100644\n--- a/plone/app/contentmenu/contentmenu.pt\n+++ b/plone/app/contentmenu/contentmenu.pt\n@@ -21,7 +21,7 @@\n           data-bs-offset="0,0"\n           aria-expanded="${python:\'false\' if submenu else \'\'}">\n \n-        <tal:icon tal:replace="structure python:icons.tag(menuItem.get(\'icon\',\'\') and menuItem[\'icon\'] or \'toolbar-action\', tag_alt=menuItem.get(\'id\',\'toolbarIcon\'), tag_class=\'me-1\')" />\n+        <tal:icon tal:replace="structure python:icons.tag(menuItem.get(\'icon\',\'\') and menuItem[\'icon\'] or \'toolbar-action\', tag_class=\'me-1\')" />\n \n         <span class="toolbar-label">\n           <span\n@@ -54,7 +54,7 @@\n                               data-pat-plone-modal subMenuItem/extra/modal | nothing;"\n               tal:condition="subMenuItem/action">\n \n-              <tal:icon tal:replace="structure python:icons.tag(\'check\' if \'active\' in extra_class else (subMenuItem.get(\'icon\') or \'dot\'), tag_alt=subMenuItem[\'title\'])" />\n+              <tal:icon tal:replace="structure python:icons.tag(\'check\' if \'active\' in extra_class else (subMenuItem.get(\'icon\') or \'dot\'))" />\n \n             <tal:title\n                 content="structure subMenuItem/title"\n'

