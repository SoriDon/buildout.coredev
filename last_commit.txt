Repository: plone.rest


Branch: refs/heads/master
Date: 2018-09-11T06:10:46+02:00
Author: Jordi Collell (jordic) <jordic@gmail.com>
Commit: https://github.com/plone/plone.rest/commit/9e778fc9dc18125e3ebf50f19c7c4b9c3dc68c1d

extract IPloneSiteRoot in favor of ISiteRoot

This way the package could be used on a zope installation
without the plone core

Files changed:
M src/plone/rest/traverse.py

b'diff --git a/src/plone/rest/traverse.py b/src/plone/rest/traverse.py\nindex 6f88546..690a285 100644\n--- a/src/plone/rest/traverse.py\n+++ b/src/plone/rest/traverse.py\n@@ -1,5 +1,4 @@\n # -*- coding: utf-8 -*-\n-from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot\n from Products.SiteAccess.VirtualHostMonster import VirtualHostMonster\n from ZPublisher.BaseRequest import DefaultPublishTraverse\n from plone.rest.interfaces import IAPIRequest\n@@ -9,10 +8,11 @@\n from zope.interface import implements\n from zope.publisher.interfaces.browser import IBrowserPublisher\n from Products.CMFCore.interfaces import IContentish\n+from Products.CMFCore.interfaces import ISiteRoot\n \n \n class RESTTraverse(DefaultPublishTraverse):\n-    adapts(IPloneSiteRoot, IAPIRequest)\n+    adapts(ISiteRoot, IAPIRequest)\n \n     def publishTraverse(self, request, name):\n         try:\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2018-09-11T06:14:34+02:00
Author: Jordi Collell (jordic) <jordic@gmail.com>
Commit: https://github.com/plone/plone.rest/commit/2a5f3105a6ca795a75f7b9b439d9f30815f1e78d

changes

Files changed:
M CHANGES.rst

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 59aea65..2e3bae3 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,17 +4,9 @@ Changelog\n 1.2.1 (unreleased)\n ------------------\n \n-Breaking changes:\n-\n-- *add item here*\n-\n New features:\n \n-- *add item here*\n-\n-Bug fixes:\n-\n-- *add item here*\n+- Extract IPloneSiteRoot in favor of ISiteRoot from CMFCore\n \n \n 1.2.0 (2018-06-29)\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2018-09-11T16:39:38+02:00
Author: Timo Stollenwerk (tisto) <tisto@plone.org>
Commit: https://github.com/plone/plone.rest/commit/3ad2d02a8085b6b96b99902be2eb653f688a37f8

Merge branch 'master' into extract-cmfplone-dep

Files changed:
M Makefile
M plone-4.3.x.cfg
M requirements.txt
M versions.cfg

b'diff --git a/Makefile b/Makefile\nindex bc23304..d178a09 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -9,7 +9,8 @@ all: .installed.cfg\n \tbin/buildout\n \n bin/buildout: bin/pip\n-\tbin/pip install --upgrade pip setuptools zc.buildout\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n \t@touch -c $@\n \n bin/python bin/pip:\ndiff --git a/plone-4.3.x.cfg b/plone-4.3.x.cfg\nindex c7dbf8e..8520d1f 100644\n--- a/plone-4.3.x.cfg\n+++ b/plone-4.3.x.cfg\n@@ -1,5 +1,5 @@\n [buildout]\n extends =\n     base.cfg\n-    http://dist.plone.org/release/4.3.15/versions.cfg\n+    http://dist.plone.org/release/4.3.18/versions.cfg\n     versions.cfg\ndiff --git a/requirements.txt b/requirements.txt\nindex 8da6ac9..ffa9008 100644\n--- a/requirements.txt\n+++ b/requirements.txt\n@@ -1,3 +1,3 @@\n # https://github.com/plone/buildout.coredev/blob/5.1/requirements.txt\n-setuptools==38.5.1\n-zc.buildout==2.11.4\n+setuptools==39.1.0\n+zc.buildout==2.11.5\ndiff --git a/versions.cfg b/versions.cfg\nindex 6999d86..ab68f4c 100644\n--- a/versions.cfg\n+++ b/versions.cfg\n@@ -1,10 +1,13 @@\n [versions]\n+# setuptools / buildout\n setuptools =\n zc.buildout =\n-zc.recipe.egg =\n+zc.recipe.egg = 2.0.3\n+\n six = 1.10.0\n httpie = 0.9.4\n-# https://github.com/plone/plone.recipe.zope2instance/issues/37\n+\n+# Fix https://github.com/plone/plone.recipe.zope2instance/issues/37\n plone.recipe.zope2instance = 4.4.0\n \n # Release\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2018-09-11T19:31:44+02:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.rest/commit/72cff04e827e103a319c126c3155ec961b0d3cb1

Merge pull request #82 from plone/extract-cmfplone-dep

extract IPloneSiteRoot in favor of ISiteRoot

Files changed:
M CHANGES.rst
M src/plone/rest/traverse.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 59aea65..2e3bae3 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,17 +4,9 @@ Changelog\n 1.2.1 (unreleased)\n ------------------\n \n-Breaking changes:\n-\n-- *add item here*\n-\n New features:\n \n-- *add item here*\n-\n-Bug fixes:\n-\n-- *add item here*\n+- Extract IPloneSiteRoot in favor of ISiteRoot from CMFCore\n \n \n 1.2.0 (2018-06-29)\ndiff --git a/src/plone/rest/traverse.py b/src/plone/rest/traverse.py\nindex 6f88546..690a285 100644\n--- a/src/plone/rest/traverse.py\n+++ b/src/plone/rest/traverse.py\n@@ -1,5 +1,4 @@\n # -*- coding: utf-8 -*-\n-from Products.CMFPlone.interfaces.siteroot import IPloneSiteRoot\n from Products.SiteAccess.VirtualHostMonster import VirtualHostMonster\n from ZPublisher.BaseRequest import DefaultPublishTraverse\n from plone.rest.interfaces import IAPIRequest\n@@ -9,10 +8,11 @@\n from zope.interface import implements\n from zope.publisher.interfaces.browser import IBrowserPublisher\n from Products.CMFCore.interfaces import IContentish\n+from Products.CMFCore.interfaces import ISiteRoot\n \n \n class RESTTraverse(DefaultPublishTraverse):\n-    adapts(IPloneSiteRoot, IAPIRequest)\n+    adapts(ISiteRoot, IAPIRequest)\n \n     def publishTraverse(self, request, name):\n         try:\n'

