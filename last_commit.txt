Repository: mockup


Branch: refs/heads/master
Date: 2017-02-03T11:04:50+01:00
Author: Gagaro (Gagaro) <gagaro42@gmail.com>
Commit: https://github.com/plone/mockup/commit/59a7c92ed04d7dd11d455784ca370945924522d7

fix: conflict between upload and relateditem browse button

Files changed:
M CHANGES.rst
M mockup/patterns/upload/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 69dd211..bf2e5ba 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -130,6 +130,9 @@ Fixes:
 - Fixes issue when HTML escaping select2 values. Now removing HTML completely and leave the input unescaped.
   [petschki]
 
+- Fix conflict between upload and relateditem browse button.
+  [Gagaro]
+
 
 2.3.0 (2016-08-19)
 ------------------
diff --git a/mockup/patterns/upload/pattern.js b/mockup/patterns/upload/pattern.js
index 8411061..554efb5 100644
--- a/mockup/patterns/upload/pattern.js
+++ b/mockup/patterns/upload/pattern.js
@@ -157,7 +157,7 @@ define([
 
       self.$dropzone = $('.upload-area', self.$el);
 
-      $('button.browse', self.$el).click(function(e) {
+      $('div.browse-select button.browse', self.$el).click(function(e) {
         e.preventDefault();
         e.stopPropagation();
         if(!self.options.maxFiles || self.dropzone.files.length < self.options.maxFiles){


Repository: mockup


Branch: refs/heads/master
Date: 2017-02-03T11:51:33+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/mockup/commit/170ff580cde10d42203f52ebee386f879ff9ed41

Merge pull request #735 from plone/fix-browse-conflict

fix: conflict between upload and relateditem browse button

Files changed:
M CHANGES.rst
M mockup/patterns/upload/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 69dd211..bf2e5ba 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -130,6 +130,9 @@ Fixes:
 - Fixes issue when HTML escaping select2 values. Now removing HTML completely and leave the input unescaped.
   [petschki]
 
+- Fix conflict between upload and relateditem browse button.
+  [Gagaro]
+
 
 2.3.0 (2016-08-19)
 ------------------
diff --git a/mockup/patterns/upload/pattern.js b/mockup/patterns/upload/pattern.js
index 8411061..554efb5 100644
--- a/mockup/patterns/upload/pattern.js
+++ b/mockup/patterns/upload/pattern.js
@@ -157,7 +157,7 @@ define([
 
       self.$dropzone = $('.upload-area', self.$el);
 
-      $('button.browse', self.$el).click(function(e) {
+      $('div.browse-select button.browse', self.$el).click(function(e) {
         e.preventDefault();
         e.stopPropagation();
         if(!self.options.maxFiles || self.dropzone.files.length < self.options.maxFiles){


