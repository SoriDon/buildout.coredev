Repository: plone.app.users


Branch: refs/heads/master
Date: 2023-02-25T02:00:28+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.users/commit/cfecc9072aa801a6a01dd6c5a4d89eded9bb1aa8

Import more from plone.base.

Files changed:
A news/1.bugfix
M plone/app/users/browser/account.py
M plone/app/users/browser/register.py
M plone/app/users/browser/userdatapanel.py
M plone/app/users/tests/base.py
M plone/app/users/tests/test_schema_types.py

b"diff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 00000000..ddc1109e\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1 @@\n+Import more from plone.base. [maurits]\ndiff --git a/plone/app/users/browser/account.py b/plone/app/users/browser/account.py\nindex 71384ed6..5b8522b6 100644\n--- a/plone/app/users/browser/account.py\n+++ b/plone/app/users/browser/account.py\n@@ -13,7 +13,7 @@\n from Products.CMFPlone import PloneMessageFactory as _\n from Products.CMFPlone.controlpanel.events import ConfigurationChangedEvent\n from Products.CMFPlone.interfaces import IPloneSiteRoot\n-from Products.CMFPlone.interfaces import ISecuritySchema\n+from plone.base.interfaces import ISecuritySchema\n from Products.CMFPlone.utils import safe_unicode\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from Products.PlonePAS.tools.membership import default_portrait\ndiff --git a/plone/app/users/browser/register.py b/plone/app/users/browser/register.py\nindex cf4df32a..67b9d4ed 100644\n--- a/plone/app/users/browser/register.py\n+++ b/plone/app/users/browser/register.py\n@@ -16,8 +16,8 @@\n from Products.CMFCore.permissions import ManagePortal\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone import PloneMessageFactory as _\n-from Products.CMFPlone.interfaces import ISecuritySchema\n-from Products.CMFPlone.interfaces import IUserGroupsSettingsSchema\n+from plone.base.interfaces import ISecuritySchema\n+from plone.base.interfaces import IUserGroupsSettingsSchema\n from Products.CMFPlone.utils import normalizeString\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from Products.statusmessages.interfaces import IStatusMessage\ndiff --git a/plone/app/users/browser/userdatapanel.py b/plone/app/users/browser/userdatapanel.py\nindex d0f61139..aa762a3d 100644\n--- a/plone/app/users/browser/userdatapanel.py\n+++ b/plone/app/users/browser/userdatapanel.py\n@@ -7,7 +7,7 @@\n from plone.registry.interfaces import IRegistry\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone import PloneMessageFactory as _\n-from Products.CMFPlone.interfaces import ISecuritySchema\n+from plone.base.interfaces import ISecuritySchema\n from Products.CMFPlone.utils import get_portal\n from Products.CMFPlone.utils import set_own_login_name\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\ndiff --git a/plone/app/users/tests/base.py b/plone/app/users/tests/base.py\nindex c86e34d1..a3098170 100644\n--- a/plone/app/users/tests/base.py\n+++ b/plone/app/users/tests/base.py\n@@ -14,7 +14,7 @@\n from plone.app.users.testing import PLONE_APP_USERS_FUNCTIONAL_TESTING\n from plone.registry.interfaces import IRegistry\n from plone.testing.z2 import Browser\n-from Products.CMFPlone.interfaces import ISecuritySchema\n+from plone.base.interfaces import ISecuritySchema\n from Products.CMFPlone.interfaces.controlpanel import IMailSchema\n from Products.CMFPlone.tests.utils import MockMailHost\n from Products.MailHost.interfaces import IMailHost\ndiff --git a/plone/app/users/tests/test_schema_types.py b/plone/app/users/tests/test_schema_types.py\nindex 9d7676e3..73db37fd 100644\n--- a/plone/app/users/tests/test_schema_types.py\n+++ b/plone/app/users/tests/test_schema_types.py\n@@ -194,7 +194,7 @@ def test_regression_76_user_information(self):\n \n     def _enable_self_registration(self):\n         from plone.registry.interfaces import IRegistry\n-        from Products.CMFPlone.interfaces import ISecuritySchema\n+        from plone.base.interfaces import ISecuritySchema\n         from zope.component import getUtility\n \n         self.portal.manage_permission('Add portal member', roles=['Anonymous'])\n"

Repository: plone.app.users


Branch: refs/heads/master
Date: 2023-02-26T14:18:19+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.users/commit/560e8c598d0f279d76628fca5b096054223aa79d

Merge pull request #116 from plone/maurits-plone-base

Import more from plone.base.

Files changed:
A news/1.bugfix
M plone/app/users/browser/account.py
M plone/app/users/browser/register.py
M plone/app/users/browser/userdatapanel.py
M plone/app/users/tests/base.py
M plone/app/users/tests/test_schema_types.py

b"diff --git a/news/1.bugfix b/news/1.bugfix\nnew file mode 100644\nindex 00000000..ddc1109e\n--- /dev/null\n+++ b/news/1.bugfix\n@@ -0,0 +1 @@\n+Import more from plone.base. [maurits]\ndiff --git a/plone/app/users/browser/account.py b/plone/app/users/browser/account.py\nindex 71384ed6..5b8522b6 100644\n--- a/plone/app/users/browser/account.py\n+++ b/plone/app/users/browser/account.py\n@@ -13,7 +13,7 @@\n from Products.CMFPlone import PloneMessageFactory as _\n from Products.CMFPlone.controlpanel.events import ConfigurationChangedEvent\n from Products.CMFPlone.interfaces import IPloneSiteRoot\n-from Products.CMFPlone.interfaces import ISecuritySchema\n+from plone.base.interfaces import ISecuritySchema\n from Products.CMFPlone.utils import safe_unicode\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from Products.PlonePAS.tools.membership import default_portrait\ndiff --git a/plone/app/users/browser/register.py b/plone/app/users/browser/register.py\nindex cf4df32a..67b9d4ed 100644\n--- a/plone/app/users/browser/register.py\n+++ b/plone/app/users/browser/register.py\n@@ -16,8 +16,8 @@\n from Products.CMFCore.permissions import ManagePortal\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone import PloneMessageFactory as _\n-from Products.CMFPlone.interfaces import ISecuritySchema\n-from Products.CMFPlone.interfaces import IUserGroupsSettingsSchema\n+from plone.base.interfaces import ISecuritySchema\n+from plone.base.interfaces import IUserGroupsSettingsSchema\n from Products.CMFPlone.utils import normalizeString\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\n from Products.statusmessages.interfaces import IStatusMessage\ndiff --git a/plone/app/users/browser/userdatapanel.py b/plone/app/users/browser/userdatapanel.py\nindex d0f61139..aa762a3d 100644\n--- a/plone/app/users/browser/userdatapanel.py\n+++ b/plone/app/users/browser/userdatapanel.py\n@@ -7,7 +7,7 @@\n from plone.registry.interfaces import IRegistry\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone import PloneMessageFactory as _\n-from Products.CMFPlone.interfaces import ISecuritySchema\n+from plone.base.interfaces import ISecuritySchema\n from Products.CMFPlone.utils import get_portal\n from Products.CMFPlone.utils import set_own_login_name\n from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile\ndiff --git a/plone/app/users/tests/base.py b/plone/app/users/tests/base.py\nindex c86e34d1..a3098170 100644\n--- a/plone/app/users/tests/base.py\n+++ b/plone/app/users/tests/base.py\n@@ -14,7 +14,7 @@\n from plone.app.users.testing import PLONE_APP_USERS_FUNCTIONAL_TESTING\n from plone.registry.interfaces import IRegistry\n from plone.testing.z2 import Browser\n-from Products.CMFPlone.interfaces import ISecuritySchema\n+from plone.base.interfaces import ISecuritySchema\n from Products.CMFPlone.interfaces.controlpanel import IMailSchema\n from Products.CMFPlone.tests.utils import MockMailHost\n from Products.MailHost.interfaces import IMailHost\ndiff --git a/plone/app/users/tests/test_schema_types.py b/plone/app/users/tests/test_schema_types.py\nindex 9d7676e3..73db37fd 100644\n--- a/plone/app/users/tests/test_schema_types.py\n+++ b/plone/app/users/tests/test_schema_types.py\n@@ -194,7 +194,7 @@ def test_regression_76_user_information(self):\n \n     def _enable_self_registration(self):\n         from plone.registry.interfaces import IRegistry\n-        from Products.CMFPlone.interfaces import ISecuritySchema\n+        from plone.base.interfaces import ISecuritySchema\n         from zope.component import getUtility\n \n         self.portal.manage_permission('Add portal member', roles=['Anonymous'])\n"

