Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:46:58+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/abd58f77e0a8cc7ff5807ce6ea322a38fa7c5b28

maint(Cleanup): Remove pat-content-browser.

This can be provided by an external bundle.

Files changed:
M package.json
M webpack.config.js

b'diff --git a/package.json b/package.json\nindex f31f37713..34e72dc19 100644\n--- a/package.json\n+++ b/package.json\n@@ -6,7 +6,6 @@\n     "main": "./src/patterns.js",\n     "dependencies": {\n         "@patternslib/pat-code-editor": "^2.1.2",\n-        "@patternslib/pat-content-browser": "git+https://github.com/plone/pat-content-browser.git#a6d146bea74a64ba802663d00887b6b8fd7eef59",\n         "@patternslib/patternslib": "^7.4.0",\n         "backbone": "1.4.1",\n         "backbone.paginator": "1.0.0",\n@@ -78,7 +77,6 @@\n         "sass-loader": "^12.6.0",\n         "sinon": "^14.0.0",\n         "style-loader": "^3.3.0",\n-        "svelte-loader": "^3.1.2",\n         "terser-webpack-plugin": "^5.3.1",\n         "timezone-mock": "^1.3.1",\n         "webpack": "^5.72.1",\ndiff --git a/webpack.config.js b/webpack.config.js\nindex 68caa8e6a..37495de8e 100644\n--- a/webpack.config.js\n+++ b/webpack.config.js\n@@ -1,7 +1,6 @@\n process.traceDeprecation = true;\n const path = require("path");\n const patternslib_config = require("@patternslib/patternslib/webpack/webpack.config");\n-const svelte_config = require("@patternslib/pat-content-browser/webpack.svelte");\n \n module.exports = async (env, argv, build_dirname = __dirname) => {\n     let config = {\n@@ -43,7 +42,7 @@ module.exports = async (env, argv, build_dirname = __dirname) => {\n         },\n     };\n \n-    config = svelte_config(env, argv, patternslib_config(env, argv, config, ["mockup"]));\n+    config = patternslib_config(env, argv, config, ["mockup"]);\n     config.output.path = path.resolve(__dirname, "dist/");\n \n     if (process.env.NODE_ENV === "development") {\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:47:03+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/f7495052f02f9fcbed0e56308359d9ad64b7a679

maint(Cleanup): Cleanup unused parameter in webpack config.

Files changed:
M webpack.config.js

b'diff --git a/webpack.config.js b/webpack.config.js\nindex 37495de8e..44d1c85cd 100644\n--- a/webpack.config.js\n+++ b/webpack.config.js\n@@ -2,7 +2,7 @@ process.traceDeprecation = true;\n const path = require("path");\n const patternslib_config = require("@patternslib/patternslib/webpack/webpack.config");\n \n-module.exports = async (env, argv, build_dirname = __dirname) => {\n+module.exports = async (env, argv) => {\n     let config = {\n         entry: {\n             "bundle.min": path.resolve(__dirname, "src/index.js"),\n@@ -54,7 +54,7 @@ module.exports = async (env, argv, build_dirname = __dirname) => {\n \n     if (env && env.DEPLOYMENT === "plone") {\n         config.output.path = path.resolve(\n-            build_dirname,\n+            __dirname,\n             "../plone.staticresources/src/plone/staticresources/static/bundle-plone/"\n         );\n     }\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:47:03+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/13d0e0d9535c958eaf662308477b985d1a6c9225

maint(pat querystring): Cleanup - direct import of Select2 is not necessary.

Files changed:
M src/pat/querystring/querystring.js

b'diff --git a/src/pat/querystring/querystring.js b/src/pat/querystring/querystring.js\nindex c88987dfa..67169f244 100644\n--- a/src/pat/querystring/querystring.js\n+++ b/src/pat/querystring/querystring.js\n@@ -362,9 +362,12 @@ Criteria.prototype = {\n                     } else {\n                         self.$operator.val(\n                             "plone.app.querystring.operation.string.relativePath"\n-                        )\n+                        );\n                     }\n-                } else if(self.$operator.val() === "plone.app.querystring.operation.string.relativePath") {\n+                } else if (\n+                    self.$operator.val() ===\n+                    "plone.app.querystring.operation.string.relativePath"\n+                ) {\n                     pathAndDepth = ["..", "1"];\n                 }\n \n@@ -639,7 +642,6 @@ export default Base.extend({\n         showPreviews: true,\n     },\n     init: async function () {\n-        await import("select2");\n         await import("../select2/select2");\n         await import("../relateditems/relateditems");\n \n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:47:03+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/0a7c631d30553a43a43d616f3947ac0bc6232113

fix(relateditems): Move Select2 out of init.

If it wasn't already registered, it would register and scan the document now.
If there were previous relateditems already modifying the DOM structure
and placing pat-select2 classes to some items, the import here would try
to initialize them.
But those pat-select2 items were meant to be initialized via the
Patternslib API and not automatically and are missing some configuration
needed by select2 (query attribute...).
By moving the Select2 out of the init and importing it early fixes this
problem.

Note: This happened in plone.app.mosaic with module federation.
pat-select2 was already directly imported by the main Mockup bundle.
But since we didn't have a global pattern registry, the pattern was
re-initialized where it wouldn't have to.
Since the change in Patternslib 8.0.0 with a global pattern registry
this fix might become obsolete.

However, we should have an eye on dynamic pattern imports immediately
registering and scanning the docment and possibly prevent that in some
way.

See: https://github.com/Patternslib/Patterns/issues/961

Files changed:
M src/pat/relateditems/relateditems.js

b'diff --git a/src/pat/relateditems/relateditems.js b/src/pat/relateditems/relateditems.js\nindex 73383ecb9..c592315bd 100644\n--- a/src/pat/relateditems/relateditems.js\n+++ b/src/pat/relateditems/relateditems.js\n@@ -5,6 +5,7 @@ import Base from "@patternslib/patternslib/src/core/base";\n import _t from "../../core/i18n-wrapper";\n import utils from "../../core/utils";\n import registry from "@patternslib/patternslib/src/core/registry";\n+import Select2 from "../select2/select2";\n \n const KEY = {\n     LEFT: 37,\n@@ -503,7 +504,6 @@ export default Base.extend({\n     },\n \n     init: async function () {\n-        const Select2 = (await import("../select2/select2")).default;\n         (await import("bootstrap")).Dropdown;\n         import("./relateditems.scss");\n \n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:51:14+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/6aefc4bd108b37aa2c292f6243e60a1005c8517f

feat(Build): Use dynamic module federation.

Files changed:
M package.json
M src/index.js
M src/patterns.js
M webpack.config.js

b'diff --git a/package.json b/package.json\nindex 34e72dc19..aa236aa72 100644\n--- a/package.json\n+++ b/package.json\n@@ -6,7 +6,7 @@\n     "main": "./src/patterns.js",\n     "dependencies": {\n         "@patternslib/pat-code-editor": "^2.1.2",\n-        "@patternslib/patternslib": "^7.4.0",\n+        "@patternslib/patternslib": "^8.0.0",\n         "backbone": "1.4.1",\n         "backbone.paginator": "1.0.0",\n         "bootstrap": "^5.1.3",\n@@ -88,7 +88,7 @@\n         "yarn": "^1.22.18"\n     },\n     "resolutions": {\n-        "@patternslib/patternslib": "^7.4.0",\n+        "@patternslib/patternslib": "8.0.0",\n         "jquery": "3.6.0"\n     },\n     "scripts": {\ndiff --git a/src/index.js b/src/index.js\nindex 27230443e..f106c13ec 100644\n--- a/src/index.js\n+++ b/src/index.js\n@@ -1,2 +1,22 @@\n-// Webpack entry point for module federation.\n+/**\n+ * Module Federation support for Mockup.\n+ *\n+ * In this module federation setup Mockup is the main host, which loads other\n+ * "remote" bundles.\n+ *\n+ * Those remotes need to be registered via the Patternslib\'s Webpack Module\n+ * Federation helper, just like Mockup itself (See Mockup\'s webpack.config.js).\n+ * Patternslib\' Module Federation helper registers the bundle under a prefix\n+ * (``MF_NAME_PREFIX``) in the global namespace.\n+ *\n+ * Here, we filter for all the globally registered bundles with this prefix and\n+ * load them.\n+ *\n+ * Note: loading in this context only means that the module federation\n+ * functionality for each bundle is initialized.\n+ *\n+ */\n+import "@patternslib/patternslib/webpack/module_federation";\n+\n+// And now load this bundle\'s actual entry point.\n import("./patterns");\ndiff --git a/src/patterns.js b/src/patterns.js\nindex 56a0db149..bd9fc7231 100644\n--- a/src/patterns.js\n+++ b/src/patterns.js\n@@ -3,8 +3,8 @@\n  */\n \n // Core\n+import "@patternslib/patternslib/src/globals";\n import registry from "@patternslib/patternslib/src/core/registry";\n-import jquery from "jquery";\n \n // Bootstrap\n import "bootstrap";\n@@ -62,12 +62,6 @@ import "./pat/controlpanels/discussion";\n import "./pat/controlpanels/discussion-comments";\n import "./pat/controlpanels/discussion-moderation";\n \n-// Import pattern styles in JavaScript\n-window.__patternslib_import_styles = true;\n-\n-// Register jQuery globally\n-window.jQuery = jquery;\n-\n // Change default value for pat-tooltip trigger\n tooltip_parser.parameters.trigger.value = "hover";\n \n@@ -75,4 +69,7 @@ tooltip_parser.parameters.trigger.value = "hover";\n validation_parser.parameters["error-template"].value =\n     \'<em class="invalid-feedback">${this.message}</em>\';\n \n+// Import pattern styles in JavaScript\n+window.__patternslib_import_styles = true;\n+\n registry.init();\ndiff --git a/webpack.config.js b/webpack.config.js\nindex 44d1c85cd..ca7a102ce 100644\n--- a/webpack.config.js\n+++ b/webpack.config.js\n@@ -1,50 +1,27 @@\n process.traceDeprecation = true;\n+const package_json = require("./package.json");\n const path = require("path");\n const patternslib_config = require("@patternslib/patternslib/webpack/webpack.config");\n+const mf_config = require("@patternslib/patternslib/webpack/webpack.mf");\n \n-module.exports = async (env, argv) => {\n+module.exports = (env, argv) => {\n     let config = {\n         entry: {\n             "bundle.min": path.resolve(__dirname, "src/index.js"),\n         },\n-        externals: {\n-            "window": "window",\n-            "$": "jquery",\n-            "jquery": "jQuery",\n-            "window.jquery": "jQuery",\n-            "bootstrap": true,\n-        },\n-        optimization: {\n-            splitChunks: {\n-                cacheGroups: {\n-                    tinymce: {\n-                        name: "tinymce",\n-                        test: /[\\\\/]node_modules[\\\\/]tinymce.*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                    datatables: {\n-                        name: "datatables",\n-                        test: /[\\\\/]node_modules[\\\\/]datatables.net.*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                    select2: {\n-                        name: "select2",\n-                        test: /[\\\\/]node_modules[\\\\/]select2.*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                    jquery_plugins: {\n-                        name: "jquery_plugins",\n-                        test: /[\\\\/]node_modules[\\\\/]jquery\\..*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                },\n-            },\n-        },\n     };\n \n     config = patternslib_config(env, argv, config, ["mockup"]);\n+\n     config.output.path = path.resolve(__dirname, "dist/");\n \n+    config.plugins.push(\n+        mf_config({\n+            package_json: package_json,\n+            remote_entry: config.entry["bundle.min"],\n+        })\n+    );\n+\n     if (process.env.NODE_ENV === "development") {\n         // Note: ``publicPath`` is set to "auto" in Patternslib,\n         //        so for the devServer the public path set to "/".\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:51:14+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/62332d1914de6ea57829f2cf4e5f908cd7f69d98

maint(Makefile): Add watch-plone and bundle-plone targets to Makefile.

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex 92680dde8..2c7b7179c 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -76,4 +76,14 @@ serve: stamp-yarn\n \t$(YARN) run start\n \n \n+.PHONY:\n+watch-plone:\n+\t$(YARN) run watch:webpack:plone\n+\n+\n+.PHONY:\n+bundle-plone:\n+\t$(YARN) run build:webpack:plone\n+\n+\n #\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:51:14+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/acf9839ddf5b29c34068085ce3ac8a4d8a90f0c7

maint(Build): Add build:webpack:dev:plone as package.json script to allow for a Plone development build.

Files changed:
M package.json

b'diff --git a/package.json b/package.json\nindex aa236aa72..cee7354f0 100644\n--- a/package.json\n+++ b/package.json\n@@ -96,6 +96,7 @@\n         "build:webpack": "NODE_ENV=production webpack --config webpack.config.js",\n         "build:webpack:dev": "NODE_ENV=development webpack --config webpack.config.js",\n         "build:webpack:plone": "NODE_ENV=production webpack --config webpack.config.js --env DEPLOYMENT=plone",\n+        "build:webpack:dev:plone": "NODE_ENV=development webpack --config webpack.config.js --env DEPLOYMENT=plone",\n         "build:docs": "ELEVENTY_ENV=production  npx @11ty/eleventy --output docs/_site/",\n         "build:stats": "NODE_ENV=production webpack --config webpack.config.js --json > stats.json",\n         "build": "run-s clean build:webpack build:docs",\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:53:29+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/b354af49b6ce694c2c6cf0405b5167ce5d1faf39

yarn install.

Files changed:
M yarn.lock

b'diff --git a/yarn.lock b/yarn.lock\nindex c115d32bc..df8795847 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -1299,15 +1299,6 @@\n     minimatch "^3.1.2"\n     strip-json-comments "^3.1.1"\n \n-"@fullcalendar/adaptive@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/adaptive/-/adaptive-5.10.1.tgz#4bfe50da38dfa7ef50f4af73fa6a983202d11165"\n-  integrity sha512-Dg+v+nYZKqQ9vhn+z46VhIZ5+OujHBj7ufkZv2Tj0Q1DIdt2sMxMvF/u9WKBru1GCqXuTtGtjiMXLMpL/ZpSRA==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    "@fullcalendar/premium-common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/adaptive@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/adaptive/-/adaptive-5.11.0.tgz#e789c47c81894c96a40bb383b4f4c443fa89964b"\n@@ -1317,13 +1308,6 @@\n     "@fullcalendar/premium-common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/common@~5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/common/-/common-5.10.1.tgz#a019951743852277a4095e536fd7716f6f85b9aa"\n-  integrity sha512-EumKIJcQTvQdTs75/9dmeREFgjcRVWzqHJS1Xvlz5mNsmB+w9EINCHETRjChtAQg1WD/lTQyVj4sHsKO7vCMSw==\n-  dependencies:\n-    tslib "^2.1.0"\n-\n "@fullcalendar/common@~5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/common/-/common-5.11.0.tgz#d7e47b4272ba6824f95581fb7fb630c5880f4212"\n@@ -1331,15 +1315,6 @@\n   dependencies:\n     tslib "^2.1.0"\n \n-"@fullcalendar/core@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/core/-/core-5.10.1.tgz#05c7653e5004149a63bcb03e9dc8b049186ca50b"\n-  integrity sha512-8sVuC6ywXV+cxqsqTZaR1hgUqeyjVed20NyZ7lGW9AY0kma1GIEwLgqPS5Q6uVhHyin68lmgecKfJCwhxENE8w==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    preact "^10.0.5"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/core@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/core/-/core-5.11.0.tgz#336fcfb9799cf0c2d1ee15c110dce26a9e14881c"\n@@ -1349,14 +1324,6 @@\n     preact "^10.0.5"\n     tslib "^2.1.0"\n \n-"@fullcalendar/daygrid@^5.10.1", "@fullcalendar/daygrid@~5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/daygrid/-/daygrid-5.10.1.tgz#bdee4f58364fdab631b2abf8b56094ab5776f203"\n-  integrity sha512-sfUMP+rew0krsBffgNcWWKhBCiyytGfRKZJoc64E8ohX7VWjPcPZuB1xgO5U4wPLmNkT0rZiHoGeQGTXw1+ZKg==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/daygrid@^5.11.0", "@fullcalendar/daygrid@~5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/daygrid/-/daygrid-5.11.0.tgz#fd10391dfc2b6caa3538e0826f8d8f3e83e0e22a"\n@@ -1365,14 +1332,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/interaction@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/interaction/-/interaction-5.10.1.tgz#dfa74b5c50bbd5608eb50aeab6e579c8d20cb367"\n-  integrity sha512-H1g1QeXg7yXtUcKmVtfg7uzm5R5ElFTvYniiXU+8kJda69IDg7Lee+Y7UDv5dvLb5/HxO86RhPVxRtcOQ8XdXw==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/interaction@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/interaction/-/interaction-5.11.0.tgz#9cfb46cc5f75690394ef553d2c5cf4955782ff05"\n@@ -1381,14 +1340,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/list@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/list/-/list-5.10.1.tgz#8505aae09845b82f5bdb6251bda0f9d6342ef9d9"\n-  integrity sha512-sB+AzM9P1nzGIzwVFNN8Zbocg5lkVQftyuJAZtULgu9o9e1rH/Aqsxt9Itf00N3WmMOh8H1LlnRpZF5kGu/j2w==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/list@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/list/-/list-5.11.0.tgz#536b51ebad59d15c238997e37e3d0e0fd09e9579"\n@@ -1405,22 +1356,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/luxon@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/luxon/-/luxon-5.10.1.tgz#1ad8300c6cbbb467574c96980a69ba46730bde24"\n-  integrity sha512-THmIytaHo2SFb1lUQ8hhkZjNgt9dmIpioGEuuIj4ETDS3pHFVHMTcV22vBFC74f6kc/OA2Vwfj3+5JHltKjD/g==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n-"@fullcalendar/premium-common@~5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/premium-common/-/premium-common-5.10.1.tgz#47d26406e926317fd45919c0f52ce6cc02a17baf"\n-  integrity sha512-yOZgtVI/7tt1oeQABLQqTNLEv2YpxbE0ywvQ+VwtrKc5LksmUA2czO4peom1KIAwH6JsZnytpvwQ4k4cP8Ivaw==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/premium-common@~5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/premium-common/-/premium-common-5.11.0.tgz#984ad16dba011c656ebc9ecb358bf6f2733c5e88"\n@@ -1429,15 +1364,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/timegrid@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/timegrid/-/timegrid-5.10.1.tgz#fa7feb909bf599eac1466b9e70c0d56ce0d1aefc"\n-  integrity sha512-0O0m+JzFBlg8gxYr/rIjZViRlbndCtjZlDjjIylQHFBeWC32e3cpHEavKGbTIBLN8SDilUYAJnE21abSqC2G/w==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    "@fullcalendar/daygrid" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/timegrid@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/timegrid/-/timegrid-5.11.0.tgz#b41153ef301f21f8c1e19a65023493c48c8bacf5"\n@@ -1905,53 +1831,7 @@\n     codejar "^3.5.0"\n     prismjs "^1.27.0"\n \n-"@patternslib/pat-content-browser@git+https://github.com/plone/pat-content-browser.git#a6d146bea74a64ba802663d00887b6b8fd7eef59":\n-  version "0.9.0"\n-  resolved "git+https://github.com/plone/pat-content-browser.git#a6d146bea74a64ba802663d00887b6b8fd7eef59"\n-  dependencies:\n-    "@patternslib/patternslib" "^6.0.1"\n-    svelte "^3.44.0"\n-    svelte-keydown "^0.3.1"\n-    svelte-scrollto "^0.2.0"\n-\n-"@patternslib/patternslib@^6.0.1", "@patternslib/patternslib@^7.4.0":\n-  version "7.4.0"\n-  resolved "https://registry.yarnpkg.com/@patternslib/patternslib/-/patternslib-7.4.0.tgz#b49a4716aa58cc7fe8dd8a5da6e647b0603b68ba"\n-  integrity sha512-XHrcKTT4t7jUhVYb2pdEB+DbhKQ7upmr4fpU6eKCSClt69axivEhT3dEJeHUQGX9DmQKW/DU1dXTuGJMfc+QmA==\n-  dependencies:\n-    "@fullcalendar/adaptive" "^5.10.1"\n-    "@fullcalendar/core" "^5.10.1"\n-    "@fullcalendar/daygrid" "^5.10.1"\n-    "@fullcalendar/interaction" "^5.10.1"\n-    "@fullcalendar/list" "^5.10.1"\n-    "@fullcalendar/luxon" "^5.10.1"\n-    "@fullcalendar/timegrid" "^5.10.1"\n-    "@juggle/resize-observer" "^3.3.1"\n-    "@stomp/stompjs" "^6.1.2"\n-    google-code-prettify "^1.0.5"\n-    imagesloaded "^4.1.4"\n-    intersection-observer "^0.12.0"\n-    jquery "^3.6.0"\n-    jquery-jcrop "^0.9.13"\n-    luxon "^1.27.0"\n-    masonry-layout "^4.2.2"\n-    moment "^2.29.1"\n-    moment-timezone "^0.5.34"\n-    photoswipe "^4.1.3"\n-    pikaday "^1.8.0"\n-    promise-polyfill "^8.2.3"\n-    screenfull "^6.0.1"\n-    select2 "^3.5.1"\n-    showdown "^2.0.3"\n-    showdown-prettify "^1.3.0"\n-    slick-carousel "^1.8.1"\n-    slides "git+https://github.com/Patternslib/slides.git"\n-    spectrum-colorpicker "^1.8.0"\n-    tippy.js "^6.3.7"\n-    url-polyfill "^1.1.9"\n-    whatwg-fetch "^3.4.0"\n-\n-"@patternslib/patternslib@^8.0.0":\n+"@patternslib/patternslib@8.0.0", "@patternslib/patternslib@^7.4.0", "@patternslib/patternslib@^8.0.0":\n   version "8.0.0"\n   resolved "https://registry.yarnpkg.com/@patternslib/patternslib/-/patternslib-8.0.0.tgz#97eb79cc5e0b324d962e1bafceb7da9cbf9f0028"\n   integrity sha512-fApsPEC89xeYs1idehIvKSCZn2bLi/723s71Ez+lBfDWlDt+3lQ861Ve//ArdeOXlviOvFbkwAnYk0h26lqoTg==\n@@ -7519,7 +7399,7 @@ lru-cache@^6.0.0:\n   dependencies:\n     yallist "^4.0.0"\n \n-luxon@^1.26.0, luxon@^1.27.0:\n+luxon@^1.26.0:\n   version "1.28.0"\n   resolved "https://registry.yarnpkg.com/luxon/-/luxon-1.28.0.tgz#e7f96daad3938c06a62de0fb027115d251251fbf"\n   integrity sha512-TfTiyvZhwBYM/7QdAVDh+7dBTBA29v4ik0Ce9zda3Mnf8on1S5KJI8P2jKFZ8+5C0jhmr0KwJEO/Wdpm0VeWJQ==\n@@ -7797,7 +7677,7 @@ moment-timezone@^0.5.34:\n   dependencies:\n     moment ">= 2.9.0"\n \n-"moment@>= 2.9.0", moment@^2.29.1:\n+"moment@>= 2.9.0":\n   version "2.29.1"\n   resolved "https://registry.yarnpkg.com/moment/-/moment-2.29.1.tgz#b2be769fa31940be9eeea6469c075e35006fa3d3"\n   integrity sha512-kHmoybcPV8Sqy59DwNDY3Jefr64lK/by/da0ViFcuA4DH0vQg5Q6Ze5VimxkfQNSC+Mls/Kx53s7TjP1RhFEDQ==\n@@ -9636,13 +9516,6 @@ showdown@^1.3.0:\n   dependencies:\n     yargs "^14.2"\n \n-showdown@^2.0.3:\n-  version "2.0.3"\n-  resolved "https://registry.yarnpkg.com/showdown/-/showdown-2.0.3.tgz#1ec96dd19637fe4617b160f7b50280120964640b"\n-  integrity sha512-jHytkv5c5YFTAOYIIaTT1zLL/aC+7C1FiP0CIGQozhHnnFSbor1oYkaNqWFL6CpB3zJNPPSxJrAlsHgzN14knQ==\n-  dependencies:\n-    commander "^9.0.0"\n-\n showdown@^2.1.0:\n   version "2.1.0"\n   resolved "https://registry.yarnpkg.com/showdown/-/showdown-2.1.0.tgz#1251f5ed8f773f0c0c7bfc8e6fd23581f9e545c5"\n@@ -10200,42 +10073,6 @@ supports-preserve-symlinks-flag@^1.0.0:\n   resolved "https://registry.yarnpkg.com/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz#6eda4bd344a3c94aea376d4cc31bc77311039e09"\n   integrity sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==\n \n-svelte-dev-helper@^1.1.9:\n-  version "1.1.9"\n-  resolved "https://registry.yarnpkg.com/svelte-dev-helper/-/svelte-dev-helper-1.1.9.tgz#7d187db5c6cdbbd64d75a32f91b8998bde3273c3"\n-  integrity sha1-fRh9tcbNu9ZNdaMvkbiZi94yc8M=\n-\n-svelte-hmr@^0.14.2:\n-  version "0.14.11"\n-  resolved "https://registry.yarnpkg.com/svelte-hmr/-/svelte-hmr-0.14.11.tgz#63d532dc9c2c849ab708592f034765fa2502e568"\n-  integrity sha512-R9CVfX6DXxW1Kn45Jtmx+yUe+sPhrbYSUp7TkzbW0jI5fVPn6lsNG9NEs5dFg5qRhFNAoVdRw5qQDLALNKhwbQ==\n-\n-svelte-keydown@^0.3.1:\n-  version "0.3.1"\n-  resolved "https://registry.yarnpkg.com/svelte-keydown/-/svelte-keydown-0.3.1.tgz#b9045460ad468b51ba9054472896648fc771dbdd"\n-  integrity sha512-/tLz9VcI9AEkCZnmLy85N2RGYm86QO9E4py7uI3FzzDo2LdFs3NRNxPo4OIqM6QgBn3rlunxmJY0QPoN0G259w==\n-\n-svelte-loader@^3.1.2:\n-  version "3.1.2"\n-  resolved "https://registry.yarnpkg.com/svelte-loader/-/svelte-loader-3.1.2.tgz#b8fe0ea13fa306167402e16ffd0216ea2752b2bc"\n-  integrity sha512-RhVIvitb+mtIwKNyvNQoDQ0EhXg2KH8LhQiiqeJh8u6vqJyGWoMoFcYCar69TT+1iaK5IYe0wPNYJ6TILcsurw==\n-  dependencies:\n-    loader-utils "^2.0.0"\n-    svelte-dev-helper "^1.1.9"\n-    svelte-hmr "^0.14.2"\n-\n-svelte-scrollto@^0.2.0:\n-  version "0.2.0"\n-  resolved "https://registry.yarnpkg.com/svelte-scrollto/-/svelte-scrollto-0.2.0.tgz#a1da47876466796bba4533a4346537f752f01680"\n-  integrity sha512-l4K2E4jr6dXCODtZDCkpp/TzknVVoq8gecHM0UOOmihvLosczdyLuyDUhZ+U2HkhLWi7nnimuOstZSFKtXSpmA==\n-  dependencies:\n-    svelte "3.x"\n-\n-svelte@3.x, svelte@^3.44.0:\n-  version "3.46.5"\n-  resolved "https://registry.yarnpkg.com/svelte/-/svelte-3.46.5.tgz#808daad6f3cbbeff550c3f7511f2667971eb080a"\n-  integrity sha512-T4txpIgYEGTkpFY2KQoqvtDmapu/suHMx0GN2zAImdJ7liEdG29P0XpjcNHnOEU1a4lLJn1WXxreobBSIGdcbQ==\n-\n symbol-observable@1.0.1:\n   version "1.0.1"\n   resolved "https://registry.yarnpkg.com/symbol-observable/-/symbol-observable-1.0.1.tgz#8340fc4702c3122df5d22288f88283f513d3fdd4"\n'

Repository: mockup


Branch: refs/heads/master
Date: 2022-05-17T22:59:38+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/e795ff4960c0195fc288e7221ce98b7d8aac7c30

Merge pull request #1112 from plone/es6-module-federation

es6 module federation

Files changed:
M Makefile
M package.json
M src/index.js
M src/pat/querystring/querystring.js
M src/pat/relateditems/relateditems.js
M src/patterns.js
M webpack.config.js
M yarn.lock

b'diff --git a/Makefile b/Makefile\nindex 92680dde8..2c7b7179c 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -76,4 +76,14 @@ serve: stamp-yarn\n \t$(YARN) run start\n \n \n+.PHONY:\n+watch-plone:\n+\t$(YARN) run watch:webpack:plone\n+\n+\n+.PHONY:\n+bundle-plone:\n+\t$(YARN) run build:webpack:plone\n+\n+\n #\ndiff --git a/package.json b/package.json\nindex f31f37713..cee7354f0 100644\n--- a/package.json\n+++ b/package.json\n@@ -6,8 +6,7 @@\n     "main": "./src/patterns.js",\n     "dependencies": {\n         "@patternslib/pat-code-editor": "^2.1.2",\n-        "@patternslib/pat-content-browser": "git+https://github.com/plone/pat-content-browser.git#a6d146bea74a64ba802663d00887b6b8fd7eef59",\n-        "@patternslib/patternslib": "^7.4.0",\n+        "@patternslib/patternslib": "^8.0.0",\n         "backbone": "1.4.1",\n         "backbone.paginator": "1.0.0",\n         "bootstrap": "^5.1.3",\n@@ -78,7 +77,6 @@\n         "sass-loader": "^12.6.0",\n         "sinon": "^14.0.0",\n         "style-loader": "^3.3.0",\n-        "svelte-loader": "^3.1.2",\n         "terser-webpack-plugin": "^5.3.1",\n         "timezone-mock": "^1.3.1",\n         "webpack": "^5.72.1",\n@@ -90,7 +88,7 @@\n         "yarn": "^1.22.18"\n     },\n     "resolutions": {\n-        "@patternslib/patternslib": "^7.4.0",\n+        "@patternslib/patternslib": "8.0.0",\n         "jquery": "3.6.0"\n     },\n     "scripts": {\n@@ -98,6 +96,7 @@\n         "build:webpack": "NODE_ENV=production webpack --config webpack.config.js",\n         "build:webpack:dev": "NODE_ENV=development webpack --config webpack.config.js",\n         "build:webpack:plone": "NODE_ENV=production webpack --config webpack.config.js --env DEPLOYMENT=plone",\n+        "build:webpack:dev:plone": "NODE_ENV=development webpack --config webpack.config.js --env DEPLOYMENT=plone",\n         "build:docs": "ELEVENTY_ENV=production  npx @11ty/eleventy --output docs/_site/",\n         "build:stats": "NODE_ENV=production webpack --config webpack.config.js --json > stats.json",\n         "build": "run-s clean build:webpack build:docs",\ndiff --git a/src/index.js b/src/index.js\nindex 27230443e..f106c13ec 100644\n--- a/src/index.js\n+++ b/src/index.js\n@@ -1,2 +1,22 @@\n-// Webpack entry point for module federation.\n+/**\n+ * Module Federation support for Mockup.\n+ *\n+ * In this module federation setup Mockup is the main host, which loads other\n+ * "remote" bundles.\n+ *\n+ * Those remotes need to be registered via the Patternslib\'s Webpack Module\n+ * Federation helper, just like Mockup itself (See Mockup\'s webpack.config.js).\n+ * Patternslib\' Module Federation helper registers the bundle under a prefix\n+ * (``MF_NAME_PREFIX``) in the global namespace.\n+ *\n+ * Here, we filter for all the globally registered bundles with this prefix and\n+ * load them.\n+ *\n+ * Note: loading in this context only means that the module federation\n+ * functionality for each bundle is initialized.\n+ *\n+ */\n+import "@patternslib/patternslib/webpack/module_federation";\n+\n+// And now load this bundle\'s actual entry point.\n import("./patterns");\ndiff --git a/src/pat/querystring/querystring.js b/src/pat/querystring/querystring.js\nindex c88987dfa..67169f244 100644\n--- a/src/pat/querystring/querystring.js\n+++ b/src/pat/querystring/querystring.js\n@@ -362,9 +362,12 @@ Criteria.prototype = {\n                     } else {\n                         self.$operator.val(\n                             "plone.app.querystring.operation.string.relativePath"\n-                        )\n+                        );\n                     }\n-                } else if(self.$operator.val() === "plone.app.querystring.operation.string.relativePath") {\n+                } else if (\n+                    self.$operator.val() ===\n+                    "plone.app.querystring.operation.string.relativePath"\n+                ) {\n                     pathAndDepth = ["..", "1"];\n                 }\n \n@@ -639,7 +642,6 @@ export default Base.extend({\n         showPreviews: true,\n     },\n     init: async function () {\n-        await import("select2");\n         await import("../select2/select2");\n         await import("../relateditems/relateditems");\n \ndiff --git a/src/pat/relateditems/relateditems.js b/src/pat/relateditems/relateditems.js\nindex 73383ecb9..c592315bd 100644\n--- a/src/pat/relateditems/relateditems.js\n+++ b/src/pat/relateditems/relateditems.js\n@@ -5,6 +5,7 @@ import Base from "@patternslib/patternslib/src/core/base";\n import _t from "../../core/i18n-wrapper";\n import utils from "../../core/utils";\n import registry from "@patternslib/patternslib/src/core/registry";\n+import Select2 from "../select2/select2";\n \n const KEY = {\n     LEFT: 37,\n@@ -503,7 +504,6 @@ export default Base.extend({\n     },\n \n     init: async function () {\n-        const Select2 = (await import("../select2/select2")).default;\n         (await import("bootstrap")).Dropdown;\n         import("./relateditems.scss");\n \ndiff --git a/src/patterns.js b/src/patterns.js\nindex 56a0db149..bd9fc7231 100644\n--- a/src/patterns.js\n+++ b/src/patterns.js\n@@ -3,8 +3,8 @@\n  */\n \n // Core\n+import "@patternslib/patternslib/src/globals";\n import registry from "@patternslib/patternslib/src/core/registry";\n-import jquery from "jquery";\n \n // Bootstrap\n import "bootstrap";\n@@ -62,12 +62,6 @@ import "./pat/controlpanels/discussion";\n import "./pat/controlpanels/discussion-comments";\n import "./pat/controlpanels/discussion-moderation";\n \n-// Import pattern styles in JavaScript\n-window.__patternslib_import_styles = true;\n-\n-// Register jQuery globally\n-window.jQuery = jquery;\n-\n // Change default value for pat-tooltip trigger\n tooltip_parser.parameters.trigger.value = "hover";\n \n@@ -75,4 +69,7 @@ tooltip_parser.parameters.trigger.value = "hover";\n validation_parser.parameters["error-template"].value =\n     \'<em class="invalid-feedback">${this.message}</em>\';\n \n+// Import pattern styles in JavaScript\n+window.__patternslib_import_styles = true;\n+\n registry.init();\ndiff --git a/webpack.config.js b/webpack.config.js\nindex 68caa8e6a..ca7a102ce 100644\n--- a/webpack.config.js\n+++ b/webpack.config.js\n@@ -1,51 +1,27 @@\n process.traceDeprecation = true;\n+const package_json = require("./package.json");\n const path = require("path");\n const patternslib_config = require("@patternslib/patternslib/webpack/webpack.config");\n-const svelte_config = require("@patternslib/pat-content-browser/webpack.svelte");\n+const mf_config = require("@patternslib/patternslib/webpack/webpack.mf");\n \n-module.exports = async (env, argv, build_dirname = __dirname) => {\n+module.exports = (env, argv) => {\n     let config = {\n         entry: {\n             "bundle.min": path.resolve(__dirname, "src/index.js"),\n         },\n-        externals: {\n-            "window": "window",\n-            "$": "jquery",\n-            "jquery": "jQuery",\n-            "window.jquery": "jQuery",\n-            "bootstrap": true,\n-        },\n-        optimization: {\n-            splitChunks: {\n-                cacheGroups: {\n-                    tinymce: {\n-                        name: "tinymce",\n-                        test: /[\\\\/]node_modules[\\\\/]tinymce.*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                    datatables: {\n-                        name: "datatables",\n-                        test: /[\\\\/]node_modules[\\\\/]datatables.net.*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                    select2: {\n-                        name: "select2",\n-                        test: /[\\\\/]node_modules[\\\\/]select2.*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                    jquery_plugins: {\n-                        name: "jquery_plugins",\n-                        test: /[\\\\/]node_modules[\\\\/]jquery\\..*[\\\\/]/,\n-                        chunks: "all",\n-                    },\n-                },\n-            },\n-        },\n     };\n \n-    config = svelte_config(env, argv, patternslib_config(env, argv, config, ["mockup"]));\n+    config = patternslib_config(env, argv, config, ["mockup"]);\n+\n     config.output.path = path.resolve(__dirname, "dist/");\n \n+    config.plugins.push(\n+        mf_config({\n+            package_json: package_json,\n+            remote_entry: config.entry["bundle.min"],\n+        })\n+    );\n+\n     if (process.env.NODE_ENV === "development") {\n         // Note: ``publicPath`` is set to "auto" in Patternslib,\n         //        so for the devServer the public path set to "/".\n@@ -55,7 +31,7 @@ module.exports = async (env, argv, build_dirname = __dirname) => {\n \n     if (env && env.DEPLOYMENT === "plone") {\n         config.output.path = path.resolve(\n-            build_dirname,\n+            __dirname,\n             "../plone.staticresources/src/plone/staticresources/static/bundle-plone/"\n         );\n     }\ndiff --git a/yarn.lock b/yarn.lock\nindex c115d32bc..df8795847 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -1299,15 +1299,6 @@\n     minimatch "^3.1.2"\n     strip-json-comments "^3.1.1"\n \n-"@fullcalendar/adaptive@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/adaptive/-/adaptive-5.10.1.tgz#4bfe50da38dfa7ef50f4af73fa6a983202d11165"\n-  integrity sha512-Dg+v+nYZKqQ9vhn+z46VhIZ5+OujHBj7ufkZv2Tj0Q1DIdt2sMxMvF/u9WKBru1GCqXuTtGtjiMXLMpL/ZpSRA==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    "@fullcalendar/premium-common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/adaptive@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/adaptive/-/adaptive-5.11.0.tgz#e789c47c81894c96a40bb383b4f4c443fa89964b"\n@@ -1317,13 +1308,6 @@\n     "@fullcalendar/premium-common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/common@~5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/common/-/common-5.10.1.tgz#a019951743852277a4095e536fd7716f6f85b9aa"\n-  integrity sha512-EumKIJcQTvQdTs75/9dmeREFgjcRVWzqHJS1Xvlz5mNsmB+w9EINCHETRjChtAQg1WD/lTQyVj4sHsKO7vCMSw==\n-  dependencies:\n-    tslib "^2.1.0"\n-\n "@fullcalendar/common@~5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/common/-/common-5.11.0.tgz#d7e47b4272ba6824f95581fb7fb630c5880f4212"\n@@ -1331,15 +1315,6 @@\n   dependencies:\n     tslib "^2.1.0"\n \n-"@fullcalendar/core@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/core/-/core-5.10.1.tgz#05c7653e5004149a63bcb03e9dc8b049186ca50b"\n-  integrity sha512-8sVuC6ywXV+cxqsqTZaR1hgUqeyjVed20NyZ7lGW9AY0kma1GIEwLgqPS5Q6uVhHyin68lmgecKfJCwhxENE8w==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    preact "^10.0.5"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/core@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/core/-/core-5.11.0.tgz#336fcfb9799cf0c2d1ee15c110dce26a9e14881c"\n@@ -1349,14 +1324,6 @@\n     preact "^10.0.5"\n     tslib "^2.1.0"\n \n-"@fullcalendar/daygrid@^5.10.1", "@fullcalendar/daygrid@~5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/daygrid/-/daygrid-5.10.1.tgz#bdee4f58364fdab631b2abf8b56094ab5776f203"\n-  integrity sha512-sfUMP+rew0krsBffgNcWWKhBCiyytGfRKZJoc64E8ohX7VWjPcPZuB1xgO5U4wPLmNkT0rZiHoGeQGTXw1+ZKg==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/daygrid@^5.11.0", "@fullcalendar/daygrid@~5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/daygrid/-/daygrid-5.11.0.tgz#fd10391dfc2b6caa3538e0826f8d8f3e83e0e22a"\n@@ -1365,14 +1332,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/interaction@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/interaction/-/interaction-5.10.1.tgz#dfa74b5c50bbd5608eb50aeab6e579c8d20cb367"\n-  integrity sha512-H1g1QeXg7yXtUcKmVtfg7uzm5R5ElFTvYniiXU+8kJda69IDg7Lee+Y7UDv5dvLb5/HxO86RhPVxRtcOQ8XdXw==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/interaction@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/interaction/-/interaction-5.11.0.tgz#9cfb46cc5f75690394ef553d2c5cf4955782ff05"\n@@ -1381,14 +1340,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/list@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/list/-/list-5.10.1.tgz#8505aae09845b82f5bdb6251bda0f9d6342ef9d9"\n-  integrity sha512-sB+AzM9P1nzGIzwVFNN8Zbocg5lkVQftyuJAZtULgu9o9e1rH/Aqsxt9Itf00N3WmMOh8H1LlnRpZF5kGu/j2w==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/list@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/list/-/list-5.11.0.tgz#536b51ebad59d15c238997e37e3d0e0fd09e9579"\n@@ -1405,22 +1356,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/luxon@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/luxon/-/luxon-5.10.1.tgz#1ad8300c6cbbb467574c96980a69ba46730bde24"\n-  integrity sha512-THmIytaHo2SFb1lUQ8hhkZjNgt9dmIpioGEuuIj4ETDS3pHFVHMTcV22vBFC74f6kc/OA2Vwfj3+5JHltKjD/g==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n-"@fullcalendar/premium-common@~5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/premium-common/-/premium-common-5.10.1.tgz#47d26406e926317fd45919c0f52ce6cc02a17baf"\n-  integrity sha512-yOZgtVI/7tt1oeQABLQqTNLEv2YpxbE0ywvQ+VwtrKc5LksmUA2czO4peom1KIAwH6JsZnytpvwQ4k4cP8Ivaw==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/premium-common@~5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/premium-common/-/premium-common-5.11.0.tgz#984ad16dba011c656ebc9ecb358bf6f2733c5e88"\n@@ -1429,15 +1364,6 @@\n     "@fullcalendar/common" "~5.11.0"\n     tslib "^2.1.0"\n \n-"@fullcalendar/timegrid@^5.10.1":\n-  version "5.10.1"\n-  resolved "https://registry.yarnpkg.com/@fullcalendar/timegrid/-/timegrid-5.10.1.tgz#fa7feb909bf599eac1466b9e70c0d56ce0d1aefc"\n-  integrity sha512-0O0m+JzFBlg8gxYr/rIjZViRlbndCtjZlDjjIylQHFBeWC32e3cpHEavKGbTIBLN8SDilUYAJnE21abSqC2G/w==\n-  dependencies:\n-    "@fullcalendar/common" "~5.10.1"\n-    "@fullcalendar/daygrid" "~5.10.1"\n-    tslib "^2.1.0"\n-\n "@fullcalendar/timegrid@^5.11.0":\n   version "5.11.0"\n   resolved "https://registry.yarnpkg.com/@fullcalendar/timegrid/-/timegrid-5.11.0.tgz#b41153ef301f21f8c1e19a65023493c48c8bacf5"\n@@ -1905,53 +1831,7 @@\n     codejar "^3.5.0"\n     prismjs "^1.27.0"\n \n-"@patternslib/pat-content-browser@git+https://github.com/plone/pat-content-browser.git#a6d146bea74a64ba802663d00887b6b8fd7eef59":\n-  version "0.9.0"\n-  resolved "git+https://github.com/plone/pat-content-browser.git#a6d146bea74a64ba802663d00887b6b8fd7eef59"\n-  dependencies:\n-    "@patternslib/patternslib" "^6.0.1"\n-    svelte "^3.44.0"\n-    svelte-keydown "^0.3.1"\n-    svelte-scrollto "^0.2.0"\n-\n-"@patternslib/patternslib@^6.0.1", "@patternslib/patternslib@^7.4.0":\n-  version "7.4.0"\n-  resolved "https://registry.yarnpkg.com/@patternslib/patternslib/-/patternslib-7.4.0.tgz#b49a4716aa58cc7fe8dd8a5da6e647b0603b68ba"\n-  integrity sha512-XHrcKTT4t7jUhVYb2pdEB+DbhKQ7upmr4fpU6eKCSClt69axivEhT3dEJeHUQGX9DmQKW/DU1dXTuGJMfc+QmA==\n-  dependencies:\n-    "@fullcalendar/adaptive" "^5.10.1"\n-    "@fullcalendar/core" "^5.10.1"\n-    "@fullcalendar/daygrid" "^5.10.1"\n-    "@fullcalendar/interaction" "^5.10.1"\n-    "@fullcalendar/list" "^5.10.1"\n-    "@fullcalendar/luxon" "^5.10.1"\n-    "@fullcalendar/timegrid" "^5.10.1"\n-    "@juggle/resize-observer" "^3.3.1"\n-    "@stomp/stompjs" "^6.1.2"\n-    google-code-prettify "^1.0.5"\n-    imagesloaded "^4.1.4"\n-    intersection-observer "^0.12.0"\n-    jquery "^3.6.0"\n-    jquery-jcrop "^0.9.13"\n-    luxon "^1.27.0"\n-    masonry-layout "^4.2.2"\n-    moment "^2.29.1"\n-    moment-timezone "^0.5.34"\n-    photoswipe "^4.1.3"\n-    pikaday "^1.8.0"\n-    promise-polyfill "^8.2.3"\n-    screenfull "^6.0.1"\n-    select2 "^3.5.1"\n-    showdown "^2.0.3"\n-    showdown-prettify "^1.3.0"\n-    slick-carousel "^1.8.1"\n-    slides "git+https://github.com/Patternslib/slides.git"\n-    spectrum-colorpicker "^1.8.0"\n-    tippy.js "^6.3.7"\n-    url-polyfill "^1.1.9"\n-    whatwg-fetch "^3.4.0"\n-\n-"@patternslib/patternslib@^8.0.0":\n+"@patternslib/patternslib@8.0.0", "@patternslib/patternslib@^7.4.0", "@patternslib/patternslib@^8.0.0":\n   version "8.0.0"\n   resolved "https://registry.yarnpkg.com/@patternslib/patternslib/-/patternslib-8.0.0.tgz#97eb79cc5e0b324d962e1bafceb7da9cbf9f0028"\n   integrity sha512-fApsPEC89xeYs1idehIvKSCZn2bLi/723s71Ez+lBfDWlDt+3lQ861Ve//ArdeOXlviOvFbkwAnYk0h26lqoTg==\n@@ -7519,7 +7399,7 @@ lru-cache@^6.0.0:\n   dependencies:\n     yallist "^4.0.0"\n \n-luxon@^1.26.0, luxon@^1.27.0:\n+luxon@^1.26.0:\n   version "1.28.0"\n   resolved "https://registry.yarnpkg.com/luxon/-/luxon-1.28.0.tgz#e7f96daad3938c06a62de0fb027115d251251fbf"\n   integrity sha512-TfTiyvZhwBYM/7QdAVDh+7dBTBA29v4ik0Ce9zda3Mnf8on1S5KJI8P2jKFZ8+5C0jhmr0KwJEO/Wdpm0VeWJQ==\n@@ -7797,7 +7677,7 @@ moment-timezone@^0.5.34:\n   dependencies:\n     moment ">= 2.9.0"\n \n-"moment@>= 2.9.0", moment@^2.29.1:\n+"moment@>= 2.9.0":\n   version "2.29.1"\n   resolved "https://registry.yarnpkg.com/moment/-/moment-2.29.1.tgz#b2be769fa31940be9eeea6469c075e35006fa3d3"\n   integrity sha512-kHmoybcPV8Sqy59DwNDY3Jefr64lK/by/da0ViFcuA4DH0vQg5Q6Ze5VimxkfQNSC+Mls/Kx53s7TjP1RhFEDQ==\n@@ -9636,13 +9516,6 @@ showdown@^1.3.0:\n   dependencies:\n     yargs "^14.2"\n \n-showdown@^2.0.3:\n-  version "2.0.3"\n-  resolved "https://registry.yarnpkg.com/showdown/-/showdown-2.0.3.tgz#1ec96dd19637fe4617b160f7b50280120964640b"\n-  integrity sha512-jHytkv5c5YFTAOYIIaTT1zLL/aC+7C1FiP0CIGQozhHnnFSbor1oYkaNqWFL6CpB3zJNPPSxJrAlsHgzN14knQ==\n-  dependencies:\n-    commander "^9.0.0"\n-\n showdown@^2.1.0:\n   version "2.1.0"\n   resolved "https://registry.yarnpkg.com/showdown/-/showdown-2.1.0.tgz#1251f5ed8f773f0c0c7bfc8e6fd23581f9e545c5"\n@@ -10200,42 +10073,6 @@ supports-preserve-symlinks-flag@^1.0.0:\n   resolved "https://registry.yarnpkg.com/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz#6eda4bd344a3c94aea376d4cc31bc77311039e09"\n   integrity sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==\n \n-svelte-dev-helper@^1.1.9:\n-  version "1.1.9"\n-  resolved "https://registry.yarnpkg.com/svelte-dev-helper/-/svelte-dev-helper-1.1.9.tgz#7d187db5c6cdbbd64d75a32f91b8998bde3273c3"\n-  integrity sha1-fRh9tcbNu9ZNdaMvkbiZi94yc8M=\n-\n-svelte-hmr@^0.14.2:\n-  version "0.14.11"\n-  resolved "https://registry.yarnpkg.com/svelte-hmr/-/svelte-hmr-0.14.11.tgz#63d532dc9c2c849ab708592f034765fa2502e568"\n-  integrity sha512-R9CVfX6DXxW1Kn45Jtmx+yUe+sPhrbYSUp7TkzbW0jI5fVPn6lsNG9NEs5dFg5qRhFNAoVdRw5qQDLALNKhwbQ==\n-\n-svelte-keydown@^0.3.1:\n-  version "0.3.1"\n-  resolved "https://registry.yarnpkg.com/svelte-keydown/-/svelte-keydown-0.3.1.tgz#b9045460ad468b51ba9054472896648fc771dbdd"\n-  integrity sha512-/tLz9VcI9AEkCZnmLy85N2RGYm86QO9E4py7uI3FzzDo2LdFs3NRNxPo4OIqM6QgBn3rlunxmJY0QPoN0G259w==\n-\n-svelte-loader@^3.1.2:\n-  version "3.1.2"\n-  resolved "https://registry.yarnpkg.com/svelte-loader/-/svelte-loader-3.1.2.tgz#b8fe0ea13fa306167402e16ffd0216ea2752b2bc"\n-  integrity sha512-RhVIvitb+mtIwKNyvNQoDQ0EhXg2KH8LhQiiqeJh8u6vqJyGWoMoFcYCar69TT+1iaK5IYe0wPNYJ6TILcsurw==\n-  dependencies:\n-    loader-utils "^2.0.0"\n-    svelte-dev-helper "^1.1.9"\n-    svelte-hmr "^0.14.2"\n-\n-svelte-scrollto@^0.2.0:\n-  version "0.2.0"\n-  resolved "https://registry.yarnpkg.com/svelte-scrollto/-/svelte-scrollto-0.2.0.tgz#a1da47876466796bba4533a4346537f752f01680"\n-  integrity sha512-l4K2E4jr6dXCODtZDCkpp/TzknVVoq8gecHM0UOOmihvLosczdyLuyDUhZ+U2HkhLWi7nnimuOstZSFKtXSpmA==\n-  dependencies:\n-    svelte "3.x"\n-\n-svelte@3.x, svelte@^3.44.0:\n-  version "3.46.5"\n-  resolved "https://registry.yarnpkg.com/svelte/-/svelte-3.46.5.tgz#808daad6f3cbbeff550c3f7511f2667971eb080a"\n-  integrity sha512-T4txpIgYEGTkpFY2KQoqvtDmapu/suHMx0GN2zAImdJ7liEdG29P0XpjcNHnOEU1a4lLJn1WXxreobBSIGdcbQ==\n-\n symbol-observable@1.0.1:\n   version "1.0.1"\n   resolved "https://registry.yarnpkg.com/symbol-observable/-/symbol-observable-1.0.1.tgz#8340fc4702c3122df5d22288f88283f513d3fdd4"\n'

