Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2023-03-27T02:23:41+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/a7ba25caebf0b7c3000e4baa3412669baebba995

Move language independent field setting to here.

This are plone.app.event IEventBasic fields.

Files changed:
A news/414-paevent.breaking
A src/plone/app/multilingual/dx/languageindependent.py
M setup.cfg
M src/plone/app/multilingual/dx/__init__.py

b'diff --git a/news/414-paevent.breaking b/news/414-paevent.breaking\nnew file mode 100644\nindex 000000000..d8cb1fe82\n--- /dev/null\n+++ b/news/414-paevent.breaking\n@@ -0,0 +1,3 @@\n+Move language independent field declarations from plone.app.event to this package.\n+This prepares this package to be used as a real core addon.\n+[jensens]\n\\ No newline at end of file\ndiff --git a/setup.cfg b/setup.cfg\nindex bdc3bd07f..5fadc72a8 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -1,5 +1,5 @@\n [metadata]\n-version = 6.0.3.dev0\n+version = 7.0.0.dev0\n name = plone.app.multilingual\n description = Multilingual Plone Content package\n long_description = file: README.rst, CREDITS.rst, CHANGES.rst\ndiff --git a/src/plone/app/multilingual/dx/__init__.py b/src/plone/app/multilingual/dx/__init__.py\nindex e69de29bb..c519638e4 100644\n--- a/src/plone/app/multilingual/dx/__init__.py\n+++ b/src/plone/app/multilingual/dx/__init__.py\n@@ -0,0 +1 @@\n+from . import languageindependent  # noqa: F401\ndiff --git a/src/plone/app/multilingual/dx/languageindependent.py b/src/plone/app/multilingual/dx/languageindependent.py\nnew file mode 100644\nindex 000000000..b18bd256a\n--- /dev/null\n+++ b/src/plone/app/multilingual/dx/languageindependent.py\n@@ -0,0 +1,9 @@\n+from .interfaces import ILanguageIndependentField\n+from plone.app.event.dx.behaviors import IEventBasic\n+from zope.interface import alsoProvides\n+\n+# configure existing behaviors to be language independent\n+alsoProvides(IEventBasic["start"], ILanguageIndependentField)\n+alsoProvides(IEventBasic["end"], ILanguageIndependentField)\n+alsoProvides(IEventBasic["whole_day"], ILanguageIndependentField)\n+alsoProvides(IEventBasic["open_end"], ILanguageIndependentField)\n'

Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2023-03-27T10:14:52+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.multilingual/commit/81efb864e878d4fa204149160aeca5a019eff357

Merge pull request #414 from plone/paevent-langindependent

Move IEventBasic  language independent field setting to here.

Files changed:
A news/414-paevent.breaking
A src/plone/app/multilingual/dx/languageindependent.py
M setup.cfg
M src/plone/app/multilingual/dx/__init__.py

b'diff --git a/news/414-paevent.breaking b/news/414-paevent.breaking\nnew file mode 100644\nindex 000000000..d8cb1fe82\n--- /dev/null\n+++ b/news/414-paevent.breaking\n@@ -0,0 +1,3 @@\n+Move language independent field declarations from plone.app.event to this package.\n+This prepares this package to be used as a real core addon.\n+[jensens]\n\\ No newline at end of file\ndiff --git a/setup.cfg b/setup.cfg\nindex bdc3bd07f..5fadc72a8 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -1,5 +1,5 @@\n [metadata]\n-version = 6.0.3.dev0\n+version = 7.0.0.dev0\n name = plone.app.multilingual\n description = Multilingual Plone Content package\n long_description = file: README.rst, CREDITS.rst, CHANGES.rst\ndiff --git a/src/plone/app/multilingual/dx/__init__.py b/src/plone/app/multilingual/dx/__init__.py\nindex e69de29bb..c519638e4 100644\n--- a/src/plone/app/multilingual/dx/__init__.py\n+++ b/src/plone/app/multilingual/dx/__init__.py\n@@ -0,0 +1 @@\n+from . import languageindependent  # noqa: F401\ndiff --git a/src/plone/app/multilingual/dx/languageindependent.py b/src/plone/app/multilingual/dx/languageindependent.py\nnew file mode 100644\nindex 000000000..b18bd256a\n--- /dev/null\n+++ b/src/plone/app/multilingual/dx/languageindependent.py\n@@ -0,0 +1,9 @@\n+from .interfaces import ILanguageIndependentField\n+from plone.app.event.dx.behaviors import IEventBasic\n+from zope.interface import alsoProvides\n+\n+# configure existing behaviors to be language independent\n+alsoProvides(IEventBasic["start"], ILanguageIndependentField)\n+alsoProvides(IEventBasic["end"], ILanguageIndependentField)\n+alsoProvides(IEventBasic["whole_day"], ILanguageIndependentField)\n+alsoProvides(IEventBasic["open_end"], ILanguageIndependentField)\n'

