Repository: plone.rest


Branch: refs/heads/master
Date: 2021-11-12T16:06:04+01:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.rest/commit/ad94518b844f8dafea40b6f8afd24bddf39243a4

fix test to use document_view as default view for site root

Files changed:
M src/plone/rest/tests/test_traversal.py

b'diff --git a/src/plone/rest/tests/test_traversal.py b/src/plone/rest/tests/test_traversal.py\nindex dc67591..c260e76 100644\n--- a/src/plone/rest/tests/test_traversal.py\n+++ b/src/plone/rest/tests/test_traversal.py\n@@ -60,7 +60,7 @@ def test_json_request_on_content_object_returns_service(self):\n \n     def test_html_request_on_portal_root_returns_default_view(self):\n         obj = self.traverse(accept="text/html")\n-        self.assertEquals("listing_view", obj.__name__)\n+        self.assertEquals("document_view", obj.__name__)\n \n     def test_html_request_on_portal_root_returns_dynamic_view(self):\n         self.portal.setLayout("summary_view")\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2021-11-12T16:08:08+01:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.rest/commit/fce405356094f9d7b1f0af3e90137cc847bd5862

add news

Files changed:
A news/126.bugfix

b'diff --git a/news/126.bugfix b/news/126.bugfix\nnew file mode 100644\nindex 0000000..f1bff43\n--- /dev/null\n+++ b/news/126.bugfix\n@@ -0,0 +1,2 @@\n+Use document_view as default for site root.\n+[agitator]\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2021-11-15T10:19:18+01:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.rest/commit/8047c393bcca418f4c421a08291973e008b8d6d3

fix test for Plone &lt; 6

Files changed:
M src/plone/rest/tests/test_traversal.py

b'diff --git a/src/plone/rest/tests/test_traversal.py b/src/plone/rest/tests/test_traversal.py\nindex c260e76..c3578fb 100644\n--- a/src/plone/rest/tests/test_traversal.py\n+++ b/src/plone/rest/tests/test_traversal.py\n@@ -60,7 +60,7 @@ def test_json_request_on_content_object_returns_service(self):\n \n     def test_html_request_on_portal_root_returns_default_view(self):\n         obj = self.traverse(accept="text/html")\n-        self.assertEquals("document_view", obj.__name__)\n+        self.assertEquals(self.portal.getDefaultLayout(), obj.__name__)\n \n     def test_html_request_on_portal_root_returns_dynamic_view(self):\n         self.portal.setLayout("summary_view")\n'

Repository: plone.rest


Branch: refs/heads/master
Date: 2021-11-16T10:51:56+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.rest/commit/3a8e69c010eca652e3de1ab82d04f89837bd9096

Merge pull request #126 from plone/agttr-dxsiteroot-view

fix test to use document_view as default view for site root

Files changed:
A news/126.bugfix
M src/plone/rest/tests/test_traversal.py

b'diff --git a/news/126.bugfix b/news/126.bugfix\nnew file mode 100644\nindex 0000000..f1bff43\n--- /dev/null\n+++ b/news/126.bugfix\n@@ -0,0 +1,2 @@\n+Use document_view as default for site root.\n+[agitator]\ndiff --git a/src/plone/rest/tests/test_traversal.py b/src/plone/rest/tests/test_traversal.py\nindex dc67591..c3578fb 100644\n--- a/src/plone/rest/tests/test_traversal.py\n+++ b/src/plone/rest/tests/test_traversal.py\n@@ -60,7 +60,7 @@ def test_json_request_on_content_object_returns_service(self):\n \n     def test_html_request_on_portal_root_returns_default_view(self):\n         obj = self.traverse(accept="text/html")\n-        self.assertEquals("listing_view", obj.__name__)\n+        self.assertEquals(self.portal.getDefaultLayout(), obj.__name__)\n \n     def test_html_request_on_portal_root_returns_dynamic_view(self):\n         self.portal.setLayout("summary_view")\n'

