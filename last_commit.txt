Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2021-11-12T10:33:28+01:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/826c128a9df08cdb10c9f45a83a8c3066ac298c7

remove IDocument interface to allow more generic use

Files changed:
M plone/app/contenttypes/browser/configure.zcml

b'diff --git a/plone/app/contenttypes/browser/configure.zcml b/plone/app/contenttypes/browser/configure.zcml\nindex 18f98346..2b033577 100644\n--- a/plone/app/contenttypes/browser/configure.zcml\n+++ b/plone/app/contenttypes/browser/configure.zcml\n@@ -144,7 +144,6 @@\n       />\n   <browser:page\n       name="document_view"\n-      for="plone.app.contenttypes.interfaces.IDocument"\n       template="templates/document.pt"\n       layer="plone.app.contenttypes.interfaces.IPloneAppContenttypesLayer"\n       permission="zope2.View"\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2021-11-12T10:44:02+01:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/e5023d5d019b903fc63339d9679ed2cfb73abd15

Configure document_view as default_view for DX Plone Site type.

Files changed:
M plone/app/contenttypes/profiles/default/types/Plone_Site.xml

b'diff --git a/plone/app/contenttypes/profiles/default/types/Plone_Site.xml b/plone/app/contenttypes/profiles/default/types/Plone_Site.xml\nindex 3d72a8ff..359a432f 100644\n--- a/plone/app/contenttypes/profiles/default/types/Plone_Site.xml\n+++ b/plone/app/contenttypes/profiles/default/types/Plone_Site.xml\n@@ -6,9 +6,10 @@\n \n   <property name="icon_expr">string:contenttype/plone</property>\n \n-  <property name="immediate_view">listing_view</property>\n-  <property name="default_view">listing_view</property>\n+  <property name="immediate_view">document_view</property>\n+  <property name="default_view">document_view</property>\n   <property name="view_methods">\n+    <element value="document_view" />\n     <element value="album_view" />\n     <element value="event_listing" />\n     <element value="full_view" />\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2021-11-12T10:50:15+01:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/a7721e5b7362d44ac71332ca67dcc755064354ff

add news

Files changed:
A news/624.bugfix

b'diff --git a/news/624.bugfix b/news/624.bugfix\nnew file mode 100644\nindex 00000000..a02cf261\n--- /dev/null\n+++ b/news/624.bugfix\n@@ -0,0 +1,2 @@\n+Use document_view as default for dx site root.\n+[agitator]\n\\ No newline at end of file\n'

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2021-11-16T10:51:18+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contenttypes/commit/66d025294b7c5d9e486b23baeefc352d3893b2ae

Merge pull request #624 from plone/agttr-dxsiteroot-view

use document_view for dx site root

Files changed:
A news/624.bugfix
M plone/app/contenttypes/browser/configure.zcml
M plone/app/contenttypes/profiles/default/types/Plone_Site.xml

b'diff --git a/news/624.bugfix b/news/624.bugfix\nnew file mode 100644\nindex 00000000..a02cf261\n--- /dev/null\n+++ b/news/624.bugfix\n@@ -0,0 +1,2 @@\n+Use document_view as default for dx site root.\n+[agitator]\n\\ No newline at end of file\ndiff --git a/plone/app/contenttypes/browser/configure.zcml b/plone/app/contenttypes/browser/configure.zcml\nindex 18f98346..2b033577 100644\n--- a/plone/app/contenttypes/browser/configure.zcml\n+++ b/plone/app/contenttypes/browser/configure.zcml\n@@ -144,7 +144,6 @@\n       />\n   <browser:page\n       name="document_view"\n-      for="plone.app.contenttypes.interfaces.IDocument"\n       template="templates/document.pt"\n       layer="plone.app.contenttypes.interfaces.IPloneAppContenttypesLayer"\n       permission="zope2.View"\ndiff --git a/plone/app/contenttypes/profiles/default/types/Plone_Site.xml b/plone/app/contenttypes/profiles/default/types/Plone_Site.xml\nindex 3d72a8ff..359a432f 100644\n--- a/plone/app/contenttypes/profiles/default/types/Plone_Site.xml\n+++ b/plone/app/contenttypes/profiles/default/types/Plone_Site.xml\n@@ -6,9 +6,10 @@\n \n   <property name="icon_expr">string:contenttype/plone</property>\n \n-  <property name="immediate_view">listing_view</property>\n-  <property name="default_view">listing_view</property>\n+  <property name="immediate_view">document_view</property>\n+  <property name="default_view">document_view</property>\n   <property name="view_methods">\n+    <element value="document_view" />\n     <element value="album_view" />\n     <element value="event_listing" />\n     <element value="full_view" />\n'

