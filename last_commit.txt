Repository: Products.ATContentTypes


Branch: refs/heads/master
Date: 2018-10-04T14:54:18+02:00
Author: Manuel Reinhardt (reinhardt) <reinhardt@syslab.com>
Commit: https://github.com/plone/Products.ATContentTypes/commit/0aacd98d41625211d721f86bedf14cb203c8ca09

Added isExpired.py skin script as it will be removed from CMFPlone.

Files changed:
A Products/ATContentTypes/skins/ATContentTypes/isExpired.py
A news/58.feature

b'diff --git a/Products/ATContentTypes/skins/ATContentTypes/isExpired.py b/Products/ATContentTypes/skins/ATContentTypes/isExpired.py\nnew file mode 100644\nindex 00000000..9e68f7df\n--- /dev/null\n+++ b/Products/ATContentTypes/skins/ATContentTypes/isExpired.py\n@@ -0,0 +1,15 @@\n+## Script (Python) "isExpired"\n+##bind container=container\n+##bind context=context\n+##bind namespace=\n+##bind script=script\n+##bind subpath=traverse_subpath\n+##parameters=content=None\n+##title=Find out if the object is expired\n+\n+from Products.CMFPlone.utils import isExpired\n+\n+if not content:\n+    content = context\n+\n+return isExpired(content)\ndiff --git a/news/58.feature b/news/58.feature\nnew file mode 100644\nindex 00000000..223b8b98\n--- /dev/null\n+++ b/news/58.feature\n@@ -0,0 +1 @@\n+Added isExpired.py skin script as it will be removed from CMFPlone.\n'

Repository: Products.ATContentTypes


Branch: refs/heads/master
Date: 2018-10-05T12:16:31+02:00
Author: Manuel Reinhardt (reinhardt) <reinhardt@syslab.com>
Commit: https://github.com/plone/Products.ATContentTypes/commit/1f7f19848504d4398c602c4d66b60c5f354c83a4

Added getObjSize.py skin script as it will be removed from CMFPlone. #58

Files changed:
A Products/ATContentTypes/skins/ATContentTypes/getObjSize.py
M news/58.feature

b'diff --git a/Products/ATContentTypes/skins/ATContentTypes/getObjSize.py b/Products/ATContentTypes/skins/ATContentTypes/getObjSize.py\nnew file mode 100644\nindex 00000000..69da6bd8\n--- /dev/null\n+++ b/Products/ATContentTypes/skins/ATContentTypes/getObjSize.py\n@@ -0,0 +1,23 @@\n+## Script (Python) "getObjSize"\n+##bind container=container\n+##bind context=context\n+##bind namespace=\n+##bind script=script\n+##bind subpath=traverse_subpath\n+##parameters=obj=None, size=None\n+##title=\n+\n+from Products.CMFPlone.utils import base_hasattr\n+from Products.CMFPlone.utils import human_readable_size\n+\n+if obj is None:\n+    obj = context\n+\n+# allow arbitrary sizes to be passed through,\n+# if there is no size, but there is an object\n+# look up the object, this maintains backwards\n+# compatibility\n+if size is None and base_hasattr(obj, \'get_size\'):\n+    size = obj.get_size()\n+\n+return human_readable_size(size)\ndiff --git a/news/58.feature b/news/58.feature\nindex 223b8b98..e5e6ecc7 100644\n--- a/news/58.feature\n+++ b/news/58.feature\n@@ -1 +1 @@\n-Added isExpired.py skin script as it will be removed from CMFPlone.\n+Added isExpired.py and getObjSize.py skin scripts as they will be removed from CMFPlone.\n'

Repository: Products.ATContentTypes


Branch: refs/heads/master
Date: 2018-10-05T20:18:12+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.ATContentTypes/commit/011b9e2f59ba23bd8976763ef03e745086dd28f0

Merge pull request #59 from plone/58-is-expired

Added some skin scripts as they will be removed from CMFPlone.

Files changed:
A Products/ATContentTypes/skins/ATContentTypes/getObjSize.py
A Products/ATContentTypes/skins/ATContentTypes/isExpired.py
A news/58.feature

b'diff --git a/Products/ATContentTypes/skins/ATContentTypes/getObjSize.py b/Products/ATContentTypes/skins/ATContentTypes/getObjSize.py\nnew file mode 100644\nindex 00000000..69da6bd8\n--- /dev/null\n+++ b/Products/ATContentTypes/skins/ATContentTypes/getObjSize.py\n@@ -0,0 +1,23 @@\n+## Script (Python) "getObjSize"\n+##bind container=container\n+##bind context=context\n+##bind namespace=\n+##bind script=script\n+##bind subpath=traverse_subpath\n+##parameters=obj=None, size=None\n+##title=\n+\n+from Products.CMFPlone.utils import base_hasattr\n+from Products.CMFPlone.utils import human_readable_size\n+\n+if obj is None:\n+    obj = context\n+\n+# allow arbitrary sizes to be passed through,\n+# if there is no size, but there is an object\n+# look up the object, this maintains backwards\n+# compatibility\n+if size is None and base_hasattr(obj, \'get_size\'):\n+    size = obj.get_size()\n+\n+return human_readable_size(size)\ndiff --git a/Products/ATContentTypes/skins/ATContentTypes/isExpired.py b/Products/ATContentTypes/skins/ATContentTypes/isExpired.py\nnew file mode 100644\nindex 00000000..9e68f7df\n--- /dev/null\n+++ b/Products/ATContentTypes/skins/ATContentTypes/isExpired.py\n@@ -0,0 +1,15 @@\n+## Script (Python) "isExpired"\n+##bind container=container\n+##bind context=context\n+##bind namespace=\n+##bind script=script\n+##bind subpath=traverse_subpath\n+##parameters=content=None\n+##title=Find out if the object is expired\n+\n+from Products.CMFPlone.utils import isExpired\n+\n+if not content:\n+    content = context\n+\n+return isExpired(content)\ndiff --git a/news/58.feature b/news/58.feature\nnew file mode 100644\nindex 00000000..e5e6ecc7\n--- /dev/null\n+++ b/news/58.feature\n@@ -0,0 +1 @@\n+Added isExpired.py and getObjSize.py skin scripts as they will be removed from CMFPlone.\n'

