Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-04-12T12:17:05+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/0c5d80af7cd188ddff89f5e033c2bd6a53fae15e

Fix DeprecationWarning in syndication-view.

Files changed:
A news/2831.bugfix
M Products/CMFPlone/browser/syndication/views.py

b"diff --git a/Products/CMFPlone/browser/syndication/views.py b/Products/CMFPlone/browser/syndication/views.py\nindex 806e47bbc..cf1a13d92 100644\n--- a/Products/CMFPlone/browser/syndication/views.py\n+++ b/Products/CMFPlone/browser/syndication/views.py\n@@ -1,20 +1,20 @@\n # -*- coding: utf-8 -*-\n from DateTime import DateTime\n-from uuid import uuid3\n-from uuid import NAMESPACE_OID\n-from zope.component import queryAdapter\n-from zope.component import getMultiAdapter\n-from zope.cachedescriptors.property import Lazy as lazy_property\n-from Products.Five import BrowserView\n-from zExceptions import NotFound\n-\n-from Products.CMFPlone.interfaces.syndication import ISearchFeed\n+from plone.z3cform.layout import wrap_form\n+from Products.CMFPlone import PloneMessageFactory as _\n from Products.CMFPlone.interfaces.syndication import IFeed\n from Products.CMFPlone.interfaces.syndication import IFeedSettings\n-from Products.CMFPlone import PloneMessageFactory as _\n-\n-from z3c.form import form, button, field\n-from plone.app.z3cform.layout import wrap_form\n+from Products.CMFPlone.interfaces.syndication import ISearchFeed\n+from Products.Five import BrowserView\n+from uuid import NAMESPACE_OID\n+from uuid import uuid3\n+from z3c.form import button\n+from z3c.form import field\n+from z3c.form import form\n+from zExceptions import NotFound\n+from zope.cachedescriptors.property import Lazy as lazy_property\n+from zope.component import getMultiAdapter\n+from zope.component import queryAdapter\n \n \n class FeedView(BrowserView):\n@@ -81,9 +81,11 @@ def get_image(self, item):\n class SettingsForm(form.EditForm):\n     label = _(u'heading_syndication_properties',\n               default=u'Syndication Properties')\n-    description = _(u'description_syndication_properties',\n-                    default=u'Syndication enables you to syndicate this folder so it can'\n-                            u'be synchronized from other web sites.')\n+    description = _(\n+        u'description_syndication_properties',\n+        default=u'Syndication enables you to syndicate this folder so it can'\n+                u'be synchronized from other web sites.',\n+    )\n     fields = field.Fields(IFeedSettings)\n \n     @button.buttonAndHandler(_(u'Save'), name='save')\n@@ -93,4 +95,6 @@ def handleSave(self, action):\n             self.status = self.formErrorsMessage\n             return\n         self.applyChanges(data)\n+\n+\n SettingsFormView = wrap_form(SettingsForm)\ndiff --git a/news/2831.bugfix b/news/2831.bugfix\nnew file mode 100644\nindex 000000000..dc8fe018f\n--- /dev/null\n+++ b/news/2831.bugfix\n@@ -0,0 +1 @@\n+Fix DeprecationWarning in syndication-view. [jensens]\n\\ No newline at end of file\n"

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2019-04-12T14:52:09+02:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/c28e3a6d9f0fa36f0661e17bfd6a222c4f81f21c

Merge pull request #2831 from plone/jensens/fix-deprecationwarning

Fix DeprecationWarning in syndication-view.

Files changed:
A news/2831.bugfix
M Products/CMFPlone/browser/syndication/views.py

b"diff --git a/Products/CMFPlone/browser/syndication/views.py b/Products/CMFPlone/browser/syndication/views.py\nindex 806e47bbc..cf1a13d92 100644\n--- a/Products/CMFPlone/browser/syndication/views.py\n+++ b/Products/CMFPlone/browser/syndication/views.py\n@@ -1,20 +1,20 @@\n # -*- coding: utf-8 -*-\n from DateTime import DateTime\n-from uuid import uuid3\n-from uuid import NAMESPACE_OID\n-from zope.component import queryAdapter\n-from zope.component import getMultiAdapter\n-from zope.cachedescriptors.property import Lazy as lazy_property\n-from Products.Five import BrowserView\n-from zExceptions import NotFound\n-\n-from Products.CMFPlone.interfaces.syndication import ISearchFeed\n+from plone.z3cform.layout import wrap_form\n+from Products.CMFPlone import PloneMessageFactory as _\n from Products.CMFPlone.interfaces.syndication import IFeed\n from Products.CMFPlone.interfaces.syndication import IFeedSettings\n-from Products.CMFPlone import PloneMessageFactory as _\n-\n-from z3c.form import form, button, field\n-from plone.app.z3cform.layout import wrap_form\n+from Products.CMFPlone.interfaces.syndication import ISearchFeed\n+from Products.Five import BrowserView\n+from uuid import NAMESPACE_OID\n+from uuid import uuid3\n+from z3c.form import button\n+from z3c.form import field\n+from z3c.form import form\n+from zExceptions import NotFound\n+from zope.cachedescriptors.property import Lazy as lazy_property\n+from zope.component import getMultiAdapter\n+from zope.component import queryAdapter\n \n \n class FeedView(BrowserView):\n@@ -81,9 +81,11 @@ def get_image(self, item):\n class SettingsForm(form.EditForm):\n     label = _(u'heading_syndication_properties',\n               default=u'Syndication Properties')\n-    description = _(u'description_syndication_properties',\n-                    default=u'Syndication enables you to syndicate this folder so it can'\n-                            u'be synchronized from other web sites.')\n+    description = _(\n+        u'description_syndication_properties',\n+        default=u'Syndication enables you to syndicate this folder so it can'\n+                u'be synchronized from other web sites.',\n+    )\n     fields = field.Fields(IFeedSettings)\n \n     @button.buttonAndHandler(_(u'Save'), name='save')\n@@ -93,4 +95,6 @@ def handleSave(self, action):\n             self.status = self.formErrorsMessage\n             return\n         self.applyChanges(data)\n+\n+\n SettingsFormView = wrap_form(SettingsForm)\ndiff --git a/news/2831.bugfix b/news/2831.bugfix\nnew file mode 100644\nindex 000000000..dc8fe018f\n--- /dev/null\n+++ b/news/2831.bugfix\n@@ -0,0 +1 @@\n+Fix DeprecationWarning in syndication-view. [jensens]\n\\ No newline at end of file\n"

