Repository: plone.batching


Branch: refs/heads/master
Date: 2023-01-23T23:16:32+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.batching/commit/1a26c248324178a06e275fb8023c1d503d6e5e28

Configuring for default

Files changed:
M .meta.toml
M lint-requirements.txt
M pyproject.toml
M setup.cfg
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 2144feb..69f54a4 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -7,4 +7,4 @@ additional-ignores = [\n \n [meta]\n template = "default"\n-commit-id = "6d382fce"\n+commit-id = "741efbc5"\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex dedd4cb..129db4d 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -1,6 +1,7 @@\n # Generated from:\n # https://github.com/plone/meta/tree/master/config/default\n black==22.12.0\n+check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\ndiff --git a/pyproject.toml b/pyproject.toml\nindex a5b1745..0f96c85 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -21,6 +21,21 @@ directory = "bugfix"\n name = "Bug fixes:"\n showcontent = true\n \n+[[tool.towncrier.type]]\n+directory = "internal"\n+name = "Internal:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "documentation"\n+name = "Documentation:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "tests"\n+name = "Tests"\n+showcontent = true\n+\n [tool.isort]\n profile = "plone"\n \ndiff --git a/setup.cfg b/setup.cfg\nindex 9576d6d..129dd19 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -19,4 +19,5 @@ ignore =\n ignore =\n     .editorconfig\n     .meta.toml\n+    tox.ini\n     conf.py\ndiff --git a/tox.ini b/tox.ini\nindex 0c34067..5d1a605 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -6,8 +6,8 @@ envlist =\n     lint\n \n [testenv]\n-py_files = find plone -name "*.py"\n-rst_files = find plone -name "*.rst"\n+py_files = git ls-files "*.py"\n+text_files = git ls-files "*.rst" "*.md"\n allowlist_externals =\n     sh\n \n@@ -20,9 +20,9 @@ deps =\n     black\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus *.py\'\n-    sh -c \'{[testenv]py_files} | xargs isort *.py\'\n-    sh -c \'{[testenv]py_files} | xargs black *.py\'\n+    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus\'\n+    sh -c \'{[testenv]py_files} | xargs isort\'\n+    sh -c \'{[testenv]py_files} | xargs black\'\n \n [testenv:lint]\n description = run linters that will help improve the code style\n@@ -30,8 +30,10 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    check-manifest\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs flake8 *.py\'\n-    sh -c \'{[testenv]py_files} | xargs codespell *.py\'\n-    sh -c \'{[testenv]rst_files} | xargs codespell *.rst\'\n+    sh -c \'{[testenv]py_files} | xargs flake8\'\n+    sh -c \'{[testenv]py_files} | xargs codespell\'\n+    sh -c \'{[testenv]text_files} | xargs codespell\'\n+    check-manifest\n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2023-01-24T09:35:27+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.batching/commit/3d9afa3500f90bbcd1a846ab95418b0e4575ac16

Add internal news snippet.

Files changed:
A news/34.internal

b'diff --git a/news/34.internal b/news/34.internal\nnew file mode 100644\nindex 0000000..9f00d73\n--- /dev/null\n+++ b/news/34.internal\n@@ -0,0 +1,2 @@\n+Update configuration for default Plone meta.\n+[maurits]\n'

Repository: plone.batching


Branch: refs/heads/master
Date: 2023-01-24T11:04:44+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.batching/commit/43ae50a643791cfa4ce4d8845b4518cf8d9b101c

Merge pull request #34 from plone/config-with-default-template-41d55d4b

Configuring for default

Files changed:
A news/34.internal
M .meta.toml
M lint-requirements.txt
M pyproject.toml
M setup.cfg
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 2144feb..69f54a4 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -7,4 +7,4 @@ additional-ignores = [\n \n [meta]\n template = "default"\n-commit-id = "6d382fce"\n+commit-id = "741efbc5"\ndiff --git a/lint-requirements.txt b/lint-requirements.txt\nindex dedd4cb..129db4d 100644\n--- a/lint-requirements.txt\n+++ b/lint-requirements.txt\n@@ -1,6 +1,7 @@\n # Generated from:\n # https://github.com/plone/meta/tree/master/config/default\n black==22.12.0\n+check-manifest==0.49\n codespell==2.2.2\n flake8==6.0.0\n isort==5.11.4\ndiff --git a/news/34.internal b/news/34.internal\nnew file mode 100644\nindex 0000000..9f00d73\n--- /dev/null\n+++ b/news/34.internal\n@@ -0,0 +1,2 @@\n+Update configuration for default Plone meta.\n+[maurits]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex a5b1745..0f96c85 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -21,6 +21,21 @@ directory = "bugfix"\n name = "Bug fixes:"\n showcontent = true\n \n+[[tool.towncrier.type]]\n+directory = "internal"\n+name = "Internal:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "documentation"\n+name = "Documentation:"\n+showcontent = true\n+\n+[[tool.towncrier.type]]\n+directory = "tests"\n+name = "Tests"\n+showcontent = true\n+\n [tool.isort]\n profile = "plone"\n \ndiff --git a/setup.cfg b/setup.cfg\nindex 9576d6d..129dd19 100644\n--- a/setup.cfg\n+++ b/setup.cfg\n@@ -19,4 +19,5 @@ ignore =\n ignore =\n     .editorconfig\n     .meta.toml\n+    tox.ini\n     conf.py\ndiff --git a/tox.ini b/tox.ini\nindex 0c34067..5d1a605 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -6,8 +6,8 @@ envlist =\n     lint\n \n [testenv]\n-py_files = find plone -name "*.py"\n-rst_files = find plone -name "*.rst"\n+py_files = git ls-files "*.py"\n+text_files = git ls-files "*.rst" "*.md"\n allowlist_externals =\n     sh\n \n@@ -20,9 +20,9 @@ deps =\n     black\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus *.py\'\n-    sh -c \'{[testenv]py_files} | xargs isort *.py\'\n-    sh -c \'{[testenv]py_files} | xargs black *.py\'\n+    sh -c \'{[testenv]py_files} | xargs pyupgrade --py38-plus\'\n+    sh -c \'{[testenv]py_files} | xargs isort\'\n+    sh -c \'{[testenv]py_files} | xargs black\'\n \n [testenv:lint]\n description = run linters that will help improve the code style\n@@ -30,8 +30,10 @@ skip_install = true\n deps =\n     flake8\n     codespell\n+    check-manifest\n     -c lint-requirements.txt\n commands =\n-    sh -c \'{[testenv]py_files} | xargs flake8 *.py\'\n-    sh -c \'{[testenv]py_files} | xargs codespell *.py\'\n-    sh -c \'{[testenv]rst_files} | xargs codespell *.rst\'\n+    sh -c \'{[testenv]py_files} | xargs flake8\'\n+    sh -c \'{[testenv]py_files} | xargs codespell\'\n+    sh -c \'{[testenv]text_files} | xargs codespell\'\n+    check-manifest\n'

