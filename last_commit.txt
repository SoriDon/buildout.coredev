Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T04:14:37-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/f243d8b19512638a19b2967c06b9c15fd0151a8d

Replace deprecated `egrep` with `grep` in `make docs-linkcheckbroken`

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex 68b71d6d..03a3bd83 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -170,7 +170,7 @@ linkcheck: deps  ## Run linkcheck\n \n .PHONY: linkcheckbroken\n linkcheckbroken: deps  ## Run linkcheck and show only broken links\n-\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' egrep -wi broken --color=auto\n+\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' grep -wi broken --color=auto\n \t@echo\n \t@echo "Link check complete; look for any errors in the above output " \\\n \t\t"or in $(BUILDDIR)/linkcheck/ ."\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T04:52:16-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/6ae99dafada60d3bd662da631447013bc890aa2d

Check for "redirect" as well as "broken" in linkcheckbroken

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex 03a3bd83..8c2a92b4 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -170,7 +170,7 @@ linkcheck: deps  ## Run linkcheck\n \n .PHONY: linkcheckbroken\n linkcheckbroken: deps  ## Run linkcheck and show only broken links\n-\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' grep -wi broken --color=auto\n+\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' grep -wi "broken\\|redirect" --color=auto\n \t@echo\n \t@echo "Link check complete; look for any errors in the above output " \\\n \t\t"or in $(BUILDDIR)/linkcheck/ ."\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-19T07:18:51-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/8cdffc7efdc5ee148e0c453b3cb16cb311c0c6d2

Merge pull request #1206 from plone/egrep-deprecated

Replace deprecated `egrep` with `grep` in `make docs-linkcheckbroken`

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex 68b71d6d..8c2a92b4 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -170,7 +170,7 @@ linkcheck: deps  ## Run linkcheck\n \n .PHONY: linkcheckbroken\n linkcheckbroken: deps  ## Run linkcheck and show only broken links\n-\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' egrep -wi broken --color=auto\n+\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' grep -wi "broken\\|redirect" --color=auto\n \t@echo\n \t@echo "Link check complete; look for any errors in the above output " \\\n \t\t"or in $(BUILDDIR)/linkcheck/ ."\n'

