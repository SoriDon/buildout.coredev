Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-01-19T18:13:29+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/5756af6e367dc9e6644f1cf00b03fa8bf92dadc9

fix timing problem in robottest using 'Wait until...'

Files changed:
M CHANGES.rst
M Products/CMFPlone/tests/robot/test_linkintegrity.robot
M Products/CMFPlone/tests/robot/test_querystring.robot

diff --git a/CHANGES.rst b/CHANGES.rst
index 550793e..aa7e94c 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New:
 
 Fixes:
 
+- Fix timing problem with robot framework tests.
+  [jensens]
+
 - Upgrade TinyMCE to 4.3
   [vangheem]
 
diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot
index a5d598e..0909ac0 100644
--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot
+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot
@@ -78,7 +78,7 @@ should show warning when deleting page
   Go To  ${PLONE_URL}/foo
   Click Link  css=#plone-contentmenu-actions a
   Click Link  css=#plone-contentmenu-actions-delete
-  Page should contain element  css=.breach-container .breach-item
+  Wait until page contains element  css=.breach-container .breach-item
 
 
 should show warning when deleting page from folder_contents
diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot
index bf94e6a..b8a4284 100644
--- a/Products/CMFPlone/tests/robot/test_querystring.robot
+++ b/Products/CMFPlone/tests/robot/test_querystring.robot
@@ -34,7 +34,7 @@ Scenario: Location query
 the querystring pattern
     #We go the /a to give more useful query results
     Go to  ${PLONE_URL}/a/++add++Collection
-    Page should contain element  css=.pat-querystring
+    Wait until page contains element  css=.pat-querystring
     Given querystring pattern loaded
 
 querystring pattern loaded


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-01-19T21:37:04+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/389431262d1aa71a2a3b613e3dd86f824fc3b5dd

Merge pull request #1321 from plone/fix-timing-problem-robottest

fix timing problem in robottest using 'Wait until...'

Files changed:
M CHANGES.rst
M Products/CMFPlone/tests/robot/test_linkintegrity.robot
M Products/CMFPlone/tests/robot/test_querystring.robot

diff --git a/CHANGES.rst b/CHANGES.rst
index 550793e..aa7e94c 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New:
 
 Fixes:
 
+- Fix timing problem with robot framework tests.
+  [jensens]
+
 - Upgrade TinyMCE to 4.3
   [vangheem]
 
diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot
index a5d598e..0909ac0 100644
--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot
+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot
@@ -78,7 +78,7 @@ should show warning when deleting page
   Go To  ${PLONE_URL}/foo
   Click Link  css=#plone-contentmenu-actions a
   Click Link  css=#plone-contentmenu-actions-delete
-  Page should contain element  css=.breach-container .breach-item
+  Wait until page contains element  css=.breach-container .breach-item
 
 
 should show warning when deleting page from folder_contents
diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot
index bf94e6a..b8a4284 100644
--- a/Products/CMFPlone/tests/robot/test_querystring.robot
+++ b/Products/CMFPlone/tests/robot/test_querystring.robot
@@ -34,7 +34,7 @@ Scenario: Location query
 the querystring pattern
     #We go the /a to give more useful query results
     Go to  ${PLONE_URL}/a/++add++Collection
-    Page should contain element  css=.pat-querystring
+    Wait until page contains element  css=.pat-querystring
     Given querystring pattern loaded
 
 querystring pattern loaded


