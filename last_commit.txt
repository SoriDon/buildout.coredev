Repository: plone.app.caching


Branch: refs/heads/master
Date: 2021-11-10T17:19:44+01:00
Author: Víctor Fernández de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.caching/commit/ebfe5e8cf8752f4af3db267873b530a5362658b1

Remove translations endpoint test because it does not have the correct fixture (#88)

Files changed:
A news/87.bugfix
M plone/app/caching/tests/test_profile_with_caching_proxy.py
M plone/app/caching/tests/test_profile_without_caching_proxy.py

b'diff --git a/news/87.bugfix b/news/87.bugfix\nnew file mode 100644\nindex 0000000..dc90004\n--- /dev/null\n+++ b/news/87.bugfix\n@@ -0,0 +1,2 @@\n+Remove translations endpoint test because it does not have the correct fixture\n+[sneridagh]\ndiff --git a/plone/app/caching/tests/test_profile_with_caching_proxy.py b/plone/app/caching/tests/test_profile_with_caching_proxy.py\nindex aeec7c4..78a990e 100644\n--- a/plone/app/caching/tests/test_profile_with_caching_proxy.py\n+++ b/plone/app/caching/tests/test_profile_with_caching_proxy.py\n@@ -729,15 +729,6 @@ def test_restapi_content(self):\n             response.headers["X-Cache-Operation"], "plone.app.caching.terseCaching"\n         )\n \n-    def test_restapi_translationinfo(self):\n-        # plone.content.dynamic for plone.restapi.services.multilingual.pam.TranslationInfo\n-        response = self.api_session.get("/f1/f2/@translations")\n-        self.assertEqual(response.status_code, 200)\n-        self.assertEqual(response.headers["X-Cache-Rule"], "plone.content.dynamic")\n-        self.assertEqual(\n-            response.headers["X-Cache-Operation"], "plone.app.caching.terseCaching"\n-        )\n-\n     def test_restapi_navigation(self):\n         # plone.content.dynamic for plone.restapi.services.navigation.get.NavigationGet\n         response = self.api_session.get("/f1/f2/@navigation")\ndiff --git a/plone/app/caching/tests/test_profile_without_caching_proxy.py b/plone/app/caching/tests/test_profile_without_caching_proxy.py\nindex 3dda74a..897eb26 100644\n--- a/plone/app/caching/tests/test_profile_without_caching_proxy.py\n+++ b/plone/app/caching/tests/test_profile_without_caching_proxy.py\n@@ -622,15 +622,6 @@ def test_restapi_content(self):\n             response.headers["X-Cache-Operation"], "plone.app.caching.terseCaching"\n         )\n \n-    def test_restapi_translationinfo(self):\n-        # plone.content.dynamic for plone.restapi.services.multilingual.pam.TranslationInfo\n-        response = self.api_session.get("/f1/f2/@translations")\n-        self.assertEqual(response.status_code, 200)\n-        self.assertEqual(response.headers["X-Cache-Rule"], "plone.content.dynamic")\n-        self.assertEqual(\n-            response.headers["X-Cache-Operation"], "plone.app.caching.terseCaching"\n-        )\n-\n     def test_restapi_navigation(self):\n         # plone.content.dynamic for plone.restapi.services.navigation.get.NavigationGet\n         response = self.api_session.get("/f1/f2/@navigation")\n'

