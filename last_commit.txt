Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2023-03-15T09:40:11+01:00
Author: Laurent Lasudry (laulaz) <lasudry@gmail.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/0bfaeaec1a4960790e92764f9e46dc0bf9d22e98

Fix relative URLs validation in link widget

This refs #160

Files changed:
A news/160.bugfix
M plone/app/z3cform/templates/link_input.pt

b'diff --git a/news/160.bugfix b/news/160.bugfix\nnew file mode 100644\nindex 00000000..b1093c69\n--- /dev/null\n+++ b/news/160.bugfix\n@@ -0,0 +1,2 @@\n+Fix relative URLs validation in link widget\n+[laulaz]\n\\ No newline at end of file\ndiff --git a/plone/app/z3cform/templates/link_input.pt b/plone/app/z3cform/templates/link_input.pt\nindex c69ad1c0..1c747a34 100644\n--- a/plone/app/z3cform/templates/link_input.pt\n+++ b/plone/app/z3cform/templates/link_input.pt\n@@ -25,7 +25,7 @@\n         <span class="linkLabel d-none" i18n:translate="label_external_url">External</span>\n         <div class="mb-3 main">\n           <label class="form-label" for="external" i18n:translate="help_external_url">External URL (can be relative within this site or absolute if it starts with http:// or https://)</label>\n-          <input class="form-control" type="url" name="external" placeholder="https://domain.com"\n+          <input class="form-control" type="text" name="external" placeholder="https://domain.com"\n                  tal:attributes="name string:${view/name}.external;\n                                  value value" />\n         </div>\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2023-03-16T23:49:37+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.z3cform/commit/49f098bb708b80a4925d91fef6d0fe6443019941

Merge pull request #161 from plone/fix-relative-urls-validation

Fix relative URLs validation in link widget

Files changed:
A news/160.bugfix
M plone/app/z3cform/templates/link_input.pt

b'diff --git a/news/160.bugfix b/news/160.bugfix\nnew file mode 100644\nindex 00000000..b1093c69\n--- /dev/null\n+++ b/news/160.bugfix\n@@ -0,0 +1,2 @@\n+Fix relative URLs validation in link widget\n+[laulaz]\n\\ No newline at end of file\ndiff --git a/plone/app/z3cform/templates/link_input.pt b/plone/app/z3cform/templates/link_input.pt\nindex c69ad1c0..1c747a34 100644\n--- a/plone/app/z3cform/templates/link_input.pt\n+++ b/plone/app/z3cform/templates/link_input.pt\n@@ -25,7 +25,7 @@\n         <span class="linkLabel d-none" i18n:translate="label_external_url">External</span>\n         <div class="mb-3 main">\n           <label class="form-label" for="external" i18n:translate="help_external_url">External URL (can be relative within this site or absolute if it starts with http:// or https://)</label>\n-          <input class="form-control" type="url" name="external" placeholder="https://domain.com"\n+          <input class="form-control" type="text" name="external" placeholder="https://domain.com"\n                  tal:attributes="name string:${view/name}.external;\n                                  value value" />\n         </div>\n'

