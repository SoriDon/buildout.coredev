Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-02-29T12:17:42+01:00
Author: Eric BREHAULT (ebrehault) <ebrehault@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/013f9b06c9ff3df20a83a18125526dd3c0e2ad28

Fix standard_error_message JSON response

Files changed:
M Products/CMFPlone/skins/plone_templates/standard_error_message.py

diff --git a/Products/CMFPlone/skins/plone_templates/standard_error_message.py b/Products/CMFPlone/skins/plone_templates/standard_error_message.py
index 7879337..541dab9 100644
--- a/Products/CMFPlone/skins/plone_templates/standard_error_message.py
+++ b/Products/CMFPlone/skins/plone_templates/standard_error_message.py
@@ -29,7 +29,7 @@
 
 if "text/html" not in context.REQUEST.getHeader('Accept', ''):
     context.REQUEST.RESPONSE.setHeader("Content-Type", "application/json")
-    return '{"error_type": "{0:s}"}'.format(error_type)
+    return '{{"error_type": "{0:s}"}}'.format(error_type)
 
 if error_log_url:
     error_log_id = error_log_url.split('?id=')[1]


