Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2018-12-24T13:24:56+01:00
Author: nzambello (nzambello) <nicola.zambello@redturtle.it>
Commit: https://github.com/plone/plone.app.discussion/commit/4973670ea1cac6aafeac3f4533c40ae0855e753e

[a11y] Added role attribute for portalMessage

Files changed:
M CHANGES.rst
M plone/app/discussion/browser/controlpanel.pt
M plone/app/discussion/browser/moderation.pt

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex abce5e07..3faf4817 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -18,6 +18,9 @@ Bug fixes:\n   because in some version of FF and IE doesn\'t work.\n   [eikichi18]\n \n+- a11y: Added role attribute for portalMessage\n+  [nzambello]\n+\n \n 3.1.0 (2018-10-30)\n ------------------\ndiff --git a/plone/app/discussion/browser/controlpanel.pt b/plone/app/discussion/browser/controlpanel.pt\nindex faca5317..b62a447e 100644\n--- a/plone/app/discussion/browser/controlpanel.pt\n+++ b/plone/app/discussion/browser/controlpanel.pt\n@@ -11,7 +11,8 @@\n      metal:fill-slot="prefs_configlet_content">\n \n     <div class="portalMessage warning"\n-        tal:condition="view/mailhost_warning">\n+         role="status"\n+         tal:condition="view/mailhost_warning">\n         <strong i18n:translate="">\n             Warning\n         </strong>\n@@ -30,7 +31,8 @@\n     </div>\n \n     <div class="portalMessage warning"\n-        tal:condition="view/custom_comment_workflow_warning">\n+         role="status"\n+         tal:condition="view/custom_comment_workflow_warning">\n         <strong i18n:translate="">\n             Warning\n         </strong>\ndiff --git a/plone/app/discussion/browser/moderation.pt b/plone/app/discussion/browser/moderation.pt\nindex fbe01366..797c18ab 100644\n--- a/plone/app/discussion/browser/moderation.pt\n+++ b/plone/app/discussion/browser/moderation.pt\n@@ -26,7 +26,8 @@\n         </h1>\n \n         <div class="portalMessage warning"\n-            tal:condition="not: view/moderation_enabled">\n+             role="status"\n+             tal:condition="not: view/moderation_enabled">\n             <strong i18n:translate="">Warning</strong>\n             <span tal:omit-tag="" i18n:translate="message_moderation_disabled">\n                 Moderation workflow is disabled. You have to\n'

Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2019-01-05T22:20:14+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.discussion/commit/5dcc6d1c653df77093b93c51ed61c5c71031dcbd

Merge pull request #145 from nzambello/nzambello_a11y_portalMessage

[a11y] Added role attribute for portalMessage

Files changed:
M CHANGES.rst
M plone/app/discussion/browser/controlpanel.pt
M plone/app/discussion/browser/moderation.pt

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex abce5e07..3faf4817 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -18,6 +18,9 @@ Bug fixes:\n   because in some version of FF and IE doesn\'t work.\n   [eikichi18]\n \n+- a11y: Added role attribute for portalMessage\n+  [nzambello]\n+\n \n 3.1.0 (2018-10-30)\n ------------------\ndiff --git a/plone/app/discussion/browser/controlpanel.pt b/plone/app/discussion/browser/controlpanel.pt\nindex faca5317..b62a447e 100644\n--- a/plone/app/discussion/browser/controlpanel.pt\n+++ b/plone/app/discussion/browser/controlpanel.pt\n@@ -11,7 +11,8 @@\n      metal:fill-slot="prefs_configlet_content">\n \n     <div class="portalMessage warning"\n-        tal:condition="view/mailhost_warning">\n+         role="status"\n+         tal:condition="view/mailhost_warning">\n         <strong i18n:translate="">\n             Warning\n         </strong>\n@@ -30,7 +31,8 @@\n     </div>\n \n     <div class="portalMessage warning"\n-        tal:condition="view/custom_comment_workflow_warning">\n+         role="status"\n+         tal:condition="view/custom_comment_workflow_warning">\n         <strong i18n:translate="">\n             Warning\n         </strong>\ndiff --git a/plone/app/discussion/browser/moderation.pt b/plone/app/discussion/browser/moderation.pt\nindex fbe01366..797c18ab 100644\n--- a/plone/app/discussion/browser/moderation.pt\n+++ b/plone/app/discussion/browser/moderation.pt\n@@ -26,7 +26,8 @@\n         </h1>\n \n         <div class="portalMessage warning"\n-            tal:condition="not: view/moderation_enabled">\n+             role="status"\n+             tal:condition="not: view/moderation_enabled">\n             <strong i18n:translate="">Warning</strong>\n             <span tal:omit-tag="" i18n:translate="message_moderation_disabled">\n                 Moderation workflow is disabled. You have to\n'

