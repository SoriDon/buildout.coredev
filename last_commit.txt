Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-10-27T06:28:34+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.restapi/commit/12883f95a9790fffa0f62b91d1b213f696328dfb

Add performance test for 10k folder

Files changed:
M performance.jmx
M volto.jmx

b'diff --git a/performance.jmx b/performance.jmx\nindex dd8a3e959..96ee11f5f 100644\n--- a/performance.jmx\n+++ b/performance.jmx\n@@ -1,5 +1,5 @@\n <?xml version="1.0" encoding="UTF-8"?>\n-<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.2.1">\n+<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.4.1">\n   <hashTree>\n     <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="plone.restapi" enabled="true">\n       <stringProp name="TestPlan.comments"></stringProp>\n@@ -1394,6 +1394,33 @@\n           <stringProp name="filename"></stringProp>\n         </ResultCollector>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Folder with 10k items" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/folder-with-10k-items</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n       </hashTree>\n       <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Volto Images (Read)" enabled="false">\n         <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>\n@@ -1443,6 +1470,8 @@\n         <hashTree/>\n         <com.blazemeter.jmeter.controller.ParallelSampler guiclass="com.blazemeter.jmeter.controller.ParallelControllerGui" testclass="com.blazemeter.jmeter.controller.ParallelSampler" testname="Volto Page with 30 images" enabled="true">\n           <boolProp name="PARENT_SAMPLE">false</boolProp>\n+          <intProp name="MAX_THREAD_NUMBER">6</intProp>\n+          <boolProp name="LIMIT_MAX_THREAD_NUMBER">false</boolProp>\n         </com.blazemeter.jmeter.controller.ParallelSampler>\n         <hashTree>\n           <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Image 01 (Large)" enabled="true">\n@@ -2168,6 +2197,8 @@\n         <hashTree/>\n         <com.blazemeter.jmeter.controller.ParallelSampler guiclass="com.blazemeter.jmeter.controller.ParallelControllerGui" testclass="com.blazemeter.jmeter.controller.ParallelSampler" testname="Volto Front Page" enabled="true">\n           <boolProp name="PARENT_SAMPLE">false</boolProp>\n+          <intProp name="MAX_THREAD_NUMBER">6</intProp>\n+          <boolProp name="LIMIT_MAX_THREAD_NUMBER">false</boolProp>\n         </com.blazemeter.jmeter.controller.ParallelSampler>\n         <hashTree>\n           <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="News Item 01 (Image 1600px)" enabled="true">\ndiff --git a/volto.jmx b/volto.jmx\nindex 54c31d004..8dcf44019 100644\n--- a/volto.jmx\n+++ b/volto.jmx\n@@ -1,5 +1,5 @@\n <?xml version="1.0" encoding="UTF-8"?>\n-<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.2.1">\n+<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.4.1">\n   <hashTree>\n     <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="Volto" enabled="true">\n       <stringProp name="TestPlan.comments"></stringProp>\n@@ -75,6 +75,8 @@\n         <hashTree/>\n         <com.blazemeter.jmeter.controller.ParallelSampler guiclass="com.blazemeter.jmeter.controller.ParallelControllerGui" testclass="com.blazemeter.jmeter.controller.ParallelSampler" testname="Volto Page 30 Images" enabled="true">\n           <boolProp name="PARENT_SAMPLE">false</boolProp>\n+          <intProp name="MAX_THREAD_NUMBER">6</intProp>\n+          <boolProp name="LIMIT_MAX_THREAD_NUMBER">false</boolProp>\n         </com.blazemeter.jmeter.controller.ParallelSampler>\n         <hashTree>\n           <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Image 01 (Large)" enabled="true">\n@@ -800,6 +802,8 @@\n         <hashTree/>\n         <com.blazemeter.jmeter.controller.ParallelSampler guiclass="com.blazemeter.jmeter.controller.ParallelControllerGui" testclass="com.blazemeter.jmeter.controller.ParallelSampler" testname="Volto 30 News Items" enabled="true">\n           <boolProp name="PARENT_SAMPLE">false</boolProp>\n+          <intProp name="MAX_THREAD_NUMBER">6</intProp>\n+          <boolProp name="LIMIT_MAX_THREAD_NUMBER">false</boolProp>\n         </com.blazemeter.jmeter.controller.ParallelSampler>\n         <hashTree>\n           <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="News Item 01 (Image 1600px)" enabled="true">\n'

