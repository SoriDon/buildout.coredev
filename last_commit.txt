Repository: plone.app.testing


Branch: refs/heads/master
Date: 2016-01-26T16:58:45+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.testing/commit/47069c7c35bcfb2447ef6ee610afce753e8dbd68

Depend on zope.testrunner and fix deprecated usage of zope.testing.testrunner.

Files changed:
M CHANGES.rst
M plone/app/testing/helpers.rst
M plone/app/testing/layers.rst
M plone/app/testing/selenium.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 8b2a4e4..e12ee40 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Depend on ``zope.testrunner`` and fix deprecated usage of ``zope.testing.testrunner``.
+  [thet]
 
 
 5.0b6 (2015-08-22)
diff --git a/plone/app/testing/helpers.rst b/plone/app/testing/helpers.rst
index a0dc618..9ce0ca4 100644
--- a/plone/app/testing/helpers.rst
+++ b/plone/app/testing/helpers.rst
@@ -12,7 +12,7 @@ their canonical locations at ``plone.app.testing.helpers``.
 
 For testing, we need a testrunner
 
-    >>> from zope.testing.testrunner import runner
+    >>> from zope.testrunner import runner
 
 Let's create a custom fixture layer that exercises these helpers. In this
 layer, we will perform the following setup:
diff --git a/plone/app/testing/layers.rst b/plone/app/testing/layers.rst
index a1d238f..ba19c84 100644
--- a/plone/app/testing/layers.rst
+++ b/plone/app/testing/layers.rst
@@ -9,7 +9,8 @@ their canonical locations at ``plone.app.testing.layers``.
 
 For testing, we need a testrunner
 
-    >>> from zope.testing.testrunner import runner
+    >>> from zope.testrunner import runner
+    
 
 Plone site fixture
 ~~~~~~~~~~~~~~~~~~
diff --git a/plone/app/testing/selenium.rst b/plone/app/testing/selenium.rst
index acc067e..f03719a 100644
--- a/plone/app/testing/selenium.rst
+++ b/plone/app/testing/selenium.rst
@@ -44,7 +44,7 @@ and then kill the backgrouned process.
 
 For testing, we need a testrunner
 
-    >>> from zope.testing.testrunner import runner
+    >>> from zope.testrunner import runner
 
 The ``SELENIUM_PLONE_FUNCTIONAL_TESTING`` layer instantiates the
 ``FunctionalTesting`` class with two bases: ``SELENIUM_FIXTURE``, as
diff --git a/setup.py b/setup.py
index 557124b..00ccb37 100644
--- a/setup.py
+++ b/setup.py
@@ -12,6 +12,7 @@
                  'transaction',
                  'zope.interface',
                  'zope.publisher',
+                 'zope.testrunner',
                  ]
 
 robot_require = ['robotsuite>=1.4.0',


Repository: plone.app.testing


Branch: refs/heads/master
Date: 2016-01-26T17:12:00+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.testing/commit/307a10e4edfe9ac652a3a310c24967c90451d08c

teardown order is different with zope.testrunner

Files changed:
M plone/app/testing/layers.rst

diff --git a/plone/app/testing/layers.rst b/plone/app/testing/layers.rst
index ba19c84..6913882 100644
--- a/plone/app/testing/layers.rst
+++ b/plone/app/testing/layers.rst
@@ -367,8 +367,8 @@ When the server is torn down, the ZServer thread is stopped.
 
     >>> runner.tear_down_unneeded(options, [], setupLayers)
     Tear down plone.app.testing.layers.Plone:ZServer in ... seconds.
-    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
     Tear down plone.testing.z2.ZServer in ... seconds.
+    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
     Tear down plone.testing.z2.Startup in ... seconds.
     Tear down plone.testing.zca.LayerCleanup in ... seconds.
 
@@ -486,8 +486,8 @@ When the server is torn down, the FTP server thread is stopped.
 
     >>> runner.tear_down_unneeded(options, [], setupLayers)
     Tear down plone.app.testing.layers.Plone:FTPServer in ... seconds.
-    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
     Tear down plone.testing.z2.FTPServer in ... seconds.
+    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
     Tear down plone.testing.z2.Startup in ... seconds.
     Tear down plone.testing.zca.LayerCleanup in ... seconds.
 


Repository: plone.app.testing


Branch: refs/heads/master
Date: 2016-01-29T15:00:27+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.testing/commit/85d8f5c39511b72a65c9ef7418ccba98edbc6767

Fix layers.rst doctest to be compatible with older and newer zope.testrunner layer ordering.

Files changed:
M CHANGES.rst
M plone/app/testing/layers.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index e12ee40..55a98f4 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ New:
 
 Fixes:
 
+- Fix ``layers.rst`` doctest to be compatible with older and newer zope.testrunner layer ordering.
+  [thet]
+
 - Depend on ``zope.testrunner`` and fix deprecated usage of ``zope.testing.testrunner``.
   [thet]
 
diff --git a/plone/app/testing/layers.rst b/plone/app/testing/layers.rst
index 6913882..670f7c5 100644
--- a/plone/app/testing/layers.rst
+++ b/plone/app/testing/layers.rst
@@ -367,9 +367,8 @@ When the server is torn down, the ZServer thread is stopped.
 
     >>> runner.tear_down_unneeded(options, [], setupLayers)
     Tear down plone.app.testing.layers.Plone:ZServer in ... seconds.
-    Tear down plone.testing.z2.ZServer in ... seconds.
-    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
-    Tear down plone.testing.z2.Startup in ... seconds.
+    ...Tear down plone.app.testing.layers.PloneFixture in ... seconds.
+    ...Tear down plone.testing.z2.Startup in ... seconds.
     Tear down plone.testing.zca.LayerCleanup in ... seconds.
 
     >>> conn = urllib2.urlopen(portal_url + '/folder1', timeout=5)
@@ -486,9 +485,8 @@ When the server is torn down, the FTP server thread is stopped.
 
     >>> runner.tear_down_unneeded(options, [], setupLayers)
     Tear down plone.app.testing.layers.Plone:FTPServer in ... seconds.
-    Tear down plone.testing.z2.FTPServer in ... seconds.
-    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
-    Tear down plone.testing.z2.Startup in ... seconds.
+    ...Tear down plone.app.testing.layers.PloneFixture in ... seconds.
+    ...Tear down plone.testing.z2.Startup in ... seconds.
     Tear down plone.testing.zca.LayerCleanup in ... seconds.
 
     >>> ftpClient.connect(host, port, timeout=5)


Repository: plone.app.testing


Branch: refs/heads/master
Date: 2016-01-29T16:37:10+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.testing/commit/bc0589f53070f07098c9dc54689aa757dcdfb80e

Merge pull request #20 from plone/thet-zope4

Zope4

Files changed:
M CHANGES.rst
M plone/app/testing/helpers.rst
M plone/app/testing/layers.rst
M plone/app/testing/selenium.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 8b2a4e4..55a98f4 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,11 @@ New:
 
 Fixes:
 
-- *add item here*
+- Fix ``layers.rst`` doctest to be compatible with older and newer zope.testrunner layer ordering.
+  [thet]
+
+- Depend on ``zope.testrunner`` and fix deprecated usage of ``zope.testing.testrunner``.
+  [thet]
 
 
 5.0b6 (2015-08-22)
diff --git a/plone/app/testing/helpers.rst b/plone/app/testing/helpers.rst
index a0dc618..9ce0ca4 100644
--- a/plone/app/testing/helpers.rst
+++ b/plone/app/testing/helpers.rst
@@ -12,7 +12,7 @@ their canonical locations at ``plone.app.testing.helpers``.
 
 For testing, we need a testrunner
 
-    >>> from zope.testing.testrunner import runner
+    >>> from zope.testrunner import runner
 
 Let's create a custom fixture layer that exercises these helpers. In this
 layer, we will perform the following setup:
diff --git a/plone/app/testing/layers.rst b/plone/app/testing/layers.rst
index a1d238f..670f7c5 100644
--- a/plone/app/testing/layers.rst
+++ b/plone/app/testing/layers.rst
@@ -9,7 +9,8 @@ their canonical locations at ``plone.app.testing.layers``.
 
 For testing, we need a testrunner
 
-    >>> from zope.testing.testrunner import runner
+    >>> from zope.testrunner import runner
+    
 
 Plone site fixture
 ~~~~~~~~~~~~~~~~~~
@@ -366,9 +367,8 @@ When the server is torn down, the ZServer thread is stopped.
 
     >>> runner.tear_down_unneeded(options, [], setupLayers)
     Tear down plone.app.testing.layers.Plone:ZServer in ... seconds.
-    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
-    Tear down plone.testing.z2.ZServer in ... seconds.
-    Tear down plone.testing.z2.Startup in ... seconds.
+    ...Tear down plone.app.testing.layers.PloneFixture in ... seconds.
+    ...Tear down plone.testing.z2.Startup in ... seconds.
     Tear down plone.testing.zca.LayerCleanup in ... seconds.
 
     >>> conn = urllib2.urlopen(portal_url + '/folder1', timeout=5)
@@ -485,9 +485,8 @@ When the server is torn down, the FTP server thread is stopped.
 
     >>> runner.tear_down_unneeded(options, [], setupLayers)
     Tear down plone.app.testing.layers.Plone:FTPServer in ... seconds.
-    Tear down plone.app.testing.layers.PloneFixture in ... seconds.
-    Tear down plone.testing.z2.FTPServer in ... seconds.
-    Tear down plone.testing.z2.Startup in ... seconds.
+    ...Tear down plone.app.testing.layers.PloneFixture in ... seconds.
+    ...Tear down plone.testing.z2.Startup in ... seconds.
     Tear down plone.testing.zca.LayerCleanup in ... seconds.
 
     >>> ftpClient.connect(host, port, timeout=5)
diff --git a/plone/app/testing/selenium.rst b/plone/app/testing/selenium.rst
index acc067e..f03719a 100644
--- a/plone/app/testing/selenium.rst
+++ b/plone/app/testing/selenium.rst
@@ -44,7 +44,7 @@ and then kill the backgrouned process.
 
 For testing, we need a testrunner
 
-    >>> from zope.testing.testrunner import runner
+    >>> from zope.testrunner import runner
 
 The ``SELENIUM_PLONE_FUNCTIONAL_TESTING`` layer instantiates the
 ``FunctionalTesting`` class with two bases: ``SELENIUM_FIXTURE``, as
diff --git a/setup.py b/setup.py
index 557124b..00ccb37 100644
--- a/setup.py
+++ b/setup.py
@@ -12,6 +12,7 @@
                  'transaction',
                  'zope.interface',
                  'zope.publisher',
+                 'zope.testrunner',
                  ]
 
 robot_require = ['robotsuite>=1.4.0',


