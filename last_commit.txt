Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-03-30T15:55:46+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.schemaeditor/commit/950b1f06ada2067f16c34e9df857247568b6a311

ignore validation for schemalisting buttons

Files changed:
M plone/schemaeditor/browser/schema/listing.py

b'diff --git a/plone/schemaeditor/browser/schema/listing.py b/plone/schemaeditor/browser/schema/listing.py\nindex 6a6152e..cf50cb5 100644\n--- a/plone/schemaeditor/browser/schema/listing.py\n+++ b/plone/schemaeditor/browser/schema/listing.py\n@@ -133,6 +133,12 @@ def handleSaveDefaults(self, action):\n         # update widgets to take the new defaults into account\n         self.updateWidgets()\n \n+    def updateActions(self):\n+        super().updateActions()\n+        for a in self.actions:\n+            # ignore validation\n+            self.actions[a].ignoreRequiredOnValidation = True\n+\n \n class ReadOnlySchemaListing(SchemaListing):\n     buttons = button.Buttons()\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-03-30T15:57:56+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.schemaeditor/commit/0e7f294c105f2f9fe9e9e0c8ec70b5224d0ec013

add changelog

Files changed:
A news/87.bugfix

b'diff --git a/news/87.bugfix b/news/87.bugfix\nnew file mode 100644\nindex 0000000..73629fe\n--- /dev/null\n+++ b/news/87.bugfix\n@@ -0,0 +1,2 @@\n+ignore validation for schemalisting buttons\n+[petschki]\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2022-03-31T09:59:05+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.schemaeditor/commit/caeb8348e40a3d7da0e0d62fc4593c517073ccea

Merge pull request #87 from plone/ignore-validation

ignore validation for schemalisting buttons

Files changed:
A news/87.bugfix
M plone/schemaeditor/browser/schema/listing.py

b'diff --git a/news/87.bugfix b/news/87.bugfix\nnew file mode 100644\nindex 0000000..73629fe\n--- /dev/null\n+++ b/news/87.bugfix\n@@ -0,0 +1,2 @@\n+ignore validation for schemalisting buttons\n+[petschki]\ndiff --git a/plone/schemaeditor/browser/schema/listing.py b/plone/schemaeditor/browser/schema/listing.py\nindex 6a6152e..cf50cb5 100644\n--- a/plone/schemaeditor/browser/schema/listing.py\n+++ b/plone/schemaeditor/browser/schema/listing.py\n@@ -133,6 +133,12 @@ def handleSaveDefaults(self, action):\n         # update widgets to take the new defaults into account\n         self.updateWidgets()\n \n+    def updateActions(self):\n+        super().updateActions()\n+        for a in self.actions:\n+            # ignore validation\n+            self.actions[a].ignoreRequiredOnValidation = True\n+\n \n class ReadOnlySchemaListing(SchemaListing):\n     buttons = button.Buttons()\n'

