Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-01-24T12:54:45+05:30
Author: nileshgulia1 (nileshgulia1) <nileshgulia@gmail.com>
Commit: https://github.com/plone/documentation/commit/468e5c19dccf5e5180aa24d6282ccd0eb7b12dcd

hide toc div when no content to show(#1155)

Files changed:
M docs/_static/searchtools.js
M docs/_templates/page.html

b'diff --git a/docs/_static/searchtools.js b/docs/_static/searchtools.js\nindex b8b11aaa..23ed8bf5 100644\n--- a/docs/_static/searchtools.js\n+++ b/docs/_static/searchtools.js\n@@ -544,7 +544,9 @@ var Search = {\n \n $(document).ready(function() {\n   Search.init();\n-\n+  if ($.trim($(".topbar-contents .bd-toc").html()) === "") {\n+    $(".topbar-contents .bd-toc").css("visibility", "hidden");\n+  }\n   $(\'select[name="doc_section"]\').change(function() {\n     this.form.submit();\n   });\ndiff --git a/docs/_templates/page.html b/docs/_templates/page.html\nindex a087886b..24f36497 100644\n--- a/docs/_templates/page.html\n+++ b/docs/_templates/page.html\n@@ -7,6 +7,9 @@\n {% block footer %}\n     <script type="text/javascript">\n         $(document).ready(function() {\n+            if ($.trim($(".topbar-contents .bd-toc").html()) === "") {\n+                $(".topbar-contents .bd-toc").css("visibility", "hidden");\n+            }\n             $(".toggle > *").hide();\n             $(".toggle .admonition-title").show();\n             $(".toggle .admonition-title").click(function() {\n'

