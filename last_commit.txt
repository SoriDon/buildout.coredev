Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2022-12-21T11:51:33+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.upgrade/commit/744a218bb3eb331e28264f5b53946ebfaca11c0e

Update `Products.CMFPlone:dependencies` (plone.base) registry

Files changed:
M plone/app/upgrade/v60/configure.zcml

b'diff --git a/plone/app/upgrade/v60/configure.zcml b/plone/app/upgrade/v60/configure.zcml\nindex 02b23226..a7e9931e 100644\n--- a/plone/app/upgrade/v60/configure.zcml\n+++ b/plone/app/upgrade/v60/configure.zcml\n@@ -226,11 +226,10 @@\n         >\n         <!-- Plone 6.0.1 -->\n \n-        <gs:upgradeStep\n-            title="Miscellaneous"\n-            description=""\n-            handler="..utils.null_upgrade_step"\n-            />\n+        <gs:upgradeDepends\n+            title="Update Products.CMFPlone registry"\n+            import_profile="Products.CMFPlone:dependencies"\n+            import_steps="plone.app.registry" />\n \n     </gs:upgradeSteps>\n \n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2022-12-21T11:54:23+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.upgrade/commit/e1f36c74f0faaf83aa92747f9e97abd8290c3b2c

changenote

Files changed:
A news/308.bugfix

b'diff --git a/news/308.bugfix b/news/308.bugfix\nnew file mode 100644\nindex 00000000..49a1cbbb\n--- /dev/null\n+++ b/news/308.bugfix\n@@ -0,0 +1,2 @@\n+Update `plone.base` registry entries.\n+[petschki]\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2023-01-16T08:34:35+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.upgrade/commit/cfe87b4c92ac795d79c87c6459e8565244b6ca84

only add the new plugin name to registry

Files changed:
A plone/app/upgrade/v60/profiles/to6012/registry.xml
M plone/app/upgrade/v60/configure.zcml
M plone/app/upgrade/v60/profiles.zcml

b'diff --git a/plone/app/upgrade/v60/configure.zcml b/plone/app/upgrade/v60/configure.zcml\nindex a7e9931e..decbff0d 100644\n--- a/plone/app/upgrade/v60/configure.zcml\n+++ b/plone/app/upgrade/v60/configure.zcml\n@@ -227,9 +227,9 @@\n         <!-- Plone 6.0.1 -->\n \n         <gs:upgradeDepends\n-            title="Update Products.CMFPlone registry"\n-            import_profile="Products.CMFPlone:dependencies"\n-            import_steps="plone.app.registry" />\n+          title="Run to6012 upgrade profile."\n+          import_profile="plone.app.upgrade.v60:to6012"\n+          />\n \n     </gs:upgradeSteps>\n \ndiff --git a/plone/app/upgrade/v60/profiles.zcml b/plone/app/upgrade/v60/profiles.zcml\nindex e02a31e0..0518bc7d 100644\n--- a/plone/app/upgrade/v60/profiles.zcml\n+++ b/plone/app/upgrade/v60/profiles.zcml\n@@ -42,6 +42,14 @@\n       provides="Products.GenericSetup.interfaces.EXTENSION"\n       />\n \n+      <genericsetup:registerProfile\n+      name="to6012"\n+      title="Upgrade profile to Plone 6.0.1 (6012)"\n+      directory="profiles/to6012"\n+      for="plone.base.interfaces.IMigratingPloneSiteRoot"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      />\n+\n   <!--\n     This is special, we want to reread the profile to create the FTI only if the old FTI\n     is not already a Dexterity one\ndiff --git a/plone/app/upgrade/v60/profiles/to6012/registry.xml b/plone/app/upgrade/v60/profiles/to6012/registry.xml\nnew file mode 100644\nindex 00000000..5e1e3895\n--- /dev/null\n+++ b/plone/app/upgrade/v60/profiles/to6012/registry.xml\n@@ -0,0 +1,11 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records interface="plone.base.interfaces.ITinyMCESchema"\n+           prefix="plone">\n+    <value key="plugins" purge="false">\n+      <element>autolink</element>\n+    </value>\n+  </records>\n+\n+</registry>\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2023-01-16T08:39:20+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.upgrade/commit/22fcdb5d0f1fda24522bae9301ea2835a992126b

update changenote

Files changed:
M news/308.bugfix

b'diff --git a/news/308.bugfix b/news/308.bugfix\nindex 49a1cbbb..e37129bb 100644\n--- a/news/308.bugfix\n+++ b/news/308.bugfix\n@@ -1,2 +1,2 @@\n-Update `plone.base` registry entries.\n+Add `autolink` plugin to `ITinyMCESchema.plugins`.\n [petschki]\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2023-01-16T16:30:03+01:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.app.upgrade/commit/7878be3b6c135cb0f58e0e9ebecb542581fcbc46

Merge pull request #308 from plone/petschki-plonebase-registry

Update `ITinyMCESchema` with new plugin `autolink`

Files changed:
A news/308.bugfix
A plone/app/upgrade/v60/profiles/to6012/registry.xml
M plone/app/upgrade/v60/configure.zcml
M plone/app/upgrade/v60/profiles.zcml

b'diff --git a/news/308.bugfix b/news/308.bugfix\nnew file mode 100644\nindex 00000000..e37129bb\n--- /dev/null\n+++ b/news/308.bugfix\n@@ -0,0 +1,2 @@\n+Add `autolink` plugin to `ITinyMCESchema.plugins`.\n+[petschki]\ndiff --git a/plone/app/upgrade/v60/configure.zcml b/plone/app/upgrade/v60/configure.zcml\nindex 02b23226..decbff0d 100644\n--- a/plone/app/upgrade/v60/configure.zcml\n+++ b/plone/app/upgrade/v60/configure.zcml\n@@ -226,11 +226,10 @@\n         >\n         <!-- Plone 6.0.1 -->\n \n-        <gs:upgradeStep\n-            title="Miscellaneous"\n-            description=""\n-            handler="..utils.null_upgrade_step"\n-            />\n+        <gs:upgradeDepends\n+          title="Run to6012 upgrade profile."\n+          import_profile="plone.app.upgrade.v60:to6012"\n+          />\n \n     </gs:upgradeSteps>\n \ndiff --git a/plone/app/upgrade/v60/profiles.zcml b/plone/app/upgrade/v60/profiles.zcml\nindex e02a31e0..0518bc7d 100644\n--- a/plone/app/upgrade/v60/profiles.zcml\n+++ b/plone/app/upgrade/v60/profiles.zcml\n@@ -42,6 +42,14 @@\n       provides="Products.GenericSetup.interfaces.EXTENSION"\n       />\n \n+      <genericsetup:registerProfile\n+      name="to6012"\n+      title="Upgrade profile to Plone 6.0.1 (6012)"\n+      directory="profiles/to6012"\n+      for="plone.base.interfaces.IMigratingPloneSiteRoot"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      />\n+\n   <!--\n     This is special, we want to reread the profile to create the FTI only if the old FTI\n     is not already a Dexterity one\ndiff --git a/plone/app/upgrade/v60/profiles/to6012/registry.xml b/plone/app/upgrade/v60/profiles/to6012/registry.xml\nnew file mode 100644\nindex 00000000..5e1e3895\n--- /dev/null\n+++ b/plone/app/upgrade/v60/profiles/to6012/registry.xml\n@@ -0,0 +1,11 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records interface="plone.base.interfaces.ITinyMCESchema"\n+           prefix="plone">\n+    <value key="plugins" purge="false">\n+      <element>autolink</element>\n+    </value>\n+  </records>\n+\n+</registry>\n'

