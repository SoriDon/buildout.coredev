Repository: plone.app.i18n


Branch: refs/heads/master
Date: 2016-01-25T17:45:19+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.i18n/commit/f6ffe782e773503298af73dafc723cd3299c10c8

Replace deprecated zope.testing.doctest and zope.testing.doctestunit imports with doctest module from stdlib.

Files changed:
M CHANGES.rst
M plone/app/i18n/locales/browser/tests.py
M plone/app/i18n/locales/tests/test_doctests.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c25db64..4215661 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,9 @@ New:
 
 Fixes:
 
-- *add item here*
+- Replace deprecated ``zope.testing.doctest`` and ``zope.testing.doctestunit``
+  imports with ``doctest`` module from stdlib.
+  [thet]
 
 
 3.0.1 (2015-07-18)
diff --git a/plone/app/i18n/locales/browser/tests.py b/plone/app/i18n/locales/browser/tests.py
index 1b61b7e..4a3c142 100644
--- a/plone/app/i18n/locales/browser/tests.py
+++ b/plone/app/i18n/locales/browser/tests.py
@@ -3,13 +3,12 @@
 import unittest
 
 from zope.component.testing import setUp, tearDown
-from zope.testing import doctest
-from zope.testing.doctestunit import DocTestSuite
+import doctest
 
 
 def test_suite():
     return unittest.TestSuite((
-        DocTestSuite('plone.app.i18n.locales.browser.selector',
+        doctest.DocTestSuite('plone.app.i18n.locales.browser.selector',
                      setUp=setUp(),
                      tearDown=tearDown,
                      optionflags=doctest.ELLIPSIS | doctest.NORMALIZE_WHITESPACE),
diff --git a/plone/app/i18n/locales/tests/test_doctests.py b/plone/app/i18n/locales/tests/test_doctests.py
index c8b0427..005dbed 100644
--- a/plone/app/i18n/locales/tests/test_doctests.py
+++ b/plone/app/i18n/locales/tests/test_doctests.py
@@ -1,13 +1,11 @@
 # -*- coding: UTF-8 -*-
 
 import unittest
+import doctest
 
 from plone.app.testing.bbb import PTC_FUNCTIONAL_TESTING
 from plone.testing import layered
 
-from zope.testing import doctest
-from zope.testing.doctestunit import DocTestSuite
-
 from Testing.ZopeTestCase import FunctionalDocFileSuite as Suite
 
 OPTIONFLAGS = (doctest.REPORT_ONLY_FIRST_FAILURE |
@@ -17,8 +15,8 @@
 
 def test_suite():
     return unittest.TestSuite((
-        DocTestSuite('plone.app.i18n.locales.countries'),
-        DocTestSuite('plone.app.i18n.locales.languages'),
+        doctest.DocTestSuite('plone.app.i18n.locales.countries'),
+        doctest.DocTestSuite('plone.app.i18n.locales.languages'),
         layered(Suite('countries.txt',
             optionflags=OPTIONFLAGS,
             package='plone.app.i18n.locales.tests',


Repository: plone.app.i18n


Branch: refs/heads/master
Date: 2016-01-29T02:22:33+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.i18n/commit/6f57a73d5e1cd374c3cf63d5dbdaafffc4dbcded

Merge pull request #4 from plone/thet-zope4

Zope4

Files changed:
M CHANGES.rst
M plone/app/i18n/locales/browser/tests.py
M plone/app/i18n/locales/tests/test_doctests.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c25db64..4215661 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,9 @@ New:
 
 Fixes:
 
-- *add item here*
+- Replace deprecated ``zope.testing.doctest`` and ``zope.testing.doctestunit``
+  imports with ``doctest`` module from stdlib.
+  [thet]
 
 
 3.0.1 (2015-07-18)
diff --git a/plone/app/i18n/locales/browser/tests.py b/plone/app/i18n/locales/browser/tests.py
index 1b61b7e..4a3c142 100644
--- a/plone/app/i18n/locales/browser/tests.py
+++ b/plone/app/i18n/locales/browser/tests.py
@@ -3,13 +3,12 @@
 import unittest
 
 from zope.component.testing import setUp, tearDown
-from zope.testing import doctest
-from zope.testing.doctestunit import DocTestSuite
+import doctest
 
 
 def test_suite():
     return unittest.TestSuite((
-        DocTestSuite('plone.app.i18n.locales.browser.selector',
+        doctest.DocTestSuite('plone.app.i18n.locales.browser.selector',
                      setUp=setUp(),
                      tearDown=tearDown,
                      optionflags=doctest.ELLIPSIS | doctest.NORMALIZE_WHITESPACE),
diff --git a/plone/app/i18n/locales/tests/test_doctests.py b/plone/app/i18n/locales/tests/test_doctests.py
index c8b0427..005dbed 100644
--- a/plone/app/i18n/locales/tests/test_doctests.py
+++ b/plone/app/i18n/locales/tests/test_doctests.py
@@ -1,13 +1,11 @@
 # -*- coding: UTF-8 -*-
 
 import unittest
+import doctest
 
 from plone.app.testing.bbb import PTC_FUNCTIONAL_TESTING
 from plone.testing import layered
 
-from zope.testing import doctest
-from zope.testing.doctestunit import DocTestSuite
-
 from Testing.ZopeTestCase import FunctionalDocFileSuite as Suite
 
 OPTIONFLAGS = (doctest.REPORT_ONLY_FIRST_FAILURE |
@@ -17,8 +15,8 @@
 
 def test_suite():
     return unittest.TestSuite((
-        DocTestSuite('plone.app.i18n.locales.countries'),
-        DocTestSuite('plone.app.i18n.locales.languages'),
+        doctest.DocTestSuite('plone.app.i18n.locales.countries'),
+        doctest.DocTestSuite('plone.app.i18n.locales.languages'),
         layered(Suite('countries.txt',
             optionflags=OPTIONFLAGS,
             package='plone.app.i18n.locales.tests',


