Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-25T02:20:34-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/5da32ffe09cdb4a826b4c769beaa92df47b39ee4

Pull in plone.restapi docs

Files changed:
M .gitignore
M .gitmodules
M Makefile
M docs/contributing/admins.md

b'diff --git a/.gitignore b/.gitignore\nindex 3bdcd44e..07788cac 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -9,3 +9,4 @@ pyvenv.cfg\n \n # symlinked from submodule\n docs/volto\n+docs/plone.restapi\ndiff --git a/.gitmodules b/.gitmodules\nindex b9f7d6e8..909fb192 100644\n--- a/.gitmodules\n+++ b/.gitmodules\n@@ -2,3 +2,7 @@\n \tpath = submodules/volto\n \turl = https://github.com/plone/volto.git\n \tbranch = master\n+[submodule "submodules/plone.restapi"]\n+\tpath = submodules/plone.restapi\n+\turl = git@github.com:plone/plone.restapi.git\n+\tbranch = plone6docs\ndiff --git a/Makefile b/Makefile\nindex 1ce399cf..9c5b4428 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -43,8 +43,13 @@ docs/volto:\n \tgit submodule update; \\\n \tln -s ../submodules/volto/docs/source ./docs/volto\n \n+docs/restapi:\n+\tgit submodule init; \\\n+\tgit submodule update; \\\n+\tln -s ../submodules/plone.restapi/docs ./docs/plone.restapi\n+\n .PHONY: deps\n-deps: bin/python docs/volto  ## Create Python virtual environment, install requirements, pull in Volto submodule\n+deps: bin/python docs/volto docs/restapi  ## Create Python virtual environment, install requirements, and finally initialize or update the volto and plone.restapi submodules.\n \n .PHONY: html\n html: deps  ## Build html\ndiff --git a/docs/contributing/admins.md b/docs/contributing/admins.md\nindex 3f5de9f3..5928d36b 100644\n--- a/docs/contributing/admins.md\n+++ b/docs/contributing/admins.md\n@@ -28,9 +28,19 @@ Inside the repository `plone/documentation`, add a git submodule that points to\n git submodule add git@github.com:plone/my_package.git submodules/my_package\n ```\n \n+Add a target `docs/my_package` in `Makefile`, then add `docs/my_package` to the `deps` target, following `volto` as a pattern.\n+You might need to adjust the paths to your package\'s documentation after it is cloned.\n+\n+To complete setup, generate a symlink to your project\'s docs, and build the docs, use a single command.\n+\n+```shell\n+make html\n+```\n+\n To make it easier for other contributors to work with your project, update the following files, using `volto` as a model.\n  \n--   `Makefile` targets  `docs/my_package` and `deps`\n--   The documentation section {ref}`contributing-editing-volto-documentation-label`\n+-   Add it to the documentation section {ref}`contributing-editing-volto-documentation-label`.\n+-   Add the symlink `docs/my_package` to `.gitignore`.\n+-   Optionally set a branch to work on in `.gitmodules`.\n \n Commit and push your changes to a remote, and submit a pull request against [`plone/documentation@6-dev`](https://github.com/plone/documentation/compare).\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-25T02:41:03-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/d9fd3b707c5bd3be7bb3f11f36a1c97ba2cea7ae

Use correct path to plone.restapi docs source

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex 9c5b4428..0518e7b0 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -46,7 +46,7 @@ docs/volto:\n docs/restapi:\n \tgit submodule init; \\\n \tgit submodule update; \\\n-\tln -s ../submodules/plone.restapi/docs ./docs/plone.restapi\n+\tln -s ../submodules/plone.restapi/docs/source ./docs/plone.restapi\n \n .PHONY: deps\n deps: bin/python docs/volto docs/restapi  ## Create Python virtual environment, install requirements, and finally initialize or update the volto and plone.restapi submodules.\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-25T02:57:19-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/86d81bf2b92a1fa82c8cd4172ae3e7b05e25f362

Add requirements from plone.restapi

Files changed:
M requirements.txt

b'diff --git a/requirements.txt b/requirements.txt\nindex c4bebbc8..83e6bef1 100644\n--- a/requirements.txt\n+++ b/requirements.txt\n@@ -1,6 +1,6 @@\n docutils<0.17,>=0.15  # sphinx-book-theme 0.2.0 has requirement docutils<0.17,>=0.15\n Sphinx\n-jsx-lexer\n+jsx-lexer  # volto\n lesscpy\n linkify-it-py\n myst-parser\n@@ -9,5 +9,7 @@ sphinx-book-theme\n sphinx-copybutton\n sphinx-sitemap\n sphinx-togglebutton\n+sphinxcontrib.httpdomain  # plone.restapi\n+sphinxcontrib.httpexample  # plone.restapi\n sphinxcontrib-spelling\n sphinxext-opengraph\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-25T03:12:55-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/5644116913a17edb8fbe1b194927cf2d6709ec96

Generalize how to work with external packages documentation

Files changed:
M docs/contributing/admins.md
M docs/contributing/index.md

b'diff --git a/docs/contributing/admins.md b/docs/contributing/admins.md\nindex 5928d36b..e65ceebf 100644\n--- a/docs/contributing/admins.md\n+++ b/docs/contributing/admins.md\n@@ -39,7 +39,7 @@ make html\n \n To make it easier for other contributors to work with your project, update the following files, using `volto` as a model.\n  \n--   Add it to the documentation section {ref}`contributing-editing-volto-documentation-label`.\n+-   Add it to the documentation section {ref}`contributing-editing-external-package-documentation-label`.\n -   Add the symlink `docs/my_package` to `.gitignore`.\n -   Optionally set a branch to work on in `.gitmodules`.\n \ndiff --git a/docs/contributing/index.md b/docs/contributing/index.md\nindex e35df7a6..2eeb0def 100644\n--- a/docs/contributing/index.md\n+++ b/docs/contributing/index.md\n@@ -170,16 +170,16 @@ This section describes how to make contributions to files in the `plone/document\n 1.  Members who subscribe to the repository will receive a notification and review your request.\n \n \n-(contributing-editing-volto-documentation-label)=\n+(contributing-editing-external-package-documentation-label)=\n \n-### Editing Volto documentation\n+### Editing external package documentation\n \n-If you want to edit the Volto documentation \xe2\x80\x94 the files within the `docs/volto` subdirectory \xe2\x80\x94 the process is slightly different.\n+If you want to edit documentation of imported external packages, the process is slightly different.\n We use git submodules to manage multiple repositories.\n-We imported the `plone/volto` repository into the `plone/documentation` repository as described in {doc}`setup-build`.\n+We imported the external repositories the `plone/documentation` repository as described in {doc}`setup-build`.\n \n ```{important}\n-We currently use the branches `plone/documentation@6-dev` and `plone/volto@master` as the main branches for developing Plone 6 Documentation.\n+We currently use the branches `plone/documentation@6-dev`, `plone/plone.restapi@plone6docs`, and `plone/volto@master` as the main branches for developing Plone 6 Documentation.\n These branches may change as we get closer to a production release.\n ```\n \n@@ -191,40 +191,48 @@ These branches may change as we get closer to a production release.\n     git pull\n     ```\n \n-1.  Change your working directory from the project root directory to `submodules/volto`.\n+1.  Change your working directory to the imported package\'s directory under `submodules/`.\n \n     ```shell\n+    # choose one\n+    cd submodules/plone.restapi\n     cd submodules/volto\n     ```\n \n-1.  Update the submodule, and sync your local `master` branch with its remote.\n+1.  Update the submodule, and sync your local development branch with its remote.\n     You might need to resolve conflicts.\n \n     ```shell\n     git submodule update\n+\n+    # For plone.restapi\n+    git checkout plone6docs\n+\n+    # For volto\n     git checkout master\n+\n     git pull\n     ```\n \n-1.  Create a new branch from `volto/master`.\n+1.  Create a new branch from the development branch.\n \n     ```shell\n     git checkout -b <new_branch>\n     ```\n \n-1.  Make edits to files in `docs/volto` using your favorite editor, and save, preview, and test.\n+1.  Make edits to files in `docs/<external_package>` using your favorite editor, and save, preview, and test.\n     You must run and pass the builds `html` and `linkcheck` without causing new errors.\n \n     ```shell\n-    # Optionally clean the builds to avoid cache issues\n-    # Note that for the Volto docs only, we use "docs-" as a prefix for make targets\n-    # because it has so many of them and to avoid a conflict with the core application.\n+    # Optionally clean the builds to avoid cache issues.\n+    # Note that for the external packages\' documentation only,\n+    # we use "docs-" as a prefix for make targets to avoid a conflicts.\n     make docs-clean\n     make docs-html\n     make docs-linkcheck\n     ```\n \n-1.  Back in `submodules/volto`, commit and push your changes to the remote.\n+1.  Back in `submodules/<external_package>`, commit and push your changes to the remote.\n \n     ```shell\n     git add <files>\n@@ -236,13 +244,20 @@ These branches may change as we get closer to a production release.\n \n     ```shell\n     cd ../..\n+\n+    # For plone.restapi\n+    git add submodules/plone.restapi\n+    git commit -m "Update submodules/plone.restapi tip"\n+\n+    # For volto\n     git add submodules/volto\n     git commit -m "Update submodules/volto tip"\n+\n     git push\n     ```\n \n-1.  Visit the GitHub `plone/volto` repository, and [create a pull request](https://github.com/plone/volto/compare) against the branch `master`.\n-1.  Members who subscribe to the `plone/volto` repository will receive a notification and review your request.\n+1.  Visit the GitHub `plone/<external_package>` repository, and create a pull request against the development branch.\n+1.  Members who subscribe to the `plone/<external_package>` repository will receive a notification and review your request.\n \n \n (contributing-code-of-conduct-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-25T03:16:21-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/00602cd34a2d400f7417049259e6a2108b62fead

Update submodules/plone.restapi tip

Files changed:
A submodules/plone.restapi

b'diff --git a/submodules/plone.restapi b/submodules/plone.restapi\nnew file mode 160000\nindex 00000000..96e0bc11\n--- /dev/null\n+++ b/submodules/plone.restapi\n@@ -0,0 +1 @@\n+Subproject commit 96e0bc119ecb847112b1310860b43e5c86cd5a54\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-25T03:26:37-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/d1198dae54e81934b55750ed83561359754565ba

git commit -m "Update submodules/plone.restapi tip"

Files changed:
M submodules/plone.restapi

b'diff --git a/submodules/plone.restapi b/submodules/plone.restapi\nindex 96e0bc11..b9561f66 160000\n--- a/submodules/plone.restapi\n+++ b/submodules/plone.restapi\n@@ -1 +1 @@\n-Subproject commit 96e0bc119ecb847112b1310860b43e5c86cd5a54\n+Subproject commit b9561f660e24b81547aea247f442544952572c10\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-26T02:32:16-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/37a47933b9c062868577e1383b331b54e82a3816

Include plone.restapi docs into main Plone docs. Look, Ma! No conversion to MyST needed!

Files changed:
M docs/conf.py
M docs/index.md

b'diff --git a/docs/conf.py b/docs/conf.py\nindex f898ce42..6b563123 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -84,6 +84,7 @@\n # The suffix of source filenames.\n source_suffix = {\n     ".md": "markdown",\n+    ".rst": "restructuredtext",\n }\n \n # The master toctree document.\ndiff --git a/docs/index.md b/docs/index.md\nindex 5ed3265a..6a9d8b5f 100644\n--- a/docs/index.md\n+++ b/docs/index.md\n@@ -17,6 +17,7 @@ html_meta:\n backend/index\n volto/index\n classic-ui/index\n+plone.restapi/index\n contributing/index\n ```\n \n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-27T15:47:39-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/3a27c8e2f5112a5636d9d6fbd799d0d8448cf041

Correct help for deps target

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex 0518e7b0..bf6cfa58 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -49,7 +49,7 @@ docs/restapi:\n \tln -s ../submodules/plone.restapi/docs/source ./docs/plone.restapi\n \n .PHONY: deps\n-deps: bin/python docs/volto docs/restapi  ## Create Python virtual environment, install requirements, and finally initialize or update the volto and plone.restapi submodules.\n+deps: bin/python docs/volto docs/restapi  ## Create Python virtual environment, install requirements, initialize or update the volto and plone.restapi submodules, and finally create symlinks to the documentation source.\n \n .PHONY: html\n html: deps  ## Build html\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-27T16:42:47-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/34962bd4566d1e32380224f53b5d5adae1d07ccf

Add sphinx extensions used by plone.restapi to Sphinx configuration

Files changed:
M docs/conf.py

b'diff --git a/docs/conf.py b/docs/conf.py\nindex 6b563123..845c0d53 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -48,6 +48,8 @@\n     "sphinx.ext.todo",\n     "sphinx_copybutton",\n     "sphinx_sitemap",\n+    "sphinxcontrib.httpdomain",\n+    "sphinxcontrib.httpexample",\n     "sphinxcontrib.spelling",\n     "sphinxext.opengraph",\n ]\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-28T00:18:33-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/2baac755d4c35ab7aa3fff51ad3e08ae40226cf1

Exclude CONTRIBUTORS.rst and plone.restapi ideas docs from the build
Use new symlink to pull in http request and response examples
Update the path plone.restapi docs to use new symlink

Files changed:
M Makefile
M docs/conf.py
M docs/index.md

b'diff --git a/Makefile b/Makefile\nindex bf6cfa58..cc079a57 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -46,10 +46,11 @@ docs/volto:\n docs/restapi:\n \tgit submodule init; \\\n \tgit submodule update; \\\n-\tln -s ../submodules/plone.restapi/docs/source ./docs/plone.restapi\n+\tln -s ../submodules/plone.restapi/docs/source ./docs/plone.restapi.docs\n+\tln -s ../submodules/plone.restapi/src/plone/restapi/tests/http-examples ./docs/plone.restapi.http-examples\n \n .PHONY: deps\n-deps: bin/python docs/volto docs/restapi  ## Create Python virtual environment, install requirements, initialize or update the volto and plone.restapi submodules, and finally create symlinks to the documentation source.\n+deps: bin/python docs/volto  ## Create Python virtual environment, install requirements, initialize or update the volto and plone.restapi submodules, and finally create symlinks to the documentation source.\n \n .PHONY: html\n html: deps  ## Build html\ndiff --git a/docs/conf.py b/docs/conf.py\nindex 845c0d53..05fa094e 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -99,6 +99,8 @@\n     "spelling_wordlist.txt",\n     "**/CHANGES.rst",\n     "**/LICENSE.rst",\n+    "**/CONTRIBUTORS.rst",\n+    "plone.restapi.docs/ideas",\n ]\n \n html_extra_path = [\ndiff --git a/docs/index.md b/docs/index.md\nindex 6a9d8b5f..ce7ccf7b 100644\n--- a/docs/index.md\n+++ b/docs/index.md\n@@ -10,6 +10,8 @@ html_meta:\n \n # Plone 6 Documentation\n \n+This website is the HTML documentation of Plone, an open source, enterprise-level content management system.\n+\n ```{toctree}\n :maxdepth: 2\n :hidden: true\n@@ -17,7 +19,7 @@ html_meta:\n backend/index\n volto/index\n classic-ui/index\n-plone.restapi/index\n+plone.restapi.docs/index\n contributing/index\n ```\n \n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-28T02:02:21-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/773b63e3438439ae400d65b84f33c0b8b95ef19e

Tweak syntax for symlink to restapi

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex cc079a57..3ad009d7 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -46,7 +46,7 @@ docs/volto:\n docs/restapi:\n \tgit submodule init; \\\n \tgit submodule update; \\\n-\tln -s ../submodules/plone.restapi/docs/source ./docs/plone.restapi.docs\n+\tln -s ../submodules/plone.restapi/docs/source ./docs/plone.restapi.docs; \\\n \tln -s ../submodules/plone.restapi/src/plone/restapi/tests/http-examples ./docs/plone.restapi.http-examples\n \n .PHONY: deps\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-28T02:04:02-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/32112f9c506e240142cb92fec07e27f2cc9c465d

Update the symlinks for git to ignore

Files changed:
M .gitignore

b'diff --git a/.gitignore b/.gitignore\nindex 07788cac..50079d84 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -9,4 +9,5 @@ pyvenv.cfg\n \n # symlinked from submodule\n docs/volto\n-docs/plone.restapi\n+docs/plone.restapi.docs\n+docs/plone.restapi.http-examples\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-02-28T02:04:35-08:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/cefd5e552eb15dd72845288259f73aebaa4658da

Update submodules/plone.restapi tip

Files changed:
M submodules/plone.restapi

b'diff --git a/submodules/plone.restapi b/submodules/plone.restapi\nindex b9561f66..efdab3e2 160000\n--- a/submodules/plone.restapi\n+++ b/submodules/plone.restapi\n@@ -1 +1 @@\n-Subproject commit b9561f660e24b81547aea247f442544952572c10\n+Subproject commit efdab3e27b96af5ff69928484bd582923dc6e172\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T01:20:04-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/b59c6c5e9e651d7c319378bd4b1eceae17bf186b

Exclude paths in plone.restapi from being scanned by Sphinx for source docs files

Files changed:
M docs/conf.py

b'diff --git a/docs/conf.py b/docs/conf.py\nindex 05fa094e..b47f8b2b 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -98,9 +98,17 @@\n exclude_patterns = [\n     "spelling_wordlist.txt",\n     "**/CHANGES.rst",\n-    "**/LICENSE.rst",\n     "**/CONTRIBUTORS.rst",\n-    "plone.restapi.docs/ideas",\n+    "**/LICENSE.rst",\n+    "**/README.rst",\n+    "plone.restapi/.*",\n+    "plone.restapi/bin",\n+    "plone.restapi/docs/source/ideas",\n+    "plone.restapi/include",\n+    "plone.restapi/lib",\n+    "plone.restapi/news",\n+    "plone.restapi/performance",\n+    "plone.restapi/src",\n ]\n \n html_extra_path = [\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T01:22:09-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/01600b845e364f3d224e0ab8030c1a645c89dc5e

Update symlink to plone.restapi package instead of just its docs.
This will allow the http-request tests to build for both the project's and main documentation.

Files changed:
M .gitignore
M Makefile
M docs/index.md

b'diff --git a/.gitignore b/.gitignore\nindex 50079d84..07788cac 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -9,5 +9,4 @@ pyvenv.cfg\n \n # symlinked from submodule\n docs/volto\n-docs/plone.restapi.docs\n-docs/plone.restapi.http-examples\n+docs/plone.restapi\ndiff --git a/Makefile b/Makefile\nindex 3ad009d7..6f08af10 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -46,11 +46,10 @@ docs/volto:\n docs/restapi:\n \tgit submodule init; \\\n \tgit submodule update; \\\n-\tln -s ../submodules/plone.restapi/docs/source ./docs/plone.restapi.docs; \\\n-\tln -s ../submodules/plone.restapi/src/plone/restapi/tests/http-examples ./docs/plone.restapi.http-examples\n+\tln -s "../submodules/plone.restapi" "./docs/plone.restapi"\n \n .PHONY: deps\n-deps: bin/python docs/volto  ## Create Python virtual environment, install requirements, initialize or update the volto and plone.restapi submodules, and finally create symlinks to the documentation source.\n+deps: bin/python docs/volto docs/restapi  ## Create Python virtual environment, install requirements, initialize or update the volto and plone.restapi submodules, and finally create symlinks to the documentation source.\n \n .PHONY: html\n html: deps  ## Build html\ndiff --git a/docs/index.md b/docs/index.md\nindex ce7ccf7b..3ffabf93 100644\n--- a/docs/index.md\n+++ b/docs/index.md\n@@ -19,7 +19,7 @@ This website is the HTML documentation of Plone, an open source, enterprise-leve\n backend/index\n volto/index\n classic-ui/index\n-plone.restapi.docs/index\n+plone.restapi/docs/source/index\n contributing/index\n ```\n \n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T01:25:35-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/bdf424f582b6bcd7a0b230cc4be6ed6d18eecc90

Add html_meta values

Files changed:
M docs/index.md

b'diff --git a/docs/index.md b/docs/index.md\nindex 3ffabf93..64439466 100644\n--- a/docs/index.md\n+++ b/docs/index.md\n@@ -1,9 +1,9 @@\n ---\n html_meta:\n-  "description": ""\n-  "property=og:description": ""\n-  "property=og:title": ""\n-  "keywords": ""\n+  "description": "This website is the HTML documentation of Plone, an open source, enterprise-level content management system."\n+  "property=og:description": "This website is the HTML documentation of Plone, an open source, enterprise-level content management system."\n+  "property=og:title": "Plone 6 Documentation"\n+  "keywords": "Plone 6, content management system, CMS, open source, Documentation, Volto, Classic UI, frontend, backend, plone.restapi, plone.api"\n ---\n \n (index-label)=\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T01:29:57-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/29d5ef473d142ccb3de648bb4333f6872ec567f0

Update submodule to supported and secure protocol

Files changed:
M .gitmodules

b'diff --git a/.gitmodules b/.gitmodules\nindex 909fb192..c37f9a49 100644\n--- a/.gitmodules\n+++ b/.gitmodules\n@@ -4,5 +4,5 @@\n \tbranch = master\n [submodule "submodules/plone.restapi"]\n \tpath = submodules/plone.restapi\n-\turl = git@github.com:plone/plone.restapi.git\n+\turl = https://github.com/plone/plone.restapi.git\n \tbranch = plone6docs\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T01:36:41-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/1cf759f8c19f7050a2e702774999079b83adcf33

Tell Netlify to clone plone.restapi

Files changed:
M Makefile

b'diff --git a/Makefile b/Makefile\nindex 6f08af10..ddee1863 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -215,6 +215,7 @@ netlify:\n \tgit submodule init; \\\n \tgit submodule update; \\\n \tln -s ../submodules/volto/docs/source ./docs/volto\n+\tln -s "../submodules/plone.restapi" "./docs/plone.restapi"\n \tcd $(DOCS_DIR) && sphinx-build -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html\n \n .PHONY: all\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T01:42:28-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/9e89a4518e6889a77fd7e72d0cb75281a2f5d32d

Update submodules/volto and submodules/plone.restapi tip

Files changed:
M submodules/plone.restapi
M submodules/volto

b'diff --git a/submodules/plone.restapi b/submodules/plone.restapi\nindex efdab3e2..3d074da4 160000\n--- a/submodules/plone.restapi\n+++ b/submodules/plone.restapi\n@@ -1 +1 @@\n-Subproject commit efdab3e27b96af5ff69928484bd582923dc6e172\n+Subproject commit 3d074da4b5caa90d917334e166feafaac3e1eaa6\ndiff --git a/submodules/volto b/submodules/volto\nindex 25b07747..ae549872 160000\n--- a/submodules/volto\n+++ b/submodules/volto\n@@ -1 +1 @@\n-Subproject commit 25b07747911d893aeb48ac644fa9878827592363\n+Subproject commit ae5498727539a7c82fb9fb1e3d42cd325fc6d647\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T04:49:42-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/e959fb7026e234e13f0ca0a0e28e0d2c5638568c

Remove obsolete TODO, add link to exlude from plone.restapi

Files changed:
M docs/conf.py

b'diff --git a/docs/conf.py b/docs/conf.py\nindex b47f8b2b..6f9bce07 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -69,12 +69,12 @@\n # Options for the linkcheck builder\n # Ignore localhost\n linkcheck_ignore = [\n-    # TODO: Before release, clean up any links to ignore\n     r"http://localhost",\n     r"http://0.0.0.0",\n     r"http://127.0.0.1",\n     r"https://www.linode.com/",\n     r"https://github.com/plone/documentation/issues/new/choose",  # requires auth\n+    r"https://coveralls.io/repos/github/plone/plone.restapi/badge.svg\\?branch=master",  # plone.restapi\n ]\n linkcheck_anchors = False\n linkcheck_timeout = 10\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T04:51:04-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/8c187f15735d444317b69f5f325b8e05d179ce6d

Update submodules/plone.restapi tip

Files changed:
M submodules/plone.restapi

b'diff --git a/submodules/plone.restapi b/submodules/plone.restapi\nindex 3d074da4..fac18326 160000\n--- a/submodules/plone.restapi\n+++ b/submodules/plone.restapi\n@@ -1 +1 @@\n-Subproject commit 3d074da4b5caa90d917334e166feafaac3e1eaa6\n+Subproject commit fac1832602284c88cd093a2c5156524a3459f551\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T05:29:18-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/0d543ba3aeeb182de663302ef329f00ffa265d06

Merge branch '6-dev' into import-restapi

Files changed:
A docs/classic-ui/images.md
M .github/workflows/build_deploy.yml
M .gitignore
M Makefile
M README.md
M docs/classic-ui/index.md
M docs/conf.py

b'diff --git a/.github/workflows/build_deploy.yml b/.github/workflows/build_deploy.yml\nindex 65d161a8..889d8dbd 100644\n--- a/.github/workflows/build_deploy.yml\n+++ b/.github/workflows/build_deploy.yml\n@@ -30,6 +30,29 @@ jobs:\n       - name: Prepare deploy\n         run: make deploy\n \n+      # node setup\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@v1\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+\n+      # node cache\n+      - name: Get yarn cache directory path\n+        id: yarn-cache-dir-path\n+        working-directory: submodules/volto\n+        run: echo "::set-output name=dir::$(yarn cache dir)"\n+      - uses: actions/cache@v1\n+        id: yarn-cache # use this to check for `cache-hit` (`steps.yarn-cache.outputs.cache-hit != \'true\'`)\n+        with:\n+          path: ${{ steps.yarn-cache-dir-path.outputs.dir }}\n+          key: ${{ runner.os }}-yarn-${{ hashFiles(\'**/yarn.lock\') }}\n+          restore-keys: |\n+            ${{ runner.os }}-yarn-\n+\n+\n+      - name: StoryBook build\n+        run: cd submodules/volto && yarn && yarn build-storybook -o ../../_build/html/storybook\n+\n       - name: Deploy to server\n         id: deploy\n         uses: Pendect/action-rsyncer@v1.1.0\ndiff --git a/.gitignore b/.gitignore\nindex 07788cac..b426eb02 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -2,6 +2,7 @@\n /bin\n /include\n /lib\n+/lib64\n \n # Generated files\n pyvenv.cfg\ndiff --git a/Makefile b/Makefile\nindex ddee1863..757e9eca 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -175,7 +175,7 @@ linkcheck: deps  ## Run linkcheck\n \n .PHONY: linkcheckbroken\n linkcheckbroken: deps  ## Run linkcheck and show only broken links\n-\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' egrep -wi broken --color=auto\n+\tcd $(DOCS_DIR) && $(SPHINXBUILD) -b linkcheck $(ALLSPHINXOPTS) $(BUILDDIR)/linkcheck | GREP_COLORS=\'0;31\' grep -wi "broken\\|redirect" --color=auto\n \t@echo\n \t@echo "Link check complete; look for any errors in the above output " \\\n \t\t"or in $(BUILDDIR)/linkcheck/ ."\n@@ -217,6 +217,11 @@ netlify:\n \tln -s ../submodules/volto/docs/source ./docs/volto\n \tln -s "../submodules/plone.restapi" "./docs/plone.restapi"\n \tcd $(DOCS_DIR) && sphinx-build -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html\n+\tmake storybook\n+\n+.PHONY: storybook\n+storybook:\n+\tcd submodules/volto && yarn && yarn build-storybook -o ../../_build/html/storybook\n \n .PHONY: all\n all: clean spellcheck linkcheck html  ## Clean docs build, then run linkcheck and spellcheck, and build html\ndiff --git a/README.md b/README.md\nindex 1c7878dc..f76e8ce4 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,3 +1,5 @@\n+[![Testing Status](https://github.com/plone/documentation/actions/workflows/test.yml/badge.svg?branch=6-dev "Testing Status")](https://github.com/plone/documentation/actions/workflows/test.yml)\n+\n # Plone Documentation\n \n This is the repository for Plone Documentation.\n@@ -32,8 +34,7 @@ The community is writing guides, installation instructions, and everything you n\n \n ## Support\n \n-If you are having issues, please let us know by opening an issue in our [Issue Tracker](https://github.com/plone/training/issues) or asking a question on our\n-[Community Space](https://community.plone.org).\n+If you have issues, please open an issue in our [Issue Tracker](https://github.com/plone/documentation/issues) or ask a question on our [Community Forum, Documentation category](https://community.plone.org/c/documentation/13).\n \n \n ## Training\ndiff --git a/docs/classic-ui/images.md b/docs/classic-ui/images.md\nnew file mode 100644\nindex 00000000..9204e69a\n--- /dev/null\n+++ b/docs/classic-ui/images.md\n@@ -0,0 +1,249 @@\n+---\n+html_meta:\n+  "description": "Image resolving and scaling in Plone Classic UI"\n+  "property=og:description": "Image resolving and scaling in Plone Classic UI"\n+  "property=og:title": "Image Handling"\n+  "keywords": "Plone, Classic UI, classic-ui, image, resize, scale"\n+---\n+\n+(classic-ui-images-label)=\n+\n+# Image handling\n+\n+The default content types and behaviors use the field `plone.namedfile.NamedBlobImage` for all images.\n+\n+For this field, image scaling and HTML tag creation is provided by the `plone.namedfile.scaling` module, specifically in the [`ImageScaling`](https://github.com/plone/plone.namedfile/blob/ecf33a2bc7a8c61888909bc383b3e08d80888e43/plone/namedfile/scaling.py#L350) view.\n+\n+Given a Dexterity content type named `news-item1` with a `plone.namedfile.NamedBlobImage` field named `image`, we can use the following APIs to access the image scales and manage scales.\n+\n+```{note}\n+We will use the image object as context in the following examples.\n+```\n+\n+(classic-ui-images-default-scales-label)=\n+\n+## Default scales\n+\n+In `/@@imaging-controlpanel` Plone allows you to configure which scales are available and what dimensions they should have. By default we have the following scales configured:\n+\n+* large 768:768\n+* preview 400:400\n+* mini 200:200\n+* thumb 128:128\n+* tile 64:64\n+* icon 32:32\n+* listing 16:16\n+\n+You can add or change scales as you like.\n+\n+\n+(classic-ui-images-image-resolving-by-uri-label)=\n+\n+## Image resolving by URI\n+\n+Plone can resolve an image scale via URI in different ways.\n+\n+\n+(classic-ui-images-by-field-and-scale-name-label)=\n+\n+### By field and scale name\n+\n+Given our `news-item1` with the field `image`, we can get the name scale `thumb` as follows:\n+\n+`http://localhost:8080/Plone/news-item1/@@images/image/thumb`\n+\n+To get the original image, you can leave out the scale:\n+\n+`http://localhost:8080/Plone/news-item1/@@images/image`\n+\n+\n+(classic-ui-images-by-cacheable-scale-uid-name-label)=\n+\n+### By cacheable scale UID name\n+\n+When an image scale is created, it will be cached under the name `UID.EXT` (i.e. `f4c34254b44ba351af7393bfe0296664.jpeg`) in the object annotations.\n+Scaling keeps the uploaded formats, except for TIFF which ends up as JPEG.\n+It can be resolved as follows:\n+\n+`http://localhost:8080/Plone/news-item1/@@images/3d182f34-8773-4f20-a79d-8774c3151b7e.jpeg`\n+\n+This is useful for caching URLs in Varnish or the browser.\n+In case the uploaded image or scale definitions have changed, they will be saved again under a different UID.\n+This changes the URL and forces either the browser, or a cache proxy such as Varnish, to fetch it again.\n+When a scale has changed, the old stored entry in the annotation will be deleted after 24 hours.\n+If one changes an image which is used in multiple pages, the updated versions will only be shown after a restart of the Plone instance, saving the pages again, or after 24 hours.\n+\n+\n+(classic-ui-images-image-tag-label)=\n+\n+## Image tag\n+\n+To get an HTML tag for a scaled image, you can use the `ImageScaling` view as follows:\n+\n+```python\n+from plone import api\n+\n+scale_util = api.content.get_view("images", context, request)\n+tag = scale_util.tag("image", scale="mini")\n+```\n+\n+To get a specific image size:\n+\n+```python\n+from plone import api\n+\n+scale_util = api.content.get_view("images", context, request)\n+tag = scale_util.tag("image", width=600, height=200)\n+```\n+\n+The complete list of arguments with their default values is shown in the following example.\n+\n+```python\n+from plone import api\n+\n+scale_util = api.content.get_view("images", context, request)\n+tag = scale_util.tag(\n+    fieldname=None,\n+    scale=None,\n+    height=None,\n+    width=None,\n+    direction="thumbnail"\n+)\n+```\n+\n+If you pass additional kwargs to `tag`, they become attributes on `tag`.\n+\n+\n+(classic-ui-images-image-scaling-no-tag-creation-label)=\n+\n+## Image scaling without tag creation\n+\n+To get the scaling information only without creating an HTML tag, you can use the `ImageScaling` view as follows:\n+\n+```python\n+from plone import api\n+\n+scale_util = api.content.get_view("images", context, request)\n+# The default `Image` content type\'s field name is "image".\n+# On the following line of code, "image" is the field name.\n+image_scale = scale_util.scale("image", scale="mini")\n+print(image_scale.url)\n+print(image_scale.width)\n+print(image_scale.height)\n+```\n+\n+This will produce the following output:\n+\n+```console\n+http://localhost:8080/Plone/news-item1/@@images/3d182f34-8773-4f20-a79d-8774c3151b7e.jpeg\n+200\n+110\n+```\n+\n+The most important properties are the following:\n+\n+-   `data`\n+-   `fieldname`\n+-   `height`\n+-   `mimetype`\n+-   `srcset`\n+-   `srcset_attribute`\n+-   `tag`\n+-   `uid`\n+-   `url`\n+-   `width`\n+\n+You can directly create an HTML tag from `image_scale`:\n+\n+```pycon\n+>>> print(image_scale.tag())\n+\n+<img src="http://localhost:8080/Plone/news/newsitem1/@@images/9f676d46-0cb3-4512-a831-a5db4079bdfa.jpeg" alt="News Item 1!" title="News Item 1" height="21" width="32" srcset="http://localhost:8080/Plone/news/newsitem1/@@images/4a68513c-cffd-4de0-8a35-80627945b80f.jpeg 2x, http://localhost:8080/Plone/news/newsitem1/@@images/c32929c6-cb89-4ce7-846f-38adf29c09a4.jpeg 3x" />\n+```\n+\n+Instead of using the configured named scales, you can get an HTML tag with any specific size in pixels:\n+\n+```python\n+from plone import api\n+\n+scale_util = api.content.get_view("images", context, request)\n+tag = scale_util.scale("image", width=600, height=200)\n+```\n+\n+(classic-ui-images-using-image_scale0-in-templates-label)=\n+\n+### Using image_scale in templates\n+\n+You could use the URL-variant from above, but that would be an uncached version.\n+To create a cached scale in a page template you can do the following:\n+\n+```xml\n+<div tal:define="scale_view context/@@images;\n+                 image_scale python: scale_view.scale(\'image\', \'mini\')">\n+  <img\n+    src="${python: image_scale.url}"\n+    width="${python: image_scale.width"\n+    height="${python: image_scale.height}"\n+    >\n+</div>\n+```\n+\n+Or you can get the HTML tag back, and replace the current tag with it:\n+\n+```xml\n+<div tal:define="scale_view context/@@images">\n+  <img tal:replace="structured python: scale_view.tag(\'image\', \'mini\')">\n+</div>\n+```\n+\n+You can also provide the following keyword arguments to set `title`, `alt`, or `css_class` for the generated tag:\n+\n+```xml\n+<div tal:define="scale_view context/@@images">\n+  <img tal:replace="structured python: scale_view.tag(\'banner\', \'mini\', title=\'The Banner\', alt=\'Alternative text\', css_class=\'banner\')">\n+</div>\n+```\n+\n+(classic-ui-images-get-image_scale-by-cached-uid-name-label)=\n+\n+### Get image_scale by cached UID name\n+\n+If you only have the cached image name from an URL and need to get the image scale, unfortunately you can\'t use restrictedTraverse(), as this will not be able to resolve the scale. But you can use this workaround, by calling the `publishTraverse` method in `ImageScaling` directly:\n+\n+```python\n+import re\n+from plone import api\n+\n+uri = "http://localhost:8080/Plone/news-item1/@@images/3d182f34-8773-4f20-a79d-8774c3151b7e.jpeg"\n+image_url = re.compile(r"(.*@@images)\\/([a-zA-Z0-9.-]*)\\/?([a-zA-Z]*)")\n+\n+url_match = image_url.match(uri)\n+groups = url_match.groups()\n+# ("http://localhost:8080/Plone/news-item1", "3d182f34-8773-4f20-a79d-8774c3151b7e.jpeg")\n+scale_util = api.content.get_view("images", context, request)\n+image_scale = scaling_util.publishTraverse(context.REQUEST, groups[1])\n+```\n+\n+\n+(classic-ui-images-scaling-direction-label)=\n+\n+## Scaling `direction`\n+\n+The default direction is `thumbnail`.\n+\n+Other options are:\n+\n+* `down`\n+* `keep`\n+* `scale-crop-to-fill`\n+* `scale-crop-to-fit`\n+* `thumbnail`\n+* `up`\n+\n+\n+(classic-ui-images-permissions-label)=\n+\n+## Permissions\n+\n+The `ImageScaling` view explicitly checks the permissions of the current user.\n+To access image scales, which are normally not accessible to the current user, override the `validate_access` method in `plone.namedfile.scaling.ImageScale`.\ndiff --git a/docs/classic-ui/index.md b/docs/classic-ui/index.md\nindex 5a1fc6ef..b0352712 100644\n--- a/docs/classic-ui/index.md\n+++ b/docs/classic-ui/index.md\n@@ -27,13 +27,13 @@ This frontend is now called "Classic UI".\n \n Choosing one frontend over another depends on several factors.\n \n-Classic UI would be a better choice for the following situations. \n+Classic UI would be a better choice for the following situations.\n \n -   Reason 1\n -   Reason 2\n -   Reason N\n \n-The default frontend Volto would be a better choice for the following situations. \n+The default frontend Volto would be a better choice for the following situations.\n \n -   Reason 1\n -   Reason 2\n@@ -55,6 +55,7 @@ viewlets\n forms\n portlets\n csrf\n+images\n icons\n recipes\n whatsnew\ndiff --git a/docs/conf.py b/docs/conf.py\nindex 6f9bce07..01e73da1 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -72,12 +72,20 @@\n     r"http://localhost",\n     r"http://0.0.0.0",\n     r"http://127.0.0.1",\n-    r"https://www.linode.com/",\n+    r"https://www.linode.com",\n     r"https://github.com/plone/documentation/issues/new/choose",  # requires auth\n+    # Ignore specific anchors\n+    r"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors#Identifying_the_issue",\n+    r"https://github.com/browserslist/browserslist#queries",\n+    r"https://github.com/plone/plone.docker#for-basic-usage",\n+    r"https://github.com/plone/plone.rest#cors",\n+    r"https://github.com/plone/plone.volto/blob/6f5382c74f668935527e962490b81cb72bf3bc94/src/kitconcept/volto/upgrades.py#L6-L54",\n+    r"https://github.com/tc39/proposals/blob/HEAD/finished-proposals.md#finished-proposals",\n     r"https://coveralls.io/repos/github/plone/plone.restapi/badge.svg\\?branch=master",  # plone.restapi\n ]\n-linkcheck_anchors = False\n+linkcheck_anchors = True\n linkcheck_timeout = 10\n+linkcheck_retries = 2\n \n # This is our wordlist with known words, like Github or Plone ...\n spelling_word_list_filename = "spelling_wordlist.txt"\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-21T06:09:41-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/edfd711944df5f35ad55e321c53c24d39ab1b47a

Ignore link with anchor

Files changed:
M docs/conf.py

b'diff --git a/docs/conf.py b/docs/conf.py\nindex 01e73da1..ee17ef7e 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -82,6 +82,7 @@\n     r"https://github.com/plone/plone.volto/blob/6f5382c74f668935527e962490b81cb72bf3bc94/src/kitconcept/volto/upgrades.py#L6-L54",\n     r"https://github.com/tc39/proposals/blob/HEAD/finished-proposals.md#finished-proposals",\n     r"https://coveralls.io/repos/github/plone/plone.restapi/badge.svg\\?branch=master",  # plone.restapi\n+    r"https://github.com/plone/plone.restapi/blob/dde57b88e0f1b5f5e9f04e6a21865bc0dde55b1c/src/plone/restapi/services/content/add.py#L35-L61",  # plone.restapi\n ]\n linkcheck_anchors = True\n linkcheck_timeout = 10\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-22T03:40:21-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/5f93f5533ca5d77925e937bc71863476258c23cc

Include plone.restapi throughout contributing/index.md

Files changed:
M docs/contributing/index.md

b'diff --git a/docs/contributing/index.md b/docs/contributing/index.md\nindex 2eeb0def..74ef32af 100644\n--- a/docs/contributing/index.md\n+++ b/docs/contributing/index.md\n@@ -63,13 +63,14 @@ See {doc}`setup-build` for instructions for how to set up and build the document\n Contributions are managed through git repositories on GitHub.\n \n - [documentation](https://github.com/plone/documentation)\n+- [plone.restapi](https://github.com/plone/plone.restapi)\n - [volto](https://github.com/plone/volto)\n \n First discuss whether you should perform any work.\n Any method below is acceptable, but are listed in order of most likely to get a response.\n \n-- Search for open issues in [`documentation`](https://github.com/plone/documentation/issues) or [`volto`](https://github.com/plone/volto/issues) and comment on them.\n-- Create a new issue in [`documentation`](https://github.com/plone/documentation/issues) or [`volto`](https://github.com/plone/volto/issues).\n+- Search for open issues in [`documentation`](https://github.com/plone/documentation/issues), [`plone.restapi`](https://github.com/plone/plone.restapi/issues), or [`volto`](https://github.com/plone/volto/issues) and comment on them.\n+- Create a new issue in [`documentation`](https://github.com/plone/documentation/issues), [`plone.restapi`](https://github.com/plone/plone.restapi/issues), or [`volto`](https://github.com/plone/volto/issues).\n - Discuss during conferences, trainings, and other Plone events.\n - Ask on the [Plone Community Forum, Documentation topic](https://community.plone.org/c/documentation/13).\n - Ask in the [Plone chat on Discord](https://discord.com/invite/zFY3EBbjaj).\n@@ -110,14 +111,14 @@ Quick edits for minor issues, such as typographical errors, misspellings, and En\n For large edits, first follow the instructions in {doc}`setup-build`.\n \n Once you have your environment set up, then you can follow the standard practice for making a pull request.\n-This practice differs depending on whether you are making contributions to only the core `documentation` files or `volto` files as well.\n+This practice differs depending on whether you are making contributions to only the core `documentation` files, or `plone.restapi` and `volto` files as well.\n \n \n (contributing-documentation-only-label)=\n \n ### Working with only the `plone/documentation` repository\n \n-This section describes how to make contributions to files in the `plone/documentation` repository only, and excludes `plone/volto/docs` files.\n+This section describes how to make contributions to files in the `plone/documentation` repository only, and excludes files in `submodules/plone.restapi/docs` and `submodules/volto/docs`.\n \n 1.  From the project root directory, sync your local `6-dev` branch with its remote.\n     You might need to resolve conflicts.\n'

Repository: documentation


Branch: refs/heads/6-dev
Date: 2022-03-22T05:15:03-07:00
Author: Steve Piercy (stevepiercy) <web@stevepiercy.com>
Commit: https://github.com/plone/documentation/commit/9fb12556754c11b79a9eb7e4367ef1a60eabe88d

Merge pull request #1193 from plone/import-restapi

Import plone.restapi docs

Files changed:
A submodules/plone.restapi
M .gitignore
M .gitmodules
M Makefile
M docs/conf.py
M docs/contributing/admins.md
M docs/contributing/index.md
M docs/index.md
M requirements.txt

b'diff --git a/.gitignore b/.gitignore\nindex d3c51405..b426eb02 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -10,3 +10,4 @@ pyvenv.cfg\n \n # symlinked from submodule\n docs/volto\n+docs/plone.restapi\ndiff --git a/.gitmodules b/.gitmodules\nindex b9f7d6e8..c37f9a49 100644\n--- a/.gitmodules\n+++ b/.gitmodules\n@@ -2,3 +2,7 @@\n \tpath = submodules/volto\n \turl = https://github.com/plone/volto.git\n \tbranch = master\n+[submodule "submodules/plone.restapi"]\n+\tpath = submodules/plone.restapi\n+\turl = https://github.com/plone/plone.restapi.git\n+\tbranch = plone6docs\ndiff --git a/Makefile b/Makefile\nindex 8c2a92b4..757e9eca 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -43,8 +43,13 @@ docs/volto:\n \tgit submodule update; \\\n \tln -s ../submodules/volto/docs/source ./docs/volto\n \n+docs/restapi:\n+\tgit submodule init; \\\n+\tgit submodule update; \\\n+\tln -s "../submodules/plone.restapi" "./docs/plone.restapi"\n+\n .PHONY: deps\n-deps: bin/python docs/volto  ## Create Python virtual environment, install requirements, pull in Volto submodule\n+deps: bin/python docs/volto docs/restapi  ## Create Python virtual environment, install requirements, initialize or update the volto and plone.restapi submodules, and finally create symlinks to the documentation source.\n \n .PHONY: html\n html: deps  ## Build html\n@@ -210,6 +215,7 @@ netlify:\n \tgit submodule init; \\\n \tgit submodule update; \\\n \tln -s ../submodules/volto/docs/source ./docs/volto\n+\tln -s "../submodules/plone.restapi" "./docs/plone.restapi"\n \tcd $(DOCS_DIR) && sphinx-build -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html\n \tmake storybook\n \ndiff --git a/docs/conf.py b/docs/conf.py\nindex acf1bc5b..ee17ef7e 100644\n--- a/docs/conf.py\n+++ b/docs/conf.py\n@@ -48,6 +48,8 @@\n     "sphinx.ext.todo",\n     "sphinx_copybutton",\n     "sphinx_sitemap",\n+    "sphinxcontrib.httpdomain",\n+    "sphinxcontrib.httpexample",\n     "sphinxcontrib.spelling",\n     "sphinxext.opengraph",\n ]\n@@ -67,7 +69,6 @@\n # Options for the linkcheck builder\n # Ignore localhost\n linkcheck_ignore = [\n-    # TODO: Before release, clean up any links to ignore\n     r"http://localhost",\n     r"http://0.0.0.0",\n     r"http://127.0.0.1",\n@@ -80,6 +81,8 @@\n     r"https://github.com/plone/plone.rest#cors",\n     r"https://github.com/plone/plone.volto/blob/6f5382c74f668935527e962490b81cb72bf3bc94/src/kitconcept/volto/upgrades.py#L6-L54",\n     r"https://github.com/tc39/proposals/blob/HEAD/finished-proposals.md#finished-proposals",\n+    r"https://coveralls.io/repos/github/plone/plone.restapi/badge.svg\\?branch=master",  # plone.restapi\n+    r"https://github.com/plone/plone.restapi/blob/dde57b88e0f1b5f5e9f04e6a21865bc0dde55b1c/src/plone/restapi/services/content/add.py#L35-L61",  # plone.restapi\n ]\n linkcheck_anchors = True\n linkcheck_timeout = 10\n@@ -92,6 +95,7 @@\n # The suffix of source filenames.\n source_suffix = {\n     ".md": "markdown",\n+    ".rst": "restructuredtext",\n }\n \n # The master toctree document.\n@@ -103,7 +107,17 @@\n exclude_patterns = [\n     "spelling_wordlist.txt",\n     "**/CHANGES.rst",\n+    "**/CONTRIBUTORS.rst",\n     "**/LICENSE.rst",\n+    "**/README.rst",\n+    "plone.restapi/.*",\n+    "plone.restapi/bin",\n+    "plone.restapi/docs/source/ideas",\n+    "plone.restapi/include",\n+    "plone.restapi/lib",\n+    "plone.restapi/news",\n+    "plone.restapi/performance",\n+    "plone.restapi/src",\n ]\n \n html_extra_path = [\ndiff --git a/docs/contributing/admins.md b/docs/contributing/admins.md\nindex 3f5de9f3..e65ceebf 100644\n--- a/docs/contributing/admins.md\n+++ b/docs/contributing/admins.md\n@@ -28,9 +28,19 @@ Inside the repository `plone/documentation`, add a git submodule that points to\n git submodule add git@github.com:plone/my_package.git submodules/my_package\n ```\n \n+Add a target `docs/my_package` in `Makefile`, then add `docs/my_package` to the `deps` target, following `volto` as a pattern.\n+You might need to adjust the paths to your package\'s documentation after it is cloned.\n+\n+To complete setup, generate a symlink to your project\'s docs, and build the docs, use a single command.\n+\n+```shell\n+make html\n+```\n+\n To make it easier for other contributors to work with your project, update the following files, using `volto` as a model.\n  \n--   `Makefile` targets  `docs/my_package` and `deps`\n--   The documentation section {ref}`contributing-editing-volto-documentation-label`\n+-   Add it to the documentation section {ref}`contributing-editing-external-package-documentation-label`.\n+-   Add the symlink `docs/my_package` to `.gitignore`.\n+-   Optionally set a branch to work on in `.gitmodules`.\n \n Commit and push your changes to a remote, and submit a pull request against [`plone/documentation@6-dev`](https://github.com/plone/documentation/compare).\ndiff --git a/docs/contributing/index.md b/docs/contributing/index.md\nindex e35df7a6..74ef32af 100644\n--- a/docs/contributing/index.md\n+++ b/docs/contributing/index.md\n@@ -63,13 +63,14 @@ See {doc}`setup-build` for instructions for how to set up and build the document\n Contributions are managed through git repositories on GitHub.\n \n - [documentation](https://github.com/plone/documentation)\n+- [plone.restapi](https://github.com/plone/plone.restapi)\n - [volto](https://github.com/plone/volto)\n \n First discuss whether you should perform any work.\n Any method below is acceptable, but are listed in order of most likely to get a response.\n \n-- Search for open issues in [`documentation`](https://github.com/plone/documentation/issues) or [`volto`](https://github.com/plone/volto/issues) and comment on them.\n-- Create a new issue in [`documentation`](https://github.com/plone/documentation/issues) or [`volto`](https://github.com/plone/volto/issues).\n+- Search for open issues in [`documentation`](https://github.com/plone/documentation/issues), [`plone.restapi`](https://github.com/plone/plone.restapi/issues), or [`volto`](https://github.com/plone/volto/issues) and comment on them.\n+- Create a new issue in [`documentation`](https://github.com/plone/documentation/issues), [`plone.restapi`](https://github.com/plone/plone.restapi/issues), or [`volto`](https://github.com/plone/volto/issues).\n - Discuss during conferences, trainings, and other Plone events.\n - Ask on the [Plone Community Forum, Documentation topic](https://community.plone.org/c/documentation/13).\n - Ask in the [Plone chat on Discord](https://discord.com/invite/zFY3EBbjaj).\n@@ -110,14 +111,14 @@ Quick edits for minor issues, such as typographical errors, misspellings, and En\n For large edits, first follow the instructions in {doc}`setup-build`.\n \n Once you have your environment set up, then you can follow the standard practice for making a pull request.\n-This practice differs depending on whether you are making contributions to only the core `documentation` files or `volto` files as well.\n+This practice differs depending on whether you are making contributions to only the core `documentation` files, or `plone.restapi` and `volto` files as well.\n \n \n (contributing-documentation-only-label)=\n \n ### Working with only the `plone/documentation` repository\n \n-This section describes how to make contributions to files in the `plone/documentation` repository only, and excludes `plone/volto/docs` files.\n+This section describes how to make contributions to files in the `plone/documentation` repository only, and excludes files in `submodules/plone.restapi/docs` and `submodules/volto/docs`.\n \n 1.  From the project root directory, sync your local `6-dev` branch with its remote.\n     You might need to resolve conflicts.\n@@ -170,16 +171,16 @@ This section describes how to make contributions to files in the `plone/document\n 1.  Members who subscribe to the repository will receive a notification and review your request.\n \n \n-(contributing-editing-volto-documentation-label)=\n+(contributing-editing-external-package-documentation-label)=\n \n-### Editing Volto documentation\n+### Editing external package documentation\n \n-If you want to edit the Volto documentation \xe2\x80\x94 the files within the `docs/volto` subdirectory \xe2\x80\x94 the process is slightly different.\n+If you want to edit documentation of imported external packages, the process is slightly different.\n We use git submodules to manage multiple repositories.\n-We imported the `plone/volto` repository into the `plone/documentation` repository as described in {doc}`setup-build`.\n+We imported the external repositories the `plone/documentation` repository as described in {doc}`setup-build`.\n \n ```{important}\n-We currently use the branches `plone/documentation@6-dev` and `plone/volto@master` as the main branches for developing Plone 6 Documentation.\n+We currently use the branches `plone/documentation@6-dev`, `plone/plone.restapi@plone6docs`, and `plone/volto@master` as the main branches for developing Plone 6 Documentation.\n These branches may change as we get closer to a production release.\n ```\n \n@@ -191,40 +192,48 @@ These branches may change as we get closer to a production release.\n     git pull\n     ```\n \n-1.  Change your working directory from the project root directory to `submodules/volto`.\n+1.  Change your working directory to the imported package\'s directory under `submodules/`.\n \n     ```shell\n+    # choose one\n+    cd submodules/plone.restapi\n     cd submodules/volto\n     ```\n \n-1.  Update the submodule, and sync your local `master` branch with its remote.\n+1.  Update the submodule, and sync your local development branch with its remote.\n     You might need to resolve conflicts.\n \n     ```shell\n     git submodule update\n+\n+    # For plone.restapi\n+    git checkout plone6docs\n+\n+    # For volto\n     git checkout master\n+\n     git pull\n     ```\n \n-1.  Create a new branch from `volto/master`.\n+1.  Create a new branch from the development branch.\n \n     ```shell\n     git checkout -b <new_branch>\n     ```\n \n-1.  Make edits to files in `docs/volto` using your favorite editor, and save, preview, and test.\n+1.  Make edits to files in `docs/<external_package>` using your favorite editor, and save, preview, and test.\n     You must run and pass the builds `html` and `linkcheck` without causing new errors.\n \n     ```shell\n-    # Optionally clean the builds to avoid cache issues\n-    # Note that for the Volto docs only, we use "docs-" as a prefix for make targets\n-    # because it has so many of them and to avoid a conflict with the core application.\n+    # Optionally clean the builds to avoid cache issues.\n+    # Note that for the external packages\' documentation only,\n+    # we use "docs-" as a prefix for make targets to avoid a conflicts.\n     make docs-clean\n     make docs-html\n     make docs-linkcheck\n     ```\n \n-1.  Back in `submodules/volto`, commit and push your changes to the remote.\n+1.  Back in `submodules/<external_package>`, commit and push your changes to the remote.\n \n     ```shell\n     git add <files>\n@@ -236,13 +245,20 @@ These branches may change as we get closer to a production release.\n \n     ```shell\n     cd ../..\n+\n+    # For plone.restapi\n+    git add submodules/plone.restapi\n+    git commit -m "Update submodules/plone.restapi tip"\n+\n+    # For volto\n     git add submodules/volto\n     git commit -m "Update submodules/volto tip"\n+\n     git push\n     ```\n \n-1.  Visit the GitHub `plone/volto` repository, and [create a pull request](https://github.com/plone/volto/compare) against the branch `master`.\n-1.  Members who subscribe to the `plone/volto` repository will receive a notification and review your request.\n+1.  Visit the GitHub `plone/<external_package>` repository, and create a pull request against the development branch.\n+1.  Members who subscribe to the `plone/<external_package>` repository will receive a notification and review your request.\n \n \n (contributing-code-of-conduct-label)=\ndiff --git a/docs/index.md b/docs/index.md\nindex 5ed3265a..64439466 100644\n--- a/docs/index.md\n+++ b/docs/index.md\n@@ -1,15 +1,17 @@\n ---\n html_meta:\n-  "description": ""\n-  "property=og:description": ""\n-  "property=og:title": ""\n-  "keywords": ""\n+  "description": "This website is the HTML documentation of Plone, an open source, enterprise-level content management system."\n+  "property=og:description": "This website is the HTML documentation of Plone, an open source, enterprise-level content management system."\n+  "property=og:title": "Plone 6 Documentation"\n+  "keywords": "Plone 6, content management system, CMS, open source, Documentation, Volto, Classic UI, frontend, backend, plone.restapi, plone.api"\n ---\n \n (index-label)=\n \n # Plone 6 Documentation\n \n+This website is the HTML documentation of Plone, an open source, enterprise-level content management system.\n+\n ```{toctree}\n :maxdepth: 2\n :hidden: true\n@@ -17,6 +19,7 @@ html_meta:\n backend/index\n volto/index\n classic-ui/index\n+plone.restapi/docs/source/index\n contributing/index\n ```\n \ndiff --git a/requirements.txt b/requirements.txt\nindex c4bebbc8..83e6bef1 100644\n--- a/requirements.txt\n+++ b/requirements.txt\n@@ -1,6 +1,6 @@\n docutils<0.17,>=0.15  # sphinx-book-theme 0.2.0 has requirement docutils<0.17,>=0.15\n Sphinx\n-jsx-lexer\n+jsx-lexer  # volto\n lesscpy\n linkify-it-py\n myst-parser\n@@ -9,5 +9,7 @@ sphinx-book-theme\n sphinx-copybutton\n sphinx-sitemap\n sphinx-togglebutton\n+sphinxcontrib.httpdomain  # plone.restapi\n+sphinxcontrib.httpexample  # plone.restapi\n sphinxcontrib-spelling\n sphinxext-opengraph\ndiff --git a/submodules/plone.restapi b/submodules/plone.restapi\nnew file mode 160000\nindex 00000000..fac18326\n--- /dev/null\n+++ b/submodules/plone.restapi\n@@ -0,0 +1 @@\n+Subproject commit fac1832602284c88cd093a2c5156524a3459f551\n'

