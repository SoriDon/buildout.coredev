Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-11-12T22:39:49-08:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/ef47c7cc5ea37f5e2bcb91aba3709f0c836b6d09

remove show_id.py

Files changed:
M CHANGES.rst
D Products/CMFPlone/skins/plone_scripts/show_id.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 207371b..7c8ba07 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -43,8 +43,8 @@ Breaking changes:
     - ``reverseList.py`` with test
     - ``sort_modified_ascending.py``
 
-- Move script ``datecomponents.py`` to Archetypes
-  [jensens]
+- Move scripts ``datecomponents.py`` and ``show_id.py`` to Archetypes
+  [jensens, davisagli]
 
 New features:
 
diff --git a/Products/CMFPlone/skins/plone_scripts/show_id.py b/Products/CMFPlone/skins/plone_scripts/show_id.py
deleted file mode 100644
index 70f84fe..0000000
--- a/Products/CMFPlone/skins/plone_scripts/show_id.py
+++ /dev/null
@@ -1,14 +0,0 @@
-## Script (Python) "show_id"
-##bind container=container
-##bind context=context
-##bind namespace=
-##bind script=script
-##bind subpath=traverse_subpath
-##parameters=
-##title=Determine whether to show an id in an edit form
-
-if context.plone_utils.isIDAutoGenerated(context.REQUEST.get('id', None) \
-        or context.getId()):
-    return not (context.portal_factory.isTemporary(context)
-                or context.CreationDate() == context.ModificationDate())
-return 1


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2016-11-13T09:48:50+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/87a0c78c2b389f5bd1f980ccbe8cd4f9247c40e2

Merge pull request #1836 from plone/davisagli-cleanup-scripts-2

remove show_id.py

Files changed:
M CHANGES.rst
D Products/CMFPlone/skins/plone_scripts/show_id.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 207371b..7c8ba07 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -43,8 +43,8 @@ Breaking changes:
     - ``reverseList.py`` with test
     - ``sort_modified_ascending.py``
 
-- Move script ``datecomponents.py`` to Archetypes
-  [jensens]
+- Move scripts ``datecomponents.py`` and ``show_id.py`` to Archetypes
+  [jensens, davisagli]
 
 New features:
 
diff --git a/Products/CMFPlone/skins/plone_scripts/show_id.py b/Products/CMFPlone/skins/plone_scripts/show_id.py
deleted file mode 100644
index 70f84fe..0000000
--- a/Products/CMFPlone/skins/plone_scripts/show_id.py
+++ /dev/null
@@ -1,14 +0,0 @@
-## Script (Python) "show_id"
-##bind container=container
-##bind context=context
-##bind namespace=
-##bind script=script
-##bind subpath=traverse_subpath
-##parameters=
-##title=Determine whether to show an id in an edit form
-
-if context.plone_utils.isIDAutoGenerated(context.REQUEST.get('id', None) \
-        or context.getId()):
-    return not (context.portal_factory.isTemporary(context)
-                or context.CreationDate() == context.ModificationDate())
-return 1


