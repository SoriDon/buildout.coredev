Repository: plone.z3cform


Branch: refs/heads/master
Date: 2022-03-30T16:34:11+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.z3cform/commit/e88b03e5ff7215d94e1eaa74b4aad1f9789f22d7

cleanup crud-table markup

Files changed:
M src/plone/z3cform/crud/crud-table.pt

b'diff --git a/src/plone/z3cform/crud/crud-table.pt b/src/plone/z3cform/crud/crud-table.pt\nindex 7c2abd0..960ba68 100644\n--- a/src/plone/z3cform/crud/crud-table.pt\n+++ b/src/plone/z3cform/crud/crud-table.pt\n@@ -40,27 +40,16 @@\n         </thead>\n         <tbody>\n           <tal:block repeat="row view/subforms">\n-            <tr tal:content="structure row/render"\n-                tal:attributes="class python:repeat[\'row\'].odd() and \'even\' or \'odd\'">\n+            <tr tal:content="structure row/render">\n+              <td></td>\n             </tr>\n           </tal:block>\n         </tbody>\n     </table>\n \n-    <tal:actions define="actions view/actions/values">\n-      <tal:single condition="python:len(actions) == 1">\n-        <div class="action" tal:repeat="action actions">\n-          <input type="submit" tal:replace="structure action/render" />\n-        </div>\n-      </tal:single>\n-      <tal:multiple condition="python:len(actions) > 1">\n-        <ul>\n-          <li class="action" tal:repeat="action actions">\n-            <input type="submit" tal:replace="structure action/render" />\n-          </li>\n-        </ul>\n-      </tal:multiple>\n-    </tal:actions>\n+    <span class="action" tal:repeat="action view/actions/values">\n+      <input type="submit" tal:replace="structure action/render" />\n+    </span>\n \n   </form>\n \n'

Repository: plone.z3cform


Branch: refs/heads/master
Date: 2022-03-30T16:37:32+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.z3cform/commit/a69cc4911093816182adaa7c08729bacac5864f1

add changelog

Files changed:
A news/21.bugfix

b'diff --git a/news/21.bugfix b/news/21.bugfix\nnew file mode 100644\nindex 0000000..fdf06b7\n--- /dev/null\n+++ b/news/21.bugfix\n@@ -0,0 +1,2 @@\n+cleanup crud-table markup\n+[petschki]\n'

Repository: plone.z3cform


Branch: refs/heads/master
Date: 2022-05-17T20:48:03+02:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/plone.z3cform/commit/29840bc0e1b0dea4c54aec8fc8f8218a47f7277f

Merge pull request #21 from plone/crud-form-actions

cleanup crud-table markup

Files changed:
A news/21.bugfix
M src/plone/z3cform/crud/crud-table.pt

b'diff --git a/news/21.bugfix b/news/21.bugfix\nnew file mode 100644\nindex 0000000..fdf06b7\n--- /dev/null\n+++ b/news/21.bugfix\n@@ -0,0 +1,2 @@\n+cleanup crud-table markup\n+[petschki]\ndiff --git a/src/plone/z3cform/crud/crud-table.pt b/src/plone/z3cform/crud/crud-table.pt\nindex 7c2abd0..960ba68 100644\n--- a/src/plone/z3cform/crud/crud-table.pt\n+++ b/src/plone/z3cform/crud/crud-table.pt\n@@ -40,27 +40,16 @@\n         </thead>\n         <tbody>\n           <tal:block repeat="row view/subforms">\n-            <tr tal:content="structure row/render"\n-                tal:attributes="class python:repeat[\'row\'].odd() and \'even\' or \'odd\'">\n+            <tr tal:content="structure row/render">\n+              <td></td>\n             </tr>\n           </tal:block>\n         </tbody>\n     </table>\n \n-    <tal:actions define="actions view/actions/values">\n-      <tal:single condition="python:len(actions) == 1">\n-        <div class="action" tal:repeat="action actions">\n-          <input type="submit" tal:replace="structure action/render" />\n-        </div>\n-      </tal:single>\n-      <tal:multiple condition="python:len(actions) > 1">\n-        <ul>\n-          <li class="action" tal:repeat="action actions">\n-            <input type="submit" tal:replace="structure action/render" />\n-          </li>\n-        </ul>\n-      </tal:multiple>\n-    </tal:actions>\n+    <span class="action" tal:repeat="action view/actions/values">\n+      <input type="submit" tal:replace="structure action/render" />\n+    </span>\n \n   </form>\n \n'

