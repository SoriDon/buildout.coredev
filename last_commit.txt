Repository: plone.base


Branch: refs/heads/main
Date: 2022-06-10T22:13:45+02:00
Author: Roel Bruggink (jaroel) <roel@jaroel.nl>
Commit: https://github.com/plone/plone.base/commit/084299195e2ab1707c2d40281cdf393ecd8d638c

Don't test the deprecated function safe_int

Files changed:
M src/plone/base/utils.py

b'diff --git a/src/plone/base/utils.py b/src/plone/base/utils.py\nindex b714278..d657d17 100644\n--- a/src/plone/base/utils.py\n+++ b/src/plone/base/utils.py\n@@ -65,22 +65,22 @@ def human_readable_size(size):\n def safe_int(value, default=0):\n     """Convert value to integer or just return 0 if we can\'t\n \n-    >>> safe_to_int(45)\n+    >>> safe_int(45)\n     45\n \n-    >>> safe_to_int("42")\n+    >>> safe_int("42")\n     42\n \n-    >>> safe_to_int("spam")\n+    >>> safe_int("spam")\n     0\n \n-    >>> safe_to_int([])\n+    >>> safe_int([])\n     0\n \n-    >>> safe_to_int(None)\n+    >>> safe_int(None)\n     0\n \n-    >>> safe_to_int(None, default=-1)\n+    >>> safe_int(None, default=-1)\n     -1\n     """\n     try:\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2022-06-13T17:34:41+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.base/commit/17f4190fae0a13230b787ea75c7b569db8a384ea

Merge pull request #12 from plone/jaroel-no-safe_to_int

Test function safe_int instead of deprecated safe_to_int

Files changed:
M src/plone/base/utils.py

b'diff --git a/src/plone/base/utils.py b/src/plone/base/utils.py\nindex b714278..d657d17 100644\n--- a/src/plone/base/utils.py\n+++ b/src/plone/base/utils.py\n@@ -65,22 +65,22 @@ def human_readable_size(size):\n def safe_int(value, default=0):\n     """Convert value to integer or just return 0 if we can\'t\n \n-    >>> safe_to_int(45)\n+    >>> safe_int(45)\n     45\n \n-    >>> safe_to_int("42")\n+    >>> safe_int("42")\n     42\n \n-    >>> safe_to_int("spam")\n+    >>> safe_int("spam")\n     0\n \n-    >>> safe_to_int([])\n+    >>> safe_int([])\n     0\n \n-    >>> safe_to_int(None)\n+    >>> safe_int(None)\n     0\n \n-    >>> safe_to_int(None, default=-1)\n+    >>> safe_int(None, default=-1)\n     -1\n     """\n     try:\n'

