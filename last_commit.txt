Repository: mockup


Branch: refs/heads/master
Date: 2019-10-14T22:00:03-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/80dc11b5f6a5c47a0d7c644c65c52d71b96d9e98

tinymce: Fix tab labels for insert links and images. fixes gh-923

Files changed:
A news/923.fix
M mockup/patterns/tinymce/js/links.js
M mockup/patterns/tinymce/pattern.js
M mockup/patterns/tinymce/templates/image.xml

b'diff --git a/mockup/patterns/tinymce/js/links.js b/mockup/patterns/tinymce/js/links.js\nindex 38c893b08..a31e2adc4 100644\n--- a/mockup/patterns/tinymce/js/links.js\n+++ b/mockup/patterns/tinymce/js/links.js\n@@ -467,19 +467,20 @@ define([\n         text: this.options.text,\n         insertHeading: this.options.text.insertHeading,\n         insertImageHelp: this.options.text.insertImageHelp,\n-        Upload: this.options.text.Upload,\n+        upload: this.options.text.upload,\n         insertLinkHelp: this.options.text.insertLinkHelp,\n         internal: this.options.text.internal,\n         external: this.options.text.external,\n         anchor: this.options.text.anchor,\n         linkTypes: this.options.linkTypes,\n-        externalText: this.options.text.external,\n+        externalText: this.options.text.externalText,\n         emailText: this.options.text.email,\n         subjectText: this.options.text.subject,\n         targetList: this.options.targetList,\n         titleText: this.options.text.title,\n         internalImageText: this.options.text.internalImage,\n-        externalImageText: this.options.text.externalImage,\n+        externalImage: this.options.text.externalImage,\n+        externalImageText: this.options.text.externalImageText,\n         altText: this.options.text.alt,\n         imageAlignText: this.options.text.imageAlign,\n         scaleText: this.options.text.scale,\ndiff --git a/mockup/patterns/tinymce/pattern.js b/mockup/patterns/tinymce/pattern.js\nindex 3e445b520..0039faa31 100644\n--- a/mockup/patterns/tinymce/pattern.js\n+++ b/mockup/patterns/tinymce/pattern.js\n@@ -136,7 +136,8 @@ define([\n         insertHeading: _t(\'Insert link\'),\n         title: _t(\'Title\'),\n         internal: _t(\'Internal\'),\n-        external: _t(\'External URL (can be relative within this site or absolute if it starts with http:// or https://)\'),\n+        external: _t(\'External\'),\n+        externalText: _t(\'External URL (can be relative within this site or absolute if it starts with http:// or https://)\'),\n         email: _t(\'Email Address\'),\n         anchor: _t(\'Anchor\'),\n         subject: _t(\'Email Subject (optional)\'),\n@@ -146,7 +147,8 @@ define([\n         alt: _t(\'Alternative Text\'),\n         insertImageHelp: _t(\'Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image).\'),\n         internalImage: _t(\'Internal Image\'),\n-        externalImage: _t(\'External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\'),\n+        externalImage: _t(\'External Image\'),\n+        externalImageText: _t(\'External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\'),\n         upload: _t(\'Upload\'),\n         insertLinkHelp: _t(\'Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor).\'),\n       },\ndiff --git a/mockup/patterns/tinymce/templates/image.xml b/mockup/patterns/tinymce/templates/image.xml\nindex 1d87ba639..2503e9777 100644\n--- a/mockup/patterns/tinymce/templates/image.xml\n+++ b/mockup/patterns/tinymce/templates/image.xml\n@@ -39,7 +39,7 @@\n \n       <% if(_.contains(linkTypes, \'externalImage\')){ %>\n       <fieldset class="linkType externalImage" data-linkType="externalImage">\n-        <legend id="tinylink-externalImage"><%- externalImageText %></legend>\n+        <legend id="tinylink-externalImage"><%- externalImage %></legend>\n         <div>\n           <div class="form-group main">\n             <label><%- externalImageText %></label>\ndiff --git a/news/923.fix b/news/923.fix\nnew file mode 100644\nindex 000000000..7974e2f40\n--- /dev/null\n+++ b/news/923.fix\n@@ -0,0 +1,2 @@\n+- tinymce: Fix tab labels for insert links and images\n+  [frapell]\n'

