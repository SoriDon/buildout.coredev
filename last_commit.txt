Repository: plone.app.event


Branch: refs/heads/master
Date: 2023-03-27T03:13:19+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.event/commit/40c340421f1475075f94d7ce7b2b45b071f0abbd

remove dependency on plone.app.multilingual.

Files changed:
A news/367-pam.breaking
M plone/app/event/dx/behaviors.py
M setup.py

b'diff --git a/news/367-pam.breaking b/news/367-pam.breaking\nnew file mode 100644\nindex 00000000..fa4c5f21\n--- /dev/null\n+++ b/news/367-pam.breaking\n@@ -0,0 +1,2 @@\n+Breaking dependency cleanup: Move declaration of language independence of on IEventBasic fields to plone.app.multilingual.\n+[jensens]\n\\ No newline at end of file\ndiff --git a/plone/app/event/dx/behaviors.py b/plone/app/event/dx/behaviors.py\nindex 871c77ad..14c07240 100644\n--- a/plone/app/event/dx/behaviors.py\n+++ b/plone/app/event/dx/behaviors.py\n@@ -13,7 +13,6 @@\n from plone.app.event.base import wkday_to_mon1\n from plone.app.event.dx.interfaces import IDXEvent\n from plone.app.event.dx.interfaces import IDXEventRecurrence\n-from plone.app.multilingual.dx.interfaces import ILanguageIndependentField\n from plone.app.textfield.value import RichTextValue\n from plone.app.z3cform.widget import DatetimeFieldWidget\n from plone.autoform import directives\n@@ -237,15 +236,9 @@ class IEventContact(model.Schema):\n alsoProvides(IEventContact, IFormFieldProvider)\n \n \n-# Language independent fields\n-alsoProvides(IEventBasic["start"], ILanguageIndependentField)\n-alsoProvides(IEventBasic["end"], ILanguageIndependentField)\n-alsoProvides(IEventBasic["whole_day"], ILanguageIndependentField)\n-alsoProvides(IEventBasic["open_end"], ILanguageIndependentField)\n-\n-\n # Attribute indexer\n \n+\n # Start indexer\n @indexer(IDXEvent)\n def start_indexer(obj):\ndiff --git a/setup.py b/setup.py\nindex 72f0f06f..0995488d 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -4,7 +4,7 @@\n import os\n \n \n-version = "4.0.1.dev0"\n+version = "5.0.0.dev0"\n \n \n long_description = "\\n\\n".join(\n@@ -51,7 +51,6 @@\n         "plone.app.contentlisting",\n         "plone.app.dexterity",\n         "plone.app.layout",\n-        "plone.app.multilingual",\n         "plone.app.portlets >= 2.5.1",\n         "plone.app.querystring",\n         "plone.app.registry",\n'

Repository: plone.app.event


Branch: refs/heads/master
Date: 2023-03-27T10:14:56+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.event/commit/fff87dd9210ecf2a0b6cf1ae6242ac96aa0a282e

Merge pull request #367 from plone/rm-dep-pam

Remove dependency on plone.app.multilingual.

Files changed:
A news/367-pam.breaking
M plone/app/event/dx/behaviors.py
M setup.py

b'diff --git a/news/367-pam.breaking b/news/367-pam.breaking\nnew file mode 100644\nindex 00000000..fa4c5f21\n--- /dev/null\n+++ b/news/367-pam.breaking\n@@ -0,0 +1,2 @@\n+Breaking dependency cleanup: Move declaration of language independence of on IEventBasic fields to plone.app.multilingual.\n+[jensens]\n\\ No newline at end of file\ndiff --git a/plone/app/event/dx/behaviors.py b/plone/app/event/dx/behaviors.py\nindex 871c77ad..14c07240 100644\n--- a/plone/app/event/dx/behaviors.py\n+++ b/plone/app/event/dx/behaviors.py\n@@ -13,7 +13,6 @@\n from plone.app.event.base import wkday_to_mon1\n from plone.app.event.dx.interfaces import IDXEvent\n from plone.app.event.dx.interfaces import IDXEventRecurrence\n-from plone.app.multilingual.dx.interfaces import ILanguageIndependentField\n from plone.app.textfield.value import RichTextValue\n from plone.app.z3cform.widget import DatetimeFieldWidget\n from plone.autoform import directives\n@@ -237,15 +236,9 @@ class IEventContact(model.Schema):\n alsoProvides(IEventContact, IFormFieldProvider)\n \n \n-# Language independent fields\n-alsoProvides(IEventBasic["start"], ILanguageIndependentField)\n-alsoProvides(IEventBasic["end"], ILanguageIndependentField)\n-alsoProvides(IEventBasic["whole_day"], ILanguageIndependentField)\n-alsoProvides(IEventBasic["open_end"], ILanguageIndependentField)\n-\n-\n # Attribute indexer\n \n+\n # Start indexer\n @indexer(IDXEvent)\n def start_indexer(obj):\ndiff --git a/setup.py b/setup.py\nindex 72f0f06f..0995488d 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -4,7 +4,7 @@\n import os\n \n \n-version = "4.0.1.dev0"\n+version = "5.0.0.dev0"\n \n \n long_description = "\\n\\n".join(\n@@ -51,7 +51,6 @@\n         "plone.app.contentlisting",\n         "plone.app.dexterity",\n         "plone.app.layout",\n-        "plone.app.multilingual",\n         "plone.app.portlets >= 2.5.1",\n         "plone.app.querystring",\n         "plone.app.registry",\n'

