Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-10-14T16:25:49+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.restapi/commit/49d591027449e652554a9725977d6bdb5b17cc03

Ok genius. Maybe creating 100k elements wasn't such a smart move after all...

Files changed:
M src/plone/restapi/tests/performance.py

b'diff --git a/src/plone/restapi/tests/performance.py b/src/plone/restapi/tests/performance.py\nindex 8e4b5c953..758271a8b 100644\n--- a/src/plone/restapi/tests/performance.py\n+++ b/src/plone/restapi/tests/performance.py\n@@ -144,15 +144,15 @@ def step_setup_content(context):\n         folder10k.invokeFactory("Document", id=f"doc{i}", title=f"Doc {i}")\n         publish(folder10k[f"doc{i}"])\n \n-    # Folder with 100k Items\n-    logger.info("Creating folder with 100k items")\n-    portal.invokeFactory("Folder", id="folder-with-100k-items", title="Folder 100k")\n-    folder100k = portal["folder-with-100k-items"]\n-    set_description(folder100k)\n-    publish(folder100k)\n-    for i in range(1, 100001):\n-        folder100k.invokeFactory("Document", id=f"doc{i}", title=f"Doc {i}")\n-        publish(folder100k[f"doc{i}"])\n+    # # Folder with 100k Items\n+    # logger.info("Creating folder with 100k items")\n+    # portal.invokeFactory("Folder", id="folder-with-100k-items", title="Folder 100k")\n+    # folder100k = portal["folder-with-100k-items"]\n+    # set_description(folder100k)\n+    # publish(folder100k)\n+    # for i in range(1, 100001):\n+    #     folder100k.invokeFactory("Document", id=f"doc{i}", title=f"Doc {i}")\n+    #     publish(folder100k[f"doc{i}"])\n \n     # Folder with 10 Items and next/previous enabled\n     portal.invokeFactory(\n'

