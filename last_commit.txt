Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2019-04-12T14:55:06+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/f3a9ff4743719066efe57dd88c38c464e77d7c5e

Fix DeprecationWarning ILanguageSchema was moved to plone.i18n (#339)

Files changed:
A news/339.bugfix
M src/plone/app/multilingual/interfaces.py

b"diff --git a/news/339.bugfix b/news/339.bugfix\nnew file mode 100644\nindex 00000000..49f5cce0\n--- /dev/null\n+++ b/news/339.bugfix\n@@ -0,0 +1 @@\n+Fix DeprecationWarning ``ILanguageSchema`` was moved to ``plone.i18n``. [jensens]\n\\ No newline at end of file\ndiff --git a/src/plone/app/multilingual/interfaces.py b/src/plone/app/multilingual/interfaces.py\nindex a94c58ef..ac936295 100644\n--- a/src/plone/app/multilingual/interfaces.py\n+++ b/src/plone/app/multilingual/interfaces.py\n@@ -1,13 +1,18 @@\n # -*- coding: utf-8 -*-\n from plone.app.multilingual import _\n from plone.supermodel import model\n-from Products.CMFPlone.interfaces import ILanguageSchema\n from zope import schema\n from zope.interface import Attribute\n from zope.interface import Interface\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n \n+try:\n+    from plone.i18n.interfaces import ILanguageSchema\n+except ImportError:\n+    # BBB for Plone 5.1, remove with Plone 6\n+    from Products.CMFPlone.interfaces import ILanguageSchema\n+\n \n # CONSTANTS\n SHARED_NAME = 'shared'\n"

