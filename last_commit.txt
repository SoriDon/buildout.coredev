Repository: plone.autoform


Branch: refs/heads/master
Date: 2017-02-01T14:21:25+01:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/plone.autoform/commit/cc68e8c1753dfdbd44bd1fb56f2953994eedb8f6

avoid mixing in acquisition to WidgetsView

Files changed:
M CHANGES.rst
M plone/autoform/view.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 3995d4e..b5b89c3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,7 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Make sure WidgetsView doesn't use acquisition in Zope 4. [davisagli]
 
 
 1.7.0 (2016-06-07)
diff --git a/plone/autoform/view.py b/plone/autoform/view.py
index ab3f708..bc1e5f6 100644
--- a/plone/autoform/view.py
+++ b/plone/autoform/view.py
@@ -7,14 +7,8 @@
 from zope.interface import implementer
 
 
-try:
-    from Products.Five.bbb import AcquisitionBBB as Explicit
-except ImportError:
-    from Acquisition import Explicit
-
-
 @implementer(IWidgetsView)
-class WidgetsView(AutoFields, DisplayForm, Explicit):
+class WidgetsView(AutoFields, DisplayForm):
     """Mix-in to allow widgets (in view mode) to be accesed from browser
     views.
     """


Repository: plone.autoform


Branch: refs/heads/master
Date: 2017-02-01T15:27:42+01:00
Author: David Glick (davisagli) <david.glick@plone.org>
Commit: https://github.com/plone/plone.autoform/commit/45b0d221c5611631309be0af0447e68381c79f94

Merge pull request #22 from plone/plonezope4

avoid mixing in acquisition to WidgetsView

Files changed:
M CHANGES.rst
M plone/autoform/view.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 3995d4e..b5b89c3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,7 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Make sure WidgetsView doesn't use acquisition in Zope 4. [davisagli]
 
 
 1.7.0 (2016-06-07)
diff --git a/plone/autoform/view.py b/plone/autoform/view.py
index ab3f708..bc1e5f6 100644
--- a/plone/autoform/view.py
+++ b/plone/autoform/view.py
@@ -7,14 +7,8 @@
 from zope.interface import implementer
 
 
-try:
-    from Products.Five.bbb import AcquisitionBBB as Explicit
-except ImportError:
-    from Acquisition import Explicit
-
-
 @implementer(IWidgetsView)
-class WidgetsView(AutoFields, DisplayForm, Explicit):
+class WidgetsView(AutoFields, DisplayForm):
     """Mix-in to allow widgets (in view mode) to be accesed from browser
     views.
     """


