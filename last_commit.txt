Repository: plone.namedfile


Branch: refs/heads/master
Date: 2017-01-31T18:01:02+01:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.namedfile/commit/2eff11f44a3be482277b24a668874fa0e7edf4b5

remove __of__ calls on views

Files changed:
M plone/namedfile/scaling.py

diff --git a/plone/namedfile/scaling.py b/plone/namedfile/scaling.py
index e32ed15..514d9a2 100644
--- a/plone/namedfile/scaling.py
+++ b/plone/namedfile/scaling.py
@@ -281,7 +281,7 @@ def publishTraverse(self, request, name):
                 raise NotFound(self, name, self.request)
             scale_view = ImageScale(self.context, self.request, **info)
             alsoProvides(scale_view, IStableImageScale)
-            return scale_view.__of__(self.context)
+            return scale_view
         else:
             # otherwise `name` must refer to a field...
             if '.' in name:
@@ -293,7 +293,7 @@ def publishTraverse(self, request, name):
                 data=value,
                 fieldname=name
             )
-            return scale_view.__of__(self.context)
+            return scale_view
         raise NotFound(self, name, self.request)
 
     def traverse(self, name, furtherPath):
@@ -400,7 +400,7 @@ def scale(
             return  # 404
         info['fieldname'] = fieldname
         scale_view = ImageScale(self.context, self.request, **info)
-        return scale_view.__of__(self.context)
+        return scale_view
 
     def tag(
         self,


