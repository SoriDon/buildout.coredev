Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-01-02T15:44:42-06:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/d545fc866eff4f33c257c2cf7f58b190b77aa2d5

Fix atom.xml feed not paying attention for setting to show about information

Files changed:
M CHANGES.rst
M Products/CMFPlone/browser/syndication/templates/atom.xml.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 5647872..3509aa5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -250,6 +250,9 @@ Bug fixes:
   Reflect this in the test and expect a 404.
   [jensens]
 
+- Fix atom.xml feed not paying attention for setting to show about information
+  [vangheem]
+
 
 5.1a2 (2016-08-19)
 ------------------
diff --git a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
index 213fc24..2c5b25f 100644
--- a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
+++ b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
@@ -57,7 +57,7 @@
       <author tal:define="creator item/creator;
                           author_name item/author_name;
                           author_email item/author_email"
-              tal:condition="python:creator or author_name">
+              tal:condition="python:feed.show_about and (creator or author_name)">
         <name tal:condition="author_name"
               tal:content="author_name" />
         <name tal:condition="python: not author_name"


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-01-03T14:11:46+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/f33de4c1a77ea310453c3270ab0c57747c2a3c2f

Merge pull request #1890 from plone/show-about-atom-5-1

Fix atom.xml feed not paying attention for setting to show about

Files changed:
M CHANGES.rst
M Products/CMFPlone/browser/syndication/templates/atom.xml.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 5647872..3509aa5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -250,6 +250,9 @@ Bug fixes:
   Reflect this in the test and expect a 404.
   [jensens]
 
+- Fix atom.xml feed not paying attention for setting to show about information
+  [vangheem]
+
 
 5.1a2 (2016-08-19)
 ------------------
diff --git a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
index 213fc24..2c5b25f 100644
--- a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
+++ b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
@@ -57,7 +57,7 @@
       <author tal:define="creator item/creator;
                           author_name item/author_name;
                           author_email item/author_email"
-              tal:condition="python:creator or author_name">
+              tal:condition="python:feed.show_about and (creator or author_name)">
         <name tal:condition="author_name"
               tal:content="author_name" />
         <name tal:condition="python: not author_name"


