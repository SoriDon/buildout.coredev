Repository: plone.app.contentrules


Branch: refs/heads/master
Date: 2023-04-13T16:16:24+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contentrules/commit/922951196ee8f5c6fcaa773e02d47cffbf61574c

Configuring with plone/meta

Files changed:
A news/0b0246aa.internal
M .meta.toml
M pyproject.toml
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 07dde25..357e287 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,4 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "47959565"\n+commit-id = "0b0246aa"\ndiff --git a/news/0b0246aa.internal b/news/0b0246aa.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/0b0246aa.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 9eb73f3..0dad625 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -49,14 +49,33 @@ Zope = [\n   \'Products.SiteAccess\', \'Shared\', \'Testing\', \'ZPublisher\', \'ZTUtils\',\n   \'Zope2\', \'webdav\', \'zmi\',\n   # Zope dependencies\n-  \'Acquisition\', \'DateTime\', \'transaction\', \'zExceptions\', \'ZODB\', \'zope.component\',\n-  \'zope.configuration\', \'zope.container\', \'zope.deferredimport\', \'zope.event\',\n-  \'zope.exceptions\', \'zope.globalrequest\', \'zope.i18n\', \'zope.i18nmessageid\',\n-  \'zope.interface\', \'zope.lifecycleevent\', \'zope.location\', \'zope.publisher\',\n-  \'zope.schema\', \'zope.security\', \'zope.site\', \'zope.traversing\', \'AccessControl\',\n+  \'AccessControl\', \'Acquisition\', \'AuthEncoding\', \'beautifulsoup4\', \'BTrees\',\n+  \'cffi\', \'Chameleon\', \'DateTime\', \'DocumentTemplate\', \'ExtensionClass\',\n+  \'MultiMapping\', \'multipart\', \'PasteDeploy\', \'Persistence\', \'persistent\',\n+  \'pycparser\', \'python-gettext\', \'pytz\', \'RestrictedPython\', \'roman\', \'six\',\n+  \'soupsieve\', \'transaction\', \'waitress\', \'WebOb\', \'WebTest\', \'WSGIProxy2\',\n+  \'z3c.pt\', \'zc.lockfile\', \'ZConfig\', \'zExceptions\', \'ZODB\', \'zodbpickle\',\n+  \'zope.annotation\', \'zope.browser\', \'zope.browsermenu\', \'zope.browserpage\',\n+  \'zope.browserresource\', \'zope.cachedescriptors\', \'zope.component\',\n+  \'zope.configuration\', \'zope.container\', \'zope.contentprovider\',\n+  \'zope.contenttype\', \'zope.datetime\', \'zope.deferredimport\',\n+  \'zope.deprecation\', \'zope.dottedname\', \'zope.event\', \'zope.exceptions\',\n+  \'zope.filerepresentation\', \'zope.globalrequest\', \'zope.hookable\',\n+  \'zope.i18n\', \'zope.i18nmessageid\', \'zope.interface\', \'zope.lifecycleevent\',\n+  \'zope.location\', \'zope.pagetemplate\', \'zope.processlifetime\', \'zope.proxy\',\n+  \'zope.ptresource\', \'zope.publisher\', \'zope.schema\', \'zope.security\',\n+  \'zope.sequencesort\', \'zope.site\', \'zope.size\', \'zope.structuredtext\',\n+  \'zope.tal\', \'zope.tales\', \'zope.testbrowser\', \'zope.testing\',\n+  \'zope.traversing\', \'zope.viewlet\'\n+]\n+\'Products.CMFCore\' = [\n+  \'docutils\', \'five.localsitemanager\', \'Missing\', \'Products.BTreeFolder2\',\n+  \'Products.GenericSetup\', \'Products.MailHost\', \'Products.PythonScripts\',\n+  \'Products.StandardCacheManagers\', \'Products.ZCatalog\', \'Record\',\n+  \'zope.sendmail\', \'Zope\'\n ]\n \'plone.base\' = [\n-  \'AccessControl\', \'Products.BTreeFolder2\', \'Products.CMFCore\',\n-  \'Products.CMFDynamicViewFTI\', \'zope.deprecation\',\n+  \'plone.batching\', \'plone.registry\', \'plone.schema\',\'plone.z3cform\',\n+  \'Products.CMFCore\', \'Products.CMFDynamicViewFTI\',\n ]\n python-dateutil = [\'dateutil\']\ndiff --git a/tox.ini b/tox.ini\nindex 358665e..f50cf19 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -44,10 +44,25 @@ commands =\n [testenv:test]\n usedevelop = true\n constrain_package_deps = true\n+set_env = ROBOT_BROWSER=headlesschrome\n deps =\n     zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    zope-testrunner --test-path={toxinidir} -s plone.app.contentrules\n+    zope-testrunner --all --test-path={toxinidir} -s plone.app.contentrules {posargs}\n+extras =\n+    test\n+\n+[testenv:coverage]\n+usedevelop = true\n+constrain_package_deps = true\n+set_env = ROBOT_BROWSER=headlesschrome\n+deps =\n+    coverage\n+    zope.testrunner\n+    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+commands =\n+    coverage run {envbindir}/zope-testrunner --all --test-path={toxinidir} -s plone.app.contentrules {posargs}\n+    coverage report -m --format markdown\n extras =\n     test\n'

Repository: plone.app.contentrules


Branch: refs/heads/master
Date: 2023-04-13T16:46:07+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contentrules/commit/5d11a79b55eeeae3130ba846960f725906f16904

adjust dependencies

Files changed:
M .meta.toml
M setup.py

b'diff --git a/.meta.toml b/.meta.toml\nindex 357e287..2026b3e 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -3,3 +3,10 @@\n [meta]\n template = "default"\n commit-id = "0b0246aa"\n+ignore-packages = [\n+    # we need this because of an ugly circular dependency:\n+    "Products.CMFPlone",\n+    # those because of https://github.com/reinout/z3c.dependencychecker/issues/111\n+    "Products.CMFCore",\n+    "Products.GenericSetup"\n+]\ndiff --git a/setup.py b/setup.py\nindex 2710fe9..cdff4d3 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -43,30 +43,20 @@\n         ]\n     },\n     install_requires=[\n-        "BTrees",\n-        "Products.MailHost",\n-        "Products.PluggableAuthService",\n         "lxml",\n         "plone.app.contenttypes",\n-        "plone.app.discussion",\n         "plone.app.uuid",\n-        "plone.registry",\n-        "plone.supermodel",\n-        "plone.z3cform",\n-        "z3c.form",\n-        "setuptools",\n+        "plone.app.vocabularies",\n+        "plone.autoform",\n         "plone.base",\n         "plone.contentrules",\n         "plone.memoize",\n         "plone.stringinterp",\n+        "plone.supermodel",\n         "plone.uuid",\n-        "plone.autoform",\n-        "plone.app.vocabularies",\n-        "zope.annotation",\n-        "zope.browser",\n-        "Products.CMFPlone",\n-        "Products.GenericSetup >= 2.0",\n+        "Products.PluggableAuthService",\n         "Products.statusmessages",\n-        "Zope",\n+        "setuptools",\n+        "z3c.form",\n     ],\n )\n'

Repository: plone.app.contentrules


Branch: refs/heads/master
Date: 2023-04-13T17:30:25+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.contentrules/commit/589be332bb27ff06b406afd03f2f4fe1eb08eed8

Merge pull request #82 from plone/config-with-default-template-181f00e4

Config with default template 181f00e4

Files changed:
A news/0b0246aa.internal
M .meta.toml
M pyproject.toml
M setup.py
M tox.ini

b'diff --git a/.meta.toml b/.meta.toml\nindex 07dde25..2026b3e 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -2,4 +2,11 @@\n # https://github.com/plone/meta/tree/master/config/default\n [meta]\n template = "default"\n-commit-id = "47959565"\n+commit-id = "0b0246aa"\n+ignore-packages = [\n+    # we need this because of an ugly circular dependency:\n+    "Products.CMFPlone",\n+    # those because of https://github.com/reinout/z3c.dependencychecker/issues/111\n+    "Products.CMFCore",\n+    "Products.GenericSetup"\n+]\ndiff --git a/news/0b0246aa.internal b/news/0b0246aa.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/0b0246aa.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 9eb73f3..0dad625 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -49,14 +49,33 @@ Zope = [\n   \'Products.SiteAccess\', \'Shared\', \'Testing\', \'ZPublisher\', \'ZTUtils\',\n   \'Zope2\', \'webdav\', \'zmi\',\n   # Zope dependencies\n-  \'Acquisition\', \'DateTime\', \'transaction\', \'zExceptions\', \'ZODB\', \'zope.component\',\n-  \'zope.configuration\', \'zope.container\', \'zope.deferredimport\', \'zope.event\',\n-  \'zope.exceptions\', \'zope.globalrequest\', \'zope.i18n\', \'zope.i18nmessageid\',\n-  \'zope.interface\', \'zope.lifecycleevent\', \'zope.location\', \'zope.publisher\',\n-  \'zope.schema\', \'zope.security\', \'zope.site\', \'zope.traversing\', \'AccessControl\',\n+  \'AccessControl\', \'Acquisition\', \'AuthEncoding\', \'beautifulsoup4\', \'BTrees\',\n+  \'cffi\', \'Chameleon\', \'DateTime\', \'DocumentTemplate\', \'ExtensionClass\',\n+  \'MultiMapping\', \'multipart\', \'PasteDeploy\', \'Persistence\', \'persistent\',\n+  \'pycparser\', \'python-gettext\', \'pytz\', \'RestrictedPython\', \'roman\', \'six\',\n+  \'soupsieve\', \'transaction\', \'waitress\', \'WebOb\', \'WebTest\', \'WSGIProxy2\',\n+  \'z3c.pt\', \'zc.lockfile\', \'ZConfig\', \'zExceptions\', \'ZODB\', \'zodbpickle\',\n+  \'zope.annotation\', \'zope.browser\', \'zope.browsermenu\', \'zope.browserpage\',\n+  \'zope.browserresource\', \'zope.cachedescriptors\', \'zope.component\',\n+  \'zope.configuration\', \'zope.container\', \'zope.contentprovider\',\n+  \'zope.contenttype\', \'zope.datetime\', \'zope.deferredimport\',\n+  \'zope.deprecation\', \'zope.dottedname\', \'zope.event\', \'zope.exceptions\',\n+  \'zope.filerepresentation\', \'zope.globalrequest\', \'zope.hookable\',\n+  \'zope.i18n\', \'zope.i18nmessageid\', \'zope.interface\', \'zope.lifecycleevent\',\n+  \'zope.location\', \'zope.pagetemplate\', \'zope.processlifetime\', \'zope.proxy\',\n+  \'zope.ptresource\', \'zope.publisher\', \'zope.schema\', \'zope.security\',\n+  \'zope.sequencesort\', \'zope.site\', \'zope.size\', \'zope.structuredtext\',\n+  \'zope.tal\', \'zope.tales\', \'zope.testbrowser\', \'zope.testing\',\n+  \'zope.traversing\', \'zope.viewlet\'\n+]\n+\'Products.CMFCore\' = [\n+  \'docutils\', \'five.localsitemanager\', \'Missing\', \'Products.BTreeFolder2\',\n+  \'Products.GenericSetup\', \'Products.MailHost\', \'Products.PythonScripts\',\n+  \'Products.StandardCacheManagers\', \'Products.ZCatalog\', \'Record\',\n+  \'zope.sendmail\', \'Zope\'\n ]\n \'plone.base\' = [\n-  \'AccessControl\', \'Products.BTreeFolder2\', \'Products.CMFCore\',\n-  \'Products.CMFDynamicViewFTI\', \'zope.deprecation\',\n+  \'plone.batching\', \'plone.registry\', \'plone.schema\',\'plone.z3cform\',\n+  \'Products.CMFCore\', \'Products.CMFDynamicViewFTI\',\n ]\n python-dateutil = [\'dateutil\']\ndiff --git a/setup.py b/setup.py\nindex 2710fe9..cdff4d3 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -43,30 +43,20 @@\n         ]\n     },\n     install_requires=[\n-        "BTrees",\n-        "Products.MailHost",\n-        "Products.PluggableAuthService",\n         "lxml",\n         "plone.app.contenttypes",\n-        "plone.app.discussion",\n         "plone.app.uuid",\n-        "plone.registry",\n-        "plone.supermodel",\n-        "plone.z3cform",\n-        "z3c.form",\n-        "setuptools",\n+        "plone.app.vocabularies",\n+        "plone.autoform",\n         "plone.base",\n         "plone.contentrules",\n         "plone.memoize",\n         "plone.stringinterp",\n+        "plone.supermodel",\n         "plone.uuid",\n-        "plone.autoform",\n-        "plone.app.vocabularies",\n-        "zope.annotation",\n-        "zope.browser",\n-        "Products.CMFPlone",\n-        "Products.GenericSetup >= 2.0",\n+        "Products.PluggableAuthService",\n         "Products.statusmessages",\n-        "Zope",\n+        "setuptools",\n+        "z3c.form",\n     ],\n )\ndiff --git a/tox.ini b/tox.ini\nindex 358665e..f50cf19 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -44,10 +44,25 @@ commands =\n [testenv:test]\n usedevelop = true\n constrain_package_deps = true\n+set_env = ROBOT_BROWSER=headlesschrome\n deps =\n     zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n commands =\n-    zope-testrunner --test-path={toxinidir} -s plone.app.contentrules\n+    zope-testrunner --all --test-path={toxinidir} -s plone.app.contentrules {posargs}\n+extras =\n+    test\n+\n+[testenv:coverage]\n+usedevelop = true\n+constrain_package_deps = true\n+set_env = ROBOT_BROWSER=headlesschrome\n+deps =\n+    coverage\n+    zope.testrunner\n+    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+commands =\n+    coverage run {envbindir}/zope-testrunner --all --test-path={toxinidir} -s plone.app.contentrules {posargs}\n+    coverage report -m --format markdown\n extras =\n     test\n'

