Repository: plone.restapi


Branch: refs/heads/master
Date: 2022-04-28T13:38:25+02:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.restapi/commit/396df6a36f56a9da47fb9e2436b1c49c6addea1f

Pin black version on gha from versions.cfg (#1389)

* Pin black version on gha from versions.cfg

* Update black.yml

Files changed:
M .github/workflows/black.yml
M versions.cfg

b"diff --git a/.github/workflows/black.yml b/.github/workflows/black.yml\nindex 9b23c028b..b7410e0e9 100644\n--- a/.github/workflows/black.yml\n+++ b/.github/workflows/black.yml\n@@ -26,9 +26,9 @@ jobs:\n           restore-keys: |\n             ${{ runner.os }}-pip-\n \n-      # install black\n+      # install black (extract version from versions.cfg)\n       - name: install black\n-        run: pip install black\n+        run: pip install click==$(awk '/^click =/{print $NF}' versions.cfg) black==$(awk '/^black =/{print $NF}' versions.cfg)\n \n       # run black\n       - name: run black\ndiff --git a/versions.cfg b/versions.cfg\nindex 28a57f557..3841232b5 100644\n--- a/versions.cfg\n+++ b/versions.cfg\n@@ -6,6 +6,7 @@ plone.restapi =\n \n # code analysis\n black = 20.8b1\n+click = 8.0.4\n \n # Error: The requirement ('virtualenv>=20.0.35') is not allowed by your [versions] constraint (20.0.26)\n virtualenv = 20.0.35\n"

