Repository: plone.app.theming


Branch: refs/heads/master
Date: 2019-02-09T16:23:38+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.theming/commit/c150caed9ddf523bf31160b5fbd915d005e282ee

fixes RuntimeError: dictionary changed size during iteration

Files changed:
A news/156.bugfix
M src/plone/app/theming/plugins/utils.py

b'diff --git a/news/156.bugfix b/news/156.bugfix\nnew file mode 100644\nindex 0000000..d050099\n--- /dev/null\n+++ b/news/156.bugfix\n@@ -0,0 +1,2 @@\n+Fixed "RuntimeError: dictionary changed size during iteration"\n+[jensens]\n\\ No newline at end of file\ndiff --git a/src/plone/app/theming/plugins/utils.py b/src/plone/app/theming/plugins/utils.py\nindex 8e1cd95..a7e0ddd 100644\n--- a/src/plone/app/theming/plugins/utils.py\n+++ b/src/plone/app/theming/plugins/utils.py\n@@ -42,7 +42,7 @@ def sortDependencies(plugins):\n         n, p = queue.pop()\n         yield (n, p)\n \n-        for (nw, pw), deps in waiting.items():\n+        for (nw, pw), deps in [x for x in waiting.items()]:\n             if n in deps:\n                 deps.remove(n)\n \n'

Repository: plone.app.theming


Branch: refs/heads/master
Date: 2019-02-10T17:22:24+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.theming/commit/7b7318a8caeb50d95dd96b4c43204d4e92a84e61

Merge pull request #156 from plone/jensens-dict-size-changed

fixes RuntimeError: dictionary changed size during iteration

Files changed:
A news/156.bugfix
M src/plone/app/theming/plugins/utils.py

b'diff --git a/news/156.bugfix b/news/156.bugfix\nnew file mode 100644\nindex 0000000..d050099\n--- /dev/null\n+++ b/news/156.bugfix\n@@ -0,0 +1,2 @@\n+Fixed "RuntimeError: dictionary changed size during iteration"\n+[jensens]\n\\ No newline at end of file\ndiff --git a/src/plone/app/theming/plugins/utils.py b/src/plone/app/theming/plugins/utils.py\nindex 8e1cd95..a7e0ddd 100644\n--- a/src/plone/app/theming/plugins/utils.py\n+++ b/src/plone/app/theming/plugins/utils.py\n@@ -42,7 +42,7 @@ def sortDependencies(plugins):\n         n, p = queue.pop()\n         yield (n, p)\n \n-        for (nw, pw), deps in waiting.items():\n+        for (nw, pw), deps in [x for x in waiting.items()]:\n             if n in deps:\n                 deps.remove(n)\n \n'

