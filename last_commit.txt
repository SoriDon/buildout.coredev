Repository: plone.app.layout


Branch: refs/heads/master
Date: 2022-03-30T16:54:51+02:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.layout/commit/0929c08b91afa1f18afa1b1425bfae683886e3a3

use default button style, move specific styling to theme

Files changed:
M plone/app/layout/viewlets/searchbox.pt

b'diff --git a/plone/app/layout/viewlets/searchbox.pt b/plone/app/layout/viewlets/searchbox.pt\nindex ccdb83ce..549e9469 100644\n--- a/plone/app/layout/viewlets/searchbox.pt\n+++ b/plone/app/layout/viewlets/searchbox.pt\n@@ -1,43 +1,45 @@\n <div id="portal-searchbox" class="d-flex flex-column position-relative"\n-     i18n:domain="plone"\n-     tal:define="navigation_root_url view/navigation_root_url;">\n+  i18n:domain="plone"\n+  tal:define="navigation_root_url view/navigation_root_url;">\n \n-    <form id="searchGadget_form"\n-          action="@@search"\n-          role="search"\n-          tal:attributes="action string:${navigation_root_url}/@@search;\n-                          data-pat-livesearch string:ajaxUrl:${navigation_root_url}/@@ajax-search;\n-                          class python: view.livesearch and \'pat-livesearch d-flex\' or \'d-flex\'">\n+  <form id="searchGadget_form"\n+        action="@@search"\n+        role="search"\n+        tal:attributes="action string:${navigation_root_url}/@@search;\n+                        data-pat-livesearch string:ajaxUrl:${navigation_root_url}/@@ajax-search;\n+                        class python: view.livesearch and \'pat-livesearch d-flex\' or \'d-flex\'">\n \n-        <label class="hiddenStructure"\n-               for="searchGadget"\n-               i18n:translate="text_search">Search Site</label>\n+    <label class="hiddenStructure"\n+            for="searchGadget"\n+            i18n:translate="text_search">Search Site</label>\n \n-          <input name="SearchableText"\n-                type="text"\n-                size="18"\n-                value=""\n-                id="searchGadget"\n-                title="Search Site"\n-                placeholder="Search Site"\n-                i18n:attributes="title title_search_site;\n-                                  placeholder title_search_site"\n-                tal:attributes="value request/form/SearchableText|nothing;"\n-                class="searchField form-control me-2" />\n-          <button class="searchButton btn btn-outline-light"\n-                type="submit"\n-                i18n:translate="label_search;">\n-                Search\n-          </button>\n-          <div id="portal-advanced-search"\n-               class="hiddenStructure">\n-              <a href="#"\n-                 tal:attributes="href string:${navigation_root_url}/@@search"\n-                 i18n:translate="label_advanced_search">\n-                  Advanced Search&hellip;\n-              </a>\n-          </div>\n-        </form>\n+    <input name="SearchableText"\n+          type="text"\n+          size="18"\n+          value=""\n+          id="searchGadget"\n+          title="Search Site"\n+          placeholder="Search Site"\n+          i18n:attributes="title title_search_site;\n+                            placeholder title_search_site"\n+          tal:attributes="value request/form/SearchableText|nothing;"\n+          class="searchField form-control me-2" />\n \n+          <button class="searchButton btn btn-secondary"\n+          type="submit"\n+          i18n:translate="label_search;">\n+          Search\n+    </button>\n \n-</div>\n+    <div id="portal-advanced-search"\n+          class="hiddenStructure">\n+      <a href="#"\n+          tal:attributes="href string:${navigation_root_url}/@@search"\n+          i18n:translate="label_advanced_search">\n+          Advanced Search&hellip;\n+      </a>\n+    </div>\n+\n+  </form>\n+\n+</div>\n\\ No newline at end of file\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2022-03-31T13:21:38+02:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/plone.app.layout/commit/46fb0774aacc01c3beb76c714133a6ac49ad821e

we'll keep the class needed for barceloneta styling and document how to do it with diazo - so only markup cleanup

Files changed:
M plone/app/layout/viewlets/searchbox.pt

b'diff --git a/plone/app/layout/viewlets/searchbox.pt b/plone/app/layout/viewlets/searchbox.pt\nindex 549e9469..e23b9835 100644\n--- a/plone/app/layout/viewlets/searchbox.pt\n+++ b/plone/app/layout/viewlets/searchbox.pt\n@@ -3,32 +3,32 @@\n   tal:define="navigation_root_url view/navigation_root_url;">\n \n   <form id="searchGadget_form"\n-        action="@@search"\n-        role="search"\n-        tal:attributes="action string:${navigation_root_url}/@@search;\n-                        data-pat-livesearch string:ajaxUrl:${navigation_root_url}/@@ajax-search;\n-                        class python: view.livesearch and \'pat-livesearch d-flex\' or \'d-flex\'">\n+    action="@@search"\n+    role="search"\n+    tal:attributes="action string:${navigation_root_url}/@@search;\n+                    data-pat-livesearch string:ajaxUrl:${navigation_root_url}/@@ajax-search;\n+                    class python: view.livesearch and \'pat-livesearch d-flex\' or \'d-flex\'">\n \n     <label class="hiddenStructure"\n-            for="searchGadget"\n-            i18n:translate="text_search">Search Site</label>\n+      for="searchGadget"\n+      i18n:translate="text_search">Search Site</label>\n \n     <input name="SearchableText"\n-          type="text"\n-          size="18"\n-          value=""\n-          id="searchGadget"\n-          title="Search Site"\n-          placeholder="Search Site"\n-          i18n:attributes="title title_search_site;\n-                            placeholder title_search_site"\n-          tal:attributes="value request/form/SearchableText|nothing;"\n-          class="searchField form-control me-2" />\n+      type="text"\n+      size="18"\n+      value=""\n+      id="searchGadget"\n+      title="Search Site"\n+      placeholder="Search Site"\n+      i18n:attributes="title title_search_site;\n+                        placeholder title_search_site"\n+      tal:attributes="value request/form/SearchableText|nothing;"\n+      class="searchField form-control me-2" />\n \n-          <button class="searchButton btn btn-secondary"\n-          type="submit"\n-          i18n:translate="label_search;">\n-          Search\n+    <button class="searchButton btn btn-outline-light"\n+      type="submit"\n+      i18n:translate="label_search;">\n+      Search\n     </button>\n \n     <div id="portal-advanced-search"\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2022-03-31T13:22:09+02:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.layout/commit/a7a482e24b12f06b122acdd842ee173158e7a806

Merge branch 'master' into march-tweaks

Files changed:
A news/295.bugfix
M plone/app/layout/viewlets/toolbar.pt

b'diff --git a/news/295.bugfix b/news/295.bugfix\nnew file mode 100644\nindex 00000000..8c53fa92\n--- /dev/null\n+++ b/news/295.bugfix\n@@ -0,0 +1,2 @@\n+Allow scrolling content while offcanvas toolbar is expanded\n+[pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/layout/viewlets/toolbar.pt b/plone/app/layout/viewlets/toolbar.pt\nindex d3c61e97..3dadb022 100644\n--- a/plone/app/layout/viewlets/toolbar.pt\n+++ b/plone/app/layout/viewlets/toolbar.pt\n@@ -14,7 +14,7 @@\n   </div>\n \n   <div id="edit-zone" role="toolbar"\n-       class="pat-toolbar offcanvas offcanvas-start bg-dark">\n+       class="pat-toolbar offcanvas offcanvas-start bg-dark" data-bs-scroll="true">\n \n     <div class="offcanvas-header mb-3 bg-primary">\n       <a class="offcanvas-dismiss text-white" data-bs-dismiss="offcanvas" aria-label="Dismiss" href="#edit-zone">\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2022-03-31T18:00:46+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/d16e1e00f4b6a5e4537208d1d765172d3375a486

Merge pull request #296 from plone/march-tweaks

use default button style, move specific styling to theme

Files changed:
M plone/app/layout/viewlets/searchbox.pt

b'diff --git a/plone/app/layout/viewlets/searchbox.pt b/plone/app/layout/viewlets/searchbox.pt\nindex ccdb83ce..e23b9835 100644\n--- a/plone/app/layout/viewlets/searchbox.pt\n+++ b/plone/app/layout/viewlets/searchbox.pt\n@@ -1,43 +1,45 @@\n <div id="portal-searchbox" class="d-flex flex-column position-relative"\n-     i18n:domain="plone"\n-     tal:define="navigation_root_url view/navigation_root_url;">\n+  i18n:domain="plone"\n+  tal:define="navigation_root_url view/navigation_root_url;">\n \n-    <form id="searchGadget_form"\n-          action="@@search"\n-          role="search"\n-          tal:attributes="action string:${navigation_root_url}/@@search;\n-                          data-pat-livesearch string:ajaxUrl:${navigation_root_url}/@@ajax-search;\n-                          class python: view.livesearch and \'pat-livesearch d-flex\' or \'d-flex\'">\n+  <form id="searchGadget_form"\n+    action="@@search"\n+    role="search"\n+    tal:attributes="action string:${navigation_root_url}/@@search;\n+                    data-pat-livesearch string:ajaxUrl:${navigation_root_url}/@@ajax-search;\n+                    class python: view.livesearch and \'pat-livesearch d-flex\' or \'d-flex\'">\n \n-        <label class="hiddenStructure"\n-               for="searchGadget"\n-               i18n:translate="text_search">Search Site</label>\n+    <label class="hiddenStructure"\n+      for="searchGadget"\n+      i18n:translate="text_search">Search Site</label>\n \n-          <input name="SearchableText"\n-                type="text"\n-                size="18"\n-                value=""\n-                id="searchGadget"\n-                title="Search Site"\n-                placeholder="Search Site"\n-                i18n:attributes="title title_search_site;\n-                                  placeholder title_search_site"\n-                tal:attributes="value request/form/SearchableText|nothing;"\n-                class="searchField form-control me-2" />\n-          <button class="searchButton btn btn-outline-light"\n-                type="submit"\n-                i18n:translate="label_search;">\n-                Search\n-          </button>\n-          <div id="portal-advanced-search"\n-               class="hiddenStructure">\n-              <a href="#"\n-                 tal:attributes="href string:${navigation_root_url}/@@search"\n-                 i18n:translate="label_advanced_search">\n-                  Advanced Search&hellip;\n-              </a>\n-          </div>\n-        </form>\n+    <input name="SearchableText"\n+      type="text"\n+      size="18"\n+      value=""\n+      id="searchGadget"\n+      title="Search Site"\n+      placeholder="Search Site"\n+      i18n:attributes="title title_search_site;\n+                        placeholder title_search_site"\n+      tal:attributes="value request/form/SearchableText|nothing;"\n+      class="searchField form-control me-2" />\n \n+    <button class="searchButton btn btn-outline-light"\n+      type="submit"\n+      i18n:translate="label_search;">\n+      Search\n+    </button>\n \n-</div>\n+    <div id="portal-advanced-search"\n+          class="hiddenStructure">\n+      <a href="#"\n+          tal:attributes="href string:${navigation_root_url}/@@search"\n+          i18n:translate="label_advanced_search">\n+          Advanced Search&hellip;\n+      </a>\n+    </div>\n+\n+  </form>\n+\n+</div>\n\\ No newline at end of file\n'

