Repository: plone.app.linkintegrity


Branch: refs/heads/master
Date: 2017-04-21T18:09:31+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.linkintegrity/commit/8c6adcf0f8ee492f4e70abe089cb80aa69ae67ab

Fixed AttributeError: 'LinkIntegrityATLayer' object has no attribute 'loadZCML'

Files changed:
M plone/app/linkintegrity/testing.py

diff --git a/plone/app/linkintegrity/testing.py b/plone/app/linkintegrity/testing.py
index d121820..f037862 100644
--- a/plone/app/linkintegrity/testing.py
+++ b/plone/app/linkintegrity/testing.py
@@ -15,6 +15,7 @@
 from Products.Archetypes.interfaces import IBaseObject
 from Products.CMFCore.utils import getToolByName
 from StringIO import StringIO
+from zope.configuration import xmlconfig
 
 
 B64_DATA = 'R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs='
@@ -55,11 +56,8 @@ def setUpMembers(self, portal):
 
     def setUpContent(self):
         import plone.app.linkintegrity
-        self.loadZCML(
-            'configure.zcml',
-            plone.app.linkintegrity,
-            context=self['configurationContext'],
-        )
+        xmlconfig.file('configure.zcml', plone.app.linkintegrity,
+                       context=self['configurationContext'])
 
         with z2.zopeApp() as app:
             z2.installProduct(app, 'plone.app.linkintegrity')


Repository: plone.app.linkintegrity


Branch: refs/heads/master
Date: 2017-04-21T18:10:01+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.linkintegrity/commit/6fd3a72349df3b6032fabacdebcadf67ee739875

Added change note.

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index f8416e5..3f71581 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,7 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Improved code quality.  [gforcada]
 
 
 3.3 (2017-04-20)


