Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-10-22T09:33:54+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/4b519b4bcf702bdae39de1c29f4b45527799449d

Display real version of Zope, not of the empty meta-package Zope2 (#2183)

Files changed:
M CHANGES.rst
M Products/CMFPlone/MigrationTool.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 36f9a7961..95891ac0f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -31,3 +31,6 @@ Bug Fixes:
 - Fallback for missing date in DefaultDublinCoreImpl no longer relies on
   bobobase_modification_time.
   [pbauer]
+
+- Display real version of Zope, not of the empty meta-package Zope2.
+  [pbauer]
diff --git a/Products/CMFPlone/MigrationTool.py b/Products/CMFPlone/MigrationTool.py
index f178333ba..e1b871627 100644
--- a/Products/CMFPlone/MigrationTool.py
+++ b/Products/CMFPlone/MigrationTool.py
@@ -188,7 +188,7 @@ def coreVersions(self):
         # Useful core information.
         vars = {}
         get_dist = pkg_resources.get_distribution
-        vars['Zope'] = get_dist('Zope2').version
+        vars['Zope'] = get_dist('Zope').version
         vars['Python'] = sys.version
         vars['Platform'] = sys.platform
         vars['Plone'] = get_dist('Products.CMFPlone').version


