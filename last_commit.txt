Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-07-05T12:57:57+03:00
Author: Peter Holzer (agitator) <peter.holzer@agitator.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/830ba03aa544f2e0a678e39a2993702be4c730cc

Use explicit @@footer view for footer portlet.

Files changed:
M CHANGES.rst
M Products/CMFPlone/profiles/dependencies/portlets.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 79f36fe34..5d7419bb0 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -41,6 +41,9 @@ New features:
 
 Bug fixes:
 
+- Use explicit @@footer view for footer portlet.
+  [agitator]
+
 - Translate image scales in patterns.
   [Gagaro]
 
diff --git a/Products/CMFPlone/profiles/dependencies/portlets.xml b/Products/CMFPlone/profiles/dependencies/portlets.xml
index 1610a4248..b4b4e0025 100644
--- a/Products/CMFPlone/profiles/dependencies/portlets.xml
+++ b/Products/CMFPlone/profiles/dependencies/portlets.xml
@@ -151,7 +151,7 @@
      type="portlets.Classic"
      name="footer"
      >
-    <property name="template">footer</property>
+    <property name="template">@@footer</property>
     <property name="macro"></property>
  </assignment>
 


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-07-05T15:16:59+03:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/dbfe2bf656de530d64976bc144b91e13a69dec69

Merge branch 'master' into explicitfooterviewinportlet

Files changed:
M CHANGES.rst
M Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 5d7419bb0..fdbd2ddae 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -5,7 +5,7 @@
 Changelog
 =========
 
-5.1b4 (unreleased)
+5.1b5 (unreleased)
 ------------------
 
 Breaking changes:
@@ -14,6 +14,19 @@ Breaking changes:
 
 New features:
 
+- *add item here*
+
+Bug fixes:
+
+- add :focus class on toolbar for keyboard users  (https://github.com/plone/Products.CMFPlone/issues/1620) 
+  [polyester]
+
+
+5.1b4 (2017-07-03)
+------------------
+
+New features:
+
 - Integrate ``mockup-patterns-structureupdater`` for updating title and description depending on the current context on the folder contents page.
   [thet]
 
diff --git a/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less b/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
index 8b03f8cb2..b6b7e24f7 100644
--- a/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
+++ b/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
@@ -20,8 +20,18 @@
     text-decoration: none;
     color: @plone-toolbar-link;
     outline: 0;
+
+    &:focus {
+    background: @plone-toolbar-link;
+    }
+
+    &:hover {
+    background: @plone-toolbar-link;
+    }
   }
 
+
+
   /*logo*/
 
   .plone-toolbar-logo {
@@ -142,7 +152,7 @@
         }
 
         &:hover {
-          background: #007bb3;
+          background: @plone-toolbar-link;
           & > span {
             margin-top: 0;
             -webkit-transition: none;
@@ -289,8 +299,7 @@
         color: @plone-toolbar-submenu-text-color;
 
         &:hover {
-          color: darken(@plone-toolbar-submenu-text-color, 15%);
-          background: lighten(@plone-toolbar-bg, 10%);
+                    background: @plone-toolbar-link;
         }
       }
 
diff --git a/setup.py b/setup.py
index 012d4b9e9..bf634613c 100644
--- a/setup.py
+++ b/setup.py
@@ -1,7 +1,7 @@
 from setuptools import setup
 from setuptools import find_packages
 
-version = '5.1b4.dev0'
+version = '5.1b5.dev0'
 
 setup(
     name='Products.CMFPlone',


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2017-07-05T15:19:29+03:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/ae117b1b4a02659f4edc3ff4d62b9f13e5738d80

Merge pull request #2096 from plone/explicitfooterviewinportlet

Use explicit @@footer view for footer portlet.

Files changed:
M CHANGES.rst
M Products/CMFPlone/profiles/dependencies/portlets.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 3a612874f..fdbd2ddae 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -54,6 +54,9 @@ New features:
 
 Bug fixes:
 
+- Use explicit @@footer view for footer portlet.
+  [agitator]
+
 - Translate image scales in patterns.
   [Gagaro]
 
diff --git a/Products/CMFPlone/profiles/dependencies/portlets.xml b/Products/CMFPlone/profiles/dependencies/portlets.xml
index 1610a4248..b4b4e0025 100644
--- a/Products/CMFPlone/profiles/dependencies/portlets.xml
+++ b/Products/CMFPlone/profiles/dependencies/portlets.xml
@@ -151,7 +151,7 @@
      type="portlets.Classic"
      name="footer"
      >
-    <property name="template">footer</property>
+    <property name="template">@@footer</property>
     <property name="macro"></property>
  </assignment>
 


