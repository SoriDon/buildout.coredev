Repository: mockup


Branch: refs/heads/master
Date: 2016-06-01T03:50:25-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/cbfd3fdb41027ecc6264ae1368a8a26dcb743697

fix rearrange button

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/rearrange.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 353bf4b..0b3d082 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -42,6 +42,7 @@ New:
   - Don't show empty alerts with ``alert-warning`` CSS class.
     Show them transparent but in the same height as if they were not empty.
     Align HTML structue with bootstrap ones and use ``<strong>`` for alert labels.
+  - Fix rearrange button
 
   [thet]
 
diff --git a/mockup/patterns/structure/js/views/rearrange.js b/mockup/patterns/structure/js/views/rearrange.js
index 63601d7..26d51f9 100644
--- a/mockup/patterns/structure/js/views/rearrange.js
+++ b/mockup/patterns/structure/js/views/rearrange.js
@@ -40,7 +40,7 @@ define([
       return this;
     },
     rearrangeButtonClicked: function() {
-      if (this.app.queryHelper.getCurrentPath() === '/') {
+      if (this.app.collection.queryHelper.getCurrentPath() === '/') {
         if (!window.confirm(_t(
           'Sorting the content on the base of the site ' +
           'could affect your navigation order. ' +


