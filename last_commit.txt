Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-10-27T07:54:22+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.restapi/commit/24544526a6a91cc03ad86cc649d53f9027942139

Add more querystring search requests to perf tests

Files changed:
M performance.jmx

b'diff --git a/performance.jmx b/performance.jmx\nindex dec7d854d..413d581d1 100644\n--- a/performance.jmx\n+++ b/performance.jmx\n@@ -1352,7 +1352,7 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n-        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Querystring Search" enabled="true">\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Querystring Search (Root)" enabled="true">\n           <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments">\n             <collectionProp name="Arguments.arguments">\n@@ -1387,6 +1387,113 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Querystring Search (Root, Fullobjects=True)" enabled="true">\n+          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">{&#xd;\n+\t&quot;fullobjects&quot;: 1,&#xd;\n+\t&quot;query&quot;: [&#xd;\n+\t\t{&#xd;\n+\t\t\t&quot;i&quot;: &quot;portal_type&quot;, &#xd;\n+\t\t\t&quot;o&quot;: &quot;plone.app.querystring.operation.selection.any&quot;, &#xd;\n+\t\t\t&quot;v&quot;: [&quot;Document&quot;]&#xd;\n+\t\t}&#xd;\n+\t]&#xd;\n+}</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/@querystring-search</stringProp>\n+          <stringProp name="HTTPSampler.method">POST</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Querystring Search (Content Object)" enabled="true">\n+          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">{&#xd;\n+\t&quot;query&quot;: [&#xd;\n+\t\t{&#xd;\n+\t\t\t&quot;i&quot;: &quot;portal_type&quot;, &#xd;\n+\t\t\t&quot;o&quot;: &quot;plone.app.querystring.operation.selection.any&quot;, &#xd;\n+\t\t\t&quot;v&quot;: [&quot;Document&quot;]&#xd;\n+\t\t}&#xd;\n+\t]&#xd;\n+}</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document/@querystring-search</stringProp>\n+          <stringProp name="HTTPSampler.method">POST</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Querystring Search (Content Object, Fullobjects=True)" enabled="true">\n+          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">{&#xd;\n+\t&quot;fullobjects&quot;: 1,&#xd;\n+\t&quot;query&quot;: [&#xd;\n+\t\t{&#xd;\n+\t\t\t&quot;i&quot;: &quot;portal_type&quot;, &#xd;\n+\t\t\t&quot;o&quot;: &quot;plone.app.querystring.operation.selection.any&quot;, &#xd;\n+\t\t\t&quot;v&quot;: [&quot;Document&quot;]&#xd;\n+\t\t}&#xd;\n+\t]&#xd;\n+}</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document/@querystring-search</stringProp>\n+          <stringProp name="HTTPSampler.method">POST</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n         <ResultCollector guiclass="StatGraphVisualizer" testclass="ResultCollector" testname="Aggregate Graph" enabled="true">\n           <boolProp name="ResultCollector.error_logging">false</boolProp>\n           <objProp>\n'

