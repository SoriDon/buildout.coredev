Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T12:44:36+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/ef5b59b43f0a93a9cb82cde56b660946fb92f4df

DraftJS part implemented

Files changed:
A src/plone/volto/profiles.zcml
M base.cfg
M src/plone/volto/configure.zcml
M src/plone/volto/setuphandlers.py

b'diff --git a/base.cfg b/base.cfg\nindex 9c13caf..140410d 100644\n--- a/base.cfg\n+++ b/base.cfg\n@@ -10,6 +10,14 @@ parts =\n     update-translations\n     find-untranslated\n develop = .\n+sources-dir = extras\n+\n+extensions = mr.developer\n+auto-checkout = plone.restapi\n+always-checkout = force\n+\n+[sources]\n+plone.restapi = git git://github.com/plone/plone.restapi.git pushurl=git@github.com:plone/plone.restapi.git branch=removesiteblockshackforp6\n \n [instance]\n recipe = plone.recipe.zope2instance\n@@ -114,4 +122,4 @@ input = inline:\n     #!/bin/sh\n     bin/i18ndude find-untranslated `find -L src/plone/volto -regex ".*\\.[cz]?pt"`\n output = ${buildout:directory}/bin/find-untranslated\n-mode = 755\n\\ No newline at end of file\n+mode = 755\ndiff --git a/src/plone/volto/configure.zcml b/src/plone/volto/configure.zcml\nindex 41793a9..dddc7e3 100644\n--- a/src/plone/volto/configure.zcml\n+++ b/src/plone/volto/configure.zcml\n@@ -16,6 +16,7 @@\n   <include package=".behaviors" />\n   <include package=".browser" />\n \n+  <include file="profiles.zcml" />\n   <include file="patches.zcml" />\n   <include file="upgrades.zcml" />\n \n@@ -27,75 +28,6 @@\n       permission="cmf.ManagePortal"\n       />\n \n-  <genericsetup:registerProfile\n-      name="default"\n-      title="Plone 6 Frontend (plone.volto)"\n-      description="Configures the Plone backend to work with Volto, the new default frontend for Plone 6."\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/default"\n-      post_handler=".setuphandlers.post_install"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="uninstall"\n-      title="Plone 6 Frontend (plone.volto): uninstall"\n-      description="Uninstalls the plone.volto add-on."\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/uninstall"\n-      post_handler=".setuphandlers.uninstall"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="default-homepage"\n-      title="Plone 6 Frontend (Default content on homepage)"\n-      description="Creates a default page for the site"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/homepage"\n-      post_handler=".setuphandlers.create_default_homepage"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="demo"\n-      title="plone.volto demo special requirements"\n-      description="Special requirements and setup for demo site"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/demo"\n-      post_handler=".setuphandlers.create_demo_homepage"\n-      />\n-\n-  <!-- Fixture for coresandbox Cypress tests in Volto repo -->\n-  <genericsetup:registerProfile\n-      name="coresandbox"\n-      title="plone.volto coresandbox Cypress tests fixtures"\n-      description="Special test fixture for coresandbox use cases"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/coresandbox"\n-      post_handler=".setuphandlers.post_install_coresandbox"\n-      />\n-\n-  <!-- Fixture for multilingual Cypress tests in Volto repo -->\n-  <genericsetup:registerProfile\n-      name="multilingual"\n-      title="plone.volto multilingual Cypress tests fixtures"\n-      description="Special test fixture for multilingual use case"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/multilingual"\n-      post_handler=".setuphandlers.post_install_multilingual"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="richtext"\n-      title="plone.volto p51 profile"\n-      description="Specific profile for re-adding the richtext behavior"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/richtext"\n-      />\n-\n-  <utility\n-      factory=".setuphandlers.HiddenProfiles"\n-      name="plone.volto-hiddenprofiles"\n-      />\n-\n   <browser:page\n       name="volto_settings"\n       for="Products.CMFPlone.interfaces.IPloneSiteRoot"\ndiff --git a/src/plone/volto/profiles.zcml b/src/plone/volto/profiles.zcml\nnew file mode 100644\nindex 0000000..ec6c94f\n--- /dev/null\n+++ b/src/plone/volto/profiles.zcml\n@@ -0,0 +1,86 @@\n+<configure\n+    xmlns="http://namespaces.zope.org/zope"\n+    xmlns:genericsetup="http://namespaces.zope.org/genericsetup"\n+    xmlns:i18n="http://namespaces.zope.org/i18n"\n+    i18n_domain="plone.volto"\n+    >\n+\n+  <genericsetup:registerProfile\n+    name="default"\n+    title="Plone 6 Frontend (plone.volto)"\n+    description="Configures the Plone backend to work with Volto, the new default frontend for Plone 6."\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/default"\n+    post_handler=".setuphandlers.post_install"\n+    />\n+\n+  <genericsetup:registerProfile\n+    name="uninstall"\n+    title="Plone 6 Frontend (plone.volto): uninstall"\n+    description="Uninstalls the plone.volto add-on."\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/uninstall"\n+    post_handler=".setuphandlers.uninstall"\n+    />\n+\n+  <genericsetup:registerProfile\n+    name="default-homepage"\n+    title="Plone 6 Frontend (Default content on homepage)"\n+    description="Creates a default page for the site"\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/homepage"\n+    post_handler=".setuphandlers.create_default_homepage"\n+    />\n+\n+  <genericsetup:registerProfile\n+    name="default-homepage-drafjs"\n+    title="Plone 6 Frontend (Default content on homepage with draftJS blocks)"\n+    description="Creates a default page for the site using (legacy) draftJS blocks"\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/homepage"\n+    post_handler=".setuphandlers.create_default_homepage_draftjs"\n+    />\n+\n+  <genericsetup:registerProfile\n+    name="demo"\n+    title="plone.volto demo special requirements"\n+    description="Special requirements and setup for demo site"\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/demo"\n+    post_handler=".setuphandlers.create_demo_homepage"\n+    />\n+\n+  <!-- Fixture for coresandbox Cypress tests in Volto repo -->\n+  <genericsetup:registerProfile\n+    name="coresandbox"\n+    title="plone.volto coresandbox Cypress tests fixtures"\n+    description="Special test fixture for coresandbox use cases"\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/coresandbox"\n+    post_handler=".setuphandlers.post_install_coresandbox"\n+    />\n+\n+  <!-- Fixture for multilingual Cypress tests in Volto repo -->\n+  <genericsetup:registerProfile\n+    name="multilingual"\n+    title="plone.volto multilingual Cypress tests fixtures"\n+    description="Special test fixture for multilingual use case"\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/multilingual"\n+    post_handler=".setuphandlers.post_install_multilingual"\n+    />\n+\n+  <genericsetup:registerProfile\n+    name="richtext"\n+    title="plone.volto p51 profile"\n+    description="Specific profile for re-adding the richtext behavior"\n+    provides="Products.GenericSetup.interfaces.EXTENSION"\n+    directory="profiles/richtext"\n+    />\n+\n+  <utility\n+    factory=".setuphandlers.HiddenProfiles"\n+    name="plone.volto-hiddenprofiles"\n+    />\n+\n+</configure>\ndiff --git a/src/plone/volto/setuphandlers.py b/src/plone/volto/setuphandlers.py\nindex e2b865a..ca50133 100644\n--- a/src/plone/volto/setuphandlers.py\n+++ b/src/plone/volto/setuphandlers.py\n@@ -22,6 +22,14 @@\n import logging\n import transaction\n \n+try:\n+    from Products.CMFPlone.factory import PLONE60MARKER\n+\n+    PLONE60MARKER  # pyflakes\n+except ImportError:\n+    PLONE_6 = False\n+else:\n+    PLONE_6 = True\n \n logger = logging.getLogger("plone.volto")\n \n@@ -35,8 +43,9 @@ def getNonInstallableProfiles(self):\n \n def post_install(context):\n     """Post install script"""\n-    # portal = api.portal.get()\n-    # create_default_homepage()\n+    # For Plone 6, make sure the blocks behavior is enabled in the root\n+    if PLONE_6:\n+        add_behavior("Plone Site", "volto.blocks")\n \n \n def uninstall(context):\n@@ -195,94 +204,11 @@ def setupPortletAt(portal, portlet_type, manager, path, name="", **kw):\n     mapping[name] = assignment\n \n \n-default_lrf_home = {\n-    "blocks": {\n-        "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n-        "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n-            "@type": "text",\n-            "text": {\n-                "blocks": [\n-                    {\n-                        "key": "618bl",\n-                        "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n-                        "type": "unstyled",\n-                        "depth": 0,\n-                        "inlineStyleRanges": [],\n-                        "entityRanges": [],\n-                        "data": {},\n-                    }\n-                ],\n-                "entityMap": {},\n-            },\n-        },\n-    },\n-    "blocks_layout": {\n-        "items": [\n-            "15068807-cfc9-444a-97db-8c736809ff52",\n-            "59d41d8a-ef05-4e21-8820-2a64f5878092",\n-        ]\n-    },\n-}\n-\n-\n-def create_default_homepage(context, default_home=default_lrf_home):\n-    """This method allows to pass a dict with the homepage blocks and blocks_layout keys"""\n-    portal = api.portal.get()\n-    # Test for PAM installed\n-    try:\n-        is_pam_installed = get_installer(portal, context.REQUEST).isProductInstalled(\n-            "plone.app.multilingual"\n-        )\n-    except:  # noqa\n-        is_pam_installed = get_installer(portal, context.REQUEST).is_product_installed(\n-            "plone.app.multilingual"\n-        )\n-\n-    if is_pam_installed:\n-        # Make sure that the LRFs have the blocks enabled\n-        add_behavior("LRF", "volto.blocks")\n-\n-        for lang in api.portal.get_registry_record("plone.available_languages"):\n-            # Do not write them if there are blocks set already\n-            # Get the attr first, in case it\'s not there yet (error in docker image)\n-            if getattr(portal[lang], "blocks", {}) == {} and (\n-                getattr(portal[lang], "blocks_layout", {}).get("items") is None\n-                or getattr(portal[lang], "blocks_layout", {}).get("items") == []\n-            ):\n-                logger.info(\n-                    "Creating default homepage for {} - PAM enabled".format(lang)\n-                )\n-                portal[lang].blocks = default_home["blocks"]\n-                portal[lang].blocks_layout = default_home["blocks_layout"]\n-\n-    else:\n-        create_root_homepage(context)\n-\n-\n-def create_root_homepage(context, default_home=None):\n-    """It takes a default object:\n-    {\n-        "title": "The title",\n-        "description": "The description",\n-        "blocks": {...},\n-        "blocks_layout": [...]\n-    }\n-    and sets it as default page in the Plone root object.\n-    """\n-\n-    portal = api.portal.get()\n-\n-    if default_home:\n-        blocks = default_home["blocks"]\n-        blocks_layout = default_home["blocks_layout"]\n-        portal.setTitle(default_home["title"])\n-        portal.setDescription(default_home["description"])\n-\n-        logger.info(\n-            "Creating custom default homepage in Plone site root - not PAM enabled"\n-        )\n-    else:\n-        blocks = {\n+default_home = {\n+    "draftJS": {\n+        "title": "Welcome to Volto!",\n+        "description": "The React powered content management system",\n+        "blocks": {\n             "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n             "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n             "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n@@ -546,9 +472,8 @@ def create_root_homepage(context, default_home=None):\n                     },\n                 },\n             },\n-        }\n-\n-        blocks_layout = {\n+        },\n+        "blocks_layout": {\n             "items": [\n                 "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n                 "0358abe2-b4f1-463d-a279-a63ea80daf19",\n@@ -565,21 +490,159 @@ def create_root_homepage(context, default_home=None):\n                 "874049e7-629e-489a-b46c-1adf35ad40ee",\n                 "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n             ]\n-        }\n+        },\n+    },\n+    "slate": {},\n+}\n+\n+default_lrf_home = {}\n+# default_lrf_home = {\n+#     "draftJS": {\n+#         "blocks": {\n+#             "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+#             "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+#                 "@type": "text",\n+#                 "text": {\n+#                     "blocks": [\n+#                         {\n+#                             "key": "618bl",\n+#                             "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+#                             "type": "unstyled",\n+#                             "depth": 0,\n+#                             "inlineStyleRanges": [],\n+#                             "entityRanges": [],\n+#                             "data": {},\n+#                         }\n+#                     ],\n+#                     "entityMap": {},\n+#                 },\n+#             },\n+#         },\n+#         "blocks_layout": {\n+#             "items": [\n+#                 "15068807-cfc9-444a-97db-8c736809ff52",\n+#                 "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+#             ]\n+#         },\n+#     },\n+#     "slate": {\n+#         "blocks": {\n+#             "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+#             "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+#                 {\n+#                     "@type": "slate",\n+#                     "value": [\n+#                         {\n+#                             "type": "p",\n+#                             "children": [\n+#                                 {\n+#                                     "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus."\n+#                                 }\n+#                             ],\n+#                         }\n+#                     ],\n+#                     "plaintext": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+#                 }\n+#             },\n+#         },\n+#         "blocks_layout": {\n+#             "items": [\n+#                 "15068807-cfc9-444a-97db-8c736809ff52",\n+#                 "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+#             ]\n+#         },\n+#     },\n+# }\n+\n+\n+def create_default_homepage_draftjs(context):\n+    create_default_homepage(context, block_type="draftJS")\n+\n+\n+def create_default_homepage(\n+    context, default_home=default_lrf_home, block_type="draftJS"\n+):\n+    """This method allows to pass a dict with the homepage blocks and blocks_layout keys"""\n+    portal = api.portal.get()\n+    # Test for PAM installed\n+    try:\n+        is_pam_installed = get_installer(portal, context.REQUEST).isProductInstalled(\n+            "plone.app.multilingual"\n+        )\n+    except:  # noqa\n+        is_pam_installed = get_installer(portal, context.REQUEST).is_product_installed(\n+            "plone.app.multilingual"\n+        )\n+\n+    if is_pam_installed:\n+        # Make sure that the LRFs have the blocks enabled\n+        add_behavior("LRF", "volto.blocks")\n+\n+        for lang in api.portal.get_registry_record("plone.available_languages"):\n+            # Do not write them if there are blocks set already\n+            # Get the attr first, in case it\'s not there yet (error in docker image)\n+            if getattr(portal[lang], "blocks", {}) == {} and (\n+                getattr(portal[lang], "blocks_layout", {}).get("items") is None\n+                or getattr(portal[lang], "blocks_layout", {}).get("items") == []\n+            ):\n+                logger.info(\n+                    "Creating default homepage for {} - PAM enabled".format(lang)\n+                )\n+                portal[lang].blocks = (\n+                    default_home[block_type]["blocks"]\n+                    if default_home.get(block_type)\n+                    else default_home["blocks"]\n+                )\n+                portal[lang].blocks_layout = (\n+                    default_home[block_type]["blocks_layout"]\n+                    if default_home.get(block_type)\n+                    else default_home["blocks_layout"]\n+                )\n \n-        portal.setTitle("Welcome to Volto!")\n-        portal.setDescription("The React powered content management system")\n+    else:\n+        create_root_homepage(context, block_type)\n \n-        logger.info("Creating default homepage in Plone site root - not PAM enabled")\n \n-    # Common part\n-    if not getattr(portal, "blocks", False):\n-        portal.manage_addProperty("blocks", json.dumps(blocks), "string")\n+def create_root_homepage(context, block_type, default_home=default_home):\n+    """It takes a default object:\n+    {\n+        "title": "The title",\n+        "description": "The description",\n+        "blocks": {...},\n+        "blocks_layout": [...]\n+    }\n+    and sets it as default page in the Plone root object.\n+\n+    Takes into account block_type.\n+    """\n+    portal = api.portal.get()\n+\n+    if block_type and block_type in default_home:\n+        default_home = default_home[block_type]\n+\n+    logger.info(\n+        f"Creating default homepage in Plone {\'6\' if PLONE_6 else \'\'} site root with {block_type} blocks - not PAM enabled"\n+    )\n+\n+    if PLONE_6:\n+        portal.blocks = default_home["blocks"]\n+        portal.blocks_layout = default_home["blocks_layout"]\n+        portal.title = default_home["title"]\n+        portal.description = default_home["description"]\n+    else:\n+        blocks = default_home["blocks"]\n+        blocks_layout = default_home["blocks_layout"]\n+        portal.setTitle(default_home["title"])\n+        portal.setDescription(default_home["description"])\n+\n+        # Use the hack for setting the home page in Plone Site object\n+        if not getattr(portal, "blocks", False):\n+            portal.manage_addProperty("blocks", json.dumps(blocks), "string")\n \n-    if not getattr(portal, "blocks_layout", False):\n-        portal.manage_addProperty(\n-            "blocks_layout", json.dumps(blocks_layout), "string"\n-        )  # noqa\n+        if not getattr(portal, "blocks_layout", False):\n+            portal.manage_addProperty(\n+                "blocks_layout", json.dumps(blocks_layout), "string"\n+            )  # noqa\n \n \n def create_demo_homepage(context):\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T14:37:41+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/61b7e434a2914d81f7d8dba9b490113a9a91340f

Add mr.developer

Files changed:
M .gitignore
M base.cfg

b'diff --git a/.gitignore b/.gitignore\nindex 35c8189..84b425a 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -35,3 +35,4 @@ report.html\n !.gitkeep\n !.travis.yml\n pyvenv.cfg\n+extras\ndiff --git a/base.cfg b/base.cfg\nindex 140410d..a6690c0 100644\n--- a/base.cfg\n+++ b/base.cfg\n@@ -7,13 +7,14 @@ parts =\n     dependencies\n     zpretty\n     test\n+    omelette\n     update-translations\n     find-untranslated\n develop = .\n sources-dir = extras\n \n extensions = mr.developer\n-auto-checkout = plone.restapi\n+auto-checkout =\n always-checkout = force\n \n [sources]\n@@ -54,6 +55,10 @@ upgrade-portal = False\n upgrade-all-profiles = False\n site-replace = True\n \n+[omelette]\n+recipe = collective.recipe.omelette\n+eggs = ${instance:eggs}\n+\n [test]\n recipe = collective.xmltestreport\n eggs = ${instance:eggs}\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T14:37:59+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/4f6b1c46bf18b432c2e93d32fa8c5b2aa692eba9

Slate by default in main DX root.

Files changed:
M src/plone/volto/setuphandlers.py

b'diff --git a/src/plone/volto/setuphandlers.py b/src/plone/volto/setuphandlers.py\nindex ca50133..df1187b 100644\n--- a/src/plone/volto/setuphandlers.py\n+++ b/src/plone/volto/setuphandlers.py\n@@ -492,7 +492,199 @@ def setupPortletAt(portal, portlet_type, manager, path, name="", **kw):\n             ]\n         },\n     },\n-    "slate": {},\n+    "slate": {\n+        "title": "Welcome to Volto!",\n+        "description": "The React powered content management system",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "16f63011-a6ec-4f1c-8f78-4c5166dfff2c": {\n+                "@type": "slate",\n+                "plaintext": "You can log in and use it as admin user using these credentials :",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": "You can log in and use it as admin user using these "\n+                            },\n+                            {"children": [{"text": "credentials"}], "type": "strong"},\n+                            {"text": ":"},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "237b0f68-d700-47ec-9356-77a54c8d5237": {\n+                "@type": "slate",\n+                "plaintext": "Demo",\n+                "value": [{"children": [{"text": "Demo"}], "type": "h2"}],\n+            },\n+            "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d": {\n+                "@type": "slate",\n+                "plaintext": "password: admin ",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "password: "},\n+                            {"children": [{"text": "admin"}], "type": "strong"},\n+                            {"text": ""},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "26d7d965-80f3-4312-9dc6-5166d00260a5": {\n+                "@type": "slate",\n+                "plaintext": "user: admin ",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "user: "},\n+                            {"children": [{"text": "admin"}], "type": "strong"},\n+                            {"text": ""},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "38ff6b46-4cbd-4933-a462-251c3e963b7a": {\n+                "@type": "slate",\n+                "plaintext": " Plone is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API . Volto can be esily themed and is highly customizable.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "children": [{"text": "Plone"}],\n+                                "data": {"url": "https://plone.org/"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": " is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature "\n+                            },\n+                            {\n+                                "children": [{"text": "REST API"}],\n+                                "data": {\n+                                    "url": "https://github.com/plone/plone.restapi"\n+                                },\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": ". Volto can be esily themed and is highly customizable."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "58cb10e2-49a5-4a87-9f5b-479c34bc5d36": {\n+                "@type": "slate",\n+                "plaintext": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3."\n+                            }\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f": {\n+                "@type": "slate",\n+                "plaintext": f"{datetime.now().year} - Volto Team - Plone Foundation",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": f"{datetime.now().year} - Volto Team - Plone Foundation"\n+                            }\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "712fb2c2-865e-4a21-bc74-b044a411deff": {\n+                "@type": "slate",\n+                "plaintext": "Volto also supports other APIs like Guillotina , a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "Volto also supports other APIs like "},\n+                            {\n+                                "children": [{"text": "Guillotina"}],\n+                                "data": {"url": "https://guillotina.io/"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": ", a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "78ff07d8-dc59-4af9-a669-1d551953ef34": {\n+                "@type": "slate",\n+                "plaintext": " Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "children": [{"text": "Volto"}],\n+                                "data": {"url": "https://github.com/plone/volto"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": " is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "ddc9926a-03d3-4c64-87a1-2b941aa08ebe": {\n+                "@type": "slate",\n+                "plaintext": "Happy hacking!",\n+                "value": [{"children": [{"text": "Happy hacking!"}], "type": "p"}],\n+            },\n+            "fe6a8835-78d6-4026-ac2e-55ed26de14c3": {\n+                "@type": "slate",\n+                "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {"children": [{"text": "Disclaimer"}], "type": "strong"},\n+                            {\n+                                "text": ": This instance is reset every night, so all changes will be lost afterwards."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "78ff07d8-dc59-4af9-a669-1d551953ef34",\n+                "38ff6b46-4cbd-4933-a462-251c3e963b7a",\n+                "712fb2c2-865e-4a21-bc74-b044a411deff",\n+                "237b0f68-d700-47ec-9356-77a54c8d5237",\n+                "58cb10e2-49a5-4a87-9f5b-479c34bc5d36",\n+                "16f63011-a6ec-4f1c-8f78-4c5166dfff2c",\n+                "26d7d965-80f3-4312-9dc6-5166d00260a5",\n+                "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d",\n+                "fe6a8835-78d6-4026-ac2e-55ed26de14c3",\n+                "ddc9926a-03d3-4c64-87a1-2b941aa08ebe",\n+                "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f",\n+            ]\n+        },\n+    },\n }\n \n default_lrf_home = {}\n@@ -559,9 +751,7 @@ def create_default_homepage_draftjs(context):\n     create_default_homepage(context, block_type="draftJS")\n \n \n-def create_default_homepage(\n-    context, default_home=default_lrf_home, block_type="draftJS"\n-):\n+def create_default_homepage(context, default_home=default_lrf_home, block_type="slate"):\n     """This method allows to pass a dict with the homepage blocks and blocks_layout keys"""\n     portal = api.portal.get()\n     # Test for PAM installed\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T14:44:05+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/7af8be12eeff59e45f6f9ebcfe4994f1b3e4a0be

Add LFR default content

Files changed:
M src/plone/volto/setuphandlers.py

b'diff --git a/src/plone/volto/setuphandlers.py b/src/plone/volto/setuphandlers.py\nindex df1187b..42d7890 100644\n--- a/src/plone/volto/setuphandlers.py\n+++ b/src/plone/volto/setuphandlers.py\n@@ -687,64 +687,62 @@ def setupPortletAt(portal, portlet_type, manager, path, name="", **kw):\n     },\n }\n \n-default_lrf_home = {}\n-# default_lrf_home = {\n-#     "draftJS": {\n-#         "blocks": {\n-#             "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n-#             "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n-#                 "@type": "text",\n-#                 "text": {\n-#                     "blocks": [\n-#                         {\n-#                             "key": "618bl",\n-#                             "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n-#                             "type": "unstyled",\n-#                             "depth": 0,\n-#                             "inlineStyleRanges": [],\n-#                             "entityRanges": [],\n-#                             "data": {},\n-#                         }\n-#                     ],\n-#                     "entityMap": {},\n-#                 },\n-#             },\n-#         },\n-#         "blocks_layout": {\n-#             "items": [\n-#                 "15068807-cfc9-444a-97db-8c736809ff52",\n-#                 "59d41d8a-ef05-4e21-8820-2a64f5878092",\n-#             ]\n-#         },\n-#     },\n-#     "slate": {\n-#         "blocks": {\n-#             "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n-#             "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n-#                 {\n-#                     "@type": "slate",\n-#                     "value": [\n-#                         {\n-#                             "type": "p",\n-#                             "children": [\n-#                                 {\n-#                                     "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus."\n-#                                 }\n-#                             ],\n-#                         }\n-#                     ],\n-#                     "plaintext": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n-#                 }\n-#             },\n-#         },\n-#         "blocks_layout": {\n-#             "items": [\n-#                 "15068807-cfc9-444a-97db-8c736809ff52",\n-#                 "59d41d8a-ef05-4e21-8820-2a64f5878092",\n-#             ]\n-#         },\n-#     },\n-# }\n+\n+default_lrf_home = {\n+    "draftJS": {\n+        "blocks": {\n+            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "key": "618bl",\n+                            "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+                            "type": "unstyled",\n+                            "depth": 0,\n+                            "inlineStyleRanges": [],\n+                            "entityRanges": [],\n+                            "data": {},\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "15068807-cfc9-444a-97db-8c736809ff52",\n+                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+            ]\n+        },\n+    },\n+    "slate": {\n+        "blocks": {\n+            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus."\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "15068807-cfc9-444a-97db-8c736809ff52",\n+                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+            ]\n+        },\n+    },\n+}\n \n \n def create_default_homepage_draftjs(context):\n@@ -768,6 +766,9 @@ def create_default_homepage(context, default_home=default_lrf_home, block_type="\n         # Make sure that the LRFs have the blocks enabled\n         add_behavior("LRF", "volto.blocks")\n \n+        if block_type and block_type in default_home:\n+            default_home = default_home[block_type]\n+\n         for lang in api.portal.get_registry_record("plone.available_languages"):\n             # Do not write them if there are blocks set already\n             # Get the attr first, in case it\'s not there yet (error in docker image)\n@@ -778,16 +779,8 @@ def create_default_homepage(context, default_home=default_lrf_home, block_type="\n                 logger.info(\n                     "Creating default homepage for {} - PAM enabled".format(lang)\n                 )\n-                portal[lang].blocks = (\n-                    default_home[block_type]["blocks"]\n-                    if default_home.get(block_type)\n-                    else default_home["blocks"]\n-                )\n-                portal[lang].blocks_layout = (\n-                    default_home[block_type]["blocks_layout"]\n-                    if default_home.get(block_type)\n-                    else default_home["blocks_layout"]\n-                )\n+                portal[lang].blocks = default_home["blocks"]\n+                portal[lang].blocks_layout = default_home["blocks_layout"]\n \n     else:\n         create_root_homepage(context, block_type)\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T14:49:19+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/20fddbb6a57de519df86d31c0dabcc4d25894fdc

Documentation about default-homepage-drafjs profile

Files changed:
M README.rst

b'diff --git a/README.rst b/README.rst\nindex d263e7f..0b995d0 100644\n--- a/README.rst\n+++ b/README.rst\n@@ -20,7 +20,7 @@ Install plone.volto by adding it to your buildout::\n \n     [buildout]\n     ...\n-    \n+\n     [instance]\n     ...\n \n@@ -95,7 +95,7 @@ plone.volto enables the new Volto Blocks editor on ``Document``, ``Language Root\n Multilingual Support\n --------------------\n \n-plone.volto supports multilingual websites. \n+plone.volto supports multilingual websites.\n Install PAM before installing this package and demo homepages will be created in each enabled language.\n Currently only support for EN/DE.\n \n@@ -103,7 +103,7 @@ Currently only support for EN/DE.\n Volto Blocks for Plone Site Root\n --------------------------------\n \n-plone.volto contains a hack to make the Plone site Volto blocks-enabled with some demo content. \n+plone.volto contains a hack to make the Plone site Volto blocks-enabled with some demo content.\n You can take only the hack to enable the blocks on your site.\n \n You can see it in action in the Volto demo: https://6.demo.plone.org\n@@ -121,6 +121,10 @@ e.g. in your GS ``metadata.xml`` along with your other dependencies::\n   </dependencies>\n   </metadata>\n \n+**NOTE**: From ``plone.volto`` above version 4.0.0, the default block for creating the\n+default content in the root (or corresponding Language Root Folders) is "slate". If you\n+want still to create draftJS blocks, you need to use the ``default-homepage-drafjs`` profile.\n+\n \n Document Content Type\n ---------------------\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T15:05:55+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/1277d0bd886efee20746ad2740fc5bc08b7a62a4

Demo page for Plone 6 updated to slate

Files changed:
M src/plone/volto/setuphandlers.py

b'diff --git a/src/plone/volto/setuphandlers.py b/src/plone/volto/setuphandlers.py\nindex 42d7890..c822c21 100644\n--- a/src/plone/volto/setuphandlers.py\n+++ b/src/plone/volto/setuphandlers.py\n@@ -60,7 +60,7 @@ def post_install_coresandbox(context):\n def post_install_multilingual(context):\n     """Post install script for multilingual fixture"""\n     enable_pam(context)\n-    create_default_homepage(context)\n+    create_default_homepage(context, block_type="slate")\n \n \n def enable_pam(portal):\n@@ -749,7 +749,7 @@ def create_default_homepage_draftjs(context):\n     create_default_homepage(context, block_type="draftJS")\n \n \n-def create_default_homepage(context, default_home=default_lrf_home, block_type="slate"):\n+def create_default_homepage(context, default_home=default_lrf_home, block_type=None):\n     """This method allows to pass a dict with the homepage blocks and blocks_layout keys"""\n     portal = api.portal.get()\n     # Test for PAM installed\n@@ -768,6 +768,9 @@ def create_default_homepage(context, default_home=default_lrf_home, block_type="\n \n         if block_type and block_type in default_home:\n             default_home = default_home[block_type]\n+        else:\n+            # Default to slate\n+            default_home = default_home["slate"]\n \n         for lang in api.portal.get_registry_record("plone.available_languages"):\n             # Do not write them if there are blocks set already\n@@ -786,7 +789,7 @@ def create_default_homepage(context, default_home=default_lrf_home, block_type="\n         create_root_homepage(context, block_type)\n \n \n-def create_root_homepage(context, block_type, default_home=default_home):\n+def create_root_homepage(context, block_type=None, default_home=default_home):\n     """It takes a default object:\n     {\n         "title": "The title",\n@@ -802,6 +805,9 @@ def create_root_homepage(context, block_type, default_home=default_home):\n \n     if block_type and block_type in default_home:\n         default_home = default_home[block_type]\n+    else:\n+        # Default to slate\n+        default_home = default_home["slate"]\n \n     logger.info(\n         f"Creating default homepage in Plone {\'6\' if PLONE_6 else \'\'} site root with {block_type} blocks - not PAM enabled"\n@@ -830,346 +836,640 @@ def create_root_homepage(context, block_type, default_home=default_home):\n \n def create_demo_homepage(context):\n     demo_home_page = {\n-        "title": "Welcome to Plone 6!",\n-        "description": "Congratulations! You have successfully installed Plone.",\n-        "blocks": {\n-            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n-            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n-            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 10, "offset": 0, "style": "BOLD"}\n-                            ],\n-                            "key": "6470b",\n-                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n+        "draftJS": {\n+            "title": "Welcome to Plone 6!",\n+            "description": "Congratulations! You have successfully installed Plone.",\n+            "blocks": {\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [\n+                                    {"length": 10, "offset": 0, "style": "BOLD"}\n+                                ],\n+                                "key": "6470b",\n+                                "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [\n+                                    {"length": 5, "offset": 6, "style": "BOLD"}\n+                                ],\n+                                "key": "ekn3l",\n+                                "text": "user: admin",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "behki",\n+                                "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n                 },\n+                "5f7e6846-e27c-48c4-8c9a-f0d93eadb185": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "75pke",\n+                                "text": "\\u2026protects and promotes Plone.",\n+                                "type": "unordered-list-item",\n+                            },\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "2mo73",\n+                                "text": "\\u2026is a registered 501(c)(3) charitable organization.",\n+                                "type": "unordered-list-item",\n+                            },\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "9qhkg",\n+                                "text": "\\u2026donations are tax-deductible.",\n+                                "type": "unordered-list-item",\n+                            },\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [{"key": 0, "length": 50, "offset": 0}],\n+                                "inlineStyleRanges": [],\n+                                "key": "5528b",\n+                                "text": "Support the Foundation and help make Plone better!",\n+                                "type": "unordered-list-item",\n+                            },\n+                        ],\n+                        "entityMap": {\n+                            "0": {\n+                                "data": {"url": "https://plone.org/sponsors/be-a-hero"},\n+                                "mutability": "MUTABLE",\n+                                "type": "LINK",\n+                            }\n+                        },\n+                    },\n+                },\n+                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "9qsa4",\n+                                "text": "Demo",\n+                                "type": "header-two",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "874049e7-629e-489a-b46c-1adf35ad40ee": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "9pnjr",\n+                                "text": "Happy hacking!",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "8bba235c-7a52-4ce2-bde1-c505e5746dce": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "692gs",\n+                                "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "942b6530-2407-420f-9c24-597adda6b2ce": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "6a248",\n+                                "text": "Support the Plone Foundation",\n+                                "type": "header-two",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [\n+                                    {"length": 12, "offset": 51, "style": "BOLD"}\n+                                ],\n+                                "key": "94arl",\n+                                "text": "You can log in and use it as admin user using these credentials:",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "b3717238-448f-406e-b06f-57a9715c3326": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "1bnna",\n+                                "text": "Find out more about Plone",\n+                                "type": "header-two",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "55n44",\n+                                "text": "You can use this site to test Plone 6. These are the versions used in this demo:",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [\n+                                    {"length": 5, "offset": 10, "style": "BOLD"}\n+                                ],\n+                                "key": "buncq",\n+                                "text": "password: admin",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [],\n+                                "inlineStyleRanges": [],\n+                                "key": "f0prj",\n+                                "text": f"{datetime.now().year} - Plone Foundation",\n+                                "type": "unstyled",\n+                            }\n+                        ],\n+                        "entityMap": {},\n+                    },\n+                },\n+                "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n+                    "@type": "text",\n+                    "text": {\n+                        "blocks": [\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [{"key": 0, "length": 43, "offset": 4}],\n+                                "inlineStyleRanges": [],\n+                                "key": "68rve",\n+                                "text": "The Plone open source Content Management System web site for evaluators and decision makers.",\n+                                "type": "unordered-list-item",\n+                            },\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [{"key": 1, "length": 16, "offset": 4}],\n+                                "inlineStyleRanges": [],\n+                                "key": "4ec08",\n+                                "text": "The Plone community web site for developers.",\n+                                "type": "unordered-list-item",\n+                            },\n+                            {\n+                                "data": {},\n+                                "depth": 0,\n+                                "entityRanges": [{"key": 2, "length": 27, "offset": 4}],\n+                                "inlineStyleRanges": [],\n+                                "key": "4q5m2",\n+                                "text": "The Python programming language web site.",\n+                                "type": "unordered-list-item",\n+                            },\n+                        ],\n+                        "entityMap": {\n+                            "0": {\n+                                "data": {"url": "https://plone.com/"},\n+                                "mutability": "MUTABLE",\n+                                "type": "LINK",\n+                            },\n+                            "1": {\n+                                "data": {"url": "https://plone.org/"},\n+                                "mutability": "MUTABLE",\n+                                "type": "LINK",\n+                            },\n+                            "2": {\n+                                "data": {"url": "https://www.python.org/"},\n+                                "mutability": "MUTABLE",\n+                                "type": "LINK",\n+                            },\n+                        },\n+                    },\n+                },\n+                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n             },\n-            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+            "blocks_layout": {\n+                "items": [\n+                    "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                    "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                    "b3717238-448f-406e-b06f-57a9715c3326",\n+                    "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n+                    "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n+                    "942b6530-2407-420f-9c24-597adda6b2ce",\n+                    "8bba235c-7a52-4ce2-bde1-c505e5746dce",\n+                    "5f7e6846-e27c-48c4-8c9a-f0d93eadb185",\n+                    "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n+                    "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n+                    "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n+                    "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n+                    "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n+                    "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n+                    "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n+                    "874049e7-629e-489a-b46c-1adf35ad40ee",\n+                    "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n+                ]\n+            },\n+        },\n+        "slate": {\n+            "title": "Welcome to Plone 6!",\n+            "description": "Congratulations! You have successfully installed Plone.",\n+            "blocks": {\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n+                "bedf0ed6-3237-46ac-8c91-994826b1cf05": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 6, "style": "BOLD"}\n-                            ],\n-                            "key": "ekn3l",\n-                            "text": "user: admin",\n-                            "type": "unstyled",\n+                            "type": "h2",\n+                            "children": [{"text": "Find out more about Plone"}],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "Find out more about Plone",\n                 },\n-            },\n-            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "577b38a2-84ed-4911-9644-72b73b79bf9b": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "behki",\n-                            "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n-                            "type": "unstyled",\n+                            "type": "p",\n+                            "children": [\n+                                {\n+                                    "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:"\n+                                }\n+                            ],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n                 },\n-            },\n-            "5f7e6846-e27c-48c4-8c9a-f0d93eadb185": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "75pke",\n-                            "text": "\\u2026protects and promotes Plone.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "2mo73",\n-                            "text": "\\u2026is a registered 501(c)(3) charitable organization.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9qhkg",\n-                            "text": "\\u2026donations are tax-deductible.",\n-                            "type": "unordered-list-item",\n-                        },\n+                "539b7bb6-23e1-425c-8d93-70c03d52806e": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 50, "offset": 0}],\n-                            "inlineStyleRanges": [],\n-                            "key": "5528b",\n-                            "text": "Support the Foundation and help make Plone better!",\n-                            "type": "unordered-list-item",\n-                        },\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {"url": "https://plone.org/sponsors/be-a-hero"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n+                            "type": "ul",\n+                            "children": [\n+                                {\n+                                    "type": "li",\n+                                    "children": [\n+                                        {"text": "The "},\n+                                        {\n+                                            "type": "link",\n+                                            "data": {"url": "https://plone.com/"},\n+                                            "children": [\n+                                                {\n+                                                    "text": "Plone open source Content Management System"\n+                                                }\n+                                            ],\n+                                        },\n+                                        {\n+                                            "text": " web site for evaluators and decision makers."\n+                                        },\n+                                    ],\n+                                },\n+                                {\n+                                    "type": "li",\n+                                    "children": [\n+                                        {"text": "The "},\n+                                        {\n+                                            "type": "link",\n+                                            "data": {"url": "https://plone.org/"},\n+                                            "children": [{"text": "Plone community "}],\n+                                        },\n+                                        {"text": "web site for developers."},\n+                                    ],\n+                                },\n+                                {\n+                                    "type": "li",\n+                                    "children": [\n+                                        {"text": "The "},\n+                                        {\n+                                            "type": "link",\n+                                            "data": {"url": "https://www.python.org/"},\n+                                            "children": [\n+                                                {"text": "Python programming language"}\n+                                            ],\n+                                        },\n+                                        {"text": " web site."},\n+                                    ],\n+                                },\n+                            ],\n                         }\n-                    },\n+                    ],\n+                    "plaintext": "The Plone open source Content Management System web site for evaluators and decision makers. The Plone community web site for developers. The Python programming language web site.",\n                 },\n-            },\n-            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "5d166d4b-195b-4dc2-ac11-8d283673ee8d": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9qsa4",\n-                            "text": "Demo",\n-                            "type": "header-two",\n+                            "type": "h2",\n+                            "children": [{"text": "Support the Plone Foundation"}],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "Support the Plone Foundation",\n                 },\n-            },\n-            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "8696b042-7119-4700-9e7f-2b22e8982a7b": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9pnjr",\n-                            "text": "Happy hacking!",\n-                            "type": "unstyled",\n+                            "type": "p",\n+                            "children": [\n+                                {\n+                                    "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:"\n+                                }\n+                            ],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n                 },\n-            },\n-            "8bba235c-7a52-4ce2-bde1-c505e5746dce": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "7ab29abe-b38c-406b-94d7-b270e544a998": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "692gs",\n-                            "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n-                            "type": "unstyled",\n+                            "type": "ul",\n+                            "children": [\n+                                {\n+                                    "type": "li",\n+                                    "children": [\n+                                        {"text": "\\u2026protects and promotes Plone."}\n+                                    ],\n+                                },\n+                                {\n+                                    "type": "li",\n+                                    "children": [\n+                                        {\n+                                            "text": "\\u2026is a registered 501(c)(3) charitable organization."\n+                                        }\n+                                    ],\n+                                },\n+                                {\n+                                    "type": "li",\n+                                    "children": [\n+                                        {"text": "\\u2026donations are tax-deductible."}\n+                                    ],\n+                                },\n+                                {\n+                                    "type": "li",\n+                                    "children": [\n+                                        {"text": ""},\n+                                        {\n+                                            "type": "link",\n+                                            "data": {\n+                                                "url": "https://plone.org/sponsors/be-a-hero"\n+                                            },\n+                                            "children": [\n+                                                {\n+                                                    "text": "Support the Foundation and help make Plone better!"\n+                                                }\n+                                            ],\n+                                        },\n+                                        {"text": ""},\n+                                        {\n+                                            "type": "link",\n+                                            "data": {\n+                                                "url": "https://plone.org/sponsors/be-a-hero"\n+                                            },\n+                                            "children": [{"text": ""}],\n+                                        },\n+                                        {"text": ""},\n+                                    ],\n+                                },\n+                            ],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "\\u2026protects and promotes Plone. \\u2026is a registered 501(c)(3) charitable organization. \\u2026donations are tax-deductible.  Support the Foundation and help make Plone better!   ",\n                 },\n-            },\n-            "942b6530-2407-420f-9c24-597adda6b2ce": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "e1220183-552c-45d9-a661-5ad0854615ac": {\n+                    "@type": "slate",\n+                    "value": [{"type": "h2", "children": [{"text": "Demo"}]}],\n+                    "plaintext": "Demo",\n+                },\n+                "9509e96d-5718-4687-95c1-f9d3db115b92": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "6a248",\n-                            "text": "Support the Plone Foundation",\n-                            "type": "header-two",\n+                            "type": "p",\n+                            "children": [\n+                                {\n+                                    "text": "You can use this site to test Plone 6. These are the versions used in this demo:"\n+                                }\n+                            ],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "You can use this site to test Plone 6. These are the versions used in this demo:",\n                 },\n-            },\n-            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "2c68bdda-7dd3-4599-9111-db5ffb2230f9": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 12, "offset": 51, "style": "BOLD"}\n+                            "type": "p",\n+                            "children": [\n+                                {\n+                                    "text": "You can log in and use it as admin user using these "\n+                                },\n+                                {\n+                                    "type": "strong",\n+                                    "children": [{"text": "credentials"}],\n+                                },\n+                                {"text": ":"},\n                             ],\n-                            "key": "94arl",\n-                            "text": "You can log in and use it as admin user using these credentials:",\n-                            "type": "unstyled",\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "You can log in and use it as admin user using these credentials :",\n                 },\n-            },\n-            "b3717238-448f-406e-b06f-57a9715c3326": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "93dd5f95-b3e3-4a47-9121-cde08ca07203": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "1bnna",\n-                            "text": "Find out more about Plone",\n-                            "type": "header-two",\n+                            "type": "p",\n+                            "children": [\n+                                {"text": "user: "},\n+                                {"type": "strong", "children": [{"text": "admin"}]},\n+                                {"text": ""},\n+                            ],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "user: admin ",\n                 },\n-            },\n-            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "3ed49dc1-caf0-41ff-bb41-9153eeaa45da": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "55n44",\n-                            "text": "You can use this site to test Plone 6. These are the versions used in this demo:",\n-                            "type": "unstyled",\n+                            "type": "p",\n+                            "children": [\n+                                {"text": "password: "},\n+                                {"type": "strong", "children": [{"text": "admin"}]},\n+                                {"text": ""},\n+                            ],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": "password: admin ",\n                 },\n-            },\n-            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "4b2cd280-3c87-431b-a0fe-d7ec56587bde": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 10, "style": "BOLD"}\n+                            "type": "p",\n+                            "children": [\n+                                {"text": ""},\n+                                {\n+                                    "type": "strong",\n+                                    "children": [{"text": "Disclaimer"}],\n+                                },\n+                                {\n+                                    "text": ": This instance is reset every night, so all changes will be lost afterwards."\n+                                },\n                             ],\n-                            "key": "buncq",\n-                            "text": "password: admin",\n-                            "type": "unstyled",\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n                 },\n-            },\n-            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n+                "b1d7da87-11d6-4dd2-81f2-0069826ffbd6": {\n+                    "@type": "slate",\n+                    "value": [{"type": "p", "children": [{"text": "Happy hacking!"}]}],\n+                    "plaintext": "Happy hacking!",\n+                },\n+                "a7889552-ad4e-4afb-bbbd-2911661e8cbe": {\n+                    "@type": "slate",\n+                    "value": [\n                         {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "f0prj",\n-                            "text": f"{datetime.now().year} - Plone Foundation",\n-                            "type": "unstyled",\n+                            "type": "p",\n+                            "children": [\n+                                {"text": f"{datetime.now().year} - Plone Foundation"}\n+                            ],\n                         }\n                     ],\n-                    "entityMap": {},\n+                    "plaintext": f"{datetime.now().year} - Plone Foundation",\n                 },\n             },\n-            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 43, "offset": 4}],\n-                            "inlineStyleRanges": [],\n-                            "key": "68rve",\n-                            "text": "The Plone open source Content Management System web site for evaluators and decision makers.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 1, "length": 16, "offset": 4}],\n-                            "inlineStyleRanges": [],\n-                            "key": "4ec08",\n-                            "text": "The Plone community web site for developers.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 2, "length": 27, "offset": 4}],\n-                            "inlineStyleRanges": [],\n-                            "key": "4q5m2",\n-                            "text": "The Python programming language web site.",\n-                            "type": "unordered-list-item",\n-                        },\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {"url": "https://plone.com/"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                        "1": {\n-                            "data": {"url": "https://plone.org/"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                        "2": {\n-                            "data": {"url": "https://www.python.org/"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                    },\n-                },\n+            "blocks_layout": {\n+                "items": [\n+                    "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                    "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                    "bedf0ed6-3237-46ac-8c91-994826b1cf05",\n+                    "577b38a2-84ed-4911-9644-72b73b79bf9b",\n+                    "539b7bb6-23e1-425c-8d93-70c03d52806e",\n+                    "5d166d4b-195b-4dc2-ac11-8d283673ee8d",\n+                    "8696b042-7119-4700-9e7f-2b22e8982a7b",\n+                    "7ab29abe-b38c-406b-94d7-b270e544a998",\n+                    "e1220183-552c-45d9-a661-5ad0854615ac",\n+                    "9509e96d-5718-4687-95c1-f9d3db115b92",\n+                    "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n+                    "2c68bdda-7dd3-4599-9111-db5ffb2230f9",\n+                    "93dd5f95-b3e3-4a47-9121-cde08ca07203",\n+                    "3ed49dc1-caf0-41ff-bb41-9153eeaa45da",\n+                    "4b2cd280-3c87-431b-a0fe-d7ec56587bde",\n+                    "b1d7da87-11d6-4dd2-81f2-0069826ffbd6",\n+                    "a7889552-ad4e-4afb-bbbd-2911661e8cbe",\n+                ]\n             },\n-            "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n-        },\n-        "blocks_layout": {\n-            "items": [\n-                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n-                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n-                "b3717238-448f-406e-b06f-57a9715c3326",\n-                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n-                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n-                "942b6530-2407-420f-9c24-597adda6b2ce",\n-                "8bba235c-7a52-4ce2-bde1-c505e5746dce",\n-                "5f7e6846-e27c-48c4-8c9a-f0d93eadb185",\n-                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n-                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n-                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n-                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n-                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n-                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n-                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n-                "874049e7-629e-489a-b46c-1adf35ad40ee",\n-                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n-            ]\n         },\n     }\n \n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T15:23:43+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/16261224e931c81dcc1e1048ef651041dafcd126

Organize the data for the default roots on its own folder

Files changed:
A src/plone/volto/default_homepage/__init__.py
A src/plone/volto/default_homepage/default.py
A src/plone/volto/default_homepage/demo.py
A src/plone/volto/default_homepage/lrf.py
M src/plone/volto/setuphandlers.py

b'diff --git a/src/plone/volto/default_homepage/__init__.py b/src/plone/volto/default_homepage/__init__.py\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/src/plone/volto/default_homepage/default.py b/src/plone/volto/default_homepage/default.py\nnew file mode 100644\nindex 0000000..dba86e9\n--- /dev/null\n+++ b/src/plone/volto/default_homepage/default.py\n@@ -0,0 +1,484 @@\n+from datetime import datetime\n+\n+default_home = {\n+    "draftJS": {\n+        "title": "Welcome to Volto!",\n+        "description": "The React powered content management system",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 10, "offset": 0, "style": "BOLD"}\n+                            ],\n+                            "key": "6470b",\n+                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 6, "style": "BOLD"}\n+                            ],\n+                            "key": "ekn3l",\n+                            "text": "user: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [\n+                                {"key": 0, "length": 5, "offset": 0},\n+                                {"key": 1, "length": 8, "offset": 455},\n+                            ],\n+                            "inlineStyleRanges": [],\n+                            "key": "behki",\n+                            "text": "Plone is a CMS built on Python with over 19 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API. Volto can be esily themed and is highly customizable.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://plone.org",\n+                                "rel": "nofollow",\n+                                "url": "https://plone.org/",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                        "1": {\n+                            "data": {\n+                                "href": "https://github.com/plone/plone.restapi",\n+                                "url": "https://github.com/plone/plone.restapi",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                    },\n+                },\n+            },\n+            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9qsa4",\n+                            "text": "Demo",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9pnjr",\n+                            "text": "Happy hacking!",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "942b6530-2407-420f-9c24-597adda6b2ce": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 36, "offset": 39}],\n+                            "inlineStyleRanges": [],\n+                            "key": "6a248",\n+                            "text": "Last but not least, it also supports a Volto Nodejs-based backend reference API implementation that demos how other systems could also use Volto to display and create content through it.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://github.com/plone/volto-reference-backend",\n+                                "url": "https://github.com/plone/volto-reference-backend",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 12, "offset": 51, "style": "BOLD"}\n+                            ],\n+                            "key": "94arl",\n+                            "text": "You can log in and use it as admin user using these credentials:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "b3717238-448f-406e-b06f-57a9715c3326": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 5, "offset": 0}],\n+                            "inlineStyleRanges": [],\n+                            "key": "1bnna",\n+                            "text": "Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://github.com/plone/volto",\n+                                "url": "https://github.com/plone/volto",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "55n44",\n+                            "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 10, "style": "BOLD"}\n+                            ],\n+                            "key": "buncq",\n+                            "text": "password: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "f0prj",\n+                            "text": f"{datetime.now().year} - Volto Team - Plone Foundation",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 10, "offset": 36}],\n+                            "inlineStyleRanges": [],\n+                            "key": "68rve",\n+                            "text": "Volto also supports other APIs like Guillotina, a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://guillotina.io/",\n+                                "rel": "nofollow",\n+                                "url": "https://guillotina.io/",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "b3717238-448f-406e-b06f-57a9715c3326",\n+                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n+                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n+                "942b6530-2407-420f-9c24-597adda6b2ce",\n+                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n+                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n+                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n+                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n+                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n+                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n+                "874049e7-629e-489a-b46c-1adf35ad40ee",\n+                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n+            ]\n+        },\n+    },\n+    "slate": {\n+        "title": "Welcome to Volto!",\n+        "description": "The React powered content management system",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "16f63011-a6ec-4f1c-8f78-4c5166dfff2c": {\n+                "@type": "slate",\n+                "plaintext": "You can log in and use it as admin user using these credentials :",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": "You can log in and use it as admin user using these "\n+                            },\n+                            {"children": [{"text": "credentials"}], "type": "strong"},\n+                            {"text": ":"},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "237b0f68-d700-47ec-9356-77a54c8d5237": {\n+                "@type": "slate",\n+                "plaintext": "Demo",\n+                "value": [{"children": [{"text": "Demo"}], "type": "h2"}],\n+            },\n+            "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d": {\n+                "@type": "slate",\n+                "plaintext": "password: admin ",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "password: "},\n+                            {"children": [{"text": "admin"}], "type": "strong"},\n+                            {"text": ""},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "26d7d965-80f3-4312-9dc6-5166d00260a5": {\n+                "@type": "slate",\n+                "plaintext": "user: admin ",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "user: "},\n+                            {"children": [{"text": "admin"}], "type": "strong"},\n+                            {"text": ""},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "38ff6b46-4cbd-4933-a462-251c3e963b7a": {\n+                "@type": "slate",\n+                "plaintext": " Plone is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API . Volto can be esily themed and is highly customizable.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "children": [{"text": "Plone"}],\n+                                "data": {"url": "https://plone.org/"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": " is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature "\n+                            },\n+                            {\n+                                "children": [{"text": "REST API"}],\n+                                "data": {\n+                                    "url": "https://github.com/plone/plone.restapi"\n+                                },\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": ". Volto can be esily themed and is highly customizable."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "58cb10e2-49a5-4a87-9f5b-479c34bc5d36": {\n+                "@type": "slate",\n+                "plaintext": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3."\n+                            }\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f": {\n+                "@type": "slate",\n+                "plaintext": f"{datetime.now().year} - Volto Team - Plone Foundation",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": f"{datetime.now().year} - Volto Team - Plone Foundation"\n+                            }\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "712fb2c2-865e-4a21-bc74-b044a411deff": {\n+                "@type": "slate",\n+                "plaintext": "Volto also supports other APIs like Guillotina , a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "Volto also supports other APIs like "},\n+                            {\n+                                "children": [{"text": "Guillotina"}],\n+                                "data": {"url": "https://guillotina.io/"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": ", a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "78ff07d8-dc59-4af9-a669-1d551953ef34": {\n+                "@type": "slate",\n+                "plaintext": " Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "children": [{"text": "Volto"}],\n+                                "data": {"url": "https://github.com/plone/volto"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": " is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "ddc9926a-03d3-4c64-87a1-2b941aa08ebe": {\n+                "@type": "slate",\n+                "plaintext": "Happy hacking!",\n+                "value": [{"children": [{"text": "Happy hacking!"}], "type": "p"}],\n+            },\n+            "fe6a8835-78d6-4026-ac2e-55ed26de14c3": {\n+                "@type": "slate",\n+                "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {"children": [{"text": "Disclaimer"}], "type": "strong"},\n+                            {\n+                                "text": ": This instance is reset every night, so all changes will be lost afterwards."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "78ff07d8-dc59-4af9-a669-1d551953ef34",\n+                "38ff6b46-4cbd-4933-a462-251c3e963b7a",\n+                "712fb2c2-865e-4a21-bc74-b044a411deff",\n+                "237b0f68-d700-47ec-9356-77a54c8d5237",\n+                "58cb10e2-49a5-4a87-9f5b-479c34bc5d36",\n+                "16f63011-a6ec-4f1c-8f78-4c5166dfff2c",\n+                "26d7d965-80f3-4312-9dc6-5166d00260a5",\n+                "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d",\n+                "fe6a8835-78d6-4026-ac2e-55ed26de14c3",\n+                "ddc9926a-03d3-4c64-87a1-2b941aa08ebe",\n+                "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f",\n+            ]\n+        },\n+    },\n+}\ndiff --git a/src/plone/volto/default_homepage/demo.py b/src/plone/volto/default_homepage/demo.py\nnew file mode 100644\nindex 0000000..bc7ff09\n--- /dev/null\n+++ b/src/plone/volto/default_homepage/demo.py\n@@ -0,0 +1,639 @@\n+from datetime import datetime\n+\n+demo_home_page = {\n+    "draftJS": {\n+        "title": "Welcome to Plone 6!",\n+        "description": "Congratulations! You have successfully installed Plone.",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 10, "offset": 0, "style": "BOLD"}\n+                            ],\n+                            "key": "6470b",\n+                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 6, "style": "BOLD"}\n+                            ],\n+                            "key": "ekn3l",\n+                            "text": "user: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "behki",\n+                            "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "5f7e6846-e27c-48c4-8c9a-f0d93eadb185": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "75pke",\n+                            "text": "\\u2026protects and promotes Plone.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "2mo73",\n+                            "text": "\\u2026is a registered 501(c)(3) charitable organization.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9qhkg",\n+                            "text": "\\u2026donations are tax-deductible.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 50, "offset": 0}],\n+                            "inlineStyleRanges": [],\n+                            "key": "5528b",\n+                            "text": "Support the Foundation and help make Plone better!",\n+                            "type": "unordered-list-item",\n+                        },\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {"url": "https://plone.org/sponsors/be-a-hero"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9qsa4",\n+                            "text": "Demo",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9pnjr",\n+                            "text": "Happy hacking!",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "8bba235c-7a52-4ce2-bde1-c505e5746dce": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "692gs",\n+                            "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "942b6530-2407-420f-9c24-597adda6b2ce": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "6a248",\n+                            "text": "Support the Plone Foundation",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 12, "offset": 51, "style": "BOLD"}\n+                            ],\n+                            "key": "94arl",\n+                            "text": "You can log in and use it as admin user using these credentials:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "b3717238-448f-406e-b06f-57a9715c3326": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "1bnna",\n+                            "text": "Find out more about Plone",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "55n44",\n+                            "text": "You can use this site to test Plone 6. These are the versions used in this demo:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 10, "style": "BOLD"}\n+                            ],\n+                            "key": "buncq",\n+                            "text": "password: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "f0prj",\n+                            "text": f"{datetime.now().year} - Plone Foundation",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 43, "offset": 4}],\n+                            "inlineStyleRanges": [],\n+                            "key": "68rve",\n+                            "text": "The Plone open source Content Management System web site for evaluators and decision makers.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 1, "length": 16, "offset": 4}],\n+                            "inlineStyleRanges": [],\n+                            "key": "4ec08",\n+                            "text": "The Plone community web site for developers.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 2, "length": 27, "offset": 4}],\n+                            "inlineStyleRanges": [],\n+                            "key": "4q5m2",\n+                            "text": "The Python programming language web site.",\n+                            "type": "unordered-list-item",\n+                        },\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {"url": "https://plone.com/"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                        "1": {\n+                            "data": {"url": "https://plone.org/"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                        "2": {\n+                            "data": {"url": "https://www.python.org/"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                    },\n+                },\n+            },\n+            "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "b3717238-448f-406e-b06f-57a9715c3326",\n+                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n+                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n+                "942b6530-2407-420f-9c24-597adda6b2ce",\n+                "8bba235c-7a52-4ce2-bde1-c505e5746dce",\n+                "5f7e6846-e27c-48c4-8c9a-f0d93eadb185",\n+                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n+                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n+                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n+                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n+                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n+                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n+                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n+                "874049e7-629e-489a-b46c-1adf35ad40ee",\n+                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n+            ]\n+        },\n+    },\n+    "slate": {\n+        "title": "Welcome to Plone 6!",\n+        "description": "Congratulations! You have successfully installed Plone.",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n+            "bedf0ed6-3237-46ac-8c91-994826b1cf05": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "h2",\n+                        "children": [{"text": "Find out more about Plone"}],\n+                    }\n+                ],\n+                "plaintext": "Find out more about Plone",\n+            },\n+            "577b38a2-84ed-4911-9644-72b73b79bf9b": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:"\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n+            },\n+            "539b7bb6-23e1-425c-8d93-70c03d52806e": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "ul",\n+                        "children": [\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "The "},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {"url": "https://plone.com/"},\n+                                        "children": [\n+                                            {\n+                                                "text": "Plone open source Content Management System"\n+                                            }\n+                                        ],\n+                                    },\n+                                    {\n+                                        "text": " web site for evaluators and decision makers."\n+                                    },\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "The "},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {"url": "https://plone.org/"},\n+                                        "children": [{"text": "Plone community "}],\n+                                    },\n+                                    {"text": "web site for developers."},\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "The "},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {"url": "https://www.python.org/"},\n+                                        "children": [\n+                                            {"text": "Python programming language"}\n+                                        ],\n+                                    },\n+                                    {"text": " web site."},\n+                                ],\n+                            },\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "The Plone open source Content Management System web site for evaluators and decision makers. The Plone community web site for developers. The Python programming language web site.",\n+            },\n+            "5d166d4b-195b-4dc2-ac11-8d283673ee8d": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "h2",\n+                        "children": [{"text": "Support the Plone Foundation"}],\n+                    }\n+                ],\n+                "plaintext": "Support the Plone Foundation",\n+            },\n+            "8696b042-7119-4700-9e7f-2b22e8982a7b": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:"\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n+            },\n+            "7ab29abe-b38c-406b-94d7-b270e544a998": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "ul",\n+                        "children": [\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "\\u2026protects and promotes Plone."}\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {\n+                                        "text": "\\u2026is a registered 501(c)(3) charitable organization."\n+                                    }\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "\\u2026donations are tax-deductible."}\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": ""},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {\n+                                            "url": "https://plone.org/sponsors/be-a-hero"\n+                                        },\n+                                        "children": [\n+                                            {\n+                                                "text": "Support the Foundation and help make Plone better!"\n+                                            }\n+                                        ],\n+                                    },\n+                                    {"text": ""},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {\n+                                            "url": "https://plone.org/sponsors/be-a-hero"\n+                                        },\n+                                        "children": [{"text": ""}],\n+                                    },\n+                                    {"text": ""},\n+                                ],\n+                            },\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "\\u2026protects and promotes Plone. \\u2026is a registered 501(c)(3) charitable organization. \\u2026donations are tax-deductible.  Support the Foundation and help make Plone better!   ",\n+            },\n+            "e1220183-552c-45d9-a661-5ad0854615ac": {\n+                "@type": "slate",\n+                "value": [{"type": "h2", "children": [{"text": "Demo"}]}],\n+                "plaintext": "Demo",\n+            },\n+            "9509e96d-5718-4687-95c1-f9d3db115b92": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "You can use this site to test Plone 6. These are the versions used in this demo:"\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "You can use this site to test Plone 6. These are the versions used in this demo:",\n+            },\n+            "2c68bdda-7dd3-4599-9111-db5ffb2230f9": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "You can log in and use it as admin user using these "\n+                            },\n+                            {\n+                                "type": "strong",\n+                                "children": [{"text": "credentials"}],\n+                            },\n+                            {"text": ":"},\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "You can log in and use it as admin user using these credentials :",\n+            },\n+            "93dd5f95-b3e3-4a47-9121-cde08ca07203": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": "user: "},\n+                            {"type": "strong", "children": [{"text": "admin"}]},\n+                            {"text": ""},\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "user: admin ",\n+            },\n+            "3ed49dc1-caf0-41ff-bb41-9153eeaa45da": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": "password: "},\n+                            {"type": "strong", "children": [{"text": "admin"}]},\n+                            {"text": ""},\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "password: admin ",\n+            },\n+            "4b2cd280-3c87-431b-a0fe-d7ec56587bde": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "type": "strong",\n+                                "children": [{"text": "Disclaimer"}],\n+                            },\n+                            {\n+                                "text": ": This instance is reset every night, so all changes will be lost afterwards."\n+                            },\n+                        ],\n+                    }\n+                ],\n+                "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n+            },\n+            "b1d7da87-11d6-4dd2-81f2-0069826ffbd6": {\n+                "@type": "slate",\n+                "value": [{"type": "p", "children": [{"text": "Happy hacking!"}]}],\n+                "plaintext": "Happy hacking!",\n+            },\n+            "a7889552-ad4e-4afb-bbbd-2911661e8cbe": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": f"{datetime.now().year} - Plone Foundation"}\n+                        ],\n+                    }\n+                ],\n+                "plaintext": f"{datetime.now().year} - Plone Foundation",\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "bedf0ed6-3237-46ac-8c91-994826b1cf05",\n+                "577b38a2-84ed-4911-9644-72b73b79bf9b",\n+                "539b7bb6-23e1-425c-8d93-70c03d52806e",\n+                "5d166d4b-195b-4dc2-ac11-8d283673ee8d",\n+                "8696b042-7119-4700-9e7f-2b22e8982a7b",\n+                "7ab29abe-b38c-406b-94d7-b270e544a998",\n+                "e1220183-552c-45d9-a661-5ad0854615ac",\n+                "9509e96d-5718-4687-95c1-f9d3db115b92",\n+                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n+                "2c68bdda-7dd3-4599-9111-db5ffb2230f9",\n+                "93dd5f95-b3e3-4a47-9121-cde08ca07203",\n+                "3ed49dc1-caf0-41ff-bb41-9153eeaa45da",\n+                "4b2cd280-3c87-431b-a0fe-d7ec56587bde",\n+                "b1d7da87-11d6-4dd2-81f2-0069826ffbd6",\n+                "a7889552-ad4e-4afb-bbbd-2911661e8cbe",\n+            ]\n+        },\n+    },\n+}\ndiff --git a/src/plone/volto/default_homepage/lrf.py b/src/plone/volto/default_homepage/lrf.py\nnew file mode 100644\nindex 0000000..ff997de\n--- /dev/null\n+++ b/src/plone/volto/default_homepage/lrf.py\n@@ -0,0 +1,55 @@\n+default_lrf_home = {\n+    "draftJS": {\n+        "blocks": {\n+            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "key": "618bl",\n+                            "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+                            "type": "unstyled",\n+                            "depth": 0,\n+                            "inlineStyleRanges": [],\n+                            "entityRanges": [],\n+                            "data": {},\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "15068807-cfc9-444a-97db-8c736809ff52",\n+                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+            ]\n+        },\n+    },\n+    "slate": {\n+        "blocks": {\n+            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus."\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "15068807-cfc9-444a-97db-8c736809ff52",\n+                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+            ]\n+        },\n+    },\n+}\ndiff --git a/src/plone/volto/setuphandlers.py b/src/plone/volto/setuphandlers.py\nindex c822c21..568dafc 100644\n--- a/src/plone/volto/setuphandlers.py\n+++ b/src/plone/volto/setuphandlers.py\n@@ -1,5 +1,4 @@\n # -*- coding: utf-8 -*-\n-from datetime import datetime\n from plone import api\n from plone.app.multilingual.browser.setup import SetupMultilingualSite\n from plone.app.multilingual.setuphandlers import enable_translatable_behavior\n@@ -8,6 +7,9 @@\n from plone.portlets.constants import CONTEXT_CATEGORY\n from plone.portlets.interfaces import IPortletAssignmentMapping\n from plone.portlets.interfaces import IPortletManager\n+from plone.volto.default_homepage.default import default_home\n+from plone.volto.default_homepage.demo import demo_home_page\n+from plone.volto.default_homepage.lrf import default_lrf_home\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone.interfaces import INonInstallable\n from Products.CMFPlone.utils import get_installer\n@@ -22,6 +24,7 @@\n import logging\n import transaction\n \n+\n try:\n     from Products.CMFPlone.factory import PLONE60MARKER\n \n@@ -204,547 +207,6 @@ def setupPortletAt(portal, portlet_type, manager, path, name="", **kw):\n     mapping[name] = assignment\n \n \n-default_home = {\n-    "draftJS": {\n-        "title": "Welcome to Volto!",\n-        "description": "The React powered content management system",\n-        "blocks": {\n-            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n-            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n-            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 10, "offset": 0, "style": "BOLD"}\n-                            ],\n-                            "key": "6470b",\n-                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 6, "style": "BOLD"}\n-                            ],\n-                            "key": "ekn3l",\n-                            "text": "user: admin",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [\n-                                {"key": 0, "length": 5, "offset": 0},\n-                                {"key": 1, "length": 8, "offset": 455},\n-                            ],\n-                            "inlineStyleRanges": [],\n-                            "key": "behki",\n-                            "text": "Plone is a CMS built on Python with over 19 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API. Volto can be esily themed and is highly customizable.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://plone.org",\n-                                "rel": "nofollow",\n-                                "url": "https://plone.org/",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                        "1": {\n-                            "data": {\n-                                "href": "https://github.com/plone/plone.restapi",\n-                                "url": "https://github.com/plone/plone.restapi",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                    },\n-                },\n-            },\n-            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9qsa4",\n-                            "text": "Demo",\n-                            "type": "header-two",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9pnjr",\n-                            "text": "Happy hacking!",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "942b6530-2407-420f-9c24-597adda6b2ce": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 36, "offset": 39}],\n-                            "inlineStyleRanges": [],\n-                            "key": "6a248",\n-                            "text": "Last but not least, it also supports a Volto Nodejs-based backend reference API implementation that demos how other systems could also use Volto to display and create content through it.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://github.com/plone/volto-reference-backend",\n-                                "url": "https://github.com/plone/volto-reference-backend",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        }\n-                    },\n-                },\n-            },\n-            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 12, "offset": 51, "style": "BOLD"}\n-                            ],\n-                            "key": "94arl",\n-                            "text": "You can log in and use it as admin user using these credentials:",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "b3717238-448f-406e-b06f-57a9715c3326": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 5, "offset": 0}],\n-                            "inlineStyleRanges": [],\n-                            "key": "1bnna",\n-                            "text": "Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://github.com/plone/volto",\n-                                "url": "https://github.com/plone/volto",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        }\n-                    },\n-                },\n-            },\n-            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "55n44",\n-                            "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 10, "style": "BOLD"}\n-                            ],\n-                            "key": "buncq",\n-                            "text": "password: admin",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "f0prj",\n-                            "text": f"{datetime.now().year} - Volto Team - Plone Foundation",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 10, "offset": 36}],\n-                            "inlineStyleRanges": [],\n-                            "key": "68rve",\n-                            "text": "Volto also supports other APIs like Guillotina, a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://guillotina.io/",\n-                                "rel": "nofollow",\n-                                "url": "https://guillotina.io/",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        }\n-                    },\n-                },\n-            },\n-        },\n-        "blocks_layout": {\n-            "items": [\n-                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n-                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n-                "b3717238-448f-406e-b06f-57a9715c3326",\n-                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n-                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n-                "942b6530-2407-420f-9c24-597adda6b2ce",\n-                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n-                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n-                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n-                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n-                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n-                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n-                "874049e7-629e-489a-b46c-1adf35ad40ee",\n-                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n-            ]\n-        },\n-    },\n-    "slate": {\n-        "title": "Welcome to Volto!",\n-        "description": "The React powered content management system",\n-        "blocks": {\n-            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n-            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n-            "16f63011-a6ec-4f1c-8f78-4c5166dfff2c": {\n-                "@type": "slate",\n-                "plaintext": "You can log in and use it as admin user using these credentials :",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {\n-                                "text": "You can log in and use it as admin user using these "\n-                            },\n-                            {"children": [{"text": "credentials"}], "type": "strong"},\n-                            {"text": ":"},\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "237b0f68-d700-47ec-9356-77a54c8d5237": {\n-                "@type": "slate",\n-                "plaintext": "Demo",\n-                "value": [{"children": [{"text": "Demo"}], "type": "h2"}],\n-            },\n-            "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d": {\n-                "@type": "slate",\n-                "plaintext": "password: admin ",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {"text": "password: "},\n-                            {"children": [{"text": "admin"}], "type": "strong"},\n-                            {"text": ""},\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "26d7d965-80f3-4312-9dc6-5166d00260a5": {\n-                "@type": "slate",\n-                "plaintext": "user: admin ",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {"text": "user: "},\n-                            {"children": [{"text": "admin"}], "type": "strong"},\n-                            {"text": ""},\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "38ff6b46-4cbd-4933-a462-251c3e963b7a": {\n-                "@type": "slate",\n-                "plaintext": " Plone is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API . Volto can be esily themed and is highly customizable.",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {"text": ""},\n-                            {\n-                                "children": [{"text": "Plone"}],\n-                                "data": {"url": "https://plone.org/"},\n-                                "type": "link",\n-                            },\n-                            {\n-                                "text": " is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature "\n-                            },\n-                            {\n-                                "children": [{"text": "REST API"}],\n-                                "data": {\n-                                    "url": "https://github.com/plone/plone.restapi"\n-                                },\n-                                "type": "link",\n-                            },\n-                            {\n-                                "text": ". Volto can be esily themed and is highly customizable."\n-                            },\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "58cb10e2-49a5-4a87-9f5b-479c34bc5d36": {\n-                "@type": "slate",\n-                "plaintext": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {\n-                                "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3."\n-                            }\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f": {\n-                "@type": "slate",\n-                "plaintext": f"{datetime.now().year} - Volto Team - Plone Foundation",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {\n-                                "text": f"{datetime.now().year} - Volto Team - Plone Foundation"\n-                            }\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "712fb2c2-865e-4a21-bc74-b044a411deff": {\n-                "@type": "slate",\n-                "plaintext": "Volto also supports other APIs like Guillotina , a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {"text": "Volto also supports other APIs like "},\n-                            {\n-                                "children": [{"text": "Guillotina"}],\n-                                "data": {"url": "https://guillotina.io/"},\n-                                "type": "link",\n-                            },\n-                            {\n-                                "text": ", a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model."\n-                            },\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "78ff07d8-dc59-4af9-a669-1d551953ef34": {\n-                "@type": "slate",\n-                "plaintext": " Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {"text": ""},\n-                            {\n-                                "children": [{"text": "Volto"}],\n-                                "data": {"url": "https://github.com/plone/volto"},\n-                                "type": "link",\n-                            },\n-                            {\n-                                "text": " is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation."\n-                            },\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-            "ddc9926a-03d3-4c64-87a1-2b941aa08ebe": {\n-                "@type": "slate",\n-                "plaintext": "Happy hacking!",\n-                "value": [{"children": [{"text": "Happy hacking!"}], "type": "p"}],\n-            },\n-            "fe6a8835-78d6-4026-ac2e-55ed26de14c3": {\n-                "@type": "slate",\n-                "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n-                "value": [\n-                    {\n-                        "children": [\n-                            {"text": ""},\n-                            {"children": [{"text": "Disclaimer"}], "type": "strong"},\n-                            {\n-                                "text": ": This instance is reset every night, so all changes will be lost afterwards."\n-                            },\n-                        ],\n-                        "type": "p",\n-                    }\n-                ],\n-            },\n-        },\n-        "blocks_layout": {\n-            "items": [\n-                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n-                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n-                "78ff07d8-dc59-4af9-a669-1d551953ef34",\n-                "38ff6b46-4cbd-4933-a462-251c3e963b7a",\n-                "712fb2c2-865e-4a21-bc74-b044a411deff",\n-                "237b0f68-d700-47ec-9356-77a54c8d5237",\n-                "58cb10e2-49a5-4a87-9f5b-479c34bc5d36",\n-                "16f63011-a6ec-4f1c-8f78-4c5166dfff2c",\n-                "26d7d965-80f3-4312-9dc6-5166d00260a5",\n-                "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d",\n-                "fe6a8835-78d6-4026-ac2e-55ed26de14c3",\n-                "ddc9926a-03d3-4c64-87a1-2b941aa08ebe",\n-                "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f",\n-            ]\n-        },\n-    },\n-}\n-\n-\n-default_lrf_home = {\n-    "draftJS": {\n-        "blocks": {\n-            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n-            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "key": "618bl",\n-                            "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n-                            "type": "unstyled",\n-                            "depth": 0,\n-                            "inlineStyleRanges": [],\n-                            "entityRanges": [],\n-                            "data": {},\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-        },\n-        "blocks_layout": {\n-            "items": [\n-                "15068807-cfc9-444a-97db-8c736809ff52",\n-                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n-            ]\n-        },\n-    },\n-    "slate": {\n-        "blocks": {\n-            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n-            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n-                "@type": "slate",\n-                "value": [\n-                    {\n-                        "type": "p",\n-                        "children": [\n-                            {\n-                                "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus."\n-                            }\n-                        ],\n-                    }\n-                ],\n-                "plaintext": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n-            },\n-        },\n-        "blocks_layout": {\n-            "items": [\n-                "15068807-cfc9-444a-97db-8c736809ff52",\n-                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n-            ]\n-        },\n-    },\n-}\n-\n-\n def create_default_homepage_draftjs(context):\n     create_default_homepage(context, block_type="draftJS")\n \n@@ -767,10 +229,10 @@ def create_default_homepage(context, default_home=default_lrf_home, block_type=N\n         add_behavior("LRF", "volto.blocks")\n \n         if block_type and block_type in default_home:\n-            default_home = default_home[block_type]\n+            home_data = default_home[block_type]\n         else:\n             # Default to slate\n-            default_home = default_home["slate"]\n+            home_data = default_home["slate"]\n \n         for lang in api.portal.get_registry_record("plone.available_languages"):\n             # Do not write them if there are blocks set already\n@@ -782,8 +244,8 @@ def create_default_homepage(context, default_home=default_lrf_home, block_type=N\n                 logger.info(\n                     "Creating default homepage for {} - PAM enabled".format(lang)\n                 )\n-                portal[lang].blocks = default_home["blocks"]\n-                portal[lang].blocks_layout = default_home["blocks_layout"]\n+                portal[lang].blocks = home_data["blocks"]\n+                portal[lang].blocks_layout = home_data["blocks_layout"]\n \n     else:\n         create_root_homepage(context, block_type)\n@@ -804,25 +266,25 @@ def create_root_homepage(context, block_type=None, default_home=default_home):\n     portal = api.portal.get()\n \n     if block_type and block_type in default_home:\n-        default_home = default_home[block_type]\n+        home_data = default_home[block_type]\n     else:\n         # Default to slate\n-        default_home = default_home["slate"]\n+        home_data = default_home["slate"]\n \n     logger.info(\n         f"Creating default homepage in Plone {\'6\' if PLONE_6 else \'\'} site root with {block_type} blocks - not PAM enabled"\n     )\n \n     if PLONE_6:\n-        portal.blocks = default_home["blocks"]\n-        portal.blocks_layout = default_home["blocks_layout"]\n-        portal.title = default_home["title"]\n-        portal.description = default_home["description"]\n+        portal.blocks = home_data["blocks"]\n+        portal.blocks_layout = home_data["blocks_layout"]\n+        portal.title = home_data["title"]\n+        portal.description = home_data["description"]\n     else:\n-        blocks = default_home["blocks"]\n-        blocks_layout = default_home["blocks_layout"]\n-        portal.setTitle(default_home["title"])\n-        portal.setDescription(default_home["description"])\n+        blocks = home_data["blocks"]\n+        blocks_layout = home_data["blocks_layout"]\n+        portal.setTitle(home_data["title"])\n+        portal.setDescription(home_data["description"])\n \n         # Use the hack for setting the home page in Plone Site object\n         if not getattr(portal, "blocks", False):\n@@ -835,642 +297,4 @@ def create_root_homepage(context, block_type=None, default_home=default_home):\n \n \n def create_demo_homepage(context):\n-    demo_home_page = {\n-        "draftJS": {\n-            "title": "Welcome to Plone 6!",\n-            "description": "Congratulations! You have successfully installed Plone.",\n-            "blocks": {\n-                "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n-                "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n-                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [\n-                                    {"length": 10, "offset": 0, "style": "BOLD"}\n-                                ],\n-                                "key": "6470b",\n-                                "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [\n-                                    {"length": 5, "offset": 6, "style": "BOLD"}\n-                                ],\n-                                "key": "ekn3l",\n-                                "text": "user: admin",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "behki",\n-                                "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "5f7e6846-e27c-48c4-8c9a-f0d93eadb185": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "75pke",\n-                                "text": "\\u2026protects and promotes Plone.",\n-                                "type": "unordered-list-item",\n-                            },\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "2mo73",\n-                                "text": "\\u2026is a registered 501(c)(3) charitable organization.",\n-                                "type": "unordered-list-item",\n-                            },\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "9qhkg",\n-                                "text": "\\u2026donations are tax-deductible.",\n-                                "type": "unordered-list-item",\n-                            },\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [{"key": 0, "length": 50, "offset": 0}],\n-                                "inlineStyleRanges": [],\n-                                "key": "5528b",\n-                                "text": "Support the Foundation and help make Plone better!",\n-                                "type": "unordered-list-item",\n-                            },\n-                        ],\n-                        "entityMap": {\n-                            "0": {\n-                                "data": {"url": "https://plone.org/sponsors/be-a-hero"},\n-                                "mutability": "MUTABLE",\n-                                "type": "LINK",\n-                            }\n-                        },\n-                    },\n-                },\n-                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "9qsa4",\n-                                "text": "Demo",\n-                                "type": "header-two",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "874049e7-629e-489a-b46c-1adf35ad40ee": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "9pnjr",\n-                                "text": "Happy hacking!",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "8bba235c-7a52-4ce2-bde1-c505e5746dce": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "692gs",\n-                                "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "942b6530-2407-420f-9c24-597adda6b2ce": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "6a248",\n-                                "text": "Support the Plone Foundation",\n-                                "type": "header-two",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [\n-                                    {"length": 12, "offset": 51, "style": "BOLD"}\n-                                ],\n-                                "key": "94arl",\n-                                "text": "You can log in and use it as admin user using these credentials:",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "b3717238-448f-406e-b06f-57a9715c3326": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "1bnna",\n-                                "text": "Find out more about Plone",\n-                                "type": "header-two",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "55n44",\n-                                "text": "You can use this site to test Plone 6. These are the versions used in this demo:",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [\n-                                    {"length": 5, "offset": 10, "style": "BOLD"}\n-                                ],\n-                                "key": "buncq",\n-                                "text": "password: admin",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [],\n-                                "inlineStyleRanges": [],\n-                                "key": "f0prj",\n-                                "text": f"{datetime.now().year} - Plone Foundation",\n-                                "type": "unstyled",\n-                            }\n-                        ],\n-                        "entityMap": {},\n-                    },\n-                },\n-                "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n-                    "@type": "text",\n-                    "text": {\n-                        "blocks": [\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [{"key": 0, "length": 43, "offset": 4}],\n-                                "inlineStyleRanges": [],\n-                                "key": "68rve",\n-                                "text": "The Plone open source Content Management System web site for evaluators and decision makers.",\n-                                "type": "unordered-list-item",\n-                            },\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [{"key": 1, "length": 16, "offset": 4}],\n-                                "inlineStyleRanges": [],\n-                                "key": "4ec08",\n-                                "text": "The Plone community web site for developers.",\n-                                "type": "unordered-list-item",\n-                            },\n-                            {\n-                                "data": {},\n-                                "depth": 0,\n-                                "entityRanges": [{"key": 2, "length": 27, "offset": 4}],\n-                                "inlineStyleRanges": [],\n-                                "key": "4q5m2",\n-                                "text": "The Python programming language web site.",\n-                                "type": "unordered-list-item",\n-                            },\n-                        ],\n-                        "entityMap": {\n-                            "0": {\n-                                "data": {"url": "https://plone.com/"},\n-                                "mutability": "MUTABLE",\n-                                "type": "LINK",\n-                            },\n-                            "1": {\n-                                "data": {"url": "https://plone.org/"},\n-                                "mutability": "MUTABLE",\n-                                "type": "LINK",\n-                            },\n-                            "2": {\n-                                "data": {"url": "https://www.python.org/"},\n-                                "mutability": "MUTABLE",\n-                                "type": "LINK",\n-                            },\n-                        },\n-                    },\n-                },\n-                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n-            },\n-            "blocks_layout": {\n-                "items": [\n-                    "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n-                    "0358abe2-b4f1-463d-a279-a63ea80daf19",\n-                    "b3717238-448f-406e-b06f-57a9715c3326",\n-                    "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n-                    "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n-                    "942b6530-2407-420f-9c24-597adda6b2ce",\n-                    "8bba235c-7a52-4ce2-bde1-c505e5746dce",\n-                    "5f7e6846-e27c-48c4-8c9a-f0d93eadb185",\n-                    "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n-                    "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n-                    "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n-                    "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n-                    "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n-                    "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n-                    "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n-                    "874049e7-629e-489a-b46c-1adf35ad40ee",\n-                    "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n-                ]\n-            },\n-        },\n-        "slate": {\n-            "title": "Welcome to Plone 6!",\n-            "description": "Congratulations! You have successfully installed Plone.",\n-            "blocks": {\n-                "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n-                "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n-                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n-                "bedf0ed6-3237-46ac-8c91-994826b1cf05": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "h2",\n-                            "children": [{"text": "Find out more about Plone"}],\n-                        }\n-                    ],\n-                    "plaintext": "Find out more about Plone",\n-                },\n-                "577b38a2-84ed-4911-9644-72b73b79bf9b": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {\n-                                    "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:"\n-                                }\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n-                },\n-                "539b7bb6-23e1-425c-8d93-70c03d52806e": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "ul",\n-                            "children": [\n-                                {\n-                                    "type": "li",\n-                                    "children": [\n-                                        {"text": "The "},\n-                                        {\n-                                            "type": "link",\n-                                            "data": {"url": "https://plone.com/"},\n-                                            "children": [\n-                                                {\n-                                                    "text": "Plone open source Content Management System"\n-                                                }\n-                                            ],\n-                                        },\n-                                        {\n-                                            "text": " web site for evaluators and decision makers."\n-                                        },\n-                                    ],\n-                                },\n-                                {\n-                                    "type": "li",\n-                                    "children": [\n-                                        {"text": "The "},\n-                                        {\n-                                            "type": "link",\n-                                            "data": {"url": "https://plone.org/"},\n-                                            "children": [{"text": "Plone community "}],\n-                                        },\n-                                        {"text": "web site for developers."},\n-                                    ],\n-                                },\n-                                {\n-                                    "type": "li",\n-                                    "children": [\n-                                        {"text": "The "},\n-                                        {\n-                                            "type": "link",\n-                                            "data": {"url": "https://www.python.org/"},\n-                                            "children": [\n-                                                {"text": "Python programming language"}\n-                                            ],\n-                                        },\n-                                        {"text": " web site."},\n-                                    ],\n-                                },\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "The Plone open source Content Management System web site for evaluators and decision makers. The Plone community web site for developers. The Python programming language web site.",\n-                },\n-                "5d166d4b-195b-4dc2-ac11-8d283673ee8d": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "h2",\n-                            "children": [{"text": "Support the Plone Foundation"}],\n-                        }\n-                    ],\n-                    "plaintext": "Support the Plone Foundation",\n-                },\n-                "8696b042-7119-4700-9e7f-2b22e8982a7b": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {\n-                                    "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:"\n-                                }\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n-                },\n-                "7ab29abe-b38c-406b-94d7-b270e544a998": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "ul",\n-                            "children": [\n-                                {\n-                                    "type": "li",\n-                                    "children": [\n-                                        {"text": "\\u2026protects and promotes Plone."}\n-                                    ],\n-                                },\n-                                {\n-                                    "type": "li",\n-                                    "children": [\n-                                        {\n-                                            "text": "\\u2026is a registered 501(c)(3) charitable organization."\n-                                        }\n-                                    ],\n-                                },\n-                                {\n-                                    "type": "li",\n-                                    "children": [\n-                                        {"text": "\\u2026donations are tax-deductible."}\n-                                    ],\n-                                },\n-                                {\n-                                    "type": "li",\n-                                    "children": [\n-                                        {"text": ""},\n-                                        {\n-                                            "type": "link",\n-                                            "data": {\n-                                                "url": "https://plone.org/sponsors/be-a-hero"\n-                                            },\n-                                            "children": [\n-                                                {\n-                                                    "text": "Support the Foundation and help make Plone better!"\n-                                                }\n-                                            ],\n-                                        },\n-                                        {"text": ""},\n-                                        {\n-                                            "type": "link",\n-                                            "data": {\n-                                                "url": "https://plone.org/sponsors/be-a-hero"\n-                                            },\n-                                            "children": [{"text": ""}],\n-                                        },\n-                                        {"text": ""},\n-                                    ],\n-                                },\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "\\u2026protects and promotes Plone. \\u2026is a registered 501(c)(3) charitable organization. \\u2026donations are tax-deductible.  Support the Foundation and help make Plone better!   ",\n-                },\n-                "e1220183-552c-45d9-a661-5ad0854615ac": {\n-                    "@type": "slate",\n-                    "value": [{"type": "h2", "children": [{"text": "Demo"}]}],\n-                    "plaintext": "Demo",\n-                },\n-                "9509e96d-5718-4687-95c1-f9d3db115b92": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {\n-                                    "text": "You can use this site to test Plone 6. These are the versions used in this demo:"\n-                                }\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "You can use this site to test Plone 6. These are the versions used in this demo:",\n-                },\n-                "2c68bdda-7dd3-4599-9111-db5ffb2230f9": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {\n-                                    "text": "You can log in and use it as admin user using these "\n-                                },\n-                                {\n-                                    "type": "strong",\n-                                    "children": [{"text": "credentials"}],\n-                                },\n-                                {"text": ":"},\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "You can log in and use it as admin user using these credentials :",\n-                },\n-                "93dd5f95-b3e3-4a47-9121-cde08ca07203": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {"text": "user: "},\n-                                {"type": "strong", "children": [{"text": "admin"}]},\n-                                {"text": ""},\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "user: admin ",\n-                },\n-                "3ed49dc1-caf0-41ff-bb41-9153eeaa45da": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {"text": "password: "},\n-                                {"type": "strong", "children": [{"text": "admin"}]},\n-                                {"text": ""},\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": "password: admin ",\n-                },\n-                "4b2cd280-3c87-431b-a0fe-d7ec56587bde": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {"text": ""},\n-                                {\n-                                    "type": "strong",\n-                                    "children": [{"text": "Disclaimer"}],\n-                                },\n-                                {\n-                                    "text": ": This instance is reset every night, so all changes will be lost afterwards."\n-                                },\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n-                },\n-                "b1d7da87-11d6-4dd2-81f2-0069826ffbd6": {\n-                    "@type": "slate",\n-                    "value": [{"type": "p", "children": [{"text": "Happy hacking!"}]}],\n-                    "plaintext": "Happy hacking!",\n-                },\n-                "a7889552-ad4e-4afb-bbbd-2911661e8cbe": {\n-                    "@type": "slate",\n-                    "value": [\n-                        {\n-                            "type": "p",\n-                            "children": [\n-                                {"text": f"{datetime.now().year} - Plone Foundation"}\n-                            ],\n-                        }\n-                    ],\n-                    "plaintext": f"{datetime.now().year} - Plone Foundation",\n-                },\n-            },\n-            "blocks_layout": {\n-                "items": [\n-                    "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n-                    "0358abe2-b4f1-463d-a279-a63ea80daf19",\n-                    "bedf0ed6-3237-46ac-8c91-994826b1cf05",\n-                    "577b38a2-84ed-4911-9644-72b73b79bf9b",\n-                    "539b7bb6-23e1-425c-8d93-70c03d52806e",\n-                    "5d166d4b-195b-4dc2-ac11-8d283673ee8d",\n-                    "8696b042-7119-4700-9e7f-2b22e8982a7b",\n-                    "7ab29abe-b38c-406b-94d7-b270e544a998",\n-                    "e1220183-552c-45d9-a661-5ad0854615ac",\n-                    "9509e96d-5718-4687-95c1-f9d3db115b92",\n-                    "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n-                    "2c68bdda-7dd3-4599-9111-db5ffb2230f9",\n-                    "93dd5f95-b3e3-4a47-9121-cde08ca07203",\n-                    "3ed49dc1-caf0-41ff-bb41-9153eeaa45da",\n-                    "4b2cd280-3c87-431b-a0fe-d7ec56587bde",\n-                    "b1d7da87-11d6-4dd2-81f2-0069826ffbd6",\n-                    "a7889552-ad4e-4afb-bbbd-2911661e8cbe",\n-                ]\n-            },\n-        },\n-    }\n-\n     create_root_homepage(context, default_home=demo_home_page)\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T15:26:05+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/427ab17de0a25e12f62a47becf6532a7b65dbc03

Changelog

Files changed:
M CHANGES.rst
M base.cfg

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex ff3122c..b249149 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,7 +4,8 @@ Changelog\n 3.1.0a10 (unreleased)\n ---------------------\n \n-- Nothing changed yet.\n+- Use by default Slate blocks for the default pages\n+  [sneridagh]\n \n \n 3.1.0a9 (2022-01-15)\ndiff --git a/base.cfg b/base.cfg\nindex a6690c0..40547a2 100644\n--- a/base.cfg\n+++ b/base.cfg\n@@ -14,7 +14,7 @@ develop = .\n sources-dir = extras\n \n extensions = mr.developer\n-auto-checkout =\n+auto-checkout = plone.restapi\n always-checkout = force\n \n [sources]\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-16T15:29:19+01:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.volto/commit/e6284822802ddcbe9005db66ef392a3d550918e4

Make zprettier happy

Files changed:
M base.cfg
M src/plone/volto/configure.zcml
M src/plone/volto/profiles.zcml

b'diff --git a/base.cfg b/base.cfg\nindex 40547a2..8482906 100644\n--- a/base.cfg\n+++ b/base.cfg\n@@ -14,11 +14,11 @@ develop = .\n sources-dir = extras\n \n extensions = mr.developer\n-auto-checkout = plone.restapi\n+auto-checkout =\n always-checkout = force\n \n [sources]\n-plone.restapi = git git://github.com/plone/plone.restapi.git pushurl=git@github.com:plone/plone.restapi.git branch=removesiteblockshackforp6\n+plone.restapi = git git://github.com/plone/plone.restapi.git pushurl=git@github.com:plone/plone.restapi.git branch=master\n \n [instance]\n recipe = plone.recipe.zope2instance\ndiff --git a/src/plone/volto/configure.zcml b/src/plone/volto/configure.zcml\nindex dddc7e3..b2d065f 100644\n--- a/src/plone/volto/configure.zcml\n+++ b/src/plone/volto/configure.zcml\n@@ -20,7 +20,6 @@\n   <include file="patches.zcml" />\n   <include file="upgrades.zcml" />\n \n-\n   <browser:page\n       name="blocksuuidfixer"\n       for="Products.CMFPlone.interfaces.IPloneSiteRoot"\ndiff --git a/src/plone/volto/profiles.zcml b/src/plone/volto/profiles.zcml\nindex ec6c94f..99f116f 100644\n--- a/src/plone/volto/profiles.zcml\n+++ b/src/plone/volto/profiles.zcml\n@@ -6,81 +6,81 @@\n     >\n \n   <genericsetup:registerProfile\n-    name="default"\n-    title="Plone 6 Frontend (plone.volto)"\n-    description="Configures the Plone backend to work with Volto, the new default frontend for Plone 6."\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/default"\n-    post_handler=".setuphandlers.post_install"\n-    />\n+      name="default"\n+      title="Plone 6 Frontend (plone.volto)"\n+      description="Configures the Plone backend to work with Volto, the new default frontend for Plone 6."\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/default"\n+      post_handler=".setuphandlers.post_install"\n+      />\n \n   <genericsetup:registerProfile\n-    name="uninstall"\n-    title="Plone 6 Frontend (plone.volto): uninstall"\n-    description="Uninstalls the plone.volto add-on."\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/uninstall"\n-    post_handler=".setuphandlers.uninstall"\n-    />\n+      name="uninstall"\n+      title="Plone 6 Frontend (plone.volto): uninstall"\n+      description="Uninstalls the plone.volto add-on."\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/uninstall"\n+      post_handler=".setuphandlers.uninstall"\n+      />\n \n   <genericsetup:registerProfile\n-    name="default-homepage"\n-    title="Plone 6 Frontend (Default content on homepage)"\n-    description="Creates a default page for the site"\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/homepage"\n-    post_handler=".setuphandlers.create_default_homepage"\n-    />\n+      name="default-homepage"\n+      title="Plone 6 Frontend (Default content on homepage)"\n+      description="Creates a default page for the site"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/homepage"\n+      post_handler=".setuphandlers.create_default_homepage"\n+      />\n \n   <genericsetup:registerProfile\n-    name="default-homepage-drafjs"\n-    title="Plone 6 Frontend (Default content on homepage with draftJS blocks)"\n-    description="Creates a default page for the site using (legacy) draftJS blocks"\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/homepage"\n-    post_handler=".setuphandlers.create_default_homepage_draftjs"\n-    />\n+      name="default-homepage-drafjs"\n+      title="Plone 6 Frontend (Default content on homepage with draftJS blocks)"\n+      description="Creates a default page for the site using (legacy) draftJS blocks"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/homepage"\n+      post_handler=".setuphandlers.create_default_homepage_draftjs"\n+      />\n \n   <genericsetup:registerProfile\n-    name="demo"\n-    title="plone.volto demo special requirements"\n-    description="Special requirements and setup for demo site"\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/demo"\n-    post_handler=".setuphandlers.create_demo_homepage"\n-    />\n+      name="demo"\n+      title="plone.volto demo special requirements"\n+      description="Special requirements and setup for demo site"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/demo"\n+      post_handler=".setuphandlers.create_demo_homepage"\n+      />\n \n   <!-- Fixture for coresandbox Cypress tests in Volto repo -->\n   <genericsetup:registerProfile\n-    name="coresandbox"\n-    title="plone.volto coresandbox Cypress tests fixtures"\n-    description="Special test fixture for coresandbox use cases"\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/coresandbox"\n-    post_handler=".setuphandlers.post_install_coresandbox"\n-    />\n+      name="coresandbox"\n+      title="plone.volto coresandbox Cypress tests fixtures"\n+      description="Special test fixture for coresandbox use cases"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/coresandbox"\n+      post_handler=".setuphandlers.post_install_coresandbox"\n+      />\n \n   <!-- Fixture for multilingual Cypress tests in Volto repo -->\n   <genericsetup:registerProfile\n-    name="multilingual"\n-    title="plone.volto multilingual Cypress tests fixtures"\n-    description="Special test fixture for multilingual use case"\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/multilingual"\n-    post_handler=".setuphandlers.post_install_multilingual"\n-    />\n+      name="multilingual"\n+      title="plone.volto multilingual Cypress tests fixtures"\n+      description="Special test fixture for multilingual use case"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/multilingual"\n+      post_handler=".setuphandlers.post_install_multilingual"\n+      />\n \n   <genericsetup:registerProfile\n-    name="richtext"\n-    title="plone.volto p51 profile"\n-    description="Specific profile for re-adding the richtext behavior"\n-    provides="Products.GenericSetup.interfaces.EXTENSION"\n-    directory="profiles/richtext"\n-    />\n+      name="richtext"\n+      title="plone.volto p51 profile"\n+      description="Specific profile for re-adding the richtext behavior"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/richtext"\n+      />\n \n   <utility\n-    factory=".setuphandlers.HiddenProfiles"\n-    name="plone.volto-hiddenprofiles"\n-    />\n+      factory=".setuphandlers.HiddenProfiles"\n+      name="plone.volto-hiddenprofiles"\n+      />\n \n </configure>\n'

Repository: plone.volto


Branch: refs/heads/main
Date: 2022-01-17T19:02:38+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.volto/commit/40ab8077258226b8761d3a98f8bc1c43f9a06fa3

Merge pull request #42 from plone/nodraftjsindefaults

No draftjs in default homepages

Files changed:
A src/plone/volto/default_homepage/__init__.py
A src/plone/volto/default_homepage/default.py
A src/plone/volto/default_homepage/demo.py
A src/plone/volto/default_homepage/lrf.py
A src/plone/volto/profiles.zcml
M .gitignore
M CHANGES.rst
M README.rst
M base.cfg
M src/plone/volto/configure.zcml
M src/plone/volto/setuphandlers.py

b'diff --git a/.gitignore b/.gitignore\nindex 35c8189..84b425a 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -35,3 +35,4 @@ report.html\n !.gitkeep\n !.travis.yml\n pyvenv.cfg\n+extras\ndiff --git a/CHANGES.rst b/CHANGES.rst\nindex ff3122c..b249149 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -4,7 +4,8 @@ Changelog\n 3.1.0a10 (unreleased)\n ---------------------\n \n-- Nothing changed yet.\n+- Use by default Slate blocks for the default pages\n+  [sneridagh]\n \n \n 3.1.0a9 (2022-01-15)\ndiff --git a/README.rst b/README.rst\nindex d263e7f..0b995d0 100644\n--- a/README.rst\n+++ b/README.rst\n@@ -20,7 +20,7 @@ Install plone.volto by adding it to your buildout::\n \n     [buildout]\n     ...\n-    \n+\n     [instance]\n     ...\n \n@@ -95,7 +95,7 @@ plone.volto enables the new Volto Blocks editor on ``Document``, ``Language Root\n Multilingual Support\n --------------------\n \n-plone.volto supports multilingual websites. \n+plone.volto supports multilingual websites.\n Install PAM before installing this package and demo homepages will be created in each enabled language.\n Currently only support for EN/DE.\n \n@@ -103,7 +103,7 @@ Currently only support for EN/DE.\n Volto Blocks for Plone Site Root\n --------------------------------\n \n-plone.volto contains a hack to make the Plone site Volto blocks-enabled with some demo content. \n+plone.volto contains a hack to make the Plone site Volto blocks-enabled with some demo content.\n You can take only the hack to enable the blocks on your site.\n \n You can see it in action in the Volto demo: https://6.demo.plone.org\n@@ -121,6 +121,10 @@ e.g. in your GS ``metadata.xml`` along with your other dependencies::\n   </dependencies>\n   </metadata>\n \n+**NOTE**: From ``plone.volto`` above version 4.0.0, the default block for creating the\n+default content in the root (or corresponding Language Root Folders) is "slate". If you\n+want still to create draftJS blocks, you need to use the ``default-homepage-drafjs`` profile.\n+\n \n Document Content Type\n ---------------------\ndiff --git a/base.cfg b/base.cfg\nindex 9c13caf..8482906 100644\n--- a/base.cfg\n+++ b/base.cfg\n@@ -7,9 +7,18 @@ parts =\n     dependencies\n     zpretty\n     test\n+    omelette\n     update-translations\n     find-untranslated\n develop = .\n+sources-dir = extras\n+\n+extensions = mr.developer\n+auto-checkout =\n+always-checkout = force\n+\n+[sources]\n+plone.restapi = git git://github.com/plone/plone.restapi.git pushurl=git@github.com:plone/plone.restapi.git branch=master\n \n [instance]\n recipe = plone.recipe.zope2instance\n@@ -46,6 +55,10 @@ upgrade-portal = False\n upgrade-all-profiles = False\n site-replace = True\n \n+[omelette]\n+recipe = collective.recipe.omelette\n+eggs = ${instance:eggs}\n+\n [test]\n recipe = collective.xmltestreport\n eggs = ${instance:eggs}\n@@ -114,4 +127,4 @@ input = inline:\n     #!/bin/sh\n     bin/i18ndude find-untranslated `find -L src/plone/volto -regex ".*\\.[cz]?pt"`\n output = ${buildout:directory}/bin/find-untranslated\n-mode = 755\n\\ No newline at end of file\n+mode = 755\ndiff --git a/src/plone/volto/configure.zcml b/src/plone/volto/configure.zcml\nindex 41793a9..b2d065f 100644\n--- a/src/plone/volto/configure.zcml\n+++ b/src/plone/volto/configure.zcml\n@@ -16,10 +16,10 @@\n   <include package=".behaviors" />\n   <include package=".browser" />\n \n+  <include file="profiles.zcml" />\n   <include file="patches.zcml" />\n   <include file="upgrades.zcml" />\n \n-\n   <browser:page\n       name="blocksuuidfixer"\n       for="Products.CMFPlone.interfaces.IPloneSiteRoot"\n@@ -27,75 +27,6 @@\n       permission="cmf.ManagePortal"\n       />\n \n-  <genericsetup:registerProfile\n-      name="default"\n-      title="Plone 6 Frontend (plone.volto)"\n-      description="Configures the Plone backend to work with Volto, the new default frontend for Plone 6."\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/default"\n-      post_handler=".setuphandlers.post_install"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="uninstall"\n-      title="Plone 6 Frontend (plone.volto): uninstall"\n-      description="Uninstalls the plone.volto add-on."\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/uninstall"\n-      post_handler=".setuphandlers.uninstall"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="default-homepage"\n-      title="Plone 6 Frontend (Default content on homepage)"\n-      description="Creates a default page for the site"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/homepage"\n-      post_handler=".setuphandlers.create_default_homepage"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="demo"\n-      title="plone.volto demo special requirements"\n-      description="Special requirements and setup for demo site"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/demo"\n-      post_handler=".setuphandlers.create_demo_homepage"\n-      />\n-\n-  <!-- Fixture for coresandbox Cypress tests in Volto repo -->\n-  <genericsetup:registerProfile\n-      name="coresandbox"\n-      title="plone.volto coresandbox Cypress tests fixtures"\n-      description="Special test fixture for coresandbox use cases"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/coresandbox"\n-      post_handler=".setuphandlers.post_install_coresandbox"\n-      />\n-\n-  <!-- Fixture for multilingual Cypress tests in Volto repo -->\n-  <genericsetup:registerProfile\n-      name="multilingual"\n-      title="plone.volto multilingual Cypress tests fixtures"\n-      description="Special test fixture for multilingual use case"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/multilingual"\n-      post_handler=".setuphandlers.post_install_multilingual"\n-      />\n-\n-  <genericsetup:registerProfile\n-      name="richtext"\n-      title="plone.volto p51 profile"\n-      description="Specific profile for re-adding the richtext behavior"\n-      provides="Products.GenericSetup.interfaces.EXTENSION"\n-      directory="profiles/richtext"\n-      />\n-\n-  <utility\n-      factory=".setuphandlers.HiddenProfiles"\n-      name="plone.volto-hiddenprofiles"\n-      />\n-\n   <browser:page\n       name="volto_settings"\n       for="Products.CMFPlone.interfaces.IPloneSiteRoot"\ndiff --git a/src/plone/volto/default_homepage/__init__.py b/src/plone/volto/default_homepage/__init__.py\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/src/plone/volto/default_homepage/default.py b/src/plone/volto/default_homepage/default.py\nnew file mode 100644\nindex 0000000..dba86e9\n--- /dev/null\n+++ b/src/plone/volto/default_homepage/default.py\n@@ -0,0 +1,484 @@\n+from datetime import datetime\n+\n+default_home = {\n+    "draftJS": {\n+        "title": "Welcome to Volto!",\n+        "description": "The React powered content management system",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 10, "offset": 0, "style": "BOLD"}\n+                            ],\n+                            "key": "6470b",\n+                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 6, "style": "BOLD"}\n+                            ],\n+                            "key": "ekn3l",\n+                            "text": "user: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [\n+                                {"key": 0, "length": 5, "offset": 0},\n+                                {"key": 1, "length": 8, "offset": 455},\n+                            ],\n+                            "inlineStyleRanges": [],\n+                            "key": "behki",\n+                            "text": "Plone is a CMS built on Python with over 19 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API. Volto can be esily themed and is highly customizable.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://plone.org",\n+                                "rel": "nofollow",\n+                                "url": "https://plone.org/",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                        "1": {\n+                            "data": {\n+                                "href": "https://github.com/plone/plone.restapi",\n+                                "url": "https://github.com/plone/plone.restapi",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                    },\n+                },\n+            },\n+            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9qsa4",\n+                            "text": "Demo",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9pnjr",\n+                            "text": "Happy hacking!",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "942b6530-2407-420f-9c24-597adda6b2ce": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 36, "offset": 39}],\n+                            "inlineStyleRanges": [],\n+                            "key": "6a248",\n+                            "text": "Last but not least, it also supports a Volto Nodejs-based backend reference API implementation that demos how other systems could also use Volto to display and create content through it.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://github.com/plone/volto-reference-backend",\n+                                "url": "https://github.com/plone/volto-reference-backend",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 12, "offset": 51, "style": "BOLD"}\n+                            ],\n+                            "key": "94arl",\n+                            "text": "You can log in and use it as admin user using these credentials:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "b3717238-448f-406e-b06f-57a9715c3326": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 5, "offset": 0}],\n+                            "inlineStyleRanges": [],\n+                            "key": "1bnna",\n+                            "text": "Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://github.com/plone/volto",\n+                                "url": "https://github.com/plone/volto",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "55n44",\n+                            "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 10, "style": "BOLD"}\n+                            ],\n+                            "key": "buncq",\n+                            "text": "password: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "f0prj",\n+                            "text": f"{datetime.now().year} - Volto Team - Plone Foundation",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 10, "offset": 36}],\n+                            "inlineStyleRanges": [],\n+                            "key": "68rve",\n+                            "text": "Volto also supports other APIs like Guillotina, a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {\n+                                "href": "https://guillotina.io/",\n+                                "rel": "nofollow",\n+                                "url": "https://guillotina.io/",\n+                            },\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "b3717238-448f-406e-b06f-57a9715c3326",\n+                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n+                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n+                "942b6530-2407-420f-9c24-597adda6b2ce",\n+                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n+                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n+                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n+                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n+                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n+                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n+                "874049e7-629e-489a-b46c-1adf35ad40ee",\n+                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n+            ]\n+        },\n+    },\n+    "slate": {\n+        "title": "Welcome to Volto!",\n+        "description": "The React powered content management system",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "16f63011-a6ec-4f1c-8f78-4c5166dfff2c": {\n+                "@type": "slate",\n+                "plaintext": "You can log in and use it as admin user using these credentials :",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": "You can log in and use it as admin user using these "\n+                            },\n+                            {"children": [{"text": "credentials"}], "type": "strong"},\n+                            {"text": ":"},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "237b0f68-d700-47ec-9356-77a54c8d5237": {\n+                "@type": "slate",\n+                "plaintext": "Demo",\n+                "value": [{"children": [{"text": "Demo"}], "type": "h2"}],\n+            },\n+            "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d": {\n+                "@type": "slate",\n+                "plaintext": "password: admin ",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "password: "},\n+                            {"children": [{"text": "admin"}], "type": "strong"},\n+                            {"text": ""},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "26d7d965-80f3-4312-9dc6-5166d00260a5": {\n+                "@type": "slate",\n+                "plaintext": "user: admin ",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "user: "},\n+                            {"children": [{"text": "admin"}], "type": "strong"},\n+                            {"text": ""},\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "38ff6b46-4cbd-4933-a462-251c3e963b7a": {\n+                "@type": "slate",\n+                "plaintext": " Plone is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API . Volto can be esily themed and is highly customizable.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "children": [{"text": "Plone"}],\n+                                "data": {"url": "https://plone.org/"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": " is a CMS built on Python with over 21 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature "\n+                            },\n+                            {\n+                                "children": [{"text": "REST API"}],\n+                                "data": {\n+                                    "url": "https://github.com/plone/plone.restapi"\n+                                },\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": ". Volto can be esily themed and is highly customizable."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "58cb10e2-49a5-4a87-9f5b-479c34bc5d36": {\n+                "@type": "slate",\n+                "plaintext": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3."\n+                            }\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f": {\n+                "@type": "slate",\n+                "plaintext": f"{datetime.now().year} - Volto Team - Plone Foundation",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {\n+                                "text": f"{datetime.now().year} - Volto Team - Plone Foundation"\n+                            }\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "712fb2c2-865e-4a21-bc74-b044a411deff": {\n+                "@type": "slate",\n+                "plaintext": "Volto also supports other APIs like Guillotina , a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": "Volto also supports other APIs like "},\n+                            {\n+                                "children": [{"text": "Guillotina"}],\n+                                "data": {"url": "https://guillotina.io/"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": ", a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "78ff07d8-dc59-4af9-a669-1d551953ef34": {\n+                "@type": "slate",\n+                "plaintext": " Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "children": [{"text": "Volto"}],\n+                                "data": {"url": "https://github.com/plone/volto"},\n+                                "type": "link",\n+                            },\n+                            {\n+                                "text": " is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+            "ddc9926a-03d3-4c64-87a1-2b941aa08ebe": {\n+                "@type": "slate",\n+                "plaintext": "Happy hacking!",\n+                "value": [{"children": [{"text": "Happy hacking!"}], "type": "p"}],\n+            },\n+            "fe6a8835-78d6-4026-ac2e-55ed26de14c3": {\n+                "@type": "slate",\n+                "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n+                "value": [\n+                    {\n+                        "children": [\n+                            {"text": ""},\n+                            {"children": [{"text": "Disclaimer"}], "type": "strong"},\n+                            {\n+                                "text": ": This instance is reset every night, so all changes will be lost afterwards."\n+                            },\n+                        ],\n+                        "type": "p",\n+                    }\n+                ],\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "78ff07d8-dc59-4af9-a669-1d551953ef34",\n+                "38ff6b46-4cbd-4933-a462-251c3e963b7a",\n+                "712fb2c2-865e-4a21-bc74-b044a411deff",\n+                "237b0f68-d700-47ec-9356-77a54c8d5237",\n+                "58cb10e2-49a5-4a87-9f5b-479c34bc5d36",\n+                "16f63011-a6ec-4f1c-8f78-4c5166dfff2c",\n+                "26d7d965-80f3-4312-9dc6-5166d00260a5",\n+                "259ad2e9-a5f7-4e0c-a37b-b8d3a9da1a0d",\n+                "fe6a8835-78d6-4026-ac2e-55ed26de14c3",\n+                "ddc9926a-03d3-4c64-87a1-2b941aa08ebe",\n+                "59f1e88e-bc2b-4aeb-95e7-26e0850fec0f",\n+            ]\n+        },\n+    },\n+}\ndiff --git a/src/plone/volto/default_homepage/demo.py b/src/plone/volto/default_homepage/demo.py\nnew file mode 100644\nindex 0000000..bc7ff09\n--- /dev/null\n+++ b/src/plone/volto/default_homepage/demo.py\n@@ -0,0 +1,639 @@\n+from datetime import datetime\n+\n+demo_home_page = {\n+    "draftJS": {\n+        "title": "Welcome to Plone 6!",\n+        "description": "Congratulations! You have successfully installed Plone.",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 10, "offset": 0, "style": "BOLD"}\n+                            ],\n+                            "key": "6470b",\n+                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 6, "style": "BOLD"}\n+                            ],\n+                            "key": "ekn3l",\n+                            "text": "user: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "behki",\n+                            "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "5f7e6846-e27c-48c4-8c9a-f0d93eadb185": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "75pke",\n+                            "text": "\\u2026protects and promotes Plone.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "2mo73",\n+                            "text": "\\u2026is a registered 501(c)(3) charitable organization.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9qhkg",\n+                            "text": "\\u2026donations are tax-deductible.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 50, "offset": 0}],\n+                            "inlineStyleRanges": [],\n+                            "key": "5528b",\n+                            "text": "Support the Foundation and help make Plone better!",\n+                            "type": "unordered-list-item",\n+                        },\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {"url": "https://plone.org/sponsors/be-a-hero"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        }\n+                    },\n+                },\n+            },\n+            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9qsa4",\n+                            "text": "Demo",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "9pnjr",\n+                            "text": "Happy hacking!",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "8bba235c-7a52-4ce2-bde1-c505e5746dce": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "692gs",\n+                            "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "942b6530-2407-420f-9c24-597adda6b2ce": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "6a248",\n+                            "text": "Support the Plone Foundation",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 12, "offset": 51, "style": "BOLD"}\n+                            ],\n+                            "key": "94arl",\n+                            "text": "You can log in and use it as admin user using these credentials:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "b3717238-448f-406e-b06f-57a9715c3326": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "1bnna",\n+                            "text": "Find out more about Plone",\n+                            "type": "header-two",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "55n44",\n+                            "text": "You can use this site to test Plone 6. These are the versions used in this demo:",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [\n+                                {"length": 5, "offset": 10, "style": "BOLD"}\n+                            ],\n+                            "key": "buncq",\n+                            "text": "password: admin",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [],\n+                            "inlineStyleRanges": [],\n+                            "key": "f0prj",\n+                            "text": f"{datetime.now().year} - Plone Foundation",\n+                            "type": "unstyled",\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 0, "length": 43, "offset": 4}],\n+                            "inlineStyleRanges": [],\n+                            "key": "68rve",\n+                            "text": "The Plone open source Content Management System web site for evaluators and decision makers.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 1, "length": 16, "offset": 4}],\n+                            "inlineStyleRanges": [],\n+                            "key": "4ec08",\n+                            "text": "The Plone community web site for developers.",\n+                            "type": "unordered-list-item",\n+                        },\n+                        {\n+                            "data": {},\n+                            "depth": 0,\n+                            "entityRanges": [{"key": 2, "length": 27, "offset": 4}],\n+                            "inlineStyleRanges": [],\n+                            "key": "4q5m2",\n+                            "text": "The Python programming language web site.",\n+                            "type": "unordered-list-item",\n+                        },\n+                    ],\n+                    "entityMap": {\n+                        "0": {\n+                            "data": {"url": "https://plone.com/"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                        "1": {\n+                            "data": {"url": "https://plone.org/"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                        "2": {\n+                            "data": {"url": "https://www.python.org/"},\n+                            "mutability": "MUTABLE",\n+                            "type": "LINK",\n+                        },\n+                    },\n+                },\n+            },\n+            "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "b3717238-448f-406e-b06f-57a9715c3326",\n+                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n+                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n+                "942b6530-2407-420f-9c24-597adda6b2ce",\n+                "8bba235c-7a52-4ce2-bde1-c505e5746dce",\n+                "5f7e6846-e27c-48c4-8c9a-f0d93eadb185",\n+                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n+                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n+                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n+                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n+                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n+                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n+                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n+                "874049e7-629e-489a-b46c-1adf35ad40ee",\n+                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n+            ]\n+        },\n+    },\n+    "slate": {\n+        "title": "Welcome to Plone 6!",\n+        "description": "Congratulations! You have successfully installed Plone.",\n+        "blocks": {\n+            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n+            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n+            "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n+            "bedf0ed6-3237-46ac-8c91-994826b1cf05": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "h2",\n+                        "children": [{"text": "Find out more about Plone"}],\n+                    }\n+                ],\n+                "plaintext": "Find out more about Plone",\n+            },\n+            "577b38a2-84ed-4911-9644-72b73b79bf9b": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:"\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n+            },\n+            "539b7bb6-23e1-425c-8d93-70c03d52806e": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "ul",\n+                        "children": [\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "The "},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {"url": "https://plone.com/"},\n+                                        "children": [\n+                                            {\n+                                                "text": "Plone open source Content Management System"\n+                                            }\n+                                        ],\n+                                    },\n+                                    {\n+                                        "text": " web site for evaluators and decision makers."\n+                                    },\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "The "},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {"url": "https://plone.org/"},\n+                                        "children": [{"text": "Plone community "}],\n+                                    },\n+                                    {"text": "web site for developers."},\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "The "},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {"url": "https://www.python.org/"},\n+                                        "children": [\n+                                            {"text": "Python programming language"}\n+                                        ],\n+                                    },\n+                                    {"text": " web site."},\n+                                ],\n+                            },\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "The Plone open source Content Management System web site for evaluators and decision makers. The Plone community web site for developers. The Python programming language web site.",\n+            },\n+            "5d166d4b-195b-4dc2-ac11-8d283673ee8d": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "h2",\n+                        "children": [{"text": "Support the Plone Foundation"}],\n+                    }\n+                ],\n+                "plaintext": "Support the Plone Foundation",\n+            },\n+            "8696b042-7119-4700-9e7f-2b22e8982a7b": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:"\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n+            },\n+            "7ab29abe-b38c-406b-94d7-b270e544a998": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "ul",\n+                        "children": [\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "\\u2026protects and promotes Plone."}\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {\n+                                        "text": "\\u2026is a registered 501(c)(3) charitable organization."\n+                                    }\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": "\\u2026donations are tax-deductible."}\n+                                ],\n+                            },\n+                            {\n+                                "type": "li",\n+                                "children": [\n+                                    {"text": ""},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {\n+                                            "url": "https://plone.org/sponsors/be-a-hero"\n+                                        },\n+                                        "children": [\n+                                            {\n+                                                "text": "Support the Foundation and help make Plone better!"\n+                                            }\n+                                        ],\n+                                    },\n+                                    {"text": ""},\n+                                    {\n+                                        "type": "link",\n+                                        "data": {\n+                                            "url": "https://plone.org/sponsors/be-a-hero"\n+                                        },\n+                                        "children": [{"text": ""}],\n+                                    },\n+                                    {"text": ""},\n+                                ],\n+                            },\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "\\u2026protects and promotes Plone. \\u2026is a registered 501(c)(3) charitable organization. \\u2026donations are tax-deductible.  Support the Foundation and help make Plone better!   ",\n+            },\n+            "e1220183-552c-45d9-a661-5ad0854615ac": {\n+                "@type": "slate",\n+                "value": [{"type": "h2", "children": [{"text": "Demo"}]}],\n+                "plaintext": "Demo",\n+            },\n+            "9509e96d-5718-4687-95c1-f9d3db115b92": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "You can use this site to test Plone 6. These are the versions used in this demo:"\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "You can use this site to test Plone 6. These are the versions used in this demo:",\n+            },\n+            "2c68bdda-7dd3-4599-9111-db5ffb2230f9": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "You can log in and use it as admin user using these "\n+                            },\n+                            {\n+                                "type": "strong",\n+                                "children": [{"text": "credentials"}],\n+                            },\n+                            {"text": ":"},\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "You can log in and use it as admin user using these credentials :",\n+            },\n+            "93dd5f95-b3e3-4a47-9121-cde08ca07203": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": "user: "},\n+                            {"type": "strong", "children": [{"text": "admin"}]},\n+                            {"text": ""},\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "user: admin ",\n+            },\n+            "3ed49dc1-caf0-41ff-bb41-9153eeaa45da": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": "password: "},\n+                            {"type": "strong", "children": [{"text": "admin"}]},\n+                            {"text": ""},\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "password: admin ",\n+            },\n+            "4b2cd280-3c87-431b-a0fe-d7ec56587bde": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": ""},\n+                            {\n+                                "type": "strong",\n+                                "children": [{"text": "Disclaimer"}],\n+                            },\n+                            {\n+                                "text": ": This instance is reset every night, so all changes will be lost afterwards."\n+                            },\n+                        ],\n+                    }\n+                ],\n+                "plaintext": " Disclaimer : This instance is reset every night, so all changes will be lost afterwards.",\n+            },\n+            "b1d7da87-11d6-4dd2-81f2-0069826ffbd6": {\n+                "@type": "slate",\n+                "value": [{"type": "p", "children": [{"text": "Happy hacking!"}]}],\n+                "plaintext": "Happy hacking!",\n+            },\n+            "a7889552-ad4e-4afb-bbbd-2911661e8cbe": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {"text": f"{datetime.now().year} - Plone Foundation"}\n+                        ],\n+                    }\n+                ],\n+                "plaintext": f"{datetime.now().year} - Plone Foundation",\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n+                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n+                "bedf0ed6-3237-46ac-8c91-994826b1cf05",\n+                "577b38a2-84ed-4911-9644-72b73b79bf9b",\n+                "539b7bb6-23e1-425c-8d93-70c03d52806e",\n+                "5d166d4b-195b-4dc2-ac11-8d283673ee8d",\n+                "8696b042-7119-4700-9e7f-2b22e8982a7b",\n+                "7ab29abe-b38c-406b-94d7-b270e544a998",\n+                "e1220183-552c-45d9-a661-5ad0854615ac",\n+                "9509e96d-5718-4687-95c1-f9d3db115b92",\n+                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n+                "2c68bdda-7dd3-4599-9111-db5ffb2230f9",\n+                "93dd5f95-b3e3-4a47-9121-cde08ca07203",\n+                "3ed49dc1-caf0-41ff-bb41-9153eeaa45da",\n+                "4b2cd280-3c87-431b-a0fe-d7ec56587bde",\n+                "b1d7da87-11d6-4dd2-81f2-0069826ffbd6",\n+                "a7889552-ad4e-4afb-bbbd-2911661e8cbe",\n+            ]\n+        },\n+    },\n+}\ndiff --git a/src/plone/volto/default_homepage/lrf.py b/src/plone/volto/default_homepage/lrf.py\nnew file mode 100644\nindex 0000000..ff997de\n--- /dev/null\n+++ b/src/plone/volto/default_homepage/lrf.py\n@@ -0,0 +1,55 @@\n+default_lrf_home = {\n+    "draftJS": {\n+        "blocks": {\n+            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+                "@type": "text",\n+                "text": {\n+                    "blocks": [\n+                        {\n+                            "key": "618bl",\n+                            "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+                            "type": "unstyled",\n+                            "depth": 0,\n+                            "inlineStyleRanges": [],\n+                            "entityRanges": [],\n+                            "data": {},\n+                        }\n+                    ],\n+                    "entityMap": {},\n+                },\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "15068807-cfc9-444a-97db-8c736809ff52",\n+                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+            ]\n+        },\n+    },\n+    "slate": {\n+        "blocks": {\n+            "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n+            "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n+                "@type": "slate",\n+                "value": [\n+                    {\n+                        "type": "p",\n+                        "children": [\n+                            {\n+                                "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus."\n+                            }\n+                        ],\n+                    }\n+                ],\n+                "plaintext": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n+            },\n+        },\n+        "blocks_layout": {\n+            "items": [\n+                "15068807-cfc9-444a-97db-8c736809ff52",\n+                "59d41d8a-ef05-4e21-8820-2a64f5878092",\n+            ]\n+        },\n+    },\n+}\ndiff --git a/src/plone/volto/profiles.zcml b/src/plone/volto/profiles.zcml\nnew file mode 100644\nindex 0000000..99f116f\n--- /dev/null\n+++ b/src/plone/volto/profiles.zcml\n@@ -0,0 +1,86 @@\n+<configure\n+    xmlns="http://namespaces.zope.org/zope"\n+    xmlns:genericsetup="http://namespaces.zope.org/genericsetup"\n+    xmlns:i18n="http://namespaces.zope.org/i18n"\n+    i18n_domain="plone.volto"\n+    >\n+\n+  <genericsetup:registerProfile\n+      name="default"\n+      title="Plone 6 Frontend (plone.volto)"\n+      description="Configures the Plone backend to work with Volto, the new default frontend for Plone 6."\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/default"\n+      post_handler=".setuphandlers.post_install"\n+      />\n+\n+  <genericsetup:registerProfile\n+      name="uninstall"\n+      title="Plone 6 Frontend (plone.volto): uninstall"\n+      description="Uninstalls the plone.volto add-on."\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/uninstall"\n+      post_handler=".setuphandlers.uninstall"\n+      />\n+\n+  <genericsetup:registerProfile\n+      name="default-homepage"\n+      title="Plone 6 Frontend (Default content on homepage)"\n+      description="Creates a default page for the site"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/homepage"\n+      post_handler=".setuphandlers.create_default_homepage"\n+      />\n+\n+  <genericsetup:registerProfile\n+      name="default-homepage-drafjs"\n+      title="Plone 6 Frontend (Default content on homepage with draftJS blocks)"\n+      description="Creates a default page for the site using (legacy) draftJS blocks"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/homepage"\n+      post_handler=".setuphandlers.create_default_homepage_draftjs"\n+      />\n+\n+  <genericsetup:registerProfile\n+      name="demo"\n+      title="plone.volto demo special requirements"\n+      description="Special requirements and setup for demo site"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/demo"\n+      post_handler=".setuphandlers.create_demo_homepage"\n+      />\n+\n+  <!-- Fixture for coresandbox Cypress tests in Volto repo -->\n+  <genericsetup:registerProfile\n+      name="coresandbox"\n+      title="plone.volto coresandbox Cypress tests fixtures"\n+      description="Special test fixture for coresandbox use cases"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/coresandbox"\n+      post_handler=".setuphandlers.post_install_coresandbox"\n+      />\n+\n+  <!-- Fixture for multilingual Cypress tests in Volto repo -->\n+  <genericsetup:registerProfile\n+      name="multilingual"\n+      title="plone.volto multilingual Cypress tests fixtures"\n+      description="Special test fixture for multilingual use case"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/multilingual"\n+      post_handler=".setuphandlers.post_install_multilingual"\n+      />\n+\n+  <genericsetup:registerProfile\n+      name="richtext"\n+      title="plone.volto p51 profile"\n+      description="Specific profile for re-adding the richtext behavior"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      directory="profiles/richtext"\n+      />\n+\n+  <utility\n+      factory=".setuphandlers.HiddenProfiles"\n+      name="plone.volto-hiddenprofiles"\n+      />\n+\n+</configure>\ndiff --git a/src/plone/volto/setuphandlers.py b/src/plone/volto/setuphandlers.py\nindex e2b865a..568dafc 100644\n--- a/src/plone/volto/setuphandlers.py\n+++ b/src/plone/volto/setuphandlers.py\n@@ -1,5 +1,4 @@\n # -*- coding: utf-8 -*-\n-from datetime import datetime\n from plone import api\n from plone.app.multilingual.browser.setup import SetupMultilingualSite\n from plone.app.multilingual.setuphandlers import enable_translatable_behavior\n@@ -8,6 +7,9 @@\n from plone.portlets.constants import CONTEXT_CATEGORY\n from plone.portlets.interfaces import IPortletAssignmentMapping\n from plone.portlets.interfaces import IPortletManager\n+from plone.volto.default_homepage.default import default_home\n+from plone.volto.default_homepage.demo import demo_home_page\n+from plone.volto.default_homepage.lrf import default_lrf_home\n from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone.interfaces import INonInstallable\n from Products.CMFPlone.utils import get_installer\n@@ -23,6 +25,15 @@\n import transaction\n \n \n+try:\n+    from Products.CMFPlone.factory import PLONE60MARKER\n+\n+    PLONE60MARKER  # pyflakes\n+except ImportError:\n+    PLONE_6 = False\n+else:\n+    PLONE_6 = True\n+\n logger = logging.getLogger("plone.volto")\n \n \n@@ -35,8 +46,9 @@ def getNonInstallableProfiles(self):\n \n def post_install(context):\n     """Post install script"""\n-    # portal = api.portal.get()\n-    # create_default_homepage()\n+    # For Plone 6, make sure the blocks behavior is enabled in the root\n+    if PLONE_6:\n+        add_behavior("Plone Site", "volto.blocks")\n \n \n def uninstall(context):\n@@ -51,7 +63,7 @@ def post_install_coresandbox(context):\n def post_install_multilingual(context):\n     """Post install script for multilingual fixture"""\n     enable_pam(context)\n-    create_default_homepage(context)\n+    create_default_homepage(context, block_type="slate")\n \n \n def enable_pam(portal):\n@@ -195,37 +207,11 @@ def setupPortletAt(portal, portlet_type, manager, path, name="", **kw):\n     mapping[name] = assignment\n \n \n-default_lrf_home = {\n-    "blocks": {\n-        "15068807-cfc9-444a-97db-8c736809ff52": {"@type": "title"},\n-        "59d41d8a-ef05-4e21-8820-2a64f5878092": {\n-            "@type": "text",\n-            "text": {\n-                "blocks": [\n-                    {\n-                        "key": "618bl",\n-                        "text": "Nulla porttitor accumsan tincidunt. Sed porttitor lectus nibh. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Sed porttitor lectus nibh. Pellentesque in ipsum id orci porta dapibus.",\n-                        "type": "unstyled",\n-                        "depth": 0,\n-                        "inlineStyleRanges": [],\n-                        "entityRanges": [],\n-                        "data": {},\n-                    }\n-                ],\n-                "entityMap": {},\n-            },\n-        },\n-    },\n-    "blocks_layout": {\n-        "items": [\n-            "15068807-cfc9-444a-97db-8c736809ff52",\n-            "59d41d8a-ef05-4e21-8820-2a64f5878092",\n-        ]\n-    },\n-}\n-\n-\n-def create_default_homepage(context, default_home=default_lrf_home):\n+def create_default_homepage_draftjs(context):\n+    create_default_homepage(context, block_type="draftJS")\n+\n+\n+def create_default_homepage(context, default_home=default_lrf_home, block_type=None):\n     """This method allows to pass a dict with the homepage blocks and blocks_layout keys"""\n     portal = api.portal.get()\n     # Test for PAM installed\n@@ -242,6 +228,12 @@ def create_default_homepage(context, default_home=default_lrf_home):\n         # Make sure that the LRFs have the blocks enabled\n         add_behavior("LRF", "volto.blocks")\n \n+        if block_type and block_type in default_home:\n+            home_data = default_home[block_type]\n+        else:\n+            # Default to slate\n+            home_data = default_home["slate"]\n+\n         for lang in api.portal.get_registry_record("plone.available_languages"):\n             # Do not write them if there are blocks set already\n             # Get the attr first, in case it\'s not there yet (error in docker image)\n@@ -252,14 +244,14 @@ def create_default_homepage(context, default_home=default_lrf_home):\n                 logger.info(\n                     "Creating default homepage for {} - PAM enabled".format(lang)\n                 )\n-                portal[lang].blocks = default_home["blocks"]\n-                portal[lang].blocks_layout = default_home["blocks_layout"]\n+                portal[lang].blocks = home_data["blocks"]\n+                portal[lang].blocks_layout = home_data["blocks_layout"]\n \n     else:\n-        create_root_homepage(context)\n+        create_root_homepage(context, block_type)\n \n \n-def create_root_homepage(context, default_home=None):\n+def create_root_homepage(context, block_type=None, default_home=default_home):\n     """It takes a default object:\n     {\n         "title": "The title",\n@@ -268,663 +260,41 @@ def create_root_homepage(context, default_home=None):\n         "blocks_layout": [...]\n     }\n     and sets it as default page in the Plone root object.\n-    """\n \n+    Takes into account block_type.\n+    """\n     portal = api.portal.get()\n \n-    if default_home:\n-        blocks = default_home["blocks"]\n-        blocks_layout = default_home["blocks_layout"]\n-        portal.setTitle(default_home["title"])\n-        portal.setDescription(default_home["description"])\n+    if block_type and block_type in default_home:\n+        home_data = default_home[block_type]\n+    else:\n+        # Default to slate\n+        home_data = default_home["slate"]\n \n-        logger.info(\n-            "Creating custom default homepage in Plone site root - not PAM enabled"\n-        )\n+    logger.info(\n+        f"Creating default homepage in Plone {\'6\' if PLONE_6 else \'\'} site root with {block_type} blocks - not PAM enabled"\n+    )\n+\n+    if PLONE_6:\n+        portal.blocks = home_data["blocks"]\n+        portal.blocks_layout = home_data["blocks_layout"]\n+        portal.title = home_data["title"]\n+        portal.description = home_data["description"]\n     else:\n-        blocks = {\n-            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n-            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n-            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 10, "offset": 0, "style": "BOLD"}\n-                            ],\n-                            "key": "6470b",\n-                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 6, "style": "BOLD"}\n-                            ],\n-                            "key": "ekn3l",\n-                            "text": "user: admin",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [\n-                                {"key": 0, "length": 5, "offset": 0},\n-                                {"key": 1, "length": 8, "offset": 455},\n-                            ],\n-                            "inlineStyleRanges": [],\n-                            "key": "behki",\n-                            "text": "Plone is a CMS built on Python with over 19 years of experience. Plone has very interesting features that appeal to developers and users alike, such as customizable content types, hierarchical URL object traversing and a sophisticated content workflow powered by a granular permissions model. This allows you to build anything from simple websites to enterprise-grade intranets. Volto exposes all these features and communicates with Plone via its mature REST API. Volto can be esily themed and is highly customizable.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://plone.org",\n-                                "rel": "nofollow",\n-                                "url": "https://plone.org/",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                        "1": {\n-                            "data": {\n-                                "href": "https://github.com/plone/plone.restapi",\n-                                "url": "https://github.com/plone/plone.restapi",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                    },\n-                },\n-            },\n-            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9qsa4",\n-                            "text": "Demo",\n-                            "type": "header-two",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9pnjr",\n-                            "text": "Happy hacking!",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "942b6530-2407-420f-9c24-597adda6b2ce": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 36, "offset": 39}],\n-                            "inlineStyleRanges": [],\n-                            "key": "6a248",\n-                            "text": "Last but not least, it also supports a Volto Nodejs-based backend reference API implementation that demos how other systems could also use Volto to display and create content through it.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://github.com/plone/volto-reference-backend",\n-                                "url": "https://github.com/plone/volto-reference-backend",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        }\n-                    },\n-                },\n-            },\n-            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 12, "offset": 51, "style": "BOLD"}\n-                            ],\n-                            "key": "94arl",\n-                            "text": "You can log in and use it as admin user using these credentials:",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "b3717238-448f-406e-b06f-57a9715c3326": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 5, "offset": 0}],\n-                            "inlineStyleRanges": [],\n-                            "key": "1bnna",\n-                            "text": "Volto is a React-based frontend for content management systems, currently supporting three backend implementations: Plone, Guillotina and a NodeJS reference implementation.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://github.com/plone/volto",\n-                                "url": "https://github.com/plone/volto",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        }\n-                    },\n-                },\n-            },\n-            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "55n44",\n-                            "text": "You can use this site to test Volto. It runs on the master branch of Volto using latest Plone 5.2 Backend running on Python 3.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 10, "style": "BOLD"}\n-                            ],\n-                            "key": "buncq",\n-                            "text": "password: admin",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "f0prj",\n-                            "text": f"{datetime.now().year} - Volto Team - Plone Foundation",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 10, "offset": 36}],\n-                            "inlineStyleRanges": [],\n-                            "key": "68rve",\n-                            "text": "Volto also supports other APIs like Guillotina, a Python resource management system, inspired by Plone and using the same basic concepts like traversal, content types and permissions model.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {\n-                                "href": "https://guillotina.io/",\n-                                "rel": "nofollow",\n-                                "url": "https://guillotina.io/",\n-                            },\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        }\n-                    },\n-                },\n-            },\n-        }\n-\n-        blocks_layout = {\n-            "items": [\n-                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n-                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n-                "b3717238-448f-406e-b06f-57a9715c3326",\n-                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n-                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n-                "942b6530-2407-420f-9c24-597adda6b2ce",\n-                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n-                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n-                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n-                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n-                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n-                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n-                "874049e7-629e-489a-b46c-1adf35ad40ee",\n-                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n-            ]\n-        }\n-\n-        portal.setTitle("Welcome to Volto!")\n-        portal.setDescription("The React powered content management system")\n-\n-        logger.info("Creating default homepage in Plone site root - not PAM enabled")\n-\n-    # Common part\n-    if not getattr(portal, "blocks", False):\n-        portal.manage_addProperty("blocks", json.dumps(blocks), "string")\n-\n-    if not getattr(portal, "blocks_layout", False):\n-        portal.manage_addProperty(\n-            "blocks_layout", json.dumps(blocks_layout), "string"\n-        )  # noqa\n+        blocks = home_data["blocks"]\n+        blocks_layout = home_data["blocks_layout"]\n+        portal.setTitle(home_data["title"])\n+        portal.setDescription(home_data["description"])\n \n+        # Use the hack for setting the home page in Plone Site object\n+        if not getattr(portal, "blocks", False):\n+            portal.manage_addProperty("blocks", json.dumps(blocks), "string")\n+\n+        if not getattr(portal, "blocks_layout", False):\n+            portal.manage_addProperty(\n+                "blocks_layout", json.dumps(blocks_layout), "string"\n+            )  # noqa\n \n-def create_demo_homepage(context):\n-    demo_home_page = {\n-        "title": "Welcome to Plone 6!",\n-        "description": "Congratulations! You have successfully installed Plone.",\n-        "blocks": {\n-            "0358abe2-b4f1-463d-a279-a63ea80daf19": {"@type": "description"},\n-            "07c273fc-8bfc-4e7d-a327-d513e5a945bb": {"@type": "title"},\n-            "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 10, "offset": 0, "style": "BOLD"}\n-                            ],\n-                            "key": "6470b",\n-                            "text": "Disclaimer: This instance is reset every night, so all changes will be lost afterwards.",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "3c881f51-f75b-4959-834a-6e1d5edc32ae": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 6, "style": "BOLD"}\n-                            ],\n-                            "key": "ekn3l",\n-                            "text": "user: admin",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "behki",\n-                            "text": "Plone is a powerful content management system built on a rock-solid application stack written using the Python programming language. More about these technologies:",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "5f7e6846-e27c-48c4-8c9a-f0d93eadb185": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "75pke",\n-                            "text": "\\u2026protects and promotes Plone.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "2mo73",\n-                            "text": "\\u2026is a registered 501(c)(3) charitable organization.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9qhkg",\n-                            "text": "\\u2026donations are tax-deductible.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 50, "offset": 0}],\n-                            "inlineStyleRanges": [],\n-                            "key": "5528b",\n-                            "text": "Support the Foundation and help make Plone better!",\n-                            "type": "unordered-list-item",\n-                        },\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {"url": "https://plone.org/sponsors/be-a-hero"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        }\n-                    },\n-                },\n-            },\n-            "61cc1bc0-d4f5-4e2b-9152-79512045a4dd": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9qsa4",\n-                            "text": "Demo",\n-                            "type": "header-two",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "874049e7-629e-489a-b46c-1adf35ad40ee": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "9pnjr",\n-                            "text": "Happy hacking!",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "8bba235c-7a52-4ce2-bde1-c505e5746dce": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "692gs",\n-                            "text": "Plone is made possible only through the efforts of thousands of dedicated individuals and hundreds of companies. The Plone Foundation:",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "942b6530-2407-420f-9c24-597adda6b2ce": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "6a248",\n-                            "text": "Support the Plone Foundation",\n-                            "type": "header-two",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "9a976b8e-72ba-468a-bea8-b37a31bb386b": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 12, "offset": 51, "style": "BOLD"}\n-                            ],\n-                            "key": "94arl",\n-                            "text": "You can log in and use it as admin user using these credentials:",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "b3717238-448f-406e-b06f-57a9715c3326": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "1bnna",\n-                            "text": "Find out more about Plone",\n-                            "type": "header-two",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "55n44",\n-                            "text": "You can use this site to test Plone 6. These are the versions used in this demo:",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [\n-                                {"length": 5, "offset": 10, "style": "BOLD"}\n-                            ],\n-                            "key": "buncq",\n-                            "text": "password: admin",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [],\n-                            "inlineStyleRanges": [],\n-                            "key": "f0prj",\n-                            "text": f"{datetime.now().year} - Plone Foundation",\n-                            "type": "unstyled",\n-                        }\n-                    ],\n-                    "entityMap": {},\n-                },\n-            },\n-            "effbdcdc-253c-41a7-841e-5edb3b56ce32": {\n-                "@type": "text",\n-                "text": {\n-                    "blocks": [\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 0, "length": 43, "offset": 4}],\n-                            "inlineStyleRanges": [],\n-                            "key": "68rve",\n-                            "text": "The Plone open source Content Management System web site for evaluators and decision makers.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 1, "length": 16, "offset": 4}],\n-                            "inlineStyleRanges": [],\n-                            "key": "4ec08",\n-                            "text": "The Plone community web site for developers.",\n-                            "type": "unordered-list-item",\n-                        },\n-                        {\n-                            "data": {},\n-                            "depth": 0,\n-                            "entityRanges": [{"key": 2, "length": 27, "offset": 4}],\n-                            "inlineStyleRanges": [],\n-                            "key": "4q5m2",\n-                            "text": "The Python programming language web site.",\n-                            "type": "unordered-list-item",\n-                        },\n-                    ],\n-                    "entityMap": {\n-                        "0": {\n-                            "data": {"url": "https://plone.com/"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                        "1": {\n-                            "data": {"url": "https://plone.org/"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                        "2": {\n-                            "data": {"url": "https://www.python.org/"},\n-                            "mutability": "MUTABLE",\n-                            "type": "LINK",\n-                        },\n-                    },\n-                },\n-            },\n-            "3b5ac7a5-2d98-423e-807c-5eebc0bf0054": {"@type": "system"},\n-        },\n-        "blocks_layout": {\n-            "items": [\n-                "07c273fc-8bfc-4e7d-a327-d513e5a945bb",\n-                "0358abe2-b4f1-463d-a279-a63ea80daf19",\n-                "b3717238-448f-406e-b06f-57a9715c3326",\n-                "5e1c30b1-ec6c-4dc0-9483-9768c3c416e4",\n-                "effbdcdc-253c-41a7-841e-5edb3b56ce32",\n-                "942b6530-2407-420f-9c24-597adda6b2ce",\n-                "8bba235c-7a52-4ce2-bde1-c505e5746dce",\n-                "5f7e6846-e27c-48c4-8c9a-f0d93eadb185",\n-                "61cc1bc0-d4f5-4e2b-9152-79512045a4dd",\n-                "c049ff8b-3e5a-4cfb-bca6-e4a6cca9be28",\n-                "3b5ac7a5-2d98-423e-807c-5eebc0bf0054",\n-                "9a976b8e-72ba-468a-bea8-b37a31bb386b",\n-                "3c881f51-f75b-4959-834a-6e1d5edc32ae",\n-                "c91f0fe9-f2e9-4a17-84a5-8e4f2678ed3c",\n-                "2dfe8e4c-5bf6-43f1-93e1-6c320ede7226",\n-                "874049e7-629e-489a-b46c-1adf35ad40ee",\n-                "e0ca2fbc-7800-4b9b-afe5-8e42af9f5dd6",\n-            ]\n-        },\n-    }\n \n+def create_demo_homepage(context):\n     create_root_homepage(context, default_home=demo_home_page)\n'

