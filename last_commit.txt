Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-02-04T14:26:48+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.layout/commit/24381428012e16eb062cdb08229377b495d7b233

fix for python3

Files changed:
M plone/app/layout/globals/layout.py

b"diff --git a/plone/app/layout/globals/layout.py b/plone/app/layout/globals/layout.py\nindex 1d2ba60..6000317 100644\n--- a/plone/app/layout/globals/layout.py\n+++ b/plone/app/layout/globals/layout.py\n@@ -27,6 +27,7 @@\n from zope.publisher.browser import BrowserView\n \n import json\n+import six\n \n \n TEMPLATE_CLASSES = (\n@@ -325,7 +326,7 @@ def bodyClass(self, template, view):\n                 extra_classes = body_class_adapter.get_classes(template, view) or []\n             except TypeError:  # This adapter is implemented without arguments\n                 extra_classes = body_class_adapter.get_classes() or []\n-            if isinstance(extra_classes, basestring):\n+            if isinstance(extra_classes, six.string_types):\n                 extra_classes = extra_classes.split(' ')\n             body_classes.update(extra_classes)\n \n"

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-02-04T14:29:46+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.layout/commit/5944dd863ec58df28f36ccb46020809691e67ae0

update changelog

Files changed:
M CHANGES.rst

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex c5ae11a..725a67c 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- fix python3 compatibility\n+  [petschki]\n \n \n 3.0.0 (2018-10-30)\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2019-02-04T17:09:53+01:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.layout/commit/3c9a77db9d5aa3c401551dfc8bde26106143ef38

Merge pull request #176 from plone/py3-fix

fix python3 compatibility

Files changed:
M CHANGES.rst
M plone/app/layout/globals/layout.py

b"diff --git a/CHANGES.rst b/CHANGES.rst\nindex c5ae11a..725a67c 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,8 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- fix python3 compatibility\n+  [petschki]\n \n \n 3.0.0 (2018-10-30)\ndiff --git a/plone/app/layout/globals/layout.py b/plone/app/layout/globals/layout.py\nindex 1d2ba60..6000317 100644\n--- a/plone/app/layout/globals/layout.py\n+++ b/plone/app/layout/globals/layout.py\n@@ -27,6 +27,7 @@\n from zope.publisher.browser import BrowserView\n \n import json\n+import six\n \n \n TEMPLATE_CLASSES = (\n@@ -325,7 +326,7 @@ def bodyClass(self, template, view):\n                 extra_classes = body_class_adapter.get_classes(template, view) or []\n             except TypeError:  # This adapter is implemented without arguments\n                 extra_classes = body_class_adapter.get_classes() or []\n-            if isinstance(extra_classes, basestring):\n+            if isinstance(extra_classes, six.string_types):\n                 extra_classes = extra_classes.split(' ')\n             body_classes.update(extra_classes)\n \n"

